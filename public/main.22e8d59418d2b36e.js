(self.webpackChunkfaculty_loading=self.webpackChunkfaculty_loading||[]).push([[179],{2816:(oi,$t,me)=>{"use strict";me.d($t,{hO:()=>Kt,xv:()=>Re,Dh:()=>qt,HU:()=>cn,GT:()=>vn,sI:()=>be,on:()=>kn,ss:()=>ot,pX:()=>fn,yq:()=>Gn});var r=me(4408),Q=me(7565);const wt=new class Ze extends Q.v{}(class ie extends r.o{constructor(Tn,gn){super(Tn,gn),this.scheduler=Tn,this.work=gn}schedule(Tn,gn=0){return gn>0?super.schedule(Tn,gn):(this.delay=gn,this.state=Tn,this.scheduler.flush(this),this)}execute(Tn,gn){return gn>0||this.closed?super.execute(Tn,gn):this._execute(Tn,gn)}requestAsyncId(Tn,gn,di=0){return null!=di&&di>0||null==di&&this.delay>0?super.requestAsyncId(Tn,gn,di):Tn.flush(this)}});var et=me(4986),yt=me(8505),ht=me(9468),de=me(5363),qe=me(5e3),We=me(5867);function xt(){}oi=me.hmd(oi);class rt{constructor(Tn,gn=wt){this.zone=Tn,this.delegate=gn}now(){return this.delegate.now()}schedule(Tn,gn,di){const Nn=this.zone;return this.delegate.schedule(function(Wn){Nn.runGuarded(()=>{Tn.apply(this,[Wn])})},gn,di)}}class kt{constructor(Tn){this.zone=Tn,this.task=null}call(Tn,gn){const di=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xt,{},xt,xt)),gn.pipe((0,yt.b)({next:di,complete:di,error:di})).subscribe(Tn).add(di)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class cn{constructor(Tn){this.ngZone=Tn,this.outsideAngular=Tn.runOutsideAngular(()=>new rt(Zone.current)),this.insideAngular=Tn.run(()=>new rt(Zone.current,et.z))}}function ot(it){return function(gn){return(gn=gn.lift(new kt(it.ngZone))).pipe((0,ht.R)(it.outsideAngular),(0,de.Q)(it.insideAngular))}}const Ft=["ngOnDestroy"],fn=(it,Tn,gn,di={})=>new Proxy(it,{get:(Nn,pn)=>gn.runOutsideAngular(()=>{var Wn;if(it[pn])return(null===(Wn=null==di?void 0:di.spy)||void 0===Wn?void 0:Wn.get)&&di.spy.get(pn,it[pn]),it[pn];if(Ft.indexOf(pn)>-1)return()=>{};const dn=Tn.toPromise().then(mi=>{const ii=mi&&mi[pn];return"function"==typeof ii?ii.bind(mi):ii&&ii.then?ii.then(qr=>gn.run(()=>qr)):gn.run(()=>ii)});return new Proxy(()=>{},{get:(mi,ii)=>dn[ii],apply:(mi,ii,qr)=>dn.then(Qr=>{var Hr;const qo=Qr&&Qr(...qr);return(null===(Hr=null==di?void 0:di.spy)||void 0===Hr?void 0:Hr.apply)&&di.spy.apply(pn,qr,qo),qo})})})}),vn=(it,Tn)=>{Tn.forEach(gn=>{Object.getOwnPropertyNames(gn.prototype||gn).forEach(di=>{Object.defineProperty(it.prototype,di,Object.getOwnPropertyDescriptor(gn.prototype||gn,di))})})},qt=new qe.OlP("angularfire2.app.options"),Re=new qe.OlP("angularfire2.app.nameOrConfig"),Ut=new qe.GfV("6.1.5");function kn(it,Tn,gn){const Nn="object"==typeof gn&&gn||{};Nn.name=Nn.name||"string"==typeof gn&&gn||"[DEFAULT]";const Wn=We.Z.apps.filter(dn=>dn&&dn.name===Nn.name)[0]||Tn.runOutsideAngular(()=>We.Z.initializeApp(it,Nn));try{JSON.stringify(it)!==JSON.stringify(Wn.options)&&Xe("error",`${Wn.name} Firebase App already initialized with different options${oi.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(dn){}return Wn}const Gn=()=>{Xe("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},Xe=(it,...Tn)=>{(0,qe.X6Q)()&&"undefined"!=typeof console&&console[it](...Tn)};function be(it,Tn,gn,di,Nn){const[pn,...Wn]=globalThis.\u0275AngularfireInstanceCache.get(it)||[];if(pn){try{Nn.some((dn,mi)=>{const ii=Wn[mi];return dn&&"object"==typeof dn?JSON.stringify(dn)!==JSON.stringify(ii):dn!==ii})&&Xe("error",`${Tn} was already initialized on the ${gn.name} Firebase App instance with different settings.${oi.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(dn){}return pn}{const dn=di();return globalThis.\u0275AngularfireInstanceCache.set(it,[dn,...Nn]),dn}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const At={provide:class Mt{},useFactory:kn,deps:[qt,qe.R0b,[new qe.FiY,Re]]};let Kt=(()=>{class it{constructor(gn){We.Z.registerVersion("angularfire",Ut.full,gn.toString()),We.Z.registerVersion("angular",qe.q4F.full)}static initializeApp(gn,di){return{ngModule:it,providers:[{provide:qt,useValue:gn},{provide:Re,useValue:di}]}}}return it.\u0275fac=function(gn){return new(gn||it)(qe.LFG(qe.Lbi))},it.\u0275mod=qe.oAB({type:it}),it.\u0275inj=qe.cJS({providers:[At]}),it})()},2106:(oi,$t,me)=>{"use strict";var r=me(8367),ie=me(2461),Q=me(655),Ze=me(492),wt=me(4003);function jt(_e){return _e&&"object"==typeof _e&&"default"in _e?_e:{default:_e}}var yt,et=jt(r),ht=((yt={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",yt["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",yt["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",yt["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",yt["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",yt["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",yt["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",yt["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",yt["recaptcha-error"]="ReCAPTCHA error.",yt),de=new Ze.ErrorFactory("appCheck","AppCheck",ht),qe=new Map,We={activated:!1,tokenObservers:[]},xt={enabled:!1};function rt(_e){return qe.get(_e)||We}function kt(_e,ge){qe.set(_e,ge)}function cn(){return xt}var ot="https://content-firebaseappcheck.googleapis.com/v1beta",qt=function(){function _e(ge,Ve,mt,Wt,ln){if(this.operation=ge,this.retryPolicy=Ve,this.getWaitDuration=mt,this.lowerBound=Wt,this.upperBound=ln,this.pending=null,this.nextErrorWaitInterval=Wt,Wt>ln)throw new Error("Proactive refresh lower bound greater than upper bound!")}return _e.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})},_e.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},_e.prototype.isRunning=function(){return!!this.pending},_e.prototype.process=function(ge){return Q.__awaiter(this,void 0,void 0,function(){var Ve;return Q.__generator(this,function(mt){switch(mt.label){case 0:this.stop(),mt.label=1;case 1:return mt.trys.push([1,6,,7]),this.pending=new Ze.Deferred,[4,Re(this.getNextRun(ge))];case 2:return mt.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return mt.sent(),this.pending=new Ze.Deferred,[4,this.operation()];case 4:return mt.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return mt.sent(),this.process(!0).catch(function(){}),[3,7];case 6:return Ve=mt.sent(),this.retryPolicy(Ve)?this.process(!1).catch(function(){}):this.stop(),[3,7];case 7:return[2]}})})},_e.prototype.getNextRun=function(ge){if(ge)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var Ve=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Ve},_e}();function Re(_e){return new Promise(function(ge){setTimeout(ge,_e)})}function Mt(){return self.grecaptcha}function Ut(_e){if(!rt(_e).activated)throw de.create("use-before-activation",{appName:_e.name})}function Gn(_e){return Ze.base64.encodeString(JSON.stringify(_e),!1)}function Xe(_e,ge){var Ve=_e.url,mt=_e.body;return Q.__awaiter(this,void 0,void 0,function(){var Wt,ln,Vn,Ri,Cr,or,bo,Da,yc,Ho;return Q.__generator(this,function(Gr){switch(Gr.label){case 0:Wt={"Content-Type":"application/json"},(ln=ge.getImmediate({optional:!0}))&&(Wt["X-Firebase-Client"]=ln.getPlatformInfoString()),Vn={method:"POST",body:JSON.stringify(mt),headers:Wt},Gr.label=1;case 1:return Gr.trys.push([1,3,,4]),[4,fetch(Ve,Vn)];case 2:return Ri=Gr.sent(),[3,4];case 3:throw Cr=Gr.sent(),de.create("fetch-network-error",{originalErrorMessage:Cr.message});case 4:if(200!==Ri.status)throw de.create("fetch-status-error",{httpStatus:Ri.status});Gr.label=5;case 5:return Gr.trys.push([5,7,,8]),[4,Ri.json()];case 6:return or=Gr.sent(),[3,8];case 7:throw bo=Gr.sent(),de.create("fetch-parse-error",{originalErrorMessage:bo.message});case 8:if(!(Da=or.ttl.match(/^([\d.]+)(s)$/))||!Da[2]||isNaN(Number(Da[1])))throw de.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+or.ttl});return yc=1e3*Number(Da[1]),Ho=Date.now(),[2,{token:or.attestationToken,expireTimeMillis:Ho+yc,issuedAtTimeMillis:Ho}]}})})}function Ot(_e,ge){var Ve=_e.options;return{url:ot+"/projects/"+Ve.projectId+"/apps/"+Ve.appId+":exchangeRecaptchaToken?key="+Ve.apiKey,body:{recaptcha_token:ge}}}function be(_e,ge){var Ve=_e.options;return{url:ot+"/projects/"+Ve.projectId+"/apps/"+Ve.appId+":exchangeDebugToken?key="+Ve.apiKey,body:{debug_token:ge}}}var it="firebase-app-check-store",Tn="debug-token",gn=null;function di(){return gn||(gn=new Promise(function(_e,ge){try{var Ve=indexedDB.open("firebase-app-check-database",1);Ve.onsuccess=function(mt){_e(mt.target.result)},Ve.onerror=function(mt){var Wt;ge(de.create("storage-open",{originalErrorMessage:null===(Wt=mt.target.error)||void 0===Wt?void 0:Wt.message}))},Ve.onupgradeneeded=function(mt){0===mt.oldVersion&&mt.target.result.createObjectStore(it,{keyPath:"compositeKey"})}}catch(mt){ge(de.create("storage-open",{originalErrorMessage:mt.message}))}}))}function Nn(_e){return ii(qr(_e))}function mi(_e,ge){return Q.__awaiter(this,void 0,void 0,function(){var Ve,mt,Wt,ln;return Q.__generator(this,function(Vn){switch(Vn.label){case 0:return[4,di()];case 1:return Ve=Vn.sent(),mt=Ve.transaction(it,"readwrite"),Wt=mt.objectStore(it),ln=Wt.put({compositeKey:_e,value:ge}),[2,new Promise(function(Ri,Cr){ln.onsuccess=function(or){Ri()},mt.onerror=function(or){var bo;Cr(de.create("storage-set",{originalErrorMessage:null===(bo=or.target.error)||void 0===bo?void 0:bo.message}))}})]}})})}function ii(_e){return Q.__awaiter(this,void 0,void 0,function(){var ge,Ve,mt,Wt;return Q.__generator(this,function(ln){switch(ln.label){case 0:return[4,di()];case 1:return ge=ln.sent(),Ve=ge.transaction(it,"readonly"),mt=Ve.objectStore(it),Wt=mt.get(_e),[2,new Promise(function(Vn,Ri){Wt.onsuccess=function(Cr){var or=Cr.target.result;Vn(or?or.value:void 0)},Ve.onerror=function(Cr){var or;Ri(de.create("storage-get",{originalErrorMessage:null===(or=Cr.target.error)||void 0===or?void 0:or.message}))}})]}})})}function qr(_e){return _e.options.appId+"-"+_e.name}var Qr=new wt.Logger("@firebase/app-check");function qo(_e,ge){return Ze.isIndexedDBAvailable()?function pn(_e,ge){return mi(qr(_e),ge)}(_e,ge).catch(function(Ve){Qr.warn("Failed to write token to indexeddb. Error: "+Ve)}):Promise.resolve()}function ua(){return Q.__awaiter(this,void 0,void 0,function(){var _e;return Q.__generator(this,function(ge){if((_e=cn()).enabled&&_e.token)return[2,_e.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")})})}var Ki={error:"UNKNOWN_ERROR"};function vi(_e,ge,Ve){return void 0===Ve&&(Ve=!1),Q.__awaiter(this,void 0,void 0,function(){var mt,Wt,ln,Vn,Ri,Cr,or,bo,Da,yc;return Q.__generator(this,function(Ho){switch(Ho.label){case 0:return Ut(_e),mt=rt(_e),ln=void 0,(Wt=mt.token)?[3,2]:[4,mt.cachedTokenPromise];case 1:(Vn=Ho.sent())&&wr(Vn)&&(Wt=Vn,kt(_e,Q.__assign(Q.__assign({},mt),{token:Wt})),rr(_e,{token:Wt.token})),Ho.label=2;case 2:return!Ve&&Wt&&wr(Wt)?[2,{token:Wt.token}]:function vr(){return cn().enabled}()?(Cr=Xe,or=be,bo=[_e],[4,ua()]):[3,6];case 3:return[4,Cr.apply(void 0,[or.apply(void 0,bo.concat([Ho.sent()])),ge])];case 4:return Ri=Ho.sent(),[4,qo(_e,Ri)];case 5:return Ho.sent(),kt(_e,Q.__assign(Q.__assign({},mt),{token:Ri})),[2,{token:Ri.token}];case 6:return Ho.trys.push([6,8,,9]),[4,mt.provider.getToken()];case 7:return Wt=Ho.sent(),[3,9];case 8:return Da=Ho.sent(),Qr.error(Da),ln=Da,[3,9];case 9:return Wt?[3,10]:(yc=function Rr(_e){return{token:Gn(Ki),error:_e}}(ln),[3,12]);case 10:return yc={token:Wt.token},kt(_e,Q.__assign(Q.__assign({},mt),{token:Wt})),[4,qo(_e,Wt)];case 11:Ho.sent(),Ho.label=12;case 12:return rr(_e,yc),[2,yc]}})})}function Mo(_e,ge,Ve,mt,Wt){var ln=rt(_e),Vn={next:mt,error:Wt,type:Ve},Ri=Q.__assign(Q.__assign({},ln),{tokenObservers:Q.__spreadArray(Q.__spreadArray([],ln.tokenObservers),[Vn])});if(!Ri.tokenRefresher){var Cr=function Jr(_e,ge){var Ve=this;return new qt(function(){return Q.__awaiter(Ve,void 0,void 0,function(){var Wt;return Q.__generator(this,function(ln){switch(ln.label){case 0:return rt(_e).token?[3,2]:[4,vi(_e,ge)];case 1:return Wt=ln.sent(),[3,4];case 2:return[4,vi(_e,ge,!0)];case 3:Wt=ln.sent(),ln.label=4;case 4:if(Wt.error)throw Wt.error;return[2]}})})},function(){return!0},function(){var mt=rt(_e);if(mt.token){var Wt=mt.token.issuedAtTimeMillis+.5*(mt.token.expireTimeMillis-mt.token.issuedAtTimeMillis)+3e5;return Wt=Math.min(Wt,mt.token.expireTimeMillis-3e5),Math.max(0,Wt-Date.now())}return 0},3e4,96e4)}(_e,ge);Ri.tokenRefresher=Cr}if(!Ri.tokenRefresher.isRunning()&&ln.isTokenAutoRefreshEnabled&&Ri.tokenRefresher.start(),ln.token&&wr(ln.token)){var or=ln.token;Promise.resolve().then(function(){return mt({token:or.token})}).catch(function(){})}else null==ln.token&&ln.cachedTokenPromise.then(function(bo){bo&&wr(bo)&&mt({token:bo.token})}).catch(function(){});kt(_e,Ri)}function Bn(_e,ge){var Ve=rt(_e),mt=Ve.tokenObservers.filter(function(Wt){return Wt.next!==ge});0===mt.length&&Ve.tokenRefresher&&Ve.tokenRefresher.isRunning()&&Ve.tokenRefresher.stop(),kt(_e,Q.__assign(Q.__assign({},Ve),{tokenObservers:mt}))}function rr(_e,ge){for(var mt=0,Wt=rt(_e).tokenObservers;mt<Wt.length;mt++){var ln=Wt[mt];try{"EXTERNAL"===ln.type&&null!=ge.error?ln.error(ge.error):ln.next(ge)}catch(Vn){}}}function wr(_e){return _e.expireTimeMillis-Date.now()>0}function Lo(_e){return Q.__awaiter(this,void 0,void 0,function(){var Ve;return Q.__generator(this,function(mt){switch(mt.label){case 0:return Ut(_e),[4,rt(_e).reCAPTCHAState.initialized.promise];case 1:return Ve=mt.sent(),[2,new Promise(function(Wt,ln){var Vn=rt(_e).reCAPTCHAState;Ve.ready(function(){Wt(Ve.execute(Vn.widgetId,{action:"fire_app_check"}))})})]}})})}function yo(_e,ge,Ve,mt){var Wt=Ve.render(mt,{sitekey:ge,size:"invisible"}),ln=rt(_e);kt(_e,Q.__assign(Q.__assign({},ln),{reCAPTCHAState:Q.__assign(Q.__assign({},ln.reCAPTCHAState),{widgetId:Wt})}))}var ar=function(){function _e(ge){this._siteKey=ge}return _e.prototype.getToken=function(){return Q.__awaiter(this,void 0,void 0,function(){var ge;return Q.__generator(this,function(Ve){switch(Ve.label){case 0:if(!this._app||!this._platformLoggerProvider)throw de.create("use-before-activation",{appName:""});Ve.label=1;case 1:return Ve.trys.push([1,3,,4]),[4,Lo(this._app)];case 2:return ge=Ve.sent(),[3,4];case 3:throw Ve.sent(),de.create("recaptcha-error");case 4:return[2,Xe(Ot(this._app,ge),this._platformLoggerProvider)]}})})},_e.prototype.initialize=function(ge,Ve){this._app=ge,this._platformLoggerProvider=Ve,function da(_e,ge){var Ve=rt(_e),mt=new Ze.Deferred;kt(_e,Q.__assign(Q.__assign({},Ve),{reCAPTCHAState:{initialized:mt}}));var Wt="fire_app_check_"+_e.name,ln=document.createElement("div");ln.id=Wt,ln.style.display="none",document.body.appendChild(ln);var Vn=Mt();return Vn?Vn.ready(function(){yo(_e,ge,Vn,Wt),mt.resolve(Vn)}):function bd(_e){var ge=document.createElement("script");ge.src="https://www.google.com/recaptcha/api.js",ge.onload=_e,document.head.appendChild(ge)}(function(){var Ri=Mt();if(!Ri)throw new Error("no recaptcha");Ri.ready(function(){yo(_e,ge,Ri,Wt),mt.resolve(Ri)})}),mt.promise}(ge,this._siteKey).catch(function(){})},_e}(),si=function(){function _e(ge){this._customProviderOptions=ge}return _e.prototype.getToken=function(){return Q.__awaiter(this,void 0,void 0,function(){var ge,Ve,mt;return Q.__generator(this,function(Wt){switch(Wt.label){case 0:if(!this._app)throw de.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return ge=Wt.sent(),Ve=Ze.issuedAtTime(ge.token),mt=null!==Ve&&Ve<Date.now()&&Ve>0?1e3*Ve:Date.now(),[2,Q.__assign(Q.__assign({},ge),{issuedAtTimeMillis:mt})]}})})},_e.prototype.initialize=function(ge){this._app=ge},_e}();function pl(_e,ge){return{app:_e,activate:function(Ve,mt){return function Ci(_e,ge,Ve,mt){var Wt=rt(_e);if(Wt.activated)throw de.create("already-activated",{appName:_e.name});var ln=Q.__assign(Q.__assign({},Wt),{activated:!0});ln.cachedTokenPromise=function Hr(_e){return Q.__awaiter(this,void 0,void 0,function(){var ge,Ve;return Q.__generator(this,function(mt){switch(mt.label){case 0:if(!Ze.isIndexedDBAvailable())return[3,5];ge=void 0,mt.label=1;case 1:return mt.trys.push([1,3,,4]),[4,Nn(_e)];case 2:return ge=mt.sent(),[3,4];case 3:return Ve=mt.sent(),Qr.warn("Failed to read token from indexeddb. Error: "+Ve),[3,4];case 4:return[2,ge];case 5:return[2,void 0]}})})}(_e).then(function(Vn){return Vn&&wr(Vn)&&kt(_e,Q.__assign(Q.__assign({},rt(_e)),{token:Vn})),Vn}),ln.provider="string"==typeof ge?new ar(ge):ge instanceof ar||ge instanceof si?ge:new si({getToken:ge.getToken}),ln.isTokenAutoRefreshEnabled=void 0===mt?_e.automaticDataCollectionEnabled:mt,kt(_e,ln),ln.provider.initialize(_e,Ve)}(_e,Ve,ge,mt)},setTokenAutoRefreshEnabled:function(Ve){return function Dr(_e,ge){var Ve=rt(_e);Ve.tokenRefresher&&(!0===ge?Ve.tokenRefresher.start():Ve.tokenRefresher.stop()),kt(_e,Q.__assign(Q.__assign({},Ve),{isTokenAutoRefreshEnabled:ge}))}(_e,Ve)},getToken:function(Ve){return function Sa(_e,ge,Ve){return Q.__awaiter(this,void 0,void 0,function(){var mt;return Q.__generator(this,function(Wt){switch(Wt.label){case 0:return[4,vi(_e,ge,Ve)];case 1:if((mt=Wt.sent()).error)throw mt.error;return[2,{token:mt.token}]}})})}(_e,ge,Ve)},onTokenChanged:function(Ve,mt,Wt){return function Oi(_e,ge,Ve,mt,Wt){var ln,Vn=function(){};return ln=null!=Ve.next?Ve.next.bind(Ve):Ve,null!=Ve.error?Vn=Ve.error.bind(Ve):mt&&(Vn=mt),Mo(_e,ge,"EXTERNAL",ln,Vn),function(){return Bn(_e,ln)}}(_e,ge,Ve,mt)},INTERNAL:{delete:function(){for(var mt=0,Wt=rt(_e).tokenObservers;mt<Wt.length;mt++)Bn(_e,Wt[mt].next);return Promise.resolve()}}}}var ke="app-check-internal";(function at(_e){_e.INTERNAL.registerComponent(new ie.Component("appCheck",function(ge){return pl(ge.getProvider("app").getImmediate(),ge.getProvider("platform-logger"))},"PUBLIC").setServiceProps({ReCaptchaV3Provider:ar,CustomProvider:si}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(ge,Ve,mt){ge.getProvider(ke).initialize()})),_e.INTERNAL.registerComponent(new ie.Component(ke,function(ge){return function Xs(_e,ge){return{getToken:function(Ve){return vi(_e,ge,Ve)},addTokenListener:function(Ve){return Mo(_e,ge,"INTERNAL",Ve)},removeTokenListener:function(Ve){return Bn(_e,Ve)}}}(ge.getProvider("app").getImmediate(),ge.getProvider("platform-logger"))},"PUBLIC").setInstantiationMode("EXPLICIT")),_e.registerVersion("@firebase/app-check","0.3.2")})(et.default),function vc(){var _e=Ze.getGlobal();if("string"==typeof _e.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===_e.FIREBASE_APPCHECK_DEBUG_TOKEN){var ge=cn();ge.enabled=!0;var Ve=new Ze.Deferred;ge.token=Ve,Ve.resolve("string"==typeof _e.FIREBASE_APPCHECK_DEBUG_TOKEN?_e.FIREBASE_APPCHECK_DEBUG_TOKEN:function Zi(){return Q.__awaiter(this,void 0,void 0,function(){var _e,ge;return Q.__generator(this,function(Ve){switch(Ve.label){case 0:_e=void 0,Ve.label=1;case 1:return Ve.trys.push([1,3,,4]),[4,ii(Tn)];case 2:return _e=Ve.sent(),[3,4];case 3:return Ve.sent(),[3,4];case 4:return _e?[2,_e]:(ge=function kn(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(_e){var ge=16*Math.random()|0;return("x"===_e?ge:3&ge|8).toString(16)})}(),function Wn(_e){return mi(Tn,_e)}(ge).catch(function(mt){return Qr.warn("Failed to persist debug token to indexeddb. Error: "+mt)}),console.log("AppCheck debug token: "+ge+". You will need to whitelist it in the Firebase console for it to work"),[2,ge])}})})}())}}()},8367:(oi,$t,me)=>{"use strict";me.r($t),me.d($t,{default:()=>pn,firebase:()=>Nn});var wt,Re,r=me(655),ie=me(492),Q=me(2461),Ze=me(4003),jt=((wt={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",wt["bad-app-name"]="Illegal App name: '{$appName}",wt["duplicate-app"]="Firebase App named '{$appName}' already exists",wt["app-deleted"]="Firebase App named '{$appName}' already deleted",wt["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",wt["invalid-log-argument"]="First argument to `onLog` must be null or a function.",wt),et=new ie.ErrorFactory("app","Firebase",jt),yt="@firebase/app",Mt="[DEFAULT]",Ut=((Re={})[yt]="fire-core",Re["@firebase/analytics"]="fire-analytics",Re["@firebase/app-check"]="fire-app-check",Re["@firebase/auth"]="fire-auth",Re["@firebase/database"]="fire-rtdb",Re["@firebase/functions"]="fire-fn",Re["@firebase/installations"]="fire-iid",Re["@firebase/messaging"]="fire-fcm",Re["@firebase/performance"]="fire-perf",Re["@firebase/remote-config"]="fire-rc",Re["@firebase/storage"]="fire-gcs",Re["@firebase/firestore"]="fire-fst",Re["fire-js"]="fire-js",Re["firebase-wrapper"]="fire-js-all",Re),kn=new Ze.Logger("@firebase/app"),Gn=function(){function Wn(dn,mi,ii){var qr=this;this.firebase_=ii,this.isDeleted_=!1,this.name_=mi.name,this.automaticDataCollectionEnabled_=mi.automaticDataCollectionEnabled||!1,this.options_=(0,ie.deepCopy)(dn),this.container=new Q.ComponentContainer(mi.name),this._addComponent(new Q.Component("app",function(){return qr},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(Qr){return qr._addComponent(Qr)})}return Object.defineProperty(Wn.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(dn){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=dn},enumerable:!1,configurable:!0}),Object.defineProperty(Wn.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(Wn.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),Wn.prototype.delete=function(){var dn=this;return new Promise(function(mi){dn.checkDestroyed_(),mi()}).then(function(){return dn.firebase_.INTERNAL.removeApp(dn.name_),Promise.all(dn.container.getProviders().map(function(mi){return mi.delete()}))}).then(function(){dn.isDeleted_=!0})},Wn.prototype._getService=function(dn,mi){var ii;void 0===mi&&(mi=Mt),this.checkDestroyed_();var qr=this.container.getProvider(dn);return!qr.isInitialized()&&"EXPLICIT"===(null===(ii=qr.getComponent())||void 0===ii?void 0:ii.instantiationMode)&&qr.initialize(),qr.getImmediate({identifier:mi})},Wn.prototype._removeServiceInstance=function(dn,mi){void 0===mi&&(mi=Mt),this.container.getProvider(dn).clearInstance(mi)},Wn.prototype._addComponent=function(dn){try{this.container.addComponent(dn)}catch(mi){kn.debug("Component "+dn.name+" failed to register with FirebaseApp "+this.name,mi)}},Wn.prototype._addOrOverwriteComponent=function(dn){this.container.addOrOverwriteComponent(dn)},Wn.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},Wn.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw et.create("app-deleted",{appName:this.name_})},Wn}();Gn.prototype.name&&Gn.prototype.options||Gn.prototype.delete||console.log("dc");var At=function be(){var Wn=function Ot(Wn){var dn={},mi=new Map,ii={__esModule:!0,initializeApp:function Hr(Ki,vi){void 0===vi&&(vi={}),("object"!=typeof vi||null===vi)&&(vi={name:vi});var Bn=vi;void 0===Bn.name&&(Bn.name=Mt);var Jr=Bn.name;if("string"!=typeof Jr||!Jr)throw et.create("bad-app-name",{appName:String(Jr)});if((0,ie.contains)(dn,Jr))throw et.create("duplicate-app",{appName:Jr});var rr=new Wn(Ki,Bn,ii);return dn[Jr]=rr,rr},app:Qr,registerVersion:function vr(Ki,vi,Mo){var Bn,Jr=null!==(Bn=Ut[Ki])&&void 0!==Bn?Bn:Ki;Mo&&(Jr+="-"+Mo);var rr=Jr.match(/\s|\//),wr=vi.match(/\s|\//);if(rr||wr){var Rr=['Unable to register library "'+Jr+'" with version "'+vi+'":'];return rr&&Rr.push('library name "'+Jr+'" contains illegal characters (whitespace or "/")'),rr&&wr&&Rr.push("and"),wr&&Rr.push('version name "'+vi+'" contains illegal characters (whitespace or "/")'),void kn.warn(Rr.join(" "))}Zi(new Q.Component(Jr+"-version",function(){return{library:Jr,version:vi}},"VERSION"))},setLogLevel:Ze.setLogLevel,onLog:function ua(Ki,vi){if(null!==Ki&&"function"!=typeof Ki)throw et.create("invalid-log-argument");(0,Ze.setUserLogHandler)(Ki,vi)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:Zi,removeApp:function qr(Ki){delete dn[Ki]},components:mi,useAsService:function vc(Ki,vi){return"serverAuth"===vi?null:vi}}};function Qr(Ki){if(!(0,ie.contains)(dn,Ki=Ki||Mt))throw et.create("no-app",{appName:Ki});return dn[Ki]}function Zi(Ki){var vi=Ki.name;if(mi.has(vi))return kn.debug("There were multiple attempts to register component "+vi+"."),"PUBLIC"===Ki.type?ii[vi]:null;if(mi.set(vi,Ki),"PUBLIC"===Ki.type){var Mo=function(wr){if(void 0===wr&&(wr=Qr()),"function"!=typeof wr[vi])throw et.create("invalid-app-argument",{appName:vi});return wr[vi]()};void 0!==Ki.serviceProps&&(0,ie.deepExtend)(Mo,Ki.serviceProps),ii[vi]=Mo,Wn.prototype[vi]=function(){for(var wr=[],Rr=0;Rr<arguments.length;Rr++)wr[Rr]=arguments[Rr];return this._getService.bind(this,vi).apply(this,Ki.multipleInstances?wr:[])}}for(var Bn=0,Jr=Object.keys(dn);Bn<Jr.length;Bn++)dn[Jr[Bn]]._addComponent(Ki);return"PUBLIC"===Ki.type?ii[vi]:null}return ii.default=ii,Object.defineProperty(ii,"apps",{get:function qo(){return Object.keys(dn).map(function(Ki){return dn[Ki]})}}),Qr.App=Wn,ii}(Gn);return Wn.INTERNAL=(0,r.__assign)((0,r.__assign)({},Wn.INTERNAL),{createFirebaseNamespace:be,extendNamespace:function dn(mi){(0,ie.deepExtend)(Wn,mi)},createSubscribe:ie.createSubscribe,ErrorFactory:ie.ErrorFactory,deepExtend:ie.deepExtend}),Wn}(),Kt=function(){function Wn(dn){this.container=dn}return Wn.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(mi){if(function it(Wn){var dn=Wn.getComponent();return"VERSION"===(null==dn?void 0:dn.type)}(mi)){var ii=mi.getImmediate();return ii.library+"/"+ii.version}return null}).filter(function(mi){return mi}).join(" ")},Wn}();if((0,ie.isBrowser)()&&void 0!==self.firebase){kn.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var gn=self.firebase.SDK_VERSION;gn&&gn.indexOf("LITE")>=0&&kn.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var di=At.initializeApp;At.initializeApp=function(){for(var Wn=[],dn=0;dn<arguments.length;dn++)Wn[dn]=arguments[dn];return(0,ie.isNode)()&&kn.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),di.apply(void 0,Wn)};var Nn=At;!function Tn(Wn,dn){Wn.INTERNAL.registerComponent(new Q.Component("platform-logger",function(mi){return new Kt(mi)},"PRIVATE")),Wn.registerVersion(yt,"0.6.30",dn),Wn.registerVersion("fire-js","")}(Nn);const pn=Nn},5880:(oi,$t,me)=>{"use strict";var r=me(8367);(function(){var ie,Q="function"==typeof Object.defineProperties?Object.defineProperty:function(l,p,C){l!=Array.prototype&&l!=Object.prototype&&(l[p]=C.value)},wt=function Ze(l){l=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,l];for(var p=0;p<l.length;++p){var C=l[p];if(C&&C.Math==Math)return C}return globalThis}(this);function et(l){var p=0;return function(){return p<l.length?{done:!1,value:l[p++]}:{done:!0}}}function yt(l){var p="undefined"!=typeof Symbol&&Symbol.iterator&&l[Symbol.iterator];return p?p.call(l):{next:et(l)}}!function jt(l,p){if(p){var C=wt;l=l.split(".");for(var k=0;k<l.length-1;k++){var U=l[k];U in C||(C[U]={}),C=C[U]}(p=p(k=C[l=l[l.length-1]]))!=k&&null!=p&&Q(C,l,{configurable:!0,writable:!0,value:p})}}("Promise",function(l){function p(se){this.b=0,this.c=void 0,this.a=[];var Ie=this.f();try{se(Ie.resolve,Ie.reject)}catch(Nt){Ie.reject(Nt)}}function C(){this.a=null}function k(se){return se instanceof p?se:new p(function(Ie){Ie(se)})}if(l)return l;C.prototype.b=function(se){if(null==this.a){this.a=[];var Ie=this;this.c(function(){Ie.g()})}this.a.push(se)};var U=wt.setTimeout;C.prototype.c=function(se){U(se,0)},C.prototype.g=function(){for(;this.a&&this.a.length;){var se=this.a;this.a=[];for(var Ie=0;Ie<se.length;++Ie){var Nt=se[Ie];se[Ie]=null;try{Nt()}catch(tn){this.f(tn)}}}this.a=null},C.prototype.f=function(se){this.c(function(){throw se})},p.prototype.f=function(){function se(tn){return function(qi){Nt||(Nt=!0,tn.call(Ie,qi))}}var Ie=this,Nt=!1;return{resolve:se(this.m),reject:se(this.g)}},p.prototype.m=function(se){if(se===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(se instanceof p)this.s(se);else{e:switch(typeof se){case"object":var Ie=null!=se;break e;case"function":Ie=!0;break e;default:Ie=!1}Ie?this.v(se):this.h(se)}},p.prototype.v=function(se){var Ie=void 0;try{Ie=se.then}catch(Nt){return void this.g(Nt)}"function"==typeof Ie?this.u(Ie,se):this.h(se)},p.prototype.g=function(se){this.i(2,se)},p.prototype.h=function(se){this.i(1,se)},p.prototype.i=function(se,Ie){if(0!=this.b)throw Error("Cannot settle("+se+", "+Ie+"): Promise already settled in state"+this.b);this.b=se,this.c=Ie,this.l()},p.prototype.l=function(){if(null!=this.a){for(var se=0;se<this.a.length;++se)K.b(this.a[se]);this.a=null}};var K=new C;return p.prototype.s=function(se){var Ie=this.f();se.Ra(Ie.resolve,Ie.reject)},p.prototype.u=function(se,Ie){var Nt=this.f();try{se.call(Ie,Nt.resolve,Nt.reject)}catch(tn){Nt.reject(tn)}},p.prototype.then=function(se,Ie){function Nt(ro,ol){return"function"==typeof ro?function(Nf){try{tn(ro(Nf))}catch(Bo){qi(Bo)}}:ol}var tn,qi,To=new p(function(ro,ol){tn=ro,qi=ol});return this.Ra(Nt(se,tn),Nt(Ie,qi)),To},p.prototype.catch=function(se){return this.then(void 0,se)},p.prototype.Ra=function(se,Ie){function Nt(){switch(tn.b){case 1:se(tn.c);break;case 2:Ie(tn.c);break;default:throw Error("Unexpected state: "+tn.b)}}var tn=this;null==this.a?K.b(Nt):this.a.push(Nt)},p.resolve=k,p.reject=function(se){return new p(function(Ie,Nt){Nt(se)})},p.race=function(se){return new p(function(Ie,Nt){for(var tn=yt(se),qi=tn.next();!qi.done;qi=tn.next())k(qi.value).Ra(Ie,Nt)})},p.all=function(se){var Ie=yt(se),Nt=Ie.next();return Nt.done?k([]):new p(function(tn,qi){function To(Nf){return function(Bo){ro[Nf]=Bo,0==--ol&&tn(ro)}}var ro=[],ol=0;do{ro.push(void 0),ol++,k(Nt.value).Ra(To(ro.length-1),qi),Nt=Ie.next()}while(!Nt.done)})},p});var ht=ht||{},de=this||self,qe=/^[\w+/_-]+[=]{0,2}$/,We=null;function xt(l){return(l=l.querySelector&&l.querySelector("script[nonce]"))&&(l=l.nonce||l.getAttribute("nonce"))&&qe.test(l)?l:""}function rt(){}function kt(l){var p=typeof l;return"object"!=p?p:l?Array.isArray(l)?"array":p:"null"}function cn(l){var p=kt(l);return"array"==p||"object"==p&&"number"==typeof l.length}function ot(l){return"function"==kt(l)}function Ft(l){var p=typeof l;return"object"==p&&null!=l||"function"==p}function fn(l){return Object.prototype.hasOwnProperty.call(l,vn)&&l[vn]||(l[vn]=++qt)}var vn="closure_uid_"+(1e9*Math.random()>>>0),qt=0;function Re(l,p,C){return l.call.apply(l.bind,arguments)}function Mt(l,p,C){if(!l)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,k),l.apply(p,U)}}return function(){return l.apply(p,arguments)}}function Ut(l,p,C){return(Ut=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Re:Mt).apply(null,arguments)}function kn(l,p){var C=Array.prototype.slice.call(arguments,1);return function(){var k=C.slice();return k.push.apply(k,arguments),l.apply(this,k)}}var Gn=Date.now;function Xe(l,p){function C(){}C.prototype=p.prototype,l.bb=p.prototype,l.prototype=new C,l.prototype.constructor=l}function Ot(l){return l}function be(l,p,C){this.code=Kt+l,this.message=p||it[l]||"",this.a=C||null}function At(l){var p=l&&l.code;return p?new be(p.substring(Kt.length),l.message,l.serverResponse):null}Xe(be,Error),be.prototype.w=function(){var l={code:this.code,message:this.message};return this.a&&(l.serverResponse=this.a),l},be.prototype.toJSON=function(){return this.w()};var di,Kt="auth/",it={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Tn={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function gn(l){for(var p in Tn)if(Tn[p].id===l)return{firebaseEndpoint:(l=Tn[p]).Ua,secureTokenEndpoint:l.$a,identityPlatformEndpoint:l.Xa};return null}function Nn(l){if(!l)return!1;try{return!!l.$goog_Thenable}catch(p){return!1}}function pn(l){if(Error.captureStackTrace)Error.captureStackTrace(this,pn);else{var p=Error().stack;p&&(this.stack=p)}l&&(this.message=String(l))}function Wn(l,p){for(var C="",k=(l=l.split("%s")).length-1,U=0;U<k;U++)C+=l[U]+(U<p.length?p[U]:"%s");pn.call(this,C+l[k])}function dn(l,p){throw new Wn("Failure"+(l?": "+l:""),Array.prototype.slice.call(arguments,1))}function mi(l,p){this.c=l,this.f=p,this.b=0,this.a=null}function ii(l,p){l.f(p),100>l.b&&(l.b++,p.next=l.a,l.a=p)}function qr(){this.b=this.a=null}di=gn("__EID__")?"__EID__":void 0,Xe(pn,Error),pn.prototype.name="CustomError",Xe(Wn,pn),Wn.prototype.name="AssertionError",mi.prototype.get=function(){if(0<this.b){this.b--;var l=this.a;this.a=l.next,l.next=null}else l=this.c();return l};var Qr=new mi(function(){return new qo},function(l){l.reset()});function Hr(){var l=dv,p=null;return l.a&&(p=l.a,l.a=l.a.next,l.a||(l.b=null),p.next=null),p}function qo(){this.next=this.b=this.a=null}qr.prototype.add=function(l,p){var C=Qr.get();C.set(l,p),this.b?this.b.next=C:this.a=C,this.b=C},qo.prototype.set=function(l,p){this.a=l,this.b=p,this.next=null},qo.prototype.reset=function(){this.next=this.b=this.a=null};var Zi=Array.prototype.indexOf?function(l,p){return Array.prototype.indexOf.call(l,p,void 0)}:function(l,p){if("string"==typeof l)return"string"!=typeof p||1!=p.length?-1:l.indexOf(p,0);for(var C=0;C<l.length;C++)if(C in l&&l[C]===p)return C;return-1},vr=Array.prototype.forEach?function(l,p,C){Array.prototype.forEach.call(l,p,C)}:function(l,p,C){for(var k=l.length,U="string"==typeof l?l.split(""):l,K=0;K<k;K++)K in U&&p.call(C,U[K],K,l)},vc=Array.prototype.filter?function(l,p){return Array.prototype.filter.call(l,p,void 0)}:function(l,p){for(var C=l.length,k=[],U=0,K="string"==typeof l?l.split(""):l,se=0;se<C;se++)if(se in K){var Ie=K[se];p.call(void 0,Ie,se,l)&&(k[U++]=Ie)}return k},Ki=Array.prototype.map?function(l,p){return Array.prototype.map.call(l,p,void 0)}:function(l,p){for(var C=l.length,k=Array(C),U="string"==typeof l?l.split(""):l,K=0;K<C;K++)K in U&&(k[K]=p.call(void 0,U[K],K,l));return k},vi=Array.prototype.some?function(l,p){return Array.prototype.some.call(l,p,void 0)}:function(l,p){for(var C=l.length,k="string"==typeof l?l.split(""):l,U=0;U<C;U++)if(U in k&&p.call(void 0,k[U],U,l))return!0;return!1};function Bn(l,p){return 0<=Zi(l,p)}function Jr(l,p){var C;return(C=0<=(p=Zi(l,p)))&&Array.prototype.splice.call(l,p,1),C}function rr(l,p){!function ua(l,p){for(var C="string"==typeof l?l.split(""):l,k=l.length-1;0<=k;--k)k in C&&p.call(void 0,C[k],k,l)}(l,function(k,U){p.call(void 0,k,U,l)&&Array.prototype.splice.call(l,U,1)})}function wr(l){return Array.prototype.concat.apply([],arguments)}function Rr(l){var p=l.length;if(0<p){for(var C=Array(p),k=0;k<p;k++)C[k]=l[k];return C}return[]}var Oi,Ks=String.prototype.trim?function(l){return l.trim()}:function(l){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(l)[1]},da=/&/g,Lo=/</g,yo=/>/g,bd=/"/g,ar=/'/g,si=/\x00/g,Ci=/[\x00&<>"']/;function Dr(l,p){return-1!=l.indexOf(p)}function Sa(l,p){return l<p?-1:l>p?1:0}e:{var pl=de.navigator;if(pl){var Xs=pl.userAgent;if(Xs){Oi=Xs;break e}}Oi=""}function Lr(l){return Dr(Oi,l)}function yi(l,p){for(var C in l)p.call(void 0,l[C],C,l)}function Pe(l){for(var p in l)return!1;return!0}function ke(l){var C,p={};for(C in l)p[C]=l[C];return p}var at="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _e(l,p){for(var C,k,U=1;U<arguments.length;U++){for(C in k=arguments[U])l[C]=k[C];for(var K=0;K<at.length;K++)C=at[K],Object.prototype.hasOwnProperty.call(k,C)&&(l[C]=k[C])}}function ge(l,p){e:{try{var C=l&&l.ownerDocument,k=C&&(C.defaultView||C.parentWindow);if((k=k||de).Element&&k.Location){var U=k;break e}}catch(se){}U=null}if(U&&void 0!==U[p]&&(!l||!(l instanceof U[p])&&(l instanceof U.Location||l instanceof U.Element))){if(Ft(l))try{var K=l.constructor.displayName||l.constructor.name||Object.prototype.toString.call(l)}catch(se){K="<object could not be stringified>"}else K=void 0===l?"undefined":null===l?"null":typeof l;dn("Argument is not a %s (or a non-Element, non-Location mock); got: %s",p,K)}}function Ve(l,p){this.a=l===ln&&p||"",this.b=Wt}function mt(l){return l instanceof Ve&&l.constructor===Ve&&l.b===Wt?l.a:(dn("expected object of type Const, got '"+l+"'"),"type_error:Const")}Ve.prototype.ta=!0,Ve.prototype.sa=function(){return this.a},Ve.prototype.toString=function(){return"Const{"+this.a+"}"};var Vn,Wt={},ln={};function Ri(){if(void 0===Vn){var l=null,p=de.trustedTypes;if(p&&p.createPolicy){try{l=p.createPolicy("goog#html",{createHTML:Ot,createScript:Ot,createScriptURL:Ot})}catch(C){de.console&&de.console.error(C.message)}Vn=l}else Vn=l}return Vn}function Cr(l,p){this.a=p===Ho?l:""}function or(l){return l instanceof Cr&&l.constructor===Cr?l.a:(dn("expected object of type TrustedResourceUrl, got '"+l+"' of type "+kt(l)),"type_error:TrustedResourceUrl")}function bo(l,p){var C=mt(l);if(!yc.test(C))throw Error("Invalid TrustedResourceUrl format: "+C);return function Gr(l){var p=Ri();return new Cr(l=p?p.createScriptURL(l):l,Ho)}(l=C.replace(Da,function(k,U){if(!Object.prototype.hasOwnProperty.call(p,U))throw Error('Found marker, "'+U+'", in format string, "'+C+'", but no valid label mapping found in args: '+JSON.stringify(p));return(k=p[U])instanceof Ve?mt(k):encodeURIComponent(String(k))}))}Cr.prototype.ta=!0,Cr.prototype.sa=function(){return this.a.toString()},Cr.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Da=/%{(\w+)}/g,yc=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Ho={};function Go(l,p){this.a=p===ml?l:""}function Vl(l){return l instanceof Go&&l.constructor===Go?l.a:(dn("expected object of type SafeUrl, got '"+l+"' of type "+kt(l)),"type_error:SafeUrl")}Go.prototype.ta=!0,Go.prototype.sa=function(){return this.a.toString()},Go.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var ms=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Ea=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,np=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function lh(l){if(l instanceof Go)return l;if(l="object"==typeof l&&l.ta?l.sa():String(l),np.test(l))l=new Go(l,ml);else{var p=(l=(l=String(l)).replace(/(%0A|%0D)/g,"")).match(Ea);l=p&&ms.test(p[1])?new Go(l,ml):null}return l}function Fu(l){return l instanceof Go?l:(l="object"==typeof l&&l.ta?l.sa():String(l),np.test(l)||(l="about:invalid#zClosurez"),new Go(l,ml))}var ml={},oo=new Go("about:invalid#zClosurez",ml);function rs(l,p,C){this.a=C===Ln?l:""}rs.prototype.ta=!0,rs.prototype.sa=function(){return this.a.toString()},rs.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ln={};function Kr(l,p,C,k){return l=l instanceof Go?l:Fu(l),p=p||de,C=C instanceof Ve?mt(C):C||"",p.open(Vl(l),C,k,void 0)}function Ms(l,p){for(var C=l.split("%s"),k="",U=Array.prototype.slice.call(arguments,1);U.length&&1<C.length;)k+=C.shift()+U.shift();return k+C.join("%s")}function bc(l){return Ci.test(l)&&(-1!=l.indexOf("&")&&(l=l.replace(da,"&amp;")),-1!=l.indexOf("<")&&(l=l.replace(Lo,"&lt;")),-1!=l.indexOf(">")&&(l=l.replace(yo,"&gt;")),-1!=l.indexOf('"')&&(l=l.replace(bd,"&quot;")),-1!=l.indexOf("'")&&(l=l.replace(ar,"&#39;")),-1!=l.indexOf("\0")&&(l=l.replace(si,"&#0;"))),l}function Zo(l){return Zo[" "](l),l}Zo[" "]=rt;var nr,l,ko=Lr("Opera"),os=Lr("Trident")||Lr("MSIE"),ea=Lr("Edge"),Bi=ea||os,ks=Lr("Gecko")&&!(Dr(Oi.toLowerCase(),"webkit")&&!Lr("Edge"))&&!(Lr("Trident")||Lr("MSIE"))&&!Lr("Edge"),xr=Dr(Oi.toLowerCase(),"webkit")&&!Lr("Edge");function ql(){var l=de.document;return l?l.documentMode:void 0}e:{var qn="",Si=(l=Oi,ks?/rv:([^\);]+)(\)|;)/.exec(l):ea?/Edge\/([\d\.]+)/.exec(l):os?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(l):xr?/WebKit\/(\S+)/.exec(l):ko?/(?:Version)[ \/]?(\S+)/.exec(l):void 0);if(Si&&(qn=Si?Si[1]:""),os){var ha=ql();if(null!=ha&&ha>parseFloat(qn)){nr=String(ha);break e}}nr=qn}var Sn={};function Pr(l){return function wc(l,p){var C=Sn;return Object.prototype.hasOwnProperty.call(C,l)?C[l]:C[l]=p(l)}(l,function(){for(var p=0,C=Ks(String(nr)).split("."),k=Ks(String(l)).split("."),U=Math.max(C.length,k.length),K=0;0==p&&K<U;K++){var se=C[K]||"",Ie=k[K]||"";do{if(se=/(\d*)(\D*)(.*)/.exec(se)||["","","",""],Ie=/(\d*)(\D*)(.*)/.exec(Ie)||["","","",""],0==se[0].length&&0==Ie[0].length)break;p=Sa(0==se[1].length?0:parseInt(se[1],10),0==Ie[1].length?0:parseInt(Ie[1],10))||Sa(0==se[2].length,0==Ie[2].length)||Sa(se[2],Ie[2]),se=se[3],Ie=Ie[3]}while(0==p)}return 0<=p})}var Xr=de.document&&os&&(ql()||parseInt(nr,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(l){}var Yi=!os||9<=Number(Xr);function ki(l){var p=document;return"string"==typeof l?p.getElementById(l):l}function ss(l,p){yi(p,function(C,k){C&&"object"==typeof C&&C.ta&&(C=C.sa()),"style"==k?l.style.cssText=C:"class"==k?l.className=C:"for"==k?l.htmlFor=C:ch.hasOwnProperty(k)?l.setAttribute(ch[k],C):0==k.lastIndexOf("aria-",0)||0==k.lastIndexOf("data-",0)?l.setAttribute(k,C):l[k]=C})}var $a,um,ch={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ta(l,p,C){function k(Ie){Ie&&p.appendChild("string"==typeof Ie?l.createTextNode(Ie):Ie)}for(var U=2;U<C.length;U++){var K=C[U];if(!cn(K)||Ft(K)&&0<K.nodeType)k(K);else{e:{if(K&&"number"==typeof K.length){if(Ft(K)){var se="function"==typeof K.item||"string"==typeof K.item;break e}if(ot(K)){se="function"==typeof K.item;break e}}se=!1}vr(se?Rr(K):K,k)}}}function wd(l,p){return p=String(p),"application/xhtml+xml"===l.contentType&&(p=p.toLowerCase()),l.createElement(p)}function cv(l){de.setTimeout(function(){throw l},0)}function gl(l,p){um||function ip(){if(de.Promise&&de.Promise.resolve){var l=de.Promise.resolve(void 0);um=function(){l.then(_s)}}else um=function(){var p=_s;!ot(de.setImmediate)||de.Window&&de.Window.prototype&&!Lr("Edge")&&de.Window.prototype.setImmediate==de.setImmediate?($a||($a=function uv(){var l=de.MessageChannel;if(void 0===l&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!Lr("Presto")&&(l=function(){var U=wd(document,"IFRAME");U.style.display="none",document.documentElement.appendChild(U);var K=U.contentWindow;(U=K.document).open(),U.close();var se="callImmediate"+Math.random(),Ie="file:"==K.location.protocol?"*":K.location.protocol+"//"+K.location.host;U=Ut(function(Nt){("*"==Ie||Nt.origin==Ie)&&Nt.data==se&&this.port1.onmessage()},this),K.addEventListener("message",U,!1),this.port1={},this.port2={postMessage:function(){K.postMessage(se,Ie)}}}),void 0!==l&&!Lr("Trident")&&!Lr("MSIE")){var p=new l,C={},k=C;return p.port1.onmessage=function(){if(void 0!==C.next){var U=(C=C.next).Hb;C.Hb=null,U()}},function(U){k.next={Hb:U},k=k.next,p.port2.postMessage(0)}}return function(U){de.setTimeout(U,0)}}()),$a(p)):de.setImmediate(p)}}(),uh||(um(),uh=!0),dv.add(l,p)}var uh=!1,dv=new qr;function _s(){for(var l;l=Hr();){try{l.a.call(l.b)}catch(p){cv(p)}ii(Qr,l)}uh=!1}function zi(l,p){if(this.a=Yo,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,l!=rt)try{var C=this;l.call(p,function(k){_l(C,Nu,k)},function(k){if(!(k instanceof qs))try{throw k instanceof Error?k:Error("Promise rejected.")}catch(U){}_l(C,Qa,k)})}catch(k){_l(this,Qa,k)}}var Yo=0,Nu=2,Qa=3;function Ru(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ru.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var lr=new mi(function(){return new Ru},function(l){l.reset()});function dh(l,p,C){var k=lr.get();return k.g=l,k.b=p,k.f=C,k}function ri(l){if(l instanceof zi)return l;var p=new zi(rt);return _l(p,Nu,l),p}function eo(l){return new zi(function(p,C){C(l)})}function xc(l,p,C){Tc(l,p,C,null)||gl(kn(p,l))}function Ma(l){return new zi(function(p){var C=l.length,k=[];if(C)for(var U=function(Ie,Nt,tn){C--,k[Ie]=Nt?{Qb:!0,value:tn}:{Qb:!1,reason:tn},0==C&&p(k)},K=0;K<l.length;K++)xc(l[K],kn(U,K,!0),kn(U,K,!1));else p(k)})}function Pu(l,p){if(l.a==Yo)if(l.c){var C=l.c;if(C.b){for(var k=0,U=null,K=null,se=C.b;se&&(se.c||(k++,se.a==l&&(U=se),!(U&&1<k)));se=se.next)U||(K=se);U&&(C.a==Yo&&1==k?Pu(C,p):(K?((k=K).next==C.f&&(C.f=k),k.next=k.next.next):ou(C),op(C,U,Qa,p)))}l.c=null}else _l(l,Qa,p)}function Hl(l,p){l.b||l.a!=Nu&&l.a!=Qa||wo(l),l.f?l.f.next=p:l.b=p,l.f=p}function Cd(l,p,C,k){var U=dh(null,null,null);return U.a=new zi(function(K,se){U.g=p?function(Ie){try{var Nt=p.call(k,Ie);K(Nt)}catch(tn){se(tn)}}:K,U.b=C?function(Ie){try{var Nt=C.call(k,Ie);void 0===Nt&&Ie instanceof qs?se(Ie):K(Nt)}catch(tn){se(tn)}}:se}),U.a.c=l,Hl(l,U),U.a}function _l(l,p,C){l.a==Yo&&(l===C&&(p=Qa,C=new TypeError("Promise cannot resolve to itself")),l.a=1,Tc(C,l.$c,l.ad,l)||(l.i=C,l.a=p,l.c=null,wo(l),p!=Qa||C instanceof qs||function jg(l,p){l.g=!0,gl(function(){l.g&&as.call(null,p)})}(l,C)))}function Tc(l,p,C,k){if(l instanceof zi)return Hl(l,dh(p||rt,C||null,k)),!0;if(Nn(l))return l.then(p,C,k),!0;if(Ft(l))try{var U=l.then;if(ot(U))return function hv(l,p,C,k,U){function K(Nt){Ie||(Ie=!0,k.call(U,Nt))}var Ie=!1;try{p.call(l,function se(Nt){Ie||(Ie=!0,C.call(U,Nt))},K)}catch(Nt){K(Nt)}}(l,U,p,C,k),!0}catch(K){return C.call(k,K),!0}return!1}function wo(l){l.h||(l.h=!0,gl(l.gc,l))}function ou(l){var p=null;return l.b&&(l.b=(p=l.b).next,p.next=null),l.b||(l.f=null),p}function op(l,p,C,k){if(C==Qa&&p.b&&!p.c)for(;l&&l.g;l=l.c)l.g=!1;if(p.a)p.a.c=null,su(p,C,k);else try{p.c?p.g.call(p.f):su(p,C,k)}catch(U){as.call(null,U)}ii(lr,p)}function su(l,p,C){p==Nu?l.g.call(l.f,C):l.b&&l.b.call(l.f,C)}zi.prototype.then=function(l,p,C){return Cd(this,ot(l)?l:null,ot(p)?p:null,C)},zi.prototype.$goog_Thenable=!0,(ie=zi.prototype).oa=function(l,p){return(l=dh(l,l,p)).c=!0,Hl(this,l),this},ie.o=function(l,p){return Cd(this,null,l,p)},ie.cancel=function(l){if(this.a==Yo){var p=new qs(l);gl(function(){Pu(this,p)},this)}},ie.$c=function(l){this.a=Yo,_l(this,Nu,l)},ie.ad=function(l){this.a=Yo,_l(this,Qa,l)},ie.gc=function(){for(var l;l=ou(this);)op(this,l,this.a,this.i);this.h=!1};var as=cv;function qs(l){pn.call(this,l)}function dm(){0!=sp&&(so[fn(this)]=this),this.ya=this.ya,this.pa=this.pa}Xe(qs,pn),qs.prototype.name="cancel";var sp=0,so={};function Vg(l){if(!l.ya&&(l.ya=!0,l.Da(),0!=sp)){var p=fn(l);if(0!=sp&&l.pa&&0<l.pa.length)throw Error(l+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete so[p]}}dm.prototype.ya=!1,dm.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var hm=Object.freeze||function(l){return l},hh=!os||9<=Number(Xr),fh=os&&!Pr("9"),ap=function(){if(!de.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{de.addEventListener("test",rt,p),de.removeEventListener("test",rt,p)}catch(C){}return l}();function sr(l,p){this.type=l,this.b=this.target=p,this.defaultPrevented=!1}function vl(l,p){if(sr.call(this,l?l.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,l){var C=this.type=l.type,k=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.b=p,p=l.relatedTarget){if(ks){e:{try{Zo(p.nodeName);var U=!0;break e}catch(K){}U=!1}U||(p=null)}}else"mouseover"==C?p=l.fromElement:"mouseout"==C&&(p=l.toElement);this.relatedTarget=p,k?(this.clientX=void 0!==k.clientX?k.clientX:k.pageX,this.clientY=void 0!==k.clientY?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=void 0!==l.clientX?l.clientX:l.pageX,this.clientY=void 0!==l.clientY?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType="string"==typeof l.pointerType?l.pointerType:Li[l.pointerType]||"",this.a=l,l.defaultPrevented&&this.preventDefault()}}sr.prototype.preventDefault=function(){this.defaultPrevented=!0},Xe(vl,sr);var Li=hm({2:"touch",3:"pen",4:"mouse"});vl.prototype.preventDefault=function(){vl.bb.preventDefault.call(this);var l=this.a;if(l.preventDefault)l.preventDefault();else if(l.returnValue=!1,fh)try{(l.ctrlKey||112<=l.keyCode&&123>=l.keyCode)&&(l.keyCode=-1)}catch(p){}},vl.prototype.g=function(){return this.a};var Zr="closure_listenable_"+(1e6*Math.random()|0),ef=0;function fm(l,p,C,k,U){this.listener=l,this.proxy=null,this.src=p,this.type=C,this.capture=!!k,this.Wa=U,this.key=++ef,this.wa=this.Qa=!1}function Ur(l){l.wa=!0,l.listener=null,l.proxy=null,l.src=null,l.Wa=null}function Is(l){this.src=l,this.a={},this.b=0}function pm(l,p){var C=p.type;C in l.a&&Jr(l.a[C],p)&&(Ur(p),0==l.a[C].length&&(delete l.a[C],l.b--))}function xd(l,p,C,k){for(var U=0;U<l.length;++U){var K=l[U];if(!K.wa&&K.listener==p&&K.capture==!!C&&K.Wa==k)return U}return-1}Is.prototype.add=function(l,p,C,k,U){var K=l.toString();(l=this.a[K])||(l=this.a[K]=[],this.b++);var se=xd(l,p,k,U);return-1<se?(p=l[se],C||(p.Qa=!1)):((p=new fm(p,this.src,K,!!k,U)).Qa=C,l.push(p)),p};var fa="closure_lm_"+(1e6*Math.random()|0),Hs={};function Os(l,p,C,k,U){if(k&&k.once)au(l,p,C,k,U);else if(Array.isArray(p))for(var K=0;K<p.length;K++)Os(l,p[K],C,k,U);else C=Sc(C),l&&l[Zr]?cr(l,p,C,Ft(k)?!!k.capture:!!k,U):mm(l,p,C,!1,k,U)}function mm(l,p,C,k,U,K){if(!p)throw Error("Invalid event type");var se=Ft(U)?!!U.capture:!!U,Ie=Gl(l);if(Ie||(l[fa]=Ie=new Is(l)),!(C=Ie.add(p,C,k,se,K)).proxy)if(k=function Ac(){var l=gm,p=hh?function(C){return l.call(p.src,p.listener,C)}:function(C){if(!(C=l.call(p.src,p.listener,C)))return C};return p}(),C.proxy=k,k.src=l,k.listener=C,l.addEventListener)ap||(U=se),void 0===U&&(U=!1),l.addEventListener(p.toString(),k,U);else if(l.attachEvent)l.attachEvent(Ad(p.toString()),k);else{if(!l.addListener||!l.removeListener)throw Error("addEventListener and attachEvent are unavailable.");l.addListener(k)}}function au(l,p,C,k,U){if(Array.isArray(p))for(var K=0;K<p.length;K++)au(l,p[K],C,k,U);else C=Sc(C),l&&l[Zr]?lp(l,p,C,Ft(k)?!!k.capture:!!k,U):mm(l,p,C,!0,k,U)}function Gs(l,p,C,k,U){if(Array.isArray(p))for(var K=0;K<p.length;K++)Gs(l,p[K],C,k,U);else k=Ft(k)?!!k.capture:!!k,C=Sc(C),l&&l[Zr]?(l=l.v,(p=String(p).toString())in l.a&&-1<(C=xd(K=l.a[p],C,k,U))&&(Ur(K[C]),Array.prototype.splice.call(K,C,1),0==K.length&&(delete l.a[p],l.b--))):l&&(l=Gl(l))&&(p=l.a[p.toString()],l=-1,p&&(l=xd(p,C,k,U)),(C=-1<l?p[l]:null)&&hi(C))}function hi(l){if("number"!=typeof l&&l&&!l.wa){var p=l.src;if(p&&p[Zr])pm(p.v,l);else{var C=l.type,k=l.proxy;p.removeEventListener?p.removeEventListener(C,k,l.capture):p.detachEvent?p.detachEvent(Ad(C),k):p.addListener&&p.removeListener&&p.removeListener(k),(C=Gl(p))?(pm(C,l),0==C.b&&(C.src=null,p[fa]=null)):Ur(l)}}}function Ad(l){return l in Hs?Hs[l]:Hs[l]="on"+l}function Ls(l,p,C,k){var U=!0;if((l=Gl(l))&&(p=l.a[p.toString()]))for(p=p.concat(),l=0;l<p.length;l++){var K=p[l];K&&K.capture==C&&!K.wa&&(K=Bu(K,k),U=U&&!1!==K)}return U}function Bu(l,p){var C=l.listener,k=l.Wa||l.src;return l.Qa&&hi(l),C.call(k,p)}function gm(l,p){if(l.wa)return!0;if(!hh){if(!p)e:{p=["window","event"];for(var C=de,k=0;k<p.length;k++)if(null==(C=C[p[k]])){p=null;break e}p=C}if(p=new vl(k=p,this),C=!0,!(0>k.keyCode||null!=k.returnValue)){e:{var U=!1;if(0==k.keyCode)try{k.keyCode=-1;break e}catch(se){U=!0}(U||null==k.returnValue)&&(k.returnValue=!0)}for(k=[],U=p.b;U;U=U.parentNode)k.push(U);for(l=l.type,U=k.length-1;0<=U;U--){p.b=k[U];var K=Ls(k[U],l,!0,p);C=C&&K}for(U=0;U<k.length;U++)p.b=k[U],K=Ls(k[U],l,!1,p),C=C&&K}return C}return Bu(l,new vl(p,this))}function Gl(l){return(l=l[fa])instanceof Is?l:null}var _m="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sc(l){return ot(l)?l:(l[_m]||(l[_m]=function(p){return l.handleEvent(p)}),l[_m])}function Gt(){dm.call(this),this.v=new Is(this),this.bc=this,this.hb=null}function cr(l,p,C,k,U){l.v.add(String(p),C,!1,k,U)}function lp(l,p,C,k,U){l.v.add(String(p),C,!0,k,U)}function Wi(l,p,C,k){if(!(p=l.v.a[String(p)]))return!0;p=p.concat();for(var U=!0,K=0;K<p.length;++K){var se=p[K];if(se&&!se.wa&&se.capture==C){var Ie=se.listener,Nt=se.Wa||se.src;se.Qa&&pm(l.v,se),U=!1!==Ie.call(Nt,k)&&U}}return U&&!k.defaultPrevented}function yl(l,p,C){if(ot(l))C&&(l=Ut(l,C));else{if(!l||"function"!=typeof l.handleEvent)throw Error("Invalid listener argument");l=Ut(l.handleEvent,l)}return 2147483647<Number(p)?-1:de.setTimeout(l,p||0)}function na(l){var p=null;return new zi(function(C,k){-1==(p=yl(function(){C(void 0)},l))&&k(Error("Failed to schedule timer."))}).o(function(C){throw de.clearTimeout(p),C})}function bl(l){if(l.X&&"function"==typeof l.X)return l.X();if("string"==typeof l)return l.split("");if(cn(l)){for(var p=[],C=l.length,k=0;k<C;k++)p.push(l[k]);return p}for(k in p=[],C=0,l)p[C++]=l[k];return p}function Zl(l){if(l.Y&&"function"==typeof l.Y)return l.Y();if(!l.X||"function"!=typeof l.X){if(cn(l)||"string"==typeof l){var p=[];l=l.length;for(var C=0;C<l;C++)p.push(C);return p}for(var k in p=[],C=0,l)p[C++]=k;return p}}function Sd(l,p){this.b={},this.a=[],this.c=0;var C=arguments.length;if(1<C){if(C%2)throw Error("Uneven number of arguments");for(var k=0;k<C;k+=2)this.set(arguments[k],arguments[k+1])}else if(l)if(l instanceof Sd)for(C=l.Y(),k=0;k<C.length;k++)this.set(C[k],l.get(C[k]));else for(k in l)this.set(k,l[k])}function cp(l){if(l.c!=l.a.length){for(var p=0,C=0;p<l.a.length;){var k=l.a[p];Dc(l.b,k)&&(l.a[C++]=k),p++}l.a.length=C}if(l.c!=l.a.length){var U={};for(C=p=0;p<l.a.length;)Dc(U,k=l.a[p])||(l.a[C++]=k,U[k]=1),p++;l.a.length=C}}function Dc(l,p){return Object.prototype.hasOwnProperty.call(l,p)}Xe(Gt,dm),Gt.prototype[Zr]=!0,Gt.prototype.addEventListener=function(l,p,C,k){Os(this,l,p,C,k)},Gt.prototype.removeEventListener=function(l,p,C,k){Gs(this,l,p,C,k)},Gt.prototype.dispatchEvent=function(l){var p,C=this.hb;if(C)for(p=[];C;C=C.hb)p.push(C);C=this.bc;var k=l.type||l;if("string"==typeof l)l=new sr(l,C);else if(l instanceof sr)l.target=l.target||C;else{var U=l;_e(l=new sr(k,C),U)}if(U=!0,p)for(var K=p.length-1;0<=K;K--){var se=l.b=p[K];U=Wi(se,k,!0,l)&&U}if(U=Wi(se=l.b=C,k,!0,l)&&U,U=Wi(se,k,!1,l)&&U,p)for(K=0;K<p.length;K++)U=Wi(se=l.b=p[K],k,!1,l)&&U;return U},Gt.prototype.Da=function(){if(Gt.bb.Da.call(this),this.v){var C,l=this.v;for(C in l.a){for(var k=l.a[C],U=0;U<k.length;U++)Ur(k[U]);delete l.a[C],l.b--}}this.hb=null},(ie=Sd.prototype).X=function(){cp(this);for(var l=[],p=0;p<this.a.length;p++)l.push(this.b[this.a[p]]);return l},ie.Y=function(){return cp(this),this.a.concat()},ie.clear=function(){this.b={},this.c=this.a.length=0},ie.get=function(l,p){return Dc(this.b,l)?this.b[l]:p},ie.set=function(l,p){Dc(this.b,l)||(this.c++,this.a.push(l)),this.b[l]=p},ie.forEach=function(l,p){for(var C=this.Y(),k=0;k<C.length;k++){var U=C[k],K=this.get(U);l.call(p,K,U,this)}};var Ec=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Fs(l,p){var C;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,l instanceof Fs?(this.i=void 0!==p?p:l.i,ju(this,l.c),this.l=l.l,this.a=l.a,ls(this,l.g),this.f=l.f,wl(this,ia(l.b)),this.h=l.h):l&&(C=String(l).match(Ec))?(this.i=!!p,ju(this,C[1]||"",!0),this.l=Vu(C[2]||""),this.a=Vu(C[3]||"",!0),ls(this,C[4]),this.f=Vu(C[5]||"",!0),wl(this,C[6]||"",!0),this.h=Vu(C[7]||"")):(this.i=!!p,this.b=new Mc(null,this.i))}function ju(l,p,C){l.c=C?Vu(p,!0):p,l.c&&(l.c=l.c.replace(/:$/,""))}function ls(l,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);l.g=p}else l.g=null}function wl(l,p,C){p instanceof Mc?(l.b=p,function Yr(l,p){p&&!l.f&&(Zs(l),l.c=null,l.a.forEach(function(C,k){var U=k.toLowerCase();k!=U&&(Ia(this,k),ym(this,U,C))},l)),l.f=p}(l.b,l.i)):(C||(p=cs(p,tf)),l.b=new Mc(p,l.i))}function wi(l,p,C){l.b.set(p,C)}function Ja(l,p){return l.b.get(p)}function pa(l){return l instanceof Fs?new Fs(l):new Fs(l,void 0)}function ka(l,p,C,k){var U=new Fs(null,void 0);return l&&ju(U,l),p&&(U.a=p),C&&ls(U,C),k&&(U.f=k),U}function Vu(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function cs(l,p,C){return"string"==typeof l?(l=encodeURI(l).replace(p,vm),C&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function vm(l){return"%"+((l=l.charCodeAt(0))>>4&15).toString(16)+(15&l).toString(16)}Fs.prototype.toString=function(){var l=[],p=this.c;p&&l.push(cs(p,ph,!0),":");var C=this.a;return(C||"file"==p)&&(l.push("//"),(p=this.l)&&l.push(cs(p,ph,!0),"@"),l.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(C=this.g)&&l.push(":",String(C))),(C=this.f)&&(this.a&&"/"!=C.charAt(0)&&l.push("/"),l.push(cs(C,"/"==C.charAt(0)?fv:qg,!0))),(C=this.b.toString())&&l.push("?",C),(C=this.h)&&l.push("#",cs(C,nf)),l.join("")},Fs.prototype.resolve=function(l){var p=new Fs(this),C=!!l.c;C?ju(p,l.c):C=!!l.l,C?p.l=l.l:C=!!l.a,C?p.a=l.a:C=null!=l.g;var k=l.f;if(C)ls(p,l.g);else if(C=!!l.f){if("/"!=k.charAt(0))if(this.a&&!this.f)k="/"+k;else{var U=p.f.lastIndexOf("/");-1!=U&&(k=p.f.substr(0,U+1)+k)}if(".."==(U=k)||"."==U)k="";else if(Dr(U,"./")||Dr(U,"/.")){k=0==U.lastIndexOf("/",0),U=U.split("/");for(var K=[],se=0;se<U.length;){var Ie=U[se++];"."==Ie?k&&se==U.length&&K.push(""):".."==Ie?((1<K.length||1==K.length&&""!=K[0])&&K.pop(),k&&se==U.length&&K.push("")):(K.push(Ie),k=!0)}k=K.join("/")}else k=U}return C?p.f=k:C=""!==l.b.toString(),C?wl(p,ia(l.b)):C=!!l.h,C&&(p.h=l.h),p};var ph=/[#\/\?@]/g,qg=/[#\?:]/g,fv=/[#\?]/g,tf=/[#\?@]/g,nf=/#/g;function Mc(l,p){this.b=this.a=null,this.c=l||null,this.f=!!p}function Zs(l){l.a||(l.a=new Sd,l.b=0,l.c&&function Fo(l,p){if(l){l=l.split("&");for(var C=0;C<l.length;C++){var k=l[C].indexOf("="),U=null;if(0<=k){var K=l[C].substring(0,k);U=l[C].substring(k+1)}else K=l[C];p(K,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}(l.c,function(p,C){l.add(decodeURIComponent(p.replace(/\+/g," ")),C)}))}function Hg(l){var p=Zl(l);if(void 0===p)throw Error("Keys are undefined");var C=new Mc(null,void 0);l=bl(l);for(var k=0;k<p.length;k++){var U=p[k],K=l[k];Array.isArray(K)?ym(C,U,K):C.add(U,K)}return C}function Ia(l,p){Zs(l),p=vs(l,p),Dc(l.a.b,p)&&(l.c=null,l.b-=l.a.get(p).length,Dc((l=l.a).b,p)&&(delete l.b[p],l.c--,l.a.length>2*l.c&&cp(l)))}function Oa(l,p){return Zs(l),p=vs(l,p),Dc(l.a.b,p)}function ym(l,p,C){Ia(l,p),0<C.length&&(l.c=null,l.a.set(vs(l,p),Rr(C)),l.b+=C.length)}function ia(l){var p=new Mc;return p.c=l.c,l.a&&(p.a=new Sd(l.a),p.b=l.b),p}function vs(l,p){return p=String(p),l.f&&(p=p.toLowerCase()),p}function La(l){var p=[];return kc(new up,l,p),p.join("")}function up(){}function kc(l,p,C){if(null==p)C.push("null");else{if("object"==typeof p){if(Array.isArray(p)){var k=p;p=k.length,C.push("[");for(var U="",K=0;K<p;K++)C.push(U),kc(l,k[K],C),U=",";return void C.push("]")}if(!(p instanceof String||p instanceof Number||p instanceof Boolean)){for(k in C.push("{"),U="",p)Object.prototype.hasOwnProperty.call(p,k)&&"function"!=typeof(K=p[k])&&(C.push(U),ma(k,C),C.push(":"),kc(l,K,C),U=",");return void C.push("}")}p=p.valueOf()}switch(typeof p){case"string":ma(p,C);break;case"number":C.push(isFinite(p)&&!isNaN(p)?String(p):"null");break;case"boolean":C.push(String(p));break;case"function":C.push("null");break;default:throw Error("Unknown type: "+typeof p)}}}(ie=Mc.prototype).add=function(l,p){Zs(this),this.c=null,l=vs(this,l);var C=this.a.get(l);return C||this.a.set(l,C=[]),C.push(p),this.b+=1,this},ie.clear=function(){this.a=this.c=null,this.b=0},ie.forEach=function(l,p){Zs(this),this.a.forEach(function(C,k){vr(C,function(U){l.call(p,U,k,this)},this)},this)},ie.Y=function(){Zs(this);for(var l=this.a.X(),p=this.a.Y(),C=[],k=0;k<p.length;k++)for(var U=l[k],K=0;K<U.length;K++)C.push(p[k]);return C},ie.X=function(l){Zs(this);var p=[];if("string"==typeof l)Oa(this,l)&&(p=wr(p,this.a.get(vs(this,l))));else{l=this.a.X();for(var C=0;C<l.length;C++)p=wr(p,l[C])}return p},ie.set=function(l,p){return Zs(this),this.c=null,Oa(this,l=vs(this,l))&&(this.b-=this.a.get(l).length),this.a.set(l,[p]),this.b+=1,this},ie.get=function(l,p){return l&&0<(l=this.X(l)).length?String(l[0]):p},ie.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var l=[],p=this.a.Y(),C=0;C<p.length;C++){var k=p[C],U=encodeURIComponent(String(k));k=this.X(k);for(var K=0;K<k.length;K++){var se=U;""!==k[K]&&(se+="="+encodeURIComponent(String(k[K]))),l.push(se)}}return this.c=l.join("&")};var rf={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Gg=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ma(l,p){p.push('"',l.replace(Gg,function(C){var k=rf[C];return k||(k="\\u"+(65536|C.charCodeAt(0)).toString(16).substr(1),rf[C]=k),k}),'"')}function ga(){var l=xo();return os&&!!Xr&&11==Xr||/Edge\/\d+/.test(l)}function Cl(){return de.window&&de.window.location.href||self&&self.location&&self.location.href||""}function mh(l,p){p=p||de.window;var C="about:blank";l&&(C=Vl(lh(l)||oo)),p.location.href=C}function sf(l,p){var k,C=[];for(k in l)k in p?typeof l[k]!=typeof p[k]?C.push(k):"object"==typeof l[k]&&null!=l[k]&&null!=p[k]?0<sf(l[k],p[k]).length&&C.push(k):l[k]!==p[k]&&C.push(k):C.push(k);for(k in p)k in l||C.push(k);return C}function qu(l){return!!((l=(l||xo()).toLowerCase()).match(/android/)||l.match(/webos/)||l.match(/iphone|ipad|ipod/)||l.match(/blackberry/)||l.match(/windows phone/)||l.match(/iemobile/))}function ra(l){l=l||de.window;try{l.close()}catch(p){}}function Ka(l,p,C){var k=Math.floor(1e9*Math.random()).toString();p=p||500,C=C||600;var U=(window.screen.availHeight-C)/2,K=(window.screen.availWidth-p)/2;for(se in p={width:p,height:C,top:0<U?U:0,left:0<K?K:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},C=xo().toLowerCase(),k&&(p.target=k,Dr(C,"crios/")&&(p.target="_blank")),Hu(xo())==Co&&(l=l||"http://localhost",p.scrollbars=!0),C=l||"",(l=p)||(l={}),k=window,p=C instanceof Go?C:lh(void 0!==C.href?C.href:String(C))||oo,C=l.target||C.target,U=[],l)switch(se){case"width":case"height":case"top":case"left":U.push(se+"="+l[se]);break;case"target":case"noopener":case"noreferrer":break;default:U.push(se+"="+(l[se]?1:0))}var se=U.join(",");if((Lr("iPhone")&&!Lr("iPod")&&!Lr("iPad")||Lr("iPad")||Lr("iPod"))&&k.navigator&&k.navigator.standalone&&C&&"_self"!=C?(ge(se=wd(document,"A"),"HTMLAnchorElement"),p=p instanceof Go?p:Fu(p),se.href=Vl(p),se.setAttribute("target",C),l.noreferrer&&se.setAttribute("rel","noreferrer"),(l=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,k,1),se.dispatchEvent(l),se={}):l.noreferrer?(se=Kr("",k,C,se),l=Vl(p),se&&(Bi&&Dr(l,";")&&(l="'"+l.replace(/'/g,"%27")+"'"),se.opener=null,l='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+bc(l)+'">',l=new rs(l=(k=Ri())?k.createHTML(l):l,null,Ln),k=se.document)&&(k.write(function Es(l){return l instanceof rs&&l.constructor===rs?l.a:(dn("expected object of type SafeHtml, got '"+l+"' of type "+kt(l)),"type_error:SafeHtml")}(l)),k.close())):(se=Kr(p,k,C,se))&&l.noopener&&(se.opener=null),se)try{se.focus()}catch(Ie){}return se}var Dd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fa=/^[^@]+@[^@]+$/;function Ic(){var l=null;return new zi(function(p){"complete"==de.document.readyState?p():(l=function(){p()},au(window,"load",l))}).o(function(p){throw Gs(window,"load",l),p})}function lf(l){return l=l||xo(),!("file:"!==N()&&"ionic:"!==N()||!l.toLowerCase().match(/iphone|ipad|ipod|android/))}function go(){var l=de.window;try{return!(!l||l==l.top)}catch(p){return!1}}function ys(){return void 0!==de.WorkerGlobalScope&&"function"==typeof de.importScripts}function Dn(){return r.default.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.default.INTERNAL.hasOwnProperty("node")?"Node":ys()?"Worker":"Browser"}function Ht(){var l=Dn();return"ReactNative"===l||"Node"===l}var Co="Firefox";function Hu(l){var p=l.toLowerCase();return Dr(p,"opera/")||Dr(p,"opr/")||Dr(p,"opios/")?"Opera":Dr(p,"iemobile")?"IEMobile":Dr(p,"msie")||Dr(p,"trident/")?"IE":Dr(p,"edge/")?"Edge":Dr(p,"firefox/")?Co:Dr(p,"silk/")?"Silk":Dr(p,"blackberry")?"Blackberry":Dr(p,"webos")?"Webos":!Dr(p,"safari/")||Dr(p,"chrome/")||Dr(p,"crios/")||Dr(p,"android")?!Dr(p,"chrome/")&&!Dr(p,"crios/")||Dr(p,"edge/")?Dr(p,"android")?"Android":(l=l.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==l.length?l[1]:"Other":"Chrome":"Safari"}var Ed={md:"FirebaseCore-web",od:"FirebaseUI-web"};function gh(l,p){p=p||[];var U,C=[],k={};for(U in Ed)k[Ed[U]]=!0;for(U=0;U<p.length;U++)void 0!==k[p[U]]&&(delete k[p[U]],C.push(p[U]));return C.sort(),(p=C).length||(p=["FirebaseCore-web"]),"Browser"===(C=Dn())?C=Hu(k=xo()):"Worker"===C&&(C=Hu(k=xo())+"-"+C),C+"/JsCore/"+l+"/"+p.join(",")}function xo(){return de.navigator&&de.navigator.userAgent||""}function to(l,p){l=l.split("."),p=p||de;for(var C=0;C<l.length&&"object"==typeof p&&null!=p;C++)p=p[l[C]];return C!=l.length&&(p=void 0),p}function Yl(){try{var l=de.localStorage,p=X();if(l)return l.setItem(p,"1"),l.removeItem(p),!ga()||!!de.indexedDB}catch(C){return ys()&&!!de.indexedDB}return!1}function un(){return(zl()||"chrome-extension:"===N()||lf())&&!Ht()&&Yl()&&!ys()}function zl(){return"http:"===N()||"https:"===N()}function N(){return de.location&&de.location.protocol||null}function G(l){return!(qu(l=l||xo())||Hu(l)==Co)}function j(l){return void 0===l?null:La(l)}function L(l){var C,p={};for(C in l)l.hasOwnProperty(C)&&null!=l[C]&&(p[C]=l[C]);return p}function Z(l){if(null!==l)return JSON.parse(l)}function X(l){return l||Math.floor(1e9*Math.random()).toString()}function ye(l){return!("Safari"==Hu(l=l||xo())||l.toLowerCase().match(/iphone|ipad|ipod/))}function Se(){var l=de.___jsl;if(l&&l.H)for(var p in l.H)if(l.H[p].r=l.H[p].r||[],l.H[p].L=l.H[p].L||[],l.H[p].r=l.H[p].L.concat(),l.CP)for(var C=0;C<l.CP.length;C++)l.CP[C]=null}function Ye(l,p){if(l>p)throw Error("Short delay should be less than long delay!");this.a=l,this.c=p,l=xo(),p=Dn(),this.b=qu(l)||"ReactNative"===p}function Lt(){var l=de.document;return!l||void 0===l.visibilityState||"visible"==l.visibilityState}function rn(l){try{var p=new Date(parseInt(l,10));if(!isNaN(p.getTime())&&!/[^0-9]/.test(l))return p.toUTCString()}catch(C){}return null}function En(){return!(!to("fireauth.oauthhelper",de)&&!to("fireauth.iframe",de))}Ye.prototype.get=function(){var l=de.navigator;return!l||"boolean"!=typeof l.onLine||!zl()&&"chrome-extension:"!==N()&&void 0===l.connection||l.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var fi,$i={};function Ui(l){$i[l]||($i[l]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(l))}try{var Di={};Object.defineProperty(Di,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Di,"abcd",{configurable:!0,enumerable:!0,value:2}),fi=2==Di.abcd}catch(l){fi=!1}function An(l,p,C){fi?Object.defineProperty(l,p,{configurable:!0,enumerable:!0,value:C}):l[p]=C}function ao(l,p){if(p)for(var C in p)p.hasOwnProperty(C)&&An(l,C,p[C])}function _a(l){var p={};return ao(p,l),p}function Ir(l){var p=l;if("object"==typeof l&&null!=l)for(var C in p="length"in l?[]:{},l)An(p,C,Ir(l[C]));return p}function Gu(l){var p=l&&(l[Wl]?"phone":null);if(!(p&&l&&l[no]))throw new be("internal-error","Internal assert: invalid MultiFactorInfo object");An(this,"uid",l[no]),An(this,"displayName",l[hr]||null);var C=null;l[Na]&&(C=new Date(l[Na]).toUTCString()),An(this,"enrollmentTime",C),An(this,"factorId",p)}function Xa(l){try{var p=new _h(l)}catch(C){p=null}return p}Gu.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var hr="displayName",Na="enrolledAt",no="mfaEnrollmentId",Wl="phoneInfo";function _h(l){Gu.call(this,l),An(this,"phoneNumber",l[Wl])}function us(l){var p={},C=l[fp],k=l[x1],U=l[lu];if(l=Xa(l[Wo]),!U||U!=cf&&U!=uf&&!C||U==uf&&!k||U==Zg&&!l)throw Error("Invalid checkActionCode response!");U==uf?(p[wm]=C||null,p[Cm]=C||null,p[Md]=k):(p[wm]=k||null,p[Cm]=k||null,p[Md]=C||null),p[Ns]=l||null,An(this,T1,U),An(this,Oc,Ir(p))}Xe(_h,Gu),_h.prototype.w=function(){var l=_h.bb.w.call(this);return l.phoneNumber=this.phoneNumber,l};var Zg="REVERT_SECOND_FACTOR_ADDITION",cf="EMAIL_SIGNIN",uf="VERIFY_AND_CHANGE_EMAIL",fp="email",Wo="mfaInfo",x1="newEmail",lu="requestType",Md="email",wm="fromEmail",Ns="multiFactorInfo",Cm="previousEmail",Oc="data",T1="operation";function Yg(l){var p=Ja(l=pa(l),Rs)||null,C=Ja(l,xl)||null,k=Ja(l,mp)||null;if(k=k&&o0[k]||null,!p||!C||!k)throw new be("argument-error",Rs+", "+xl+"and "+mp+" are required in a valid action code URL.");ao(this,{apiKey:p,operation:k,code:C,continueUrl:Ja(l,pp)||null,languageCode:Ja(l,xm)||null,tenantId:Ja(l,r0)||null})}var Rs="apiKey",xl="oobCode",pp="continueUrl",xm="languageCode",mp="mode",r0="tenantId",o0={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Zg,signIn:cf,verifyAndChangeEmail:uf,verifyEmail:"VERIFY_EMAIL"};function zg(l){try{return new Yg(l)}catch(p){return null}}function Wg(l){var p=l[vh];if(void 0===p)throw new be("missing-continue-uri");if("string"!=typeof p||"string"==typeof p&&!p.length)throw new be("invalid-continue-uri");this.h=p,this.b=this.a=null,this.g=!1;var C=l[ji];if(C&&"object"==typeof C){p=C[s0];var k=C[pv];if(C=C[mv],"string"==typeof p&&p.length){if(this.a=p,void 0!==k&&"boolean"!=typeof k)throw new be("argument-error",pv+" property must be a boolean when specified.");if(this.g=!!k,void 0!==C&&("string"!=typeof C||"string"==typeof C&&!C.length))throw new be("argument-error",mv+" property must be a non empty string when specified.");this.b=C||null}else{if(void 0!==p)throw new be("argument-error",s0+" property must be a non empty string when specified.");if(void 0!==k||void 0!==C)throw new be("missing-android-pkg-name")}}else if(void 0!==C)throw new be("argument-error",ji+" property must be a non null object when specified.");if(this.f=null,(p=l[Tm])&&"object"==typeof p){if("string"==typeof(p=p[Lc])&&p.length)this.f=p;else if(void 0!==p)throw new be("argument-error",Lc+" property must be a non empty string when specified.")}else if(void 0!==p)throw new be("argument-error",Tm+" property must be a non null object when specified.");if(void 0!==(p=l[Ps])&&"boolean"!=typeof p)throw new be("argument-error",Ps+" property must be a boolean when specified.");if(this.c=!!p,void 0!==(l=l[df])&&("string"!=typeof l||"string"==typeof l&&!l.length))throw new be("argument-error",df+" property must be a non empty string when specified.");this.i=l||null}var ji="android",df="dynamicLinkDomain",Ps="handleCodeInApp",Tm="iOS",vh="url",pv="installApp",mv="minimumVersion",s0="packageName",Lc="bundleId";function yh(l){var p={};for(var C in p.continueUrl=l.h,p.canHandleCodeInApp=l.c,(p.androidPackageName=l.a)&&(p.androidMinimumVersion=l.b,p.androidInstallApp=l.g),p.iOSBundleId=l.f,p.dynamicLinkDomain=l.i,p)null===p[C]&&delete p[C];return p}var cu=null;function gp(l){var p=hf(l);if(!(p&&p.sub&&p.iss&&p.aud&&p.exp))throw Error("Invalid JWT");this.h=l,this.a=p.exp,this.i=p.sub,l=Date.now()/1e3,this.g=p.iat||(l>this.a?this.a:l),this.b=p.provider_id||p.firebase&&p.firebase.sign_in_provider||null,this.f=p.firebase&&p.firebase.tenant||null,this.c=!!p.is_anonymous||"anonymous"==this.b}function uu(l){try{return new gp(l)}catch(p){return null}}function hf(l){if(!l||3!=(l=l.split(".")).length)return null;for(var p=(4-(l=l[1]).length%4)%4,C=0;C<p;C++)l+=".";try{var k=function l0(l){var p=[];return function Bs(l,p){function C(Nt){for(;k<l.length;){var tn=l.charAt(k++),qi=cu[tn];if(null!=qi)return qi;if(!/^[\s\xa0]*$/.test(tn))throw Error("Unknown base64 encoding at char: "+tn)}return Nt}!function Tl(){if(!cu){cu={};for(var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),p=["+/=","+/","-_=","-_.","-_"],C=0;5>C;C++)for(var k=l.concat(p[C].split("")),U=0;U<k.length;U++){var K=k[U];void 0===cu[K]&&(cu[K]=U)}}}();for(var k=0;;){var U=C(-1),K=C(0),se=C(64),Ie=C(64);if(64===Ie&&-1===U)break;p(U<<2|K>>4),64!=se&&(p(K<<4&240|se>>2),64!=Ie&&p(se<<6&192|Ie))}}(l,function(C){p.push(C)}),p}(l);for(l=[],C=p=0;p<k.length;){var U=k[p++];if(128>U)l[C++]=String.fromCharCode(U);else if(191<U&&224>U){var K=k[p++];l[C++]=String.fromCharCode((31&U)<<6|63&K)}else if(239<U&&365>U){K=k[p++];var se=k[p++],Nt=((7&U)<<18|(63&K)<<12|(63&se)<<6|63&k[p++])-65536;l[C++]=String.fromCharCode(55296+(Nt>>10)),l[C++]=String.fromCharCode(56320+(1023&Nt))}else K=k[p++],se=k[p++],l[C++]=String.fromCharCode((15&U)<<12|(63&K)<<6|63&se)}return JSON.parse(l.join(""))}catch(tn){}return null}gp.prototype.T=function(){return this.f},gp.prototype.l=function(){return this.c},gp.prototype.toString=function(){return this.h};var bh="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),_p=["client_id","response_type","scope","redirect_uri","state"],$g={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:_p},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:_p},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:_p},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:bh},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function ff(l){for(var p in $g)if($g[p].fa==l)return $g[p];return null}function Qg(l){var p={};p["facebook.com"]=$o,p["google.com"]=Id,p["github.com"]=Kg,p["twitter.com"]=Xg;var C=l&&l[kd];try{if(C)return p[C]?new p[C](l):new Vi(l);if(void 0!==l[Jg])return new Zu(l)}catch(k){}return null}var Jg="idToken",kd="providerId";function Zu(l){var p=l[kd];if(!p&&l[Jg]){var C=uu(l[Jg]);C&&C.b&&(p=C.b)}if(!p)throw Error("Invalid additional user info!");("anonymous"==p||"custom"==p)&&(p=null),C=!1,void 0!==l.isNewUser?C=!!l.isNewUser:"identitytoolkit#SignupNewUserResponse"===l.kind&&(C=!0),An(this,"providerId",p),An(this,"isNewUser",C)}function Vi(l){Zu.call(this,l),An(this,"profile",Ir((l=Z(l.rawUserInfo||"{}"))||{}))}function $o(l){if(Vi.call(this,l),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Kg(l){if(Vi.call(this,l),"github.com"!=this.providerId)throw Error("Invalid provider ID!");An(this,"username",this.profile&&this.profile.login||null)}function Id(l){if(Vi.call(this,l),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Xg(l){if(Vi.call(this,l),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");An(this,"username",l.screenName||null)}function wh(l){var p=pa(l),C=Ja(p,"link"),k=Ja(pa(C),"link");return p=Ja(p,"deep_link_id"),Ja(pa(p),"link")||p||k||C||l}function pf(l,p){if(!l&&!p)throw new be("internal-error","Internal assert: no raw session string available");if(l&&p)throw new be("internal-error","Internal assert: unable to determine the session type");this.a=l||null,this.b=p||null,this.type=this.a?mf:Od}Xe(Vi,Zu),Xe($o,Vi),Xe(Kg,Vi),Xe(Id,Vi),Xe(Xg,Vi);var mf="enroll",Od="signin";function Ra(){}function va(l,p){return l.then(function(C){if(C[nc]){var k=uu(C[nc]);if(!k||p!=k.i)throw new be("user-mismatch");return C}throw new be("user-mismatch")}).o(function(C){throw C&&C.code&&C.code==Kt+"user-not-found"?new be("user-mismatch"):C})}function $l(l,p){if(!p)throw new be("internal-error","failed to construct a credential");this.a=p,An(this,"providerId",l),An(this,"signInMethod",l)}function Ch(l){return{pendingToken:l.a,requestUri:"http://localhost"}}function gv(l){if(l&&l.providerId&&l.signInMethod&&0==l.providerId.indexOf("saml.")&&l.pendingToken)try{return new $l(l.providerId,l.pendingToken)}catch(p){}return null}function Pa(l,p,C){if(this.a=null,p.idToken||p.accessToken)p.idToken&&An(this,"idToken",p.idToken),p.accessToken&&An(this,"accessToken",p.accessToken),p.nonce&&!p.pendingToken&&An(this,"nonce",p.nonce),p.pendingToken&&(this.a=p.pendingToken);else{if(!p.oauthToken||!p.oauthTokenSecret)throw new be("internal-error","failed to construct a credential");An(this,"accessToken",p.oauthToken),An(this,"secret",p.oauthTokenSecret)}An(this,"providerId",l),An(this,"signInMethod",C)}function gf(l){var p={};return l.idToken&&(p.id_token=l.idToken),l.accessToken&&(p.access_token=l.accessToken),l.secret&&(p.oauth_token_secret=l.secret),p.providerId=l.providerId,l.nonce&&!l.a&&(p.nonce=l.nonce),p={postBody:Hg(p).toString(),requestUri:"http://localhost"},l.a&&(delete p.postBody,p.pendingToken=l.a),p}function Am(l){if(l&&l.providerId&&l.signInMethod){var p={idToken:l.oauthIdToken,accessToken:l.oauthTokenSecret?null:l.oauthAccessToken,oauthTokenSecret:l.oauthTokenSecret,oauthToken:l.oauthTokenSecret&&l.oauthAccessToken,nonce:l.nonce,pendingToken:l.pendingToken};try{return new Pa(l.providerId,p,l.signInMethod)}catch(C){}}return null}function Fc(l,p){this.Qc=p||[],ao(this,{providerId:l,isOAuthProvider:!0}),this.Jb={},this.qb=(ff(l)||{}).Ja||null,this.pb=null}function e_(l){if("string"!=typeof l||0!=l.indexOf("saml."))throw new be("argument-error",'SAML provider IDs must be prefixed with "saml."');Fc.call(this,l,[])}function Ql(l){Fc.call(this,l,_p),this.a=[]}function el(){Ql.call(this,"facebook.com")}function vp(l){if(!l)throw new be("argument-error","credential failed: expected 1 argument (the OAuth access token).");var p=l;return Ft(l)&&(p=l.accessToken),(new el).credential({accessToken:p})}function Ld(){Ql.call(this,"github.com")}function t_(l){if(!l)throw new be("argument-error","credential failed: expected 1 argument (the OAuth access token).");var p=l;return Ft(l)&&(p=l.accessToken),(new Ld).credential({accessToken:p})}function Fd(){Ql.call(this,"google.com"),this.Ca("profile")}function c0(l,p){var C=l;return Ft(l)&&(C=l.idToken,p=l.accessToken),(new Fd).credential({idToken:C,accessToken:p})}function Yu(){Fc.call(this,"twitter.com",bh)}function Jl(l,p){var C=l;if(Ft(C)||(C={oauthToken:l,oauthTokenSecret:p}),!C.oauthToken||!C.oauthTokenSecret)throw new be("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Pa("twitter.com",C,"twitter.com")}function Al(l,p,C){this.a=l,this.f=p,An(this,"providerId","password"),An(this,"signInMethod",C===bs.EMAIL_LINK_SIGN_IN_METHOD?bs.EMAIL_LINK_SIGN_IN_METHOD:bs.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Nd(l){return l&&l.email&&l.password?new Al(l.email,l.password,l.signInMethod):null}function bs(){ao(this,{providerId:"password",isOAuthProvider:!1})}function _f(l,p){if(!(p=Rd(p)))throw new be("argument-error","Invalid email link!");return new Al(l,p.code,bs.EMAIL_LINK_SIGN_IN_METHOD)}function Rd(l){return(l=zg(l=wh(l)))&&l.operation===cf?l:null}function Nc(l){if(!(l.fb&&l.eb||l.La&&l.ea))throw new be("internal-error");this.a=l,An(this,"providerId","phone"),this.fa="phone",An(this,"signInMethod","phone")}function du(l){if(l&&"phone"===l.providerId&&(l.verificationId&&l.verificationCode||l.temporaryProof&&l.phoneNumber)){var p={};return vr(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(C){l[C]&&(p[C]=l[C])}),new Nc(p)}return null}function Sm(l){return l.a.La&&l.a.ea?{temporaryProof:l.a.La,phoneNumber:l.a.ea}:{sessionInfo:l.a.fb,code:l.a.eb}}function Qo(l){try{this.a=l||r.default.auth()}catch(p){throw new be("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}ao(this,{providerId:"phone",isOAuthProvider:!1})}function xh(l,p){if(!l)throw new be("missing-verification-id");if(!p)throw new be("missing-verification-code");return new Nc({fb:l,eb:p})}function Dm(l){if(l.temporaryProof&&l.phoneNumber)return new Nc({La:l.temporaryProof,ea:l.phoneNumber});var p=l&&l.providerId;if(!p||"password"===p)return null;var C=l&&l.oauthAccessToken,k=l&&l.oauthTokenSecret,U=l&&l.nonce,K=l&&l.oauthIdToken,se=l&&l.pendingToken;try{switch(p){case"google.com":return c0(K,C);case"facebook.com":return vp(C);case"github.com":return t_(C);case"twitter.com":return Jl(C,k);default:return C||k||K||se?se?0==p.indexOf("saml.")?new $l(p,se):new Pa(p,{pendingToken:se,idToken:l.oauthIdToken,accessToken:l.oauthAccessToken},p):new Ql(p).credential({idToken:K,accessToken:C,rawNonce:U}):null}}catch(Ie){return null}}function yp(l){if(!l.isOAuthProvider)throw new be("invalid-oauth-provider")}function Ba(l,p,C,k,U,K,se){if(this.c=l,this.b=p||null,this.g=C||null,this.f=k||null,this.i=K||null,this.h=se||null,this.a=U||null,!this.g&&!this.a)throw new be("invalid-auth-event");if(this.g&&this.a)throw new be("invalid-auth-event");if(this.g&&!this.f)throw new be("invalid-auth-event")}function Rc(l){return(l=l||{}).type?new Ba(l.type,l.eventId,l.urlResponse,l.sessionId,l.error&&At(l.error),l.postBody,l.tenantId):null}function Sl(){this.b=null,this.a=[]}pf.prototype.Ha=function(){return ri(this.a?this.a:this.b)},pf.prototype.w=function(){return this.type==mf?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},Ra.prototype.ka=function(){},Ra.prototype.b=function(){},Ra.prototype.c=function(){},Ra.prototype.w=function(){},$l.prototype.ka=function(l){return y0(l,Ch(this))},$l.prototype.b=function(l,p){var C=Ch(this);return C.idToken=p,Ml(l,C)},$l.prototype.c=function(l,p){return va(Mp(l,Ch(this)),p)},$l.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},Pa.prototype.ka=function(l){return y0(l,gf(this))},Pa.prototype.b=function(l,p){var C=gf(this);return C.idToken=p,Ml(l,C)},Pa.prototype.c=function(l,p){return va(Mp(l,gf(this)),p)},Pa.prototype.w=function(){var l={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(l.oauthIdToken=this.idToken),this.accessToken&&(l.oauthAccessToken=this.accessToken),this.secret&&(l.oauthTokenSecret=this.secret),this.nonce&&(l.nonce=this.nonce),this.a&&(l.pendingToken=this.a),l},Fc.prototype.Ka=function(l){return this.Jb=ke(l),this},Xe(e_,Fc),Xe(Ql,Fc),Ql.prototype.Ca=function(l){return Bn(this.a,l)||this.a.push(l),this},Ql.prototype.Rb=function(){return Rr(this.a)},Ql.prototype.credential=function(l,p){var C;if(!(C=Ft(l)?{idToken:l.idToken||null,accessToken:l.accessToken||null,nonce:l.rawNonce||null}:{idToken:l||null,accessToken:p||null}).idToken&&!C.accessToken)throw new be("argument-error","credential failed: must provide the ID token and/or the access token.");return new Pa(this.providerId,C,this.providerId)},Xe(el,Ql),An(el,"PROVIDER_ID","facebook.com"),An(el,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),Xe(Ld,Ql),An(Ld,"PROVIDER_ID","github.com"),An(Ld,"GITHUB_SIGN_IN_METHOD","github.com"),Xe(Fd,Ql),An(Fd,"PROVIDER_ID","google.com"),An(Fd,"GOOGLE_SIGN_IN_METHOD","google.com"),Xe(Yu,Fc),An(Yu,"PROVIDER_ID","twitter.com"),An(Yu,"TWITTER_SIGN_IN_METHOD","twitter.com"),Al.prototype.ka=function(l){return this.signInMethod==bs.EMAIL_LINK_SIGN_IN_METHOD?Tr(l,c_,{email:this.a,oobCode:this.f}):Tr(l,kl,{email:this.a,password:this.f})},Al.prototype.b=function(l,p){return this.signInMethod==bs.EMAIL_LINK_SIGN_IN_METHOD?Tr(l,x0,{idToken:p,email:this.a,oobCode:this.f}):Tr(l,u_,{idToken:p,email:this.a,password:this.f})},Al.prototype.c=function(l,p){return va(this.ka(l),p)},Al.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},ao(bs,{PROVIDER_ID:"password"}),ao(bs,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),ao(bs,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Nc.prototype.ka=function(l){return l.gb(Sm(this))},Nc.prototype.b=function(l,p){var C=Sm(this);return C.idToken=p,Tr(l,S0,C)},Nc.prototype.c=function(l,p){var C=Sm(this);return C.operation="REAUTH",va(l=Tr(l,R1,C),p)},Nc.prototype.w=function(){var l={providerId:"phone"};return this.a.fb&&(l.verificationId=this.a.fb),this.a.eb&&(l.verificationCode=this.a.eb),this.a.La&&(l.temporaryProof=this.a.La),this.a.ea&&(l.phoneNumber=this.a.ea),l},Qo.prototype.gb=function(l,p){var C=this.a.a;return ri(p.verify()).then(function(k){if("string"!=typeof k)throw new be("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===p.type){var se,U=Ft(l)?l.session:null,K=Ft(l)?l.phoneNumber:l;return se=U&&U.type==mf?U.Ha().then(function(Ie){return function v0(l,p){return Tr(l,Fv,p).then(function(C){return C.phoneSessionInfo.sessionInfo})}(C,{idToken:Ie,phoneEnrollmentInfo:{phoneNumber:K,recaptchaToken:k}})}):U&&U.type==Od?U.Ha().then(function(Ie){return function Af(l,p){return Tr(l,Nv,p).then(function(C){return C.phoneResponseInfo.sessionInfo})}(C,{mfaPendingCredential:Ie,mfaEnrollmentId:l.multiFactorHint&&l.multiFactorHint.uid||l.multiFactorUid,phoneSignInInfo:{recaptchaToken:k}})}):function _0(l,p){return Tr(l,Sf,p)}(C,{phoneNumber:K,recaptchaToken:k}),se.then(function(Ie){return"function"==typeof p.reset&&p.reset(),Ie},function(Ie){throw"function"==typeof p.reset&&p.reset(),Ie})}throw new be("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')})},ao(Qo,{PROVIDER_ID:"phone"}),ao(Qo,{PHONE_SIGN_IN_METHOD:"phone"}),Ba.prototype.getUid=function(){var l=[];return l.push(this.c),this.b&&l.push(this.b),this.f&&l.push(this.f),this.h&&l.push(this.h),l.join("-")},Ba.prototype.T=function(){return this.h},Ba.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Pd,n_=null;function i_(l){var p="unauthorized-domain",C=void 0,k=pa(l);l=k.a,"chrome-extension"==(k=k.c)?C=Ms("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",l):"http"==k||"https"==k?C=Ms("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",l):p="operation-not-supported-in-this-environment",be.call(this,p,C)}function Mm(l,p,C){be.call(this,l,C),(l=p||{}).Kb&&An(this,"email",l.Kb),l.ea&&An(this,"phoneNumber",l.ea),l.credential&&An(this,"credential",l.credential),l.$b&&An(this,"tenantId",l.$b)}function Pc(l){if(l.code){var p=l.code||"";0==p.indexOf(Kt)&&(p=p.substring(Kt.length));var C={credential:Dm(l),$b:l.tenantId};if(l.email)C.Kb=l.email;else if(l.phoneNumber)C.ea=l.phoneNumber;else if(!C.credential)return new be(p,l.message||void 0);return new Mm(p,C,l.message)}return null}function Kl(){}function bp(){}function _v(l){if(!l.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var p=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],C=0;C<p.length;C++){var k=p[C];try{return new ActiveXObject(k),l.f=k}catch(U){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return l.f}function km(){}function r_(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=Ut(this.qc,this),this.a.onerror=Ut(this.Tb,this),this.a.onprogress=Ut(this.rc,this),this.a.ontimeout=Ut(this.vc,this)}function wp(l,p){l.readyState=p,l.onreadystatechange&&l.onreadystatechange()}function Cp(l,p,C){this.reset(l,p,C,void 0,void 0)}function xp(l){this.f=l,this.b=this.c=this.a=null}function Ah(l,p){this.name=l,this.value=p}Xe(i_,be),Xe(Mm,be),Mm.prototype.w=function(){var l={code:this.code,message:this.message};this.email&&(l.email=this.email),this.phoneNumber&&(l.phoneNumber=this.phoneNumber),this.tenantId&&(l.tenantId=this.tenantId);var p=this.credential&&this.credential.w();return p&&_e(l,p),l},Mm.prototype.toJSON=function(){return this.w()},Kl.prototype.c=null,Xe(bp,Kl),bp.prototype.a=function(){var l=_v(this);return l?new ActiveXObject(l):new XMLHttpRequest},bp.prototype.b=function(){var l={};return _v(this)&&(l[0]=!0,l[1]=!0),l},Pd=new bp,Xe(km,Kl),km.prototype.a=function(){var l=new XMLHttpRequest;if("withCredentials"in l)return l;if("undefined"!=typeof XDomainRequest)return new r_;throw Error("Unsupported browser")},km.prototype.b=function(){return{}},(ie=r_.prototype).open=function(l,p,C){if(null!=C&&!C)throw Error("Only async requests are supported.");this.a.open(l,p)},ie.send=function(l){if(l){if("string"!=typeof l)throw Error("Only string data is supported");this.a.send(l)}else this.a.send()},ie.abort=function(){this.a.abort()},ie.setRequestHeader=function(){},ie.getResponseHeader=function(l){return"content-type"==l.toLowerCase()?this.a.contentType:""},ie.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,wp(this,4)},ie.Tb=function(){this.status=500,this.response=this.responseText="",wp(this,4)},ie.vc=function(){this.Tb()},ie.rc=function(){this.status=200,wp(this,1)},ie.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Cp.prototype.a=null,Cp.prototype.reset=function(l,p,C,k,U){k||Gn(),delete this.a},Ah.prototype.toString=function(){return this.name};var S1=new Ah("SEVERE",1e3),Im=new Ah("WARNING",900),Tp=new Ah("CONFIG",700),vv=new Ah("FINE",500);function Bc(l){return l.c?l.c:l.a?Bc(l.a):(dn("Root logger has no level set."),null)}xp.prototype.log=function(l,p,C){if(l.value>=Bc(this).value)for(ot(p)&&(p=p()),l=new Cp(l,String(p),this.f),C&&(l.a=C),C=this;C;)C=C.a};var vf={},yf=null;function Om(l){var p;if(yf||(yf=new xp(""),vf[""]=yf,yf.c=Tp),!(p=vf[l])){p=new xp(l);var C=l.lastIndexOf("."),k=l.substr(C+1);(C=Om(l.substr(0,C))).b||(C.b={}),C.b[k]=p,p.a=C,vf[l]=p}return p}function tl(l,p){l&&l.log(vv,p,void 0)}function zu(l){this.f=l}function yv(l){Gt.call(this),this.u=l,this.h=void 0,this.readyState=Xl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Om("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}Xe(zu,Kl),zu.prototype.a=function(){return new yv(this.f)},zu.prototype.b=function(l){return function(){return l}}({}),Xe(yv,Gt);var Xl=0;function hu(l){l.c.read().then(l.pc.bind(l)).catch(l.Va.bind(l))}function bf(l){l.readyState=4,l.g=null,l.c=null,l.m=null,Bd(l)}function Bd(l){l.onreadystatechange&&l.onreadystatechange.call(l)}function wf(l){Gt.call(this),this.headers=new Sd,this.D=l||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Lm,this.u=this.S=!1}(ie=yv.prototype).open=function(l,p){if(this.readyState!=Xl)throw this.abort(),Error("Error reopening a connection");this.s=l,this.f=p,this.readyState=1,Bd(this)},ie.send=function(l){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var p={headers:this.l,method:this.s,credentials:this.h,cache:void 0};l&&(p.body=l),this.u.fetch(new Request(this.f,p)).then(this.uc.bind(this),this.Va.bind(this))},ie.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,bf(this)),this.readyState=Xl},ie.uc=function(l){this.a&&(this.g=l,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=l.headers,this.readyState=2,Bd(this)),this.a&&(this.readyState=3,Bd(this),this.a&&("arraybuffer"===this.responseType?l.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==de.ReadableStream&&"body"in l?(this.response=this.responseText="",this.c=l.body.getReader(),this.m=new TextDecoder,hu(this)):l.text().then(this.tc.bind(this),this.Va.bind(this)))))},ie.pc=function(l){if(this.a){var p=this.m.decode(l.value?l.value:new Uint8Array(0),{stream:!l.done});p&&(this.response=this.responseText+=p),l.done?bf(this):Bd(this),3==this.readyState&&hu(this)}},ie.tc=function(l){this.a&&(this.response=this.responseText=l,bf(this))},ie.sc=function(l){this.a&&(this.response=l,bf(this))},ie.Va=function(l){var p=this.i;p&&p.log(Im,"Failed to fetch url "+this.f,l instanceof Error?l:Error(l)),this.a&&bf(this)},ie.setRequestHeader=function(l,p){this.l.append(l,p)},ie.getResponseHeader=function(l){return this.b?this.b.get(l.toLowerCase())||"":((l=this.i)&&l.log(Im,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},ie.getAllResponseHeaders=function(){if(!this.b){var l=this.i;return l&&l.log(Im,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}l=[];for(var p=this.b.entries(),C=p.next();!C.done;)l.push((C=C.value)[0]+": "+C[1]),C=p.next();return l.join("\r\n")},Object.defineProperty(yv.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(l){this.h=l?"include":"same-origin"}}),Xe(wf,Gt);var Lm="";wf.prototype.b=Om("goog.net.XhrIo");var fu=/^https?$/i,D1=["POST","PUT"];function u0(l){return"content-type"==l.toLowerCase()}function Cf(l,p){l.c=!1,l.a&&(l.f=!0,l.a.abort(),l.f=!1),l.h=p,Sh(l),Sp(l)}function Sh(l){l.J||(l.J=!0,l.dispatchEvent("complete"),l.dispatchEvent("error"))}function Nm(l){if(l.c&&void 0!==ht)if(l.C[1]&&4==fr(l)&&2==Dp(l))tl(l.b,nl(l,"Local request error detected and ignored"));else if(l.i&&4==fr(l))yl(l.Wb,0,l);else if(l.dispatchEvent("readystatechange"),4==fr(l)){tl(l.b,nl(l,"Request complete")),l.c=!1;try{var k,p=Dp(l);e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break e;default:C=!1}if(!(k=C)){var U;if(U=0===p){var K=String(l.l).match(Ec)[1]||null;if(!K&&de.self&&de.self.location){var se=de.self.location.protocol;K=se.substr(0,se.length-1)}U=!fu.test(K?K.toLowerCase():"")}k=U}if(k)l.dispatchEvent("complete"),l.dispatchEvent("success");else{try{var Ie=2<fr(l)?l.a.statusText:""}catch(Nt){tl(l.b,"Can not get status: "+Nt.message),Ie=""}l.h=Ie+" ["+Dp(l)+"]",Sh(l)}}finally{Sp(l)}}}function Sp(l,p){if(l.a){o_(l);var C=l.a,k=l.C[0]?rt:null;l.a=null,l.C=null,p||l.dispatchEvent("ready");try{C.onreadystatechange=k}catch(U){(l=l.b)&&l.log(S1,"Problem encountered resetting onreadystatechange: "+U.message,void 0)}}}function o_(l){l.a&&l.u&&(l.a.ontimeout=null),l.s&&(de.clearTimeout(l.s),l.s=null)}function fr(l){return l.a?l.a.readyState:0}function Dp(l){try{return 2<fr(l)?l.a.status:-1}catch(p){return-1}}function nl(l,p){return p+" ["+l.P+" "+l.l+" "+Dp(l)+"]"}function Uc(l){var p=sa;this.g=[],this.u=p,this.s=l||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Rm(l,p,C){l.a=!0,l.c=C,l.f=!p,pu(l)}function il(l){if(l.a){if(!l.v)throw new xf(l);l.v=!1}}function Wu(l,p,C,k){l.g.push([p,C,k]),l.a&&pu(l)}function Dh(l){return vi(l.g,function(p){return ot(p[1])})}function pu(l){if(l.h&&l.a&&Dh(l)){var p=l.h,C=Ua[p];C&&(de.clearTimeout(C.a),delete Ua[p]),l.h=0}l.b&&(l.b.l--,delete l.b),p=l.c;for(var k=C=!1;l.g.length&&!l.i;){var U=l.g.shift(),K=U[0],se=U[1];if(U=U[2],K=l.f?se:K)try{var Ie=K.call(U||l.s,p);void 0!==Ie&&(l.f=l.f&&(Ie==p||Ie instanceof Error),l.c=p=Ie),(Nn(p)||"function"==typeof de.Promise&&p instanceof de.Promise)&&(k=!0,l.i=!0)}catch(Nt){p=Nt,l.f=!0,Dh(l)||(C=!0)}}l.c=p,k&&(Ie=Ut(l.m,l,!0),k=Ut(l.m,l,!1),p instanceof Uc?(Wu(p,Ie,k),p.C=!0):p.then(Ie,k)),C&&(p=new oa(p),Ua[p.a]=p,l.h=p.a)}function xf(){pn.call(this)}function ec(){pn.call(this)}function oa(l){this.a=de.setTimeout(Ut(this.c,this),0),this.b=l}(ie=wf.prototype).Ma=function(){void 0!==ht&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",tl(this.b,nl(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},ie.abort=function(){this.a&&this.c&&(tl(this.b,nl(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Sp(this))},ie.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Sp(this,!0)),wf.bb.Da.call(this)},ie.Wb=function(){this.ya||(this.N||this.i||this.f?Nm(this):this.Jc())},ie.Jc=function(){Nm(this)},ie.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Lm:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var l=this.b;return l&&l.log(S1,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(p){return tl(this.b,"Can not get response: "+p.message),null}},Uc.prototype.cancel=function(l){if(this.a)this.c instanceof Uc&&this.c.cancel();else{if(this.b){var p=this.b;delete this.b,l?p.cancel(l):(p.l--,0>=p.l&&p.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(l=new ec(this),il(this),Rm(this,!1,l))}},Uc.prototype.m=function(l,p){this.i=!1,Rm(this,l,p)},Uc.prototype.then=function(l,p,C){var k,U,K=new zi(function(se,Ie){k=se,U=Ie});return Wu(this,k,function(se){se instanceof ec?K.cancel():U(se)}),K.then(l,p,C)},Uc.prototype.$goog_Thenable=!0,Xe(xf,pn),xf.prototype.message="Deferred has already fired",xf.prototype.name="AlreadyCalledError",Xe(ec,pn),ec.prototype.message="Deferred was canceled",ec.prototype.name="CanceledError",oa.prototype.c=function(){throw delete Ua[this.a],this.b};var Ua={};function Pm(l){var p={},C=p.document||document,k=or(l).toString(),U=wd(document,"SCRIPT"),K={Xb:U,Ma:void 0},se=new Uc(K),Ie=null,Nt=null!=p.timeout?p.timeout:5e3;return 0<Nt&&(Ie=window.setTimeout(function(){Eh(U,!0);var tn=new Bm(E1,"Timeout reached for loading script "+k);il(se),Rm(se,!1,tn)},Nt),K.Ma=Ie),U.onload=U.onreadystatechange=function(){U.readyState&&"loaded"!=U.readyState&&"complete"!=U.readyState||(Eh(U,p.xd||!1,Ie),il(se),Rm(se,!0,null))},U.onerror=function(){Eh(U,!0,Ie);var tn=new Bm(wv,"Error while loading script "+k);il(se),Rm(se,!1,tn)},_e(K=p.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ss(U,K),function Xi(l,p){ge(l,"HTMLScriptElement"),l.src=or(p),(p=l.ownerDocument&&l.ownerDocument.defaultView)&&p!=de?p=xt(p.document):(null===We&&(We=xt(de.document)),p=We),p&&l.setAttribute("nonce",p)}(U,l),function d0(l){var p;return(p=(l||document).getElementsByTagName("HEAD"))&&0!=p.length?p[0]:l.documentElement}(C).appendChild(U),se}function sa(){if(this&&this.Xb){var l=this.Xb;l&&"SCRIPT"==l.tagName&&Eh(l,!0,this.Ma)}}function Eh(l,p,C){null!=C&&de.clearTimeout(C),l.onload=rt,l.onerror=rt,l.onreadystatechange=rt,p&&window.setTimeout(function(){l&&l.parentNode&&l.parentNode.removeChild(l)},0)}var wv=0,E1=1;function Bm(l,p){var C="Jsloader error (code #"+l+")";p&&(C+=": "+p),pn.call(this,C),this.code=l}function Ep(l){this.f=l}function tc(l,p,C){if(this.c=l,this.l=(l=p||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=l.secureTokenTimeout||Cv,this.g=ke(l.secureTokenHeaders||Um),this.h=l.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=l.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=l.firebaseTimeout||h0,this.a=ke(l.firebaseHeaders||Mh),C&&(this.a["X-Client-Version"]=C,this.g["X-Client-Version"]=C),C="Node"==Dn(),!(C=de.XMLHttpRequest||C&&r.default.INTERNAL.node&&r.default.INTERNAL.node.XMLHttpRequest)&&!ys())throw new be("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=ys()?new zu(self):Ht()?new Ep(C):new km,this.b=null}Xe(Bm,pn),Xe(Ep,Kl),Ep.prototype.a=function(){return new this.f},Ep.prototype.b=function(){return{}};var mu,nc="idToken",Cv=new Ye(3e4,6e4),Um={"Content-Type":"application/x-www-form-urlencoded"},h0=new Ye(3e4,6e4),Mh={"Content-Type":"application/json"};function xv(l,p){p?l.a["X-Firebase-Locale"]=p:delete l.a["X-Firebase-Locale"]}function Dl(l,p){p&&(l.l=$u("https://securetoken.googleapis.com/v1/token",p),l.h=$u("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",p),l.i=$u("https://identitytoolkit.googleapis.com/v2/",p))}function $u(l,p){return l=pa(l),p=pa(p.url),l.f=l.a+l.f,ju(l,p.c),l.a=p.a,ls(l,p.g),l.toString()}function f0(l,p){p?(l.a["X-Client-Version"]=p,l.g["X-Client-Version"]=p):(delete l.a["X-Client-Version"],delete l.g["X-Client-Version"])}function p0(l,p,C,k,U,K,se){(function dp(){var l=xo();return!((l="Chrome"!=Hu(l)?null:(l=l.match(/\sChrome\/(\d+)/i))&&2==l.length?parseInt(l[1],10):null)&&30>l||os&&Xr&&!(9<Xr))})()||ys()?l=Ut(l.u,l):(mu||(mu=new zi(function(Ie,Nt){!function M1(l,p){((window.gapi||{}).client||{}).request?l():(de[Tv]=function(){((window.gapi||{}).client||{}).request?l():p(Error("CORS_UNSUPPORTED"))},function s_(l,p){Wu(l,null,p,void 0)}(Pm(bo(a_,{onload:Tv})),function(){p(Error("CORS_UNSUPPORTED"))}))}(Ie,Nt)})),l=Ut(l.s,l)),l(p,C,k,U,K,se)}tc.prototype.T=function(){return this.b},tc.prototype.u=function(l,p,C,k,U,K){if(ys()&&(void 0===de.fetch||void 0===de.Headers||void 0===de.Request))throw new be("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var se=new wf(this.f);if(K){se.g=Math.max(0,K);var Ie=setTimeout(function(){se.dispatchEvent("timeout")},K)}cr(se,"complete",function(){Ie&&clearTimeout(Ie);var Nt=null;try{Nt=JSON.parse(function bv(l){try{return l.a?l.a.responseText:""}catch(p){return tl(l.b,"Can not get responseText: "+p.message),""}}(this))||null}catch(tn){Nt=null}p&&p(Nt)}),lp(se,"ready",function(){Ie&&clearTimeout(Ie),Vg(this)}),lp(se,"timeout",function(){Ie&&clearTimeout(Ie),Vg(this),p&&p(null)}),function Ap(l,p,C,k,U){if(l.a)throw Error("[goog.net.XhrIo] Object is active with another request="+l.l+"; newUri="+p);C=C?C.toUpperCase():"GET",l.l=p,l.h="",l.P=C,l.J=!1,l.c=!0,l.a=l.D?l.D.a():Pd.a(),l.C=function Th(l){return l.c||(l.c=l.b())}(l.D?l.D:Pd),l.a.onreadystatechange=Ut(l.Wb,l);try{tl(l.b,nl(l,"Opening Xhr")),l.N=!0,l.a.open(C,String(p),!0),l.N=!1}catch(se){return tl(l.b,nl(l,"Error opening Xhr: "+se.message)),void Cf(l,se)}p=k||"";var K=new Sd(l.headers);U&&function Uu(l,p){if(l.forEach&&"function"==typeof l.forEach)l.forEach(p,void 0);else if(cn(l)||"string"==typeof l)vr(l,p,void 0);else for(var C=Zl(l),k=bl(l),U=k.length,K=0;K<U;K++)p.call(void 0,k[K],C&&C[K],l)}(U,function(se,Ie){K.set(Ie,se)}),U=function Mo(l){e:{for(var p=u0,C=l.length,k="string"==typeof l?l.split(""):l,U=0;U<C;U++)if(U in k&&p.call(void 0,k[U],U,l)){p=U;break e}p=-1}return 0>p?null:"string"==typeof l?l.charAt(p):l[p]}(K.Y()),k=de.FormData&&p instanceof de.FormData,!Bn(D1,C)||U||k||K.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),K.forEach(function(se,Ie){this.a.setRequestHeader(Ie,se)},l),l.m&&(l.a.responseType=l.m),"withCredentials"in l.a&&l.a.withCredentials!==l.S&&(l.a.withCredentials=l.S);try{o_(l),0<l.g&&(l.u=function Fm(l){return os&&Pr(9)&&"number"==typeof l.timeout&&void 0!==l.ontimeout}(l.a),tl(l.b,nl(l,"Will abort after "+l.g+"ms if incomplete, xhr2 "+l.u)),l.u?(l.a.timeout=l.g,l.a.ontimeout=Ut(l.Ma,l)):l.s=yl(l.Ma,l.g,l)),tl(l.b,nl(l,"Sending request")),l.i=!0,l.a.send(p),l.i=!1}catch(se){tl(l.b,nl(l,"Send error: "+se.message)),Cf(l,se)}}(se,l,C,k,U)};var a_=new Ve(ln,"https://apis.google.com/js/client.js?onload=%{onload}"),Tv="__fcb"+Math.floor(1e6*Math.random()).toString();function Tf(l){if("string"!=typeof(l=l.email)||!Fa.test(l))throw new be("invalid-email")}function Av(l){"email"in l&&Tf(l)}function El(l){if(!l[nc])throw l.mfaPendingCredential?new be("multi-factor-auth-required",null,ke(l)):new be("internal-error")}function Sv(l){if(l.phoneNumber||l.temporaryProof){if(!l.phoneNumber||!l.temporaryProof)throw new be("internal-error")}else{if(!l.sessionInfo)throw new be("missing-verification-id");if(!l.code)throw new be("missing-verification-code")}}tc.prototype.s=function(l,p,C,k,U){var K=this;mu.then(function(){window.gapi.client.setApiKey(K.c);var se=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:l,method:C,body:k,headers:U,authType:"none",callback:function(Ie){window.gapi.auth.setToken(se),p&&p(Ie)}})}).o(function(se){p&&p({error:{message:se&&se.message||"CORS_UNSUPPORTED"}})})},tc.prototype.Ab=function(){return Tr(this,Lv,{})},tc.prototype.Cb=function(l,p){return Tr(this,Df,{idToken:l,email:p})},tc.prototype.Db=function(l,p){return Tr(this,u_,{idToken:l,password:p})};var O1={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function L1(l){if(!l.phoneVerificationInfo)throw new be("internal-error");if(!l.phoneVerificationInfo.sessionInfo)throw new be("missing-verification-id");if(!l.phoneVerificationInfo.code)throw new be("missing-verification-code")}function Dv(l){if(!l.requestUri||!l.sessionId&&!l.postBody&&!l.pendingToken)throw new be("internal-error")}function Ev(l,p){return p.oauthIdToken&&p.providerId&&0==p.providerId.indexOf("oidc.")&&!p.pendingToken&&(l.sessionId?p.nonce=l.sessionId:l.postBody&&Oa(l=new Mc(l.postBody),"nonce")&&(p.nonce=l.get("nonce"))),p}function ic(l){var p=null;if(l.needConfirmation?(l.code="account-exists-with-different-credential",p=Pc(l)):"FEDERATED_USER_ID_ALREADY_LINKED"==l.errorMessage?(l.code="credential-already-in-use",p=Pc(l)):"EMAIL_EXISTS"==l.errorMessage?(l.code="email-already-in-use",p=Pc(l)):l.errorMessage&&(p=Pv(l.errorMessage)),p)throw p;El(l)}function y0(l,p){return p.returnIdpCredential=!0,Tr(l,T0,p)}function Ml(l,p){return p.returnIdpCredential=!0,Tr(l,d_,p)}function Mp(l,p){return p.returnIdpCredential=!0,p.autoCreate=!1,Tr(l,A0,p)}function kp(l){if(!l.oobCode)throw new be("invalid-action-code")}(ie=tc.prototype).Eb=function(l,p){var C={idToken:l},k=[];return yi(O1,function(U,K){var se=p[K];null===se?k.push(U):K in p&&(C[K]=se)}),k.length&&(C.deleteAttribute=k),Tr(this,Df,C)},ie.wb=function(l,p){return _e(l={requestType:"PASSWORD_RESET",email:l},p),Tr(this,ja,l)},ie.xb=function(l,p){return _e(l={requestType:"EMAIL_SIGNIN",email:l},p),Tr(this,kv,l)},ie.vb=function(l,p){return _e(l={requestType:"VERIFY_EMAIL",idToken:l},p),Tr(this,F1,l)},ie.Fb=function(l,p,C){return _e(l={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:l,newEmail:p},C),Tr(this,Iv,l)},ie.gb=function(l){return Tr(this,Rv,l)},ie.ob=function(l,p){return Tr(this,jc,{oobCode:l,newPassword:p})},ie.Sa=function(l){return Tr(this,l_,{oobCode:l})},ie.kb=function(l){return Tr(this,b0,{oobCode:l})};var b0={endpoint:"setAccountInfo",A:kp,Z:"email",B:!0},l_={endpoint:"resetPassword",A:kp,G:function(l){var p=l.requestType;if(!p||!l.email&&"EMAIL_SIGNIN"!=p&&"VERIFY_AND_CHANGE_EMAIL"!=p)throw new be("internal-error")},B:!0},jm={endpoint:"signupNewUser",A:function(l){if(Tf(l),!l.password)throw new be("weak-password")},G:El,V:!0,B:!0},w0={endpoint:"createAuthUri",B:!0},C0={endpoint:"deleteAccount",O:["idToken"]},Vm={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(l){if(!Array.isArray(l.deleteProvider))throw new be("internal-error")}},c_={endpoint:"emailLinkSignin",O:["email","oobCode"],A:Tf,G:El,V:!0,B:!0},x0={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:Tf,G:El,V:!0},KC={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:L1,G:El,B:!0,Na:!0},Ip={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:L1,G:El,B:!0,Na:!0},Mv={endpoint:"getAccountInfo"},kv={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(l){if("EMAIL_SIGNIN"!=l.requestType)throw new be("internal-error");Tf(l)},Z:"email",B:!0},F1={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(l){if("VERIFY_EMAIL"!=l.requestType)throw new be("internal-error")},Z:"email",B:!0},Iv={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(l){if("VERIFY_AND_CHANGE_EMAIL"!=l.requestType)throw new be("internal-error")},Z:"email",B:!0},ja={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(l){if("PASSWORD_RESET"!=l.requestType)throw new be("internal-error");Tf(l)},Z:"email",B:!0},qm={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Ov={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(l){if(!l.recaptchaSiteKey)throw new be("internal-error")}},jc={endpoint:"resetPassword",A:kp,Z:"email",B:!0},Sf={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Df={endpoint:"setAccountInfo",O:["idToken"],A:Av,V:!0},u_={endpoint:"setAccountInfo",O:["idToken"],A:function(l){if(Av(l),!l.password)throw new be("weak-password")},G:El,V:!0},Lv={endpoint:"signupNewUser",G:El,V:!0,B:!0},Fv={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(l){if(!l.phoneEnrollmentInfo)throw new be("internal-error");if(!l.phoneEnrollmentInfo.phoneNumber)throw new be("missing-phone-number");if(!l.phoneEnrollmentInfo.recaptchaToken)throw new be("missing-app-credential")},G:function(l){if(!l.phoneSessionInfo||!l.phoneSessionInfo.sessionInfo)throw new be("internal-error")},B:!0,Na:!0},Nv={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(l){if(!l.phoneSignInInfo||!l.phoneSignInInfo.recaptchaToken)throw new be("missing-app-credential")},G:function(l){if(!l.phoneResponseInfo||!l.phoneResponseInfo.sessionInfo)throw new be("internal-error")},B:!0,Na:!0},T0={endpoint:"verifyAssertion",A:Dv,Za:Ev,G:ic,V:!0,B:!0},A0={endpoint:"verifyAssertion",A:Dv,Za:Ev,G:function(l){if(l.errorMessage&&"USER_NOT_FOUND"==l.errorMessage)throw new be("user-not-found");if(l.errorMessage)throw Pv(l.errorMessage);El(l)},V:!0,B:!0},d_={endpoint:"verifyAssertion",A:function(l){if(Dv(l),!l.idToken)throw new be("internal-error")},Za:Ev,G:ic,V:!0},N1={endpoint:"verifyCustomToken",A:function(l){if(!l.token)throw new be("invalid-custom-token")},G:El,V:!0,B:!0},kl={endpoint:"verifyPassword",A:function(l){if(Tf(l),!l.password)throw new be("wrong-password")},G:El,V:!0,B:!0},Rv={endpoint:"verifyPhoneNumber",A:Sv,G:El,B:!0},S0={endpoint:"verifyPhoneNumber",A:function(l){if(!l.idToken)throw new be("internal-error");Sv(l)},G:function(l){if(l.temporaryProof)throw l.code="credential-already-in-use",Pc(l);El(l)}},R1={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Sv,G:El,B:!0},Hm={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(l){if(!!l[nc]^!!l.refreshToken)throw new be("internal-error")},B:!0,Na:!0};function Tr(l,p,C){if(!function Er(l,p){if(!p||!p.length)return!0;if(!l)return!1;for(var C=0;C<p.length;C++){var k=l[p[C]];if(null==k||""===k)return!1}return!0}(C,p.O))return eo(new be("internal-error"));var K,k=!!p.Na,U=p.Vb||"POST";return ri(C).then(p.A).then(function(){return p.V&&(C.returnSecureToken=!0),p.B&&l.b&&void 0===C.tenantId&&(C.tenantId=l.b),function m0(l,p,C,k,U,K,se){var Ie=pa(p+C);wi(Ie,"key",l.c),se&&wi(Ie,"cb",Date.now().toString());var Nt="GET"==k;if(Nt)for(var tn in U)U.hasOwnProperty(tn)&&wi(Ie,tn,U[tn]);return new zi(function(qi,To){p0(l,Ie.toString(),function(ro){ro?ro.error?To(h_(ro,K||{})):qi(ro):To(new be("network-request-failed"))},k,Nt?void 0:La(L(U)),l.a,l.v.get())})}(l,k?l.i:l.h,p.endpoint,U,C,p.Ib,p.mb||!1)}).then(function(se){return K=se,p.Za?p.Za(C,K):K}).then(p.G).then(function(){if(!p.Z)return K;if(!(p.Z in K))throw new be("internal-error");return K[p.Z]})}function Pv(l){return h_({error:{errors:[{message:l}],code:400,message:l}})}function h_(l,p){var C=(l.error&&l.error.errors&&l.error.errors[0]||{}).reason||"",k={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(C=k[C]?new be(k[C]):null)return C;for(var U in C=l.error&&l.error.message||"",_e(k={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},p||{}),p=(p=C.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<p.length?p[1]:void 0,k)if(0===C.indexOf(U))return new be(k[U],p);return!p&&l&&(p=j(l)),new be("internal-error",p)}function Bv(l){this.b=l,this.a=null,this.sb=function Uv(l){return function z(){return B||(B=new zi(function(l,p){function C(){Se(),to("gapi.load")("gapi.iframes",{callback:l,ontimeout:function(){Se(),p(Error("Network Error"))},timeout:T.get()})}if(to("gapi.iframes.Iframe"))l();else if(to("gapi.load"))C();else{var k="__iframefcb"+Math.floor(1e6*Math.random()).toString();de[k]=function(){to("gapi.load")?C():p(Error("Network Error"))},ri(Pm(k=bo(y,{onload:k}))).o(function(){p(Error("Network Error"))})}}).o(function(l){throw B=null,l}))}().then(function(){return new zi(function(p,C){to("gapi.iframes.getContext")().open({where:document.body,url:l.b,messageHandlersFilter:to("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(k){function U(){clearTimeout(K),p()}l.a=k,l.a.restyle({setHideOnLeave:!1});var K=setTimeout(function(){C(Error("Network Error"))},I.get());k.ping(U).then(U,function(){C(Error("Network Error"))})})})})}(this)}var y=new Ve(ln,"https://apis.google.com/js/api.js?onload=%{onload}"),T=new Ye(3e4,6e4),I=new Ye(5e3,15e3),B=null;function ue(l,p,C,k){this.l=l,this.h=p,this.i=C,this.g=k,this.f=null,l=this.g?ka((l=pa(this.g.url)).c,l.a,l.g,"/emulator/auth/iframe"):ka("https",this.l,null,"/__/auth/iframe"),this.a=l,wi(this.a,"apiKey",this.h),wi(this.a,"appName",this.i),this.b=null,this.c=[]}function pe(l,p,C,k,U,K){this.u=l,this.s=p,this.c=C,this.m=k,this.v=K,this.i=this.g=this.l=null,this.a=U,this.h=this.f=null}function Ae(l){try{return r.default.app(l).auth().Ga()}catch(p){return[]}}function Oe(l,p,C,k,U,K){this.s=l,this.g=p,this.b=C,this.f=K,this.c=k||null,this.i=U||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function st(l){var p=Cl();return function I1(l){return Tr(l,qm,{}).then(function(p){return p.authorizedDomains||[]})}(l).then(function(C){e:{var k=pa(p),U=k.c;k=k.a;for(var K=0;K<C.length;K++){var se=C[K],Ie=k,Nt=U;if(0==se.indexOf("chrome-extension://")?Ie=pa(se).a==Ie&&"chrome-extension"==Nt:"http"!=Nt&&"https"!=Nt?Ie=!1:Dd.test(se)?Ie=Ie==se:(se=se.split(".").join("\\."),Ie=new RegExp("^(.+\\."+se+"|"+se+")$","i").test(Ie)),Ie){C=!0;break e}}C=!1}if(!C)throw new i_(Cl())})}function Vt(l){return l.m||(l.m=Ic().then(function(){if(!l.u){var p=l.c,C=l.i,k=Ae(l.b),U=new ue(l.s,l.g,l.b,l.f);U.f=p,U.b=C,U.c=Rr(k||[]),l.u=U.toString()}l.v=new Bv(l.u),function Fi(l){if(!l.v)throw Error("IfcHandler must be initialized!");!function m(l,p){l.sb.then(function(){l.a.register("authEvent",p,to("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(l.v,function(p){var C={};if(p&&p.authEvent){var k=!1;for(p=Rc(p.authEvent),C=0;C<l.h.length;C++)k=l.h[C](p)||k;return(C={}).status=k?"ACK":"ERROR",ri(C)}return C.status="ERROR",ri(C)})}(l)})),l.m}function on(l){return l.l||(l.C=l.c?gh(l.c,Ae(l.b)):null,l.l=new tc(l.g,gn(l.i),l.C),l.f&&Dl(l.l,l.f)),l.l}function In(l,p,C,k,U,K,se,Ie,Nt,tn,qi,To){return(l=new pe(l,p,C,k,U,To)).l=K,l.g=se,l.i=Ie,l.b=ke(Nt||null),l.f=tn,l.zb(qi).toString()}function _i(l){if(this.a=l||r.default.INTERNAL.reactNative&&r.default.INTERNAL.reactNative.AsyncStorage,!this.a)throw new be("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function lo(l){this.b=l,this.a={},this.f=Ut(this.c,this)}ue.prototype.toString=function(){return this.f?wi(this.a,"v",this.f):Ia(this.a.b,"v"),this.b?wi(this.a,"eid",this.b):Ia(this.a.b,"eid"),this.c.length?wi(this.a,"fw",this.c.join(",")):Ia(this.a.b,"fw"),this.a.toString()},pe.prototype.zb=function(l){return this.h=l,this},pe.prototype.toString=function(){if(this.v){var l=pa(this.v.url);l=ka(l.c,l.a,l.g,"/emulator/auth/handler")}else l=ka("https",this.u,null,"/__/auth/handler");if(wi(l,"apiKey",this.s),wi(l,"appName",this.c),wi(l,"authType",this.m),this.a.isOAuthProvider){var p=this.a;try{var C=r.default.app(this.c).auth().la()}catch(Ie){C=null}for(var k in p.pb=C,wi(l,"providerId",this.a.providerId),p=L((C=this.a).Jb))p[k]=p[k].toString();k=C.Qc,p=ke(p);for(var U=0;U<k.length;U++){var K=k[U];K in p&&delete p[K]}C.qb&&C.pb&&!p[C.qb]&&(p[C.qb]=C.pb),Pe(p)||wi(l,"customParameters",j(p))}if("function"==typeof this.a.Rb&&(C=this.a.Rb()).length&&wi(l,"scopes",C.join(",")),this.l?wi(l,"redirectUrl",this.l):Ia(l.b,"redirectUrl"),this.g?wi(l,"eventId",this.g):Ia(l.b,"eventId"),this.i?wi(l,"v",this.i):Ia(l.b,"v"),this.b)for(var se in this.b)this.b.hasOwnProperty(se)&&!Ja(l,se)&&wi(l,se,this.b[se]);return this.h?wi(l,"tid",this.h):Ia(l.b,"tid"),this.f?wi(l,"eid",this.f):Ia(l.b,"eid"),(se=Ae(this.c)).length&&wi(l,"fw",se.join(",")),l.toString()},(ie=Oe.prototype).Pb=function(l,p,C){var k=new be("popup-closed-by-user"),U=new be("web-storage-unsupported"),K=this,se=!1;return this.ma().then(function(){(function gi(l){var p={type:"webStorageSupport"};return Vt(l).then(function(){return function g(l,p){return l.sb.then(function(){return new zi(function(C){l.a.send(p.type,p,C,to("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(l.v,p)}).then(function(C){if(C&&C.length&&void 0!==C[0].webStorageSupport)return C[0].webStorageSupport;throw Error()})})(K).then(function(Ie){Ie||(l&&ra(l),p(U),se=!0)})}).o(function(){}).then(function(){if(!se)return function af(l){return new zi(function(p){return function C(){na(2e3).then(function(){if(l&&!l.closed)return C();p()})}()})}(l)}).then(function(){if(!se)return na(C).then(function(){p(k)})})},ie.Yb=function(){var l=xo();return!G(l)&&!ye(l)},ie.Ub=function(){return!1},ie.Nb=function(l,p,C,k,U,K,se,Ie){if(!l)return eo(new be("popup-blocked"));if(se&&!G())return this.ma().o(function(tn){ra(l),U(tn)}),k(),ri();this.a||(this.a=st(on(this)));var Nt=this;return this.a.then(function(){var tn=Nt.ma().o(function(qi){throw ra(l),U(qi),qi});return k(),tn}).then(function(){yp(C),se||mh(In(Nt.s,Nt.g,Nt.b,p,C,null,K,Nt.c,void 0,Nt.i,Ie,Nt.f),l)}).o(function(tn){throw"auth/network-request-failed"==tn.code&&(Nt.a=null),tn})},ie.Ob=function(l,p,C,k){this.a||(this.a=st(on(this)));var U=this;return this.a.then(function(){yp(p),mh(In(U.s,U.g,U.b,l,p,Cl(),C,U.c,void 0,U.i,k,U.f))}).o(function(K){throw"auth/network-request-failed"==K.code&&(U.a=null),K})},ie.ma=function(){var l=this;return Vt(this).then(function(){return l.v.sb}).o(function(){throw l.a=null,new be("network-request-failed")})},ie.ac=function(){return!0},ie.Ea=function(l){this.h.push(l)},ie.Ta=function(l){rr(this.h,function(p){return p==l})},(ie=_i.prototype).get=function(l){return ri(this.a.getItem(l)).then(function(p){return p&&Z(p)})},ie.set=function(l,p){return ri(this.a.setItem(l,j(p)))},ie.U=function(l){return ri(this.a.removeItem(l))},ie.ca=function(){},ie.ia=function(){};var E0,Vc=[];function ws(l,p,C){Pe(l.a)&&l.b.addEventListener("message",l.f),void 0===l.a[p]&&(l.a[p]=[]),l.a[p].push(C)}function f_(l){this.a=l}function sn(l){this.c=l,this.b=!1,this.a=[]}function P1(l,p,C,k){var U,se,Ie,Nt,K=C||{},tn=null;if(l.b)return eo(Error("connection_unavailable"));var qi=k?800:50,To="undefined"!=typeof MessageChannel?new MessageChannel:null;return new zi(function(ro,ol){To?(U=Math.floor(Math.random()*Math.pow(10,20)).toString(),To.port1.start(),Ie=setTimeout(function(){ol(Error("unsupported_event"))},qi),l.a.push(tn={messageChannel:To,onMessage:se=function(Nf){Nf.data.eventId===U&&("ack"===Nf.data.status?(clearTimeout(Ie),Nt=setTimeout(function(){ol(Error("timeout"))},3e3)):"done"===Nf.data.status?(clearTimeout(Nt),void 0!==Nf.data.response?ro(Nf.data.response):ol(Error("unknown_error"))):(clearTimeout(Ie),clearTimeout(Nt),ol(Error("invalid_response"))))}}),To.port1.addEventListener("message",se),l.c.postMessage({eventType:p,eventId:U,data:K},[To.port2])):ol(Error("connection_unavailable"))}).then(function(ro){return D0(l,tn),ro}).o(function(ro){throw D0(l,tn),ro})}function D0(l,p){if(p){var C=p.messageChannel;C&&(C.port1.removeEventListener("message",p.onMessage),C.port1.close()),rr(l.a,function(U){return U==p})}}function B1(){if(!Ni())throw new be("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=de.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var l=this;ys()&&self?(this.v=function No(){var l=ys()?self:null;if(vr(Vc,function(C){C.b==l&&(p=C)}),!p){var p=new lo(l);Vc.push(p)}return p}(),ws(this.v,"keyChanged",function(p,C){return Qu(l).then(function(k){return 0<k.length&&vr(l.a,function(U){U(k)}),{keyProcessed:Bn(k,C.key)}})}),ws(this.v,"ping",function(){return ri(["keyChanged"])})):function er(){var l=de.navigator;return l&&l.serviceWorker?ri().then(function(){return l.serviceWorker.ready}).then(function(p){return p.active||null}).o(function(){return null}):ri(null)}().then(function(p){(l.h=p)&&(l.g=new sn(new f_(p)),P1(l.g,"ping",null,!0).then(function(C){C[0].fulfilled&&Bn(C[0].value,"keyChanged")&&(l.s=!0)}).o(function(){}))})}function j1(l){return new zi(function(p,C){var k=l.m.open("firebaseLocalStorageDb",1);k.onerror=function(U){try{U.preventDefault()}catch(K){}C(Error(U.target.error))},k.onupgradeneeded=function(U){U=U.target.result;try{U.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(K){C(K)}},k.onsuccess=function(U){(U=U.target.result).objectStoreNames.contains("firebaseLocalStorage")?p(U):function U1(l){return new zi(function(p,C){var k=l.m.deleteDatabase("firebaseLocalStorageDb");k.onsuccess=function(){p()},k.onerror=function(U){C(Error(U.target.error))}})}(l).then(function(){return j1(l)}).then(function(K){p(K)}).o(function(K){C(K)})}})}function M0(l){return l.i||(l.i=j1(l)),l.i}function jv(l,p){var k=0;return new zi(function C(U,K){M0(l).then(p).then(U).o(function(se){if(!(3<++k))return M0(l).then(function(Ie){return Ie.close(),l.i=void 0,C(U,K)}).o(function(Ie){K(Ie)});K(se)})})}function Ni(){try{return!!de.indexedDB}catch(l){return!1}}function Gm(l){return l.objectStore("firebaseLocalStorage")}function Zm(l,p){return l.transaction(["firebaseLocalStorage"],p?"readwrite":"readonly")}function Op(l){return new zi(function(p,C){l.onsuccess=function(k){k&&k.target?p(k.target.result):p()},l.onerror=function(k){C(k.target.error)}})}function p_(l,p){return l.g&&l.h&&function ei(){var l=de.navigator;return l&&l.serviceWorker&&l.serviceWorker.controller||null}()===l.h?P1(l.g,"keyChanged",{key:p},l.s).then(function(){}).o(function(){}):ri()}function Qu(l){return M0(l).then(function(p){var C=Gm(Zm(p,!1));return C.getAll?Op(C.getAll()):new zi(function(k,U){var K=[],se=C.openCursor();se.onsuccess=function(Ie){(Ie=Ie.target.result)?(K.push(Ie.value),Ie.continue()):k(K)},se.onerror=function(Ie){U(Ie.target.error)}})}).then(function(p){var C={},k=[];if(0==l.b){for(k=0;k<p.length;k++)C[p[k].fbase_key]=p[k].value;k=sf(l.c,C),l.c=C}return k})}function q1(l){l.l&&l.l.cancel("STOP_EVENT"),l.f&&(clearTimeout(l.f),l.f=null)}function m_(l){var p=this,C=null;this.a=[],this.type="indexedDB",this.c=l,this.b=ri().then(function(){if(Ni()){var k=X(),U="__sak"+k;return E0||(E0=new B1),(C=E0).set(U,k).then(function(){return C.get(U)}).then(function(K){if(K!==k)throw Error("indexedDB not supported!");return C.U(U)}).then(function(){return C}).o(function(){return p.c})}return p.c}).then(function(k){return p.type=k.type,k.ca(function(U){vr(p.a,function(K){K(U)})}),k})}function qc(){this.a={},this.type="inMemory"}function Lp(){if(!function I0(){var l="Node"==Dn();if(!(l=k0()||l&&r.default.INTERNAL.node&&r.default.INTERNAL.node.localStorage))return!1;try{return l.setItem("__sak","1"),l.removeItem("__sak"),!0}catch(p){return!1}}())throw"Node"==Dn()?new be("internal-error","The LocalStorage compatibility library was not found."):new be("web-storage-unsupported");this.a=k0()||r.default.INTERNAL.node.localStorage,this.type="localStorage"}function k0(){try{var l=de.localStorage,p=X();return l&&(l.setItem(p,"1"),l.removeItem(p)),l}catch(C){return null}}function H1(){this.type="nullStorage"}function g_(){if(!function Vv(){var l="Node"==Dn();if(!(l=O0()||l&&r.default.INTERNAL.node&&r.default.INTERNAL.node.sessionStorage))return!1;try{return l.setItem("__sak","1"),l.removeItem("__sak"),!0}catch(p){return!1}}())throw"Node"==Dn()?new be("internal-error","The SessionStorage compatibility library was not found."):new be("web-storage-unsupported");this.a=O0()||r.default.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function O0(){try{var l=de.sessionStorage,p=X();return l&&(l.setItem(p,"1"),l.removeItem(p)),l}catch(C){return null}}function qv(){var l={};l.Browser=Hc,l.Node=Va,l.ReactNative=oS,l.Worker=eM,this.a=l[Dn()]}lo.prototype.c=function(l){var p=l.data.eventType,C=l.data.eventId,k=this.a[p];if(k&&0<k.length){l.ports[0].postMessage({status:"ack",eventId:C,eventType:p,response:null});var U=[];vr(k,function(K){U.push(ri().then(function(){return K(l.origin,l.data.data)}))}),Ma(U).then(function(K){var se=[];vr(K,function(Ie){se.push({fulfilled:Ie.Qb,value:Ie.value,reason:Ie.reason?Ie.reason.message:void 0})}),vr(se,function(Ie){for(var Nt in Ie)void 0===Ie[Nt]&&delete Ie[Nt]}),l.ports[0].postMessage({status:"done",eventId:C,eventType:p,response:se})})}},f_.prototype.postMessage=function(l,p){this.a.postMessage(l,p)},sn.prototype.close=function(){for(;0<this.a.length;)D0(this,this.a[0]);this.b=!0},(ie=B1.prototype).set=function(l,p){var C=this,k=!1;return jv(this,function(U){return Op((U=Gm(Zm(U,!0))).get(l))}).then(function(U){return jv(C,function(K){if(K=Gm(Zm(K,!0)),U)return U.value=p,Op(K.put(U));C.b++,k=!0;var se={};return se.fbase_key=l,se.value=p,Op(K.add(se))})}).then(function(){return C.c[l]=p,p_(C,l)}).oa(function(){k&&C.b--})},ie.get=function(l){return jv(this,function(p){return Op(Gm(Zm(p,!1)).get(l))}).then(function(p){return p&&p.value})},ie.U=function(l){var p=this,C=!1;return jv(this,function(k){return C=!0,p.b++,Op(Gm(Zm(k,!0)).delete(l))}).then(function(){return delete p.c[l],p_(p,l)}).oa(function(){C&&p.b--})},ie.ca=function(l){0==this.a.length&&function V1(l){q1(l),function p(){l.f=setTimeout(function(){l.l=Qu(l).then(function(C){0<C.length&&vr(l.a,function(k){k(C)})}).then(function(){p()}).o(function(C){"STOP_EVENT"!=C.message&&p()})},800)}()}(this),this.a.push(l)},ie.ia=function(l){rr(this.a,function(p){return p==l}),0==this.a.length&&q1(this)},(ie=m_.prototype).get=function(l){return this.b.then(function(p){return p.get(l)})},ie.set=function(l,p){return this.b.then(function(C){return C.set(l,p)})},ie.U=function(l){return this.b.then(function(p){return p.U(l)})},ie.ca=function(l){this.a.push(l)},ie.ia=function(l){rr(this.a,function(p){return p==l})},(ie=qc.prototype).get=function(l){return ri(this.a[l])},ie.set=function(l,p){return this.a[l]=p,ri()},ie.U=function(l){return delete this.a[l],ri()},ie.ca=function(){},ie.ia=function(){},(ie=Lp.prototype).get=function(l){var p=this;return ri().then(function(){return Z(p.a.getItem(l))})},ie.set=function(l,p){var C=this;return ri().then(function(){var k=j(p);null===k?C.U(l):C.a.setItem(l,k)})},ie.U=function(l){var p=this;return ri().then(function(){p.a.removeItem(l)})},ie.ca=function(l){de.window&&Os(de.window,"storage",l)},ie.ia=function(l){de.window&&Gs(de.window,"storage",l)},(ie=H1.prototype).get=function(){return ri(null)},ie.set=function(){return ri()},ie.U=function(){return ri()},ie.ca=function(){},ie.ia=function(){},(ie=g_.prototype).get=function(l){var p=this;return ri().then(function(){return Z(p.a.getItem(l))})},ie.set=function(l,p){var C=this;return ri().then(function(){var k=j(p);null===k?C.U(l):C.a.setItem(l,k)})},ie.U=function(l){var p=this;return ri().then(function(){p.a.removeItem(l)})},ie.ca=function(){},ie.ia=function(){};var __,v_,Hc={F:Lp,cb:g_},Va={F:Lp,cb:g_},oS={F:_i,cb:H1},eM={F:Lp,cb:H1},Hv={rd:"local",NONE:"none",td:"session"};function Ud(){var l=!(ye(xo())||!go()),p=G(),C=Yl();this.m=l,this.h=p,this.l=C,this.a={},__||(__=new qv),l=__;try{this.g=!ga()&&En()||!de.indexedDB?new l.a.F:new m_(ys()?new qc:new l.a.F)}catch(k){this.g=new qc,this.h=!0}try{this.i=new l.a.cb}catch(k){this.i=new qc}this.v=new qc,this.f=Ut(this.Zb,this),this.b={}}function Ym(){return v_||(v_=new Ud),v_}function zm(l,p){switch(p){case"session":return l.i;case"none":return l.v;default:return l.g}}function Wm(l,p){return"firebase:"+l.name+(p?":"+p:"")}function y_(l,p,C){return C=Wm(p,C),"local"==p.F&&(l.b[C]=null),zm(l,p.F).U(C)}function L0(l){l.c&&(clearInterval(l.c),l.c=null)}function CL(l){this.a=l,this.b=Ym()}(ie=Ud.prototype).get=function(l,p){return zm(this,l.F).get(Wm(l,p))},ie.set=function(l,p,C){var k=Wm(l,C),U=this,K=zm(this,l.F);return K.set(k,p).then(function(){return K.get(k)}).then(function(se){"local"==l.F&&(U.b[k]=se)})},ie.addListener=function(l,p,C){l=Wm(l,p),this.l&&(this.b[l]=de.localStorage.getItem(l)),Pe(this.a)&&(zm(this,"local").ca(this.f),this.h||(ga()||!En())&&de.indexedDB||!this.l||function tM(l){L0(l),l.c=setInterval(function(){for(var p in l.a){var C=de.localStorage.getItem(p),k=l.b[p];C!=k&&(l.b[p]=C,C=new vl({type:"storage",key:p,target:window,oldValue:k,newValue:C,a:!0}),l.Zb(C))}},1e3)}(this)),this.a[l]||(this.a[l]=[]),this.a[l].push(C)},ie.removeListener=function(l,p,C){l=Wm(l,p),this.a[l]&&(rr(this.a[l],function(k){return k==C}),0==this.a[l].length&&delete this.a[l]),Pe(this.a)&&(zm(this,"local").ia(this.f),L0(this))},ie.Zb=function(l){if(l&&l.g){var p=l.a.key;if(null==p)for(var C in this.a){var k=this.b[C];void 0===k&&(k=null);var U=de.localStorage.getItem(C);U!==k&&(this.b[C]=U,this.nb(C))}else if(0==p.indexOf("firebase:")&&this.a[p]){if(void 0!==l.a.a?zm(this,"local").ia(this.f):L0(this),this.m)if(C=de.localStorage.getItem(p),(k=l.a.newValue)!==C)null!==k?de.localStorage.setItem(p,k):de.localStorage.removeItem(p);else if(this.b[p]===k&&void 0===l.a.a)return;var K=this;C=function(){(void 0!==l.a.a||K.b[p]!==de.localStorage.getItem(p))&&(K.b[p]=de.localStorage.getItem(p),K.nb(p))},os&&Xr&&10==Xr&&de.localStorage.getItem(p)!==l.a.newValue&&l.a.newValue!==l.a.oldValue?setTimeout(C,10):C()}}else vr(l,Ut(this.nb,this))},ie.nb=function(l){this.a[l]&&vr(this.a[l],function(p){p()})};var Z1,sS={name:"authEvent",F:"local"};function nM(){this.a=Ym()}function G1(l,p){this.b=lS,this.f=de.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=l,this.h=p,this.l=de.Int32Array?new Int32Array(64):Array(64),void 0===Z1&&(Z1=de.Int32Array?new Int32Array(Qm):Qm),this.reset()}Xe(G1,function aS(){this.b=-1});for(var lS=64,Y1=lS-1,Gv=[],_u=0;_u<Y1;_u++)Gv[_u]=0;var $m=wr(128,Gv);function z1(l){for(var p=l.f,C=l.l,k=0,U=0;U<p.length;)C[k++]=p[U]<<24|p[U+1]<<16|p[U+2]<<8|p[U+3],U=4*k;for(p=16;64>p;p++){var K=(0|C[p-16])+(((U=0|C[p-15])>>>7|U<<25)^(U>>>18|U<<14)^U>>>3)|0,se=(0|C[p-7])+(((k=0|C[p-2])>>>17|k<<15)^(k>>>19|k<<13)^k>>>10)|0;C[p]=K+se|0}k=0|l.a[0],U=0|l.a[1];var Ie=0|l.a[2],Nt=0|l.a[3],tn=0|l.a[4],qi=0|l.a[5],To=0|l.a[6];for(K=0|l.a[7],p=0;64>p;p++){var ro=((k>>>2|k<<30)^(k>>>13|k<<19)^(k>>>22|k<<10))+(k&U^k&Ie^U&Ie)|0;se=(K=K+((tn>>>6|tn<<26)^(tn>>>11|tn<<21)^(tn>>>25|tn<<7))|0)+((se=(se=tn&qi^~tn&To)+(0|Z1[p])|0)+(0|C[p])|0)|0,K=To,To=qi,qi=tn,tn=Nt+se|0,Nt=Ie,Ie=U,U=k,k=se+ro|0}l.a[0]=l.a[0]+k|0,l.a[1]=l.a[1]+U|0,l.a[2]=l.a[2]+Ie|0,l.a[3]=l.a[3]+Nt|0,l.a[4]=l.a[4]+tn|0,l.a[5]=l.a[5]+qi|0,l.a[6]=l.a[6]+To|0,l.a[7]=l.a[7]+K|0}function b_(l,p,C){void 0===C&&(C=p.length);var k=0,U=l.c;if("string"==typeof p)for(;k<C;)l.f[U++]=p.charCodeAt(k++),U==l.b&&(z1(l),U=0);else{if(!cn(p))throw Error("message must be string or array");for(;k<C;){var K=p[k++];if(!("number"==typeof K&&0<=K&&255>=K&&K==(0|K)))throw Error("message must be a byte array");l.f[U++]=K,U==l.b&&(z1(l),U=0)}}l.c=U,l.g+=C}G1.prototype.reset=function(){this.g=this.c=0,this.a=de.Int32Array?new Int32Array(this.h):Rr(this.h)};var Qm=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function W1(){G1.call(this,8,$1)}Xe(W1,G1);var $1=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Q1(l,p,C,k,U,K){this.v=l,this.i=p,this.l=C,this.m=k||null,this.u=U||null,this.s=K,this.h=p+":"+C,this.C=new nM,this.g=new CL(this.h),this.f=null,this.b=[],this.a=this.c=null}function jd(l){return new be("invalid-cordova-configuration",l)}function tx(l,p){for(var C=0;C<l.b.length;C++)try{l.b[C](p)}catch(k){}}function F0(l){return l.f||(l.f=l.ma().then(function(){return new zi(function(p){l.Ea(function C(k){return p(k),l.Ta(C),!1}),function K1(l){function p(se){k=!0,U&&U.cancel(),nx(l).then(function(Ie){var Nt=C;if(Ie&&se&&se.url){var tn=null;-1!=(Nt=wh(se.url)).indexOf("/__/auth/callback")&&(tn=(tn="object"==typeof(tn=Z(Ja(tn=pa(Nt),"firebaseError")||null))?At(tn):null)?new Ba(Ie.c,Ie.b,null,null,tn,null,Ie.T()):new Ba(Ie.c,Ie.b,Nt,Ie.f,null,null,Ie.T())),Nt=tn||C}tx(l,Nt)})}var C=new Ba("unknown",null,null,null,new be("no-auth-event")),k=!1,U=na(500).then(function(){return nx(l).then(function(){k||tx(l,C)})}),K=de.handleOpenURL;de.handleOpenURL=function(se){if(0==se.toLowerCase().indexOf(to("BuildInfo.packageName",de).toLowerCase()+"://")&&p({url:se}),"function"==typeof K)try{K(se)}catch(Ie){console.error(Ie)}},n_||(n_=new Sl),function Em(l){var p=n_;p.a.push(l),p.b||(p.b=function(C){for(var k=0;k<p.a.length;k++)p.a[k](C)},"function"==typeof(l=to("universalLinks.subscribe",de))&&l(null,p.b))}(p)}(l)})})),l.f}function nx(l){var p=null;return function xL(l){return l.b.get(sS,l.a).then(function(p){return Rc(p)})}(l.g).then(function(C){return p=C,y_((C=l.g).b,sS,C.a)}).then(function(){return p})}function Zv(l){this.a=l,this.b=Ym()}(ie=Q1.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=function bm(){return lf(void 0)?Ic().then(function(){return new zi(function(l,p){var C=de.document,k=setTimeout(function(){p(Error("Cordova framework is not ready."))},1e3);C.addEventListener("deviceready",function(){clearTimeout(k),l()},!1)})}):eo(Error("Cordova must run in an Android or iOS file scheme."))}().then(function(){if("function"!=typeof to("universalLinks.subscribe",de))throw jd("cordova-universal-links-plugin-fix is not installed");if(void 0===to("BuildInfo.packageName",de))throw jd("cordova-plugin-buildinfo is not installed");if("function"!=typeof to("cordova.plugins.browsertab.openUrl",de))throw jd("cordova-plugin-browsertab is not installed");if("function"!=typeof to("cordova.InAppBrowser.open",de))throw jd("cordova-plugin-inappbrowser is not installed")},function(){throw new be("cordova-not-ready")})},ie.Pb=function(l,p){return p(new be("operation-not-supported-in-this-environment")),ri()},ie.Nb=function(){return eo(new be("operation-not-supported-in-this-environment"))},ie.ac=function(){return!1},ie.Yb=function(){return!0},ie.Ub=function(){return!0},ie.Ob=function(l,p,C,k){if(this.c)return eo(new be("redirect-operation-pending"));var U=this,K=de.document,se=null,Ie=null,Nt=null,tn=null;return this.c=ri().then(function(){return yp(p),F0(U)}).then(function(){return function ex(l,p,C,k,U){var K=function J1(){for(var l=20,p=[];0<l;)p.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),l--;return p.join("")}(),se=new Ba(p,k,null,K,new be("no-auth-event"),null,U),Ie=to("BuildInfo.packageName",de);if("string"!=typeof Ie)throw new be("invalid-cordova-configuration");var Nt=to("BuildInfo.displayName",de),tn={};if(xo().toLowerCase().match(/iphone|ipad|ipod/))tn.ibi=Ie;else{if(!xo().toLowerCase().match(/android/))return eo(new be("operation-not-supported-in-this-environment"));tn.apn=Ie}Nt&&(tn.appDisplayName=Nt),K=function cS(l){var p=new W1;b_(p,l),l=[];var C=8*p.g;b_(p,$m,56>p.c?56-p.c:p.b-(p.c-56));for(var k=63;56<=k;k--)p.f[k]=255&C,C/=256;for(z1(p),k=C=0;k<p.i;k++)for(var U=24;0<=U;U-=8)l[C++]=p.a[k]>>U&255;return function a0(l){return Ki(l,function(p){return 1<(p=p.toString(16)).length?p:"0"+p}).join("")}(l)}(K),tn.sessionId=K;var qi=In(l.v,l.i,l.l,p,C,null,k,l.m,tn,l.u,U,l.s);return l.ma().then(function(){var To=l.h;return l.C.a.set(sS,se.w(),To)}).then(function(){var To=to("cordova.plugins.browsertab.isAvailable",de);if("function"!=typeof To)throw new be("invalid-cordova-configuration");var ro=null;To(function(ol){if(ol){if("function"!=typeof(ro=to("cordova.plugins.browsertab.openUrl",de)))throw new be("invalid-cordova-configuration");ro(qi)}else{if("function"!=typeof(ro=to("cordova.InAppBrowser.open",de)))throw new be("invalid-cordova-configuration");ol=xo(),l.a=ro(qi,ol.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||ol.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(U,l,p,C,k)}).then(function(){return new zi(function(qi,To){Ie=function(){var ro=to("cordova.plugins.browsertab.close",de);return qi(),"function"==typeof ro&&ro(),U.a&&"function"==typeof U.a.close&&(U.a.close(),U.a=null),!1},U.Ea(Ie),tn=function(){Lt()&&Nt()},K.addEventListener("resume",Nt=function(){se||(se=na(2e3).then(function(){To(new be("redirect-cancelled-by-user"))}))},!1),xo().toLowerCase().match(/android/)||K.addEventListener("visibilitychange",tn,!1)}).o(function(qi){return nx(U).then(function(){throw qi})})}).oa(function(){Nt&&K.removeEventListener("resume",Nt,!1),tn&&K.removeEventListener("visibilitychange",tn,!1),se&&se.cancel(),Ie&&U.Ta(Ie),U.c=null})},ie.Ea=function(l){this.b.push(l),F0(this).o(function(p){"auth/invalid-cordova-configuration"===p.code&&(p=new Ba("unknown",null,null,null,new be("no-auth-event")),l(p))})},ie.Ta=function(l){rr(this.b,function(p){return p==l})};var Ef={name:"pendingRedirect",F:"session"};function kh(l){return y_(l.b,Ef,l.a)}function Vd(l,p,C,k){this.i={},this.u=0,this.D=l,this.v=p,this.m=C,this.J=k,this.h=[],this.f=!1,this.l=Ut(this.s,this),this.b=new Jv,this.C=new Mf,this.g=new Zv(ix(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=w_(this.D,this.v,this.m,di,this.J)}function w_(l,p,C,k,U){var K=r.default.SDK_VERSION||null;return lf()?new Q1(l,p,C,K,k,U):new Oe(l,p,C,K,k,U)}function C_(l){l.f||(l.f=!0,l.a.Ea(l.l));var p=l.a;return l.a.ma().o(function(C){throw l.a==p&&l.reset(),C})}function Fp(l){l.a.Yb()&&C_(l).o(function(p){var C=new Ba("unknown",null,null,null,new be("operation-not-supported-in-this-environment"));$v(p)&&l.s(C)}),l.a.Ub()||X1(l.b)}function Ih(l,p){Bn(l.h,p)||l.h.push(p),l.f||function N0(l){return l.b.get(Ef,l.a).then(function(p){return"pending"==p})}(l.g).then(function(C){C?kh(l.g).then(function(){C_(l).o(function(k){var U=new Ba("unknown",null,null,null,new be("operation-not-supported-in-this-environment"));$v(k)&&l.s(U)})}):Fp(l)}).o(function(){Fp(l)})}function zv(l,p){rr(l.h,function(C){return C==p})}Vd.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=w_(this.D,this.v,this.m,null,this.J),this.i={}},Vd.prototype.s=function(l){if(!l)throw new be("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),l&&l.getUid()&&this.i.hasOwnProperty(l.getUid()))return!1;for(var p=!1,C=0;C<this.h.length;C++){var k=this.h[C];if(k.Gb(l.c,l.b)){(p=this.c[l.c])&&(p.h(l,k),l&&(l.f||l.b)&&(this.i[l.getUid()]=!0,this.u=Date.now())),p=!0;break}}return X1(this.b),p};var R0=new Ye(2e3,1e4),Wv=new Ye(3e4,6e4);function P0(l,p,C,k,U,K,se){return l.a.Nb(p,C,k,function(){l.f||(l.f=!0,l.a.Ea(l.l))},function(){l.reset()},U,K,se)}function $v(l){return!(!l||"auth/cordova-not-ready"!=l.code)}function B0(l,p,C,k,U){var K;return function Yv(l){return l.b.set(Ef,"pending",l.a)}(l.g).then(function(){return l.a.Ob(p,C,k,U).o(function(se){if($v(se))throw new be("operation-not-supported-in-this-environment");return K=se,kh(l.g).then(function(){throw K})}).then(function(){return l.a.ac()?new zi(function(){}):kh(l.g).then(function(){return l.ra()}).then(function(){}).o(function(){})})})}function U0(l,p,C,k,U){return l.a.Pb(k,function(K){p.na(C,null,K,U)},R0.get())}Vd.prototype.ra=function(){return this.b.ra()};var x_={};function ix(l,p,C){return l=l+":"+p,C&&(l=l+":"+C.url),l}function Qv(l,p,C,k){var U=ix(p,C,k);return x_[U]||(x_[U]=new Vd(l,p,C,k)),x_[U]}function Jv(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function X1(l){l.g||(l.g=!0,T_(l,!1,null,null))}function qa(l){l.g&&!l.i&&T_(l,!1,null,null)}function uS(l,p){if(l.b=function(){return ri(p)},l.f.length)for(var C=0;C<l.f.length;C++)l.f[C](p)}function T_(l,p,C,k){p?k?function Il(l,p){if(l.b=function(){return eo(p)},l.c.length)for(var C=0;C<l.c.length;C++)l.c[C](p)}(l,k):uS(l,C):uS(l,{user:null}),l.f=[],l.c=[]}function Mf(){}function ew(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(l){this.jb=l},enumerable:!1})}function tw(l,p){this.a=p,An(this,"verificationId",l)}function ox(l,p,C,k){return new Qo(l).gb(p,C).then(function(U){return new tw(U,k)})}function iM(l){var p=hf(l);if(!(p&&p.exp&&p.auth_time&&p.iat))throw new be("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");ao(this,{token:l,expirationTime:rn(1e3*p.exp),authTime:rn(1e3*p.auth_time),issuedAtTime:rn(1e3*p.iat),signInProvider:p.firebase&&p.firebase.sign_in_provider?p.firebase.sign_in_provider:null,signInSecondFactor:p.firebase&&p.firebase.sign_in_second_factor?p.firebase.sign_in_second_factor:null,claims:p})}function nw(l,p,C){var k=p&&p[sx];if(!k)throw new be("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=l,this.f=ke(p),this.g=C,this.c=new pf(null,k),this.b=[];var U=this;vr(p[j0]||[],function(K){(K=Xa(K))&&U.b.push(K)}),An(this,"auth",this.a),An(this,"session",this.c),An(this,"hints",this.b)}Jv.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Jv.prototype.h=function(l,p){if(l){this.reset(),this.g=!0;var C=l.c,k=l.b,U=l.a&&"auth/web-storage-unsupported"==l.a.code,K=l.a&&"auth/operation-not-supported-in-this-environment"==l.a.code;this.i=!(!U&&!K),"unknown"!=C||U||K?l.a?(T_(this,!0,null,l.a),ri()):p.Fa(C,k)?function mn(l,p,C){C=C.Fa(p.c,p.b);var k=p.g,U=p.f,K=p.i,se=p.T(),Ie=!!p.c.match(/Redirect$/);C(k,U,se,K).then(function(Nt){T_(l,Ie,Nt,null)}).o(function(Nt){T_(l,Ie,null,Nt)})}(this,l,p):eo(new be("invalid-auth-event")):(T_(this,!1,null,null),ri())}else eo(new be("invalid-auth-event"))},Jv.prototype.ra=function(){var l=this;return new zi(function(p,C){l.b?l.b().then(p,C):(l.f.push(p),l.c.push(C),function A_(l){var p=new be("timeout");l.a&&l.a.cancel(),l.a=na(Wv.get()).then(function(){l.b||(l.g=!0,T_(l,!0,null,p))})}(l))})},Mf.prototype.h=function(l,p){if(l){var C=l.c,k=l.b;l.a?(p.na(l.c,null,l.a,l.b),ri()):p.Fa(C,k)?function rx(l,p){var C=l.b,k=l.c;p.Fa(k,C)(l.g,l.f,l.T(),l.i).then(function(U){p.na(k,U,null,C)}).o(function(U){p.na(k,null,U,C)})}(l,p):eo(new be("invalid-auth-event"))}else eo(new be("invalid-auth-event"))},tw.prototype.confirm=function(l){return l=xh(this.verificationId,l),this.a(l)};var j0="mfaInfo",sx="mfaPendingCredential";function Kv(l,p,C,k){be.call(this,"multi-factor-auth-required",k,p),this.b=new nw(l,p,C),An(this,"resolver",this.b)}function Jm(l,p,C){if(l&&Ft(l.serverResponse)&&"auth/multi-factor-auth-required"===l.code)try{return new Kv(p,l.serverResponse,C,l.message)}catch(k){}return null}function qd(){}function rw(l){An(this,"factorId",l.fa),this.a=l}function Oh(l){if(rw.call(this,l),this.a.fa!=Qo.PROVIDER_ID)throw new be("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function kf(l,p){for(var C in sr.call(this,l),p)this[C]=p[C]}function ow(l,p){this.a=l,this.b=[],this.c=Ut(this.yc,this),Os(this.a,"userReloaded",this.c);var C=[];p&&p.multiFactor&&p.multiFactor.enrolledFactors&&vr(p.multiFactor.enrolledFactors,function(k){var U=null,K={};if(k){k.uid&&(K[no]=k.uid),k.displayName&&(K[hr]=k.displayName),k.enrollmentTime&&(K[Na]=new Date(k.enrollmentTime).toISOString()),k.phoneNumber&&(K[Wl]=k.phoneNumber);try{U=new _h(K)}catch(se){}k=U}else k=null;k&&C.push(k)}),sw(this,C)}function sw(l,p){l.b=p,An(l,"enrolledFactors",p)}function Xv(l,p,C){if(this.h=l,this.i=p,this.g=C,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function lw(l,p){l.stop(),l.b=na(function aw(l,p){return p?(l.a=l.c,l.g()):(p=l.a,l.a*=2,l.a>l.f&&(l.a=l.f),p)}(l,p)).then(function(){return function Mn(){var l=de.document,p=null;return Lt()||!l?ri():new zi(function(C){p=function(){Lt()&&(l.removeEventListener("visibilitychange",p,!1),C())},l.addEventListener("visibilitychange",p,!1)}).o(function(C){throw l.removeEventListener("visibilitychange",p,!1),C})}()}).then(function(){return l.h()}).then(function(){lw(l,!0)}).o(function(C){l.i(C)&&lw(l,!1)})}function V0(l){this.f=l,this.b=this.a=null,this.c=Date.now()}function q0(l,p){void 0===p&&(p=l.b?(p=l.b).a-p.g:0),l.c=Date.now()+1e3*p}function ya(l,p){l.b=uu(p[nc]||""),l.a=p.refreshToken,q0(l,void 0!==(p=p.expiresIn)?Number(p):void 0)}function D_(l,p){this.a=l||null,this.b=p||null,ao(this,{lastSignInTime:rn(p||null),creationTime:rn(l||null)})}function H0(l,p,C,k,U,K){ao(this,{uid:l,displayName:k||null,photoURL:U||null,email:C||null,phoneNumber:K||null,providerId:p})}function rc(l,p,C){this.N=[],this.l=l.apiKey,this.m=l.appName,this.s=l.authDomain||null;var k=r.default.SDK_VERSION?gh(r.default.SDK_VERSION):null;this.a=new tc(this.l,gn(di),k),(this.u=l.emulatorConfig||null)&&Dl(this.a,this.u),this.h=new V0(this.a),hw(this,p[nc]),ya(this.h,p),An(this,"refreshToken",this.h.a),ux(this,C||{}),Gt.call(this),this.P=!1,this.s&&un()&&(this.b=Qv(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function cx(l){return new Xv(function(){return l.I(!0)},function(p){return!(!p||"auth/network-request-failed"!=p.code)},function(){var p=l.h.c-Date.now()-3e5;return 0<p?p:0})}(this),this.ba=Ut(this.ib,this);var U=this;this.za=null,this.Pa=function(K){U.xa(K.h)},this.qa=null,this.Ba=function(K){Zc(U,K.c)},this.$=null,this.aa=[],this.Oa=function(K){Km(U,K.f)},this.ja=null,this.S=new ow(this,C),An(this,"multiFactor",this.S)}function Zc(l,p){l.u=p,Dl(l.a,p),l.b&&(p=l.b,l.b=Qv(l.s,l.l,l.m,l.u),l.P&&(zv(p,l),Ih(l.b,l)))}function uw(l,p){l.qa&&Gs(l.qa,"languageCodeChanged",l.Pa),(l.qa=p)&&Os(p,"languageCodeChanged",l.Pa)}function G0(l,p){l.$&&Gs(l.$,"emulatorConfigChanged",l.Ba),(l.$=p)&&Os(p,"emulatorConfigChanged",l.Ba)}function Km(l,p){l.aa=p,f0(l.a,r.default.SDK_VERSION?gh(r.default.SDK_VERSION,l.aa):null)}function Z0(l,p){l.ja&&Gs(l.ja,"frameworkChanged",l.Oa),(l.ja=p)&&Os(p,"frameworkChanged",l.Oa)}function dw(l){try{return r.default.app(l.m).auth()}catch(p){throw new be("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+l.m+"'!")}}function Y0(l){l.J||l.D.b||(l.D.start(),Gs(l,"tokenChanged",l.ba),Os(l,"tokenChanged",l.ba))}function z0(l){Gs(l,"tokenChanged",l.ba),l.D.stop()}function hw(l,p){l.Aa=p,An(l,"_lat",p)}function oc(l){for(var p=[],C=0;C<l.W.length;C++)p.push(l.W[C](l));return Ma(p).then(function(){return l})}function If(l){l.b&&!l.P&&(l.P=!0,Ih(l.b,l))}function ux(l,p){ao(l,{uid:p.uid,displayName:p.displayName||null,photoURL:p.photoURL||null,email:p.email||null,emailVerified:p.emailVerified||!1,phoneNumber:p.phoneNumber||null,isAnonymous:p.isAnonymous||!1,tenantId:p.tenantId||null,metadata:new D_(p.createdAt,p.lastLoginAt),providerData:[]}),l.a.b=l.tenantId}function fw(){}function Np(l){return ri().then(function(){if(l.J)throw new be("app-deleted")})}function E_(l){return Ki(l.providerData,function(p){return p.providerId})}function ey(l,p){p&&($0(l,p.providerId),l.providerData.push(p))}function $0(l,p){rr(l.providerData,function(C){return C.providerId==p})}function vu(l,p,C){("uid"!=p||C)&&l.hasOwnProperty(p)&&An(l,p,C)}function Q0(l,p){l!=p&&(ao(l,{uid:p.uid,displayName:p.displayName,photoURL:p.photoURL,email:p.email,emailVerified:p.emailVerified,phoneNumber:p.phoneNumber,isAnonymous:p.isAnonymous,tenantId:p.tenantId,providerData:[]}),An(l,"metadata",p.metadata?function cw(l){return new D_(l.a,l.b)}(p.metadata):new D_),vr(p.providerData,function(C){ey(l,C)}),function dS(l,p){l.b=p.b,l.a=p.a,l.c=p.c}(l.h,p.h),An(l,"refreshToken",l.h.a),sw(l.S,p.S.b))}function ty(l){return l.I().then(function(p){var C=l.isAnonymous;return function ny(l,p){return Tr(l.a,Mv,{idToken:p}).then(Ut(l.Kc,l))}(l,p).then(function(){return C||vu(l,"isAnonymous",!1),p})})}function yu(l,p){p[nc]&&l.Aa!=p[nc]&&(ya(l.h,p),l.dispatchEvent(new kf("tokenChanged")),hw(l,p[nc]),vu(l,"refreshToken",l.h.a))}function iy(l,p){return ty(l).then(function(){if(Bn(E_(l),p))return oc(l).then(function(){throw new be("provider-already-linked")})})}function Xm(l,p,C){return _a({user:l,credential:Dm(p),additionalUserInfo:p=Qg(p),operationType:C})}function pw(l,p){return yu(l,p),l.reload().then(function(){return l})}function hx(l,p,C,k,U){if(!un())return eo(new be("operation-not-supported-in-this-environment"));if(l.i&&!U)return eo(l.i);var K=ff(C.providerId),se=X(l.uid+":::"),Ie=null;(!G()||go())&&l.s&&C.isOAuthProvider&&(Ie=In(l.s,l.l,l.m,p,C,null,se,r.default.SDK_VERSION||null,null,null,l.tenantId,l.u));var Nt=Ka(Ie,K&&K.va,K&&K.ua);return k=k().then(function(){if(tg(l),!U)return l.I().then(function(){})}).then(function(){return P0(l.b,Nt,p,C,se,!!Ie,l.tenantId)}).then(function(){return new zi(function(tn,qi){l.na(p,null,new be("cancelled-popup-request"),l.g||null),l.f=tn,l.C=qi,l.g=se,l.c=U0(l.b,l,p,Nt,se)})}).then(function(tn){return Nt&&ra(Nt),tn?_a(tn):null}).o(function(tn){throw Nt&&ra(Nt),tn}),Ys(l,k,U)}function eg(l,p,C,k,U){if(!un())return eo(new be("operation-not-supported-in-this-environment"));if(l.i&&!U)return eo(l.i);var K=null,se=X(l.uid+":::");return k=k().then(function(){if(tg(l),!U)return l.I().then(function(){})}).then(function(){return l.ga=se,oc(l)}).then(function(Ie){return l.ha&&(Ie=(Ie=l.ha).b.set(mw,l.w(),Ie.a)),Ie}).then(function(){return B0(l.b,p,C,se,l.tenantId)}).o(function(Ie){if(K=Ie,l.ha)return fS(l.ha);throw K}).then(function(){if(K)throw K}),Ys(l,k,U)}function tg(l){if(!l.b||!l.P)throw new be(l.b&&!l.P?"internal-error":"auth-domain-config-required")}function Ys(l,p,C){var k=function rM(l,p,C){return l.i&&!C?(p.cancel(),eo(l.i)):p.o(function(k){throw!k||"auth/user-disabled"!=k.code&&"auth/user-token-expired"!=k.code||(l.i||l.dispatchEvent(new kf("userInvalidated")),l.i=k),k})}(l,p,C);return l.N.push(k),k.oa(function(){Jr(l.N,k)}),k.o(function(U){var K=null;throw U&&"auth/multi-factor-auth-required"===U.code&&(K=Jm(U.w(),dw(l),Ut(l.jc,l))),K||U})}function hS(l){if(!l.apiKey)return null;var p={apiKey:l.apiKey,authDomain:l.authDomain,appName:l.appName,emulatorConfig:l.emulatorConfig},C={};if(!l.stsTokenManager||!l.stsTokenManager.accessToken)return null;C[nc]=l.stsTokenManager.accessToken,C.refreshToken=l.stsTokenManager.refreshToken||null;var k=l.stsTokenManager.expirationTime;k&&(C.expiresIn=(k-Date.now())/1e3);var U=new rc(p,C,l);return l.providerData&&vr(l.providerData,function(K){K&&ey(U,_a(K))}),l.redirectEventId&&(U.ga=l.redirectEventId),U}function px(l){this.a=l,this.b=Ym()}nw.prototype.Rc=function(l){var p=this;return l.tb(this.a.a,this.c).then(function(C){var k=ke(p.f);return delete k[j0],delete k[sx],_e(k,C),p.g(k)})},Xe(Kv,be),qd.prototype.tb=function(l,p,C){return p.type==mf?function ax(l,p,C,k){return C.Ha().then(function(U){return U={idToken:U},void 0!==k&&(U.displayName=k),_e(U,{phoneVerificationInfo:Sm(l.a)}),Tr(p,KC,U)})}(this,l,p,C):function iw(l,p,C){return C.Ha().then(function(k){return _e(k={mfaPendingCredential:k},{phoneVerificationInfo:Sm(l.a)}),Tr(p,Ip,k)})}(this,l,p)},Xe(rw,qd),Xe(Oh,rw),Xe(kf,sr),(ie=ow.prototype).yc=function(l){sw(this,function lx(l){var p=[];return vr(l.mfaInfo||[],function(C){(C=Xa(C))&&p.push(C)}),p}(l.hd))},ie.Sb=function(){return this.a.I().then(function(l){return new pf(l,null)})},ie.fc=function(l,p){var C=this,k=this.a.a;return this.Sb().then(function(U){return l.tb(k,U,p)}).then(function(U){return yu(C.a,U),C.a.reload()})},ie.bd=function(l){var p=this,C="string"==typeof l?l:l.uid,k=this.a.a;return this.a.I().then(function(U){return Tr(k,Hm,{idToken:U,mfaEnrollmentId:C})}).then(function(U){var K=vc(p.b,function(se){return se.uid!=C});return sw(p,K),yu(p.a,U),p.a.reload().o(function(se){if("auth/user-token-expired"!=se.code)throw se})})},ie.w=function(){return{multiFactor:{enrolledFactors:Ki(this.b,function(l){return l.w()})}}},Xv.prototype.start=function(){this.a=this.c,lw(this,!0)},Xv.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},V0.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},V0.prototype.getToken=function(l){return l=!!l,this.b&&!this.a?eo(new be("user-token-expired")):l||!this.b||Date.now()>this.c-3e4?this.a?function S_(l,p){return function k1(l,p){return new zi(function(C,k){"refresh_token"==p.grant_type&&p.refresh_token||"authorization_code"==p.grant_type&&p.code?p0(l,l.l+"?key="+encodeURIComponent(l.c),function(U){U?U.error?k(h_(U)):U.access_token&&U.refresh_token?C(U):k(new be("internal-error")):k(new be("network-request-failed"))},"POST",Hg(p).toString(),l.g,l.m.get()):k(new be("internal-error"))})}(l.f,p).then(function(C){return l.b=uu(C.access_token),l.a=C.refresh_token,q0(l,C.expires_in),{accessToken:l.b.toString(),refreshToken:l.a}}).o(function(C){throw"auth/user-token-expired"==C.code&&(l.a=null),C})}(this,{grant_type:"refresh_token",refresh_token:this.a}):ri(null):ri({accessToken:this.b.toString(),refreshToken:this.a})},D_.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},Xe(rc,Gt),rc.prototype.xa=function(l){this.za=l,xv(this.a,l)},rc.prototype.la=function(){return this.za},rc.prototype.Ga=function(){return Rr(this.aa)},rc.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},An(rc.prototype,"providerId","firebase"),(ie=rc.prototype).reload=function(){var l=this;return Ys(this,Np(this).then(function(){return ty(l).then(function(){return oc(l)}).then(fw)}))},ie.oc=function(l){return this.I(l).then(function(p){return new iM(p)})},ie.I=function(l){var p=this;return Ys(this,Np(this).then(function(){return p.h.getToken(l)}).then(function(C){if(!C)throw new be("internal-error");return C.accessToken!=p.Aa&&(hw(p,C.accessToken),p.dispatchEvent(new kf("tokenChanged"))),vu(p,"refreshToken",C.refreshToken),C.accessToken}))},ie.Kc=function(l){if(!(l=l.users)||!l.length)throw new be("internal-error");ux(this,{uid:(l=l[0]).localId,displayName:l.displayName,photoURL:l.photoUrl,email:l.email,emailVerified:!!l.emailVerified,phoneNumber:l.phoneNumber,lastLoginAt:l.lastLoginAt,createdAt:l.createdAt,tenantId:l.tenantId});for(var p=function dx(l){return(l=l.providerUserInfo)&&l.length?Ki(l,function(p){return new H0(p.rawId,p.providerId,p.email,p.displayName,p.photoUrl,p.phoneNumber)}):[]}(l),C=0;C<p.length;C++)ey(this,p[C]);vu(this,"isAnonymous",!(this.email&&l.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new kf("userReloaded",{hd:l}))},ie.Lc=function(l){return Ui("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(l)},ie.ub=function(l){var p=this,C=null;return Ys(this,l.c(this.a,this.uid).then(function(k){return yu(p,k),C=Xm(p,k,"reauthenticate"),p.i=null,p.reload()}).then(function(){return C}),!0)},ie.Cc=function(l){return Ui("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(l)},ie.rb=function(l){var p=this,C=null;return Ys(this,iy(this,l.providerId).then(function(){return p.I()}).then(function(k){return l.b(p.a,k)}).then(function(k){return C=Xm(p,k,"link"),pw(p,k)}).then(function(){return C}))},ie.Dc=function(l,p){var C=this;return Ys(this,iy(this,"phone").then(function(){return ox(dw(C),l,p,Ut(C.rb,C))}))},ie.Mc=function(l,p){var C=this;return Ys(this,ri().then(function(){return ox(dw(C),l,p,Ut(C.ub,C))}),!0)},ie.Cb=function(l){var p=this;return Ys(this,this.I().then(function(C){return p.a.Cb(C,l)}).then(function(C){return yu(p,C),p.reload()}))},ie.ed=function(l){var p=this;return Ys(this,this.I().then(function(C){return l.b(p.a,C)}).then(function(C){return yu(p,C),p.reload()}))},ie.Db=function(l){var p=this;return Ys(this,this.I().then(function(C){return p.a.Db(C,l)}).then(function(C){return yu(p,C),p.reload()}))},ie.Eb=function(l){if(void 0===l.displayName&&void 0===l.photoURL)return Np(this);var p=this;return Ys(this,this.I().then(function(C){return p.a.Eb(C,{displayName:l.displayName,photoUrl:l.photoURL})}).then(function(C){return yu(p,C),vu(p,"displayName",C.displayName||null),vu(p,"photoURL",C.photoUrl||null),vr(p.providerData,function(k){"password"===k.providerId&&(An(k,"displayName",p.displayName),An(k,"photoURL",p.photoURL))}),oc(p)}).then(fw))},ie.cd=function(l){var p=this;return Ys(this,ty(this).then(function(C){return Bn(E_(p),l)?function gu(l,p,C){return Tr(l,Vm,{idToken:p,deleteProvider:C})}(p.a,C,[l]).then(function(k){var U={};return vr(k.providerUserInfo||[],function(K){U[K.providerId]=!0}),vr(E_(p),function(K){U[K]||$0(p,K)}),U[Qo.PROVIDER_ID]||An(p,"phoneNumber",null),oc(p)}):oc(p).then(function(){throw new be("no-such-provider")})}))},ie.delete=function(){var l=this;return Ys(this,this.I().then(function(p){return Tr(l.a,C0,{idToken:p})}).then(function(){l.dispatchEvent(new kf("userDeleted"))})).then(function(){for(var p=0;p<l.N.length;p++)l.N[p].cancel("app-deleted");uw(l,null),G0(l,null),Z0(l,null),l.N=[],l.J=!0,z0(l),An(l,"refreshToken",null),l.b&&zv(l.b,l)})},ie.Gb=function(l,p){return!!("linkViaPopup"==l&&(this.g||null)==p&&this.f||"reauthViaPopup"==l&&(this.g||null)==p&&this.f||"linkViaRedirect"==l&&(this.ga||null)==p||"reauthViaRedirect"==l&&(this.ga||null)==p)},ie.na=function(l,p,C,k){"linkViaPopup"!=l&&"reauthViaPopup"!=l||k!=(this.g||null)||(C&&this.C?this.C(C):p&&!C&&this.f&&this.f(p),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},ie.Fa=function(l,p){return"linkViaPopup"==l&&p==(this.g||null)?Ut(this.Lb,this):"reauthViaPopup"==l&&p==(this.g||null)?Ut(this.Mb,this):"linkViaRedirect"==l&&(this.ga||null)==p?Ut(this.Lb,this):"reauthViaRedirect"==l&&(this.ga||null)==p?Ut(this.Mb,this):null},ie.Ec=function(l){var p=this;return hx(this,"linkViaPopup",l,function(){return iy(p,l.providerId).then(function(){return oc(p)})},!1)},ie.Nc=function(l){return hx(this,"reauthViaPopup",l,function(){return ri()},!0)},ie.Fc=function(l){var p=this;return eg(this,"linkViaRedirect",l,function(){return iy(p,l.providerId)},!1)},ie.Oc=function(l){return eg(this,"reauthViaRedirect",l,function(){return ri()},!0)},ie.Lb=function(l,p,C,k){var U=this;this.c&&(this.c.cancel(),this.c=null);var K=null;return Ys(this,this.I().then(function(se){return Ml(U.a,{requestUri:l,postBody:k,sessionId:p,idToken:se})}).then(function(se){return K=Xm(U,se,"link"),pw(U,se)}).then(function(){return K}))},ie.Mb=function(l,p,C,k){var U=this;this.c&&(this.c.cancel(),this.c=null);var K=null;return Ys(this,ri().then(function(){return va(Mp(U.a,{requestUri:l,sessionId:p,postBody:k,tenantId:C}),U.uid)}).then(function(Ie){return K=Xm(U,Ie,"reauthenticate"),yu(U,Ie),U.i=null,U.reload()}).then(function(){return K}),!0)},ie.vb=function(l){var p=this,C=null;return Ys(this,this.I().then(function(k){return C=k,void 0===l||Pe(l)?{}:yh(new Wg(l))}).then(function(k){return p.a.vb(C,k)}).then(function(k){if(p.email!=k)return p.reload()}).then(function(){}))},ie.Fb=function(l,p){var C=this,k=null;return Ys(this,this.I().then(function(U){return k=U,void 0===p||Pe(p)?{}:yh(new Wg(p))}).then(function(U){return C.a.Fb(k,l,U)}).then(function(U){if(C.email!=U)return C.reload()}).then(function(){}))},ie.jc=function(l){var p=null,C=this;return Ys(this,l=va(ri(l),C.uid).then(function(k){return p=Xm(C,k,"reauthenticate"),yu(C,k),C.i=null,C.reload()}).then(function(){return p}),!0)},ie.toJSON=function(){return this.w()},ie.w=function(){var l={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&_e(l,this.metadata.w()),vr(this.providerData,function(p){l.providerData.push(function zo(l){var C,p={};for(C in l)l.hasOwnProperty(C)&&(p[C]=l[C]);return p}(p))}),_e(l,this.S.w()),l};var mw={name:"redirectUser",F:"session"};function fS(l){return y_(l.b,mw,l.a)}function J0(l){this.a=l,this.b=Ym(),this.c=null,this.f=function Rp(l){var p=Hd("local"),C=Hd("session"),k=Hd("none");return function XC(l,p,C){var k=Wm(p,C),U=zm(l,p.F);return l.get(p,C).then(function(K){var se=null;try{se=Z(de.localStorage.getItem(k))}catch(Ie){}if(se&&!K)return de.localStorage.removeItem(k),l.set(p,se,C);se&&K&&"localStorage"!=U.type&&de.localStorage.removeItem(k)})}(l.b,p,l.a).then(function(){return l.b.get(C,l.a)}).then(function(U){return U?C:l.b.get(k,l.a).then(function(K){return K?k:l.b.get(p,l.a).then(function(se){return se?p:l.b.get(K0,l.a).then(function(Ie){return Ie?Hd(Ie):p})})})}).then(function(U){return l.c=U,co(l,U.F)}).o(function(){l.c||(l.c=p)})}(this),this.b.addListener(Hd("local"),this.a,Ut(this.g,this))}function co(l,p){var k,C=[];for(k in Hv)Hv[k]!==p&&C.push(y_(l.b,Hd(Hv[k]),l.a));return C.push(y_(l.b,K0,l.a)),function rp(l){return new zi(function(p,C){var k=l.length,U=[];if(k)for(var K=function(tn,qi){k--,U[tn]=qi,0==k&&p(U)},se=function(tn){C(tn)},Ie=0;Ie<l.length;Ie++)xc(l[Ie],kn(K,Ie),se);else p(U)})}(C)}J0.prototype.g=function(){var l=this,p=Hd("local");Ro(this,function(){return ri().then(function(){return l.c&&"local"!=l.c.F?l.b.get(p,l.a):null}).then(function(C){if(C)return co(l,"local").then(function(){l.c=p})})})};var K0={name:"persistence",F:"session"};function Hd(l){return{name:"authUser",F:l}}function Of(l,p){return Ro(l,function(){return l.b.set(l.c,p.w(),l.a)})}function gw(l){return Ro(l,function(){return y_(l.b,l.c,l.a)})}function X0(l,p,C){return Ro(l,function(){return l.b.get(l.c,l.a).then(function(k){return k&&p&&(k.authDomain=p),k&&C&&(k.emulatorConfig=C),hS(k||{})})})}function Ro(l,p){return l.f=l.f.then(p,p),l.f}function Fh(l){if(this.l=!1,An(this,"settings",new ew),An(this,"app",l),!io(this).options||!io(this).options.apiKey)throw new be("invalid-api-key");l=r.default.SDK_VERSION?gh(r.default.SDK_VERSION):null,this.a=new tc(io(this).options&&io(this).options.apiKey,gn(di),l),this.P=[],this.s=[],this.N=[],this.Pa=r.default.INTERNAL.createSubscribe(Ut(this.zc,this)),this.W=void 0,this.ib=r.default.INTERNAL.createSubscribe(Ut(this.Ac,this)),oy(this,null),this.i=new J0(io(this).options.apiKey+":"+io(this).name),this.D=new px(io(this).options.apiKey+":"+io(this).name),this.$=Cs(this,function zs(l){var p=io(l).options.authDomain,C=function ba(l){var p=function Lh(l,p){return l.b.get(mw,l.a).then(function(C){return C&&p&&(C.authDomain=p),hS(C||{})})}(l.D,io(l).options.authDomain).then(function(C){return(l.m=C)&&(C.ha=l.D),fS(l.D)});return Cs(l,p)}(l).then(function(){return X0(l.i,p,l.R)}).then(function(k){return k?(k.ha=l.D,l.m&&(l.m.ga||null)==(k.ga||null)?k:k.reload().then(function(){return Of(l.i,k).then(function(){return k})}).o(function(U){return"auth/network-request-failed"==U.code?k:gw(l.i)})):null}).then(function(k){oy(l,k||null)});return Cs(l,C)}(this)),this.h=Cs(this,function Ar(l){return l.$.then(function(){return bw(l)}).o(function(){}).then(function(){if(!l.l)return l.ja()}).o(function(){}).then(function(){if(!l.l){l.ba=!0;var p=l.i;p.b.addListener(Hd("local"),p.a,l.ja)}})}(this)),this.ba=!1,this.ja=Ut(this.Zc,this),this.Ba=Ut(this.da,this),this.qa=Ut(this.mc,this),this.za=Ut(this.wc,this),this.Aa=Ut(this.xc,this),this.b=null,function yw(l){var p=io(l).options.authDomain,C=io(l).options.apiKey;p&&un()&&(l.Oa=l.$.then(function(){if(!l.l){if(l.b=Qv(p,C,io(l).name,l.R),Ih(l.b,l),Qt(l)&&If(Qt(l)),l.m){If(l.m);var k=l.m;k.xa(l.la()),uw(k,l),Km(k=l.m,l.J),Z0(k,l),Zc(k=l.m,l.R),G0(k,l),l.m=null}return l.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=Ut(this.delete,this),this.INTERNAL.logFramework=Ut(this.Gc,this),this.u=0,Gt.call(this),function mS(l){Object.defineProperty(l,"lc",{get:function(){return this.la()},set:function(p){this.xa(p)},enumerable:!1}),l.aa=null,Object.defineProperty(l,"ti",{get:function(){return this.T()},set:function(p){this.zb(p)},enumerable:!1}),l.S=null,Object.defineProperty(l,"emulatorConfig",{get:function(){if(this.R){var p=pa(this.R.url);p=_a({protocol:p.c,host:p.a,port:p.g,options:_a({disableWarnings:this.R.ec})})}else p=null;return p},enumerable:!1})}(this),this.J=[],this.R=null}function M_(l){sr.call(this,"languageCodeChanged"),this.h=l}function _w(l){sr.call(this,"emulatorConfigChanged"),this.c=l}function vw(l){sr.call(this,"frameworkChanged"),this.f=l}function k_(l){return l.Oa||eo(new be("auth-domain-config-required"))}function bw(l){if(!un())return eo(new be("operation-not-supported-in-this-environment"));var p=k_(l).then(function(){return l.b.ra()}).then(function(C){return C?_a(C):null});return Cs(l,p)}function oy(l,p){Qt(l)&&(function W0(l,p){rr(l.W,function(C){return C==p})}(Qt(l),l.Ba),Gs(Qt(l),"tokenChanged",l.qa),Gs(Qt(l),"userDeleted",l.za),Gs(Qt(l),"userInvalidated",l.Aa),z0(Qt(l))),p&&(p.W.push(l.Ba),Os(p,"tokenChanged",l.qa),Os(p,"userDeleted",l.za),Os(p,"userInvalidated",l.Aa),0<l.u&&Y0(p)),An(l,"currentUser",p),p&&(p.xa(l.la()),uw(p,l),Km(p,l.J),Z0(p,l),Zc(p,l.R),G0(p,l))}function Lf(l,p){var C=null,k=null;return Cs(l,p.then(function(U){return C=Dm(U),k=Qg(U),function ww(l,p){var C={};return C.apiKey=io(l).options.apiKey,C.authDomain=io(l).options.authDomain,C.appName=io(l).name,l.R&&(C.emulatorConfig=l.R),l.$.then(function(){return function ry(l,p,C,k){var U=new rc(l,p);return C&&(U.ha=C),k&&Km(U,k),U.reload().then(function(){return U})}(C,p,l.D,l.Ga())}).then(function(k){return Qt(l)&&k.uid==Qt(l).uid?(Q0(Qt(l),k),l.da(k)):(oy(l,k),If(k),l.da(k))}).then(function(){Nh(l)})}(l,U)},function(U){var K=null;throw U&&"auth/multi-factor-auth-required"===U.code&&(K=Jm(U.w(),l,Ut(l.kc,l))),K||U}).then(function(){return _a({user:Qt(l),credential:C,additionalUserInfo:k,operationType:"signIn"})}))}function io(l){return l.app}function Qt(l){return l.currentUser}function Mr(l){return Qt(l)&&Qt(l)._lat||null}function Nh(l){if(l.ba){for(var p=0;p<l.s.length;p++)l.s[p]&&l.s[p](Mr(l));if(l.W!==l.getUid()&&l.N.length)for(l.W=l.getUid(),p=0;p<l.N.length;p++)l.N[p]&&l.N[p](Mr(l))}}function Cs(l,p){return l.P.push(p),p.oa(function(){Jr(l.P,p)}),p}function Pp(){}function ng(){this.a={},this.b=1e12}J0.prototype.yb=function(l){var p=null,C=this;return function Gc(l){var p=new be("invalid-persistence-type"),C=new be("unsupported-persistence-type");e:{for(k in Hv)if(Hv[k]==l){var k=!0;break e}k=!1}if(!k||"string"!=typeof l)throw p;switch(Dn()){case"ReactNative":if("session"===l)throw C;break;case"Node":if("none"!==l)throw C;break;case"Worker":if("session"===l||!Ni()&&"none"!==l)throw C;break;default:if(!Yl()&&"none"!==l)throw C}}(l),Ro(this,function(){return l!=C.c.F?C.b.get(C.c,C.a).then(function(k){return p=k,co(C,l)}).then(function(){if(C.c=Hd(l),p)return C.b.set(C.c,p,C.a)}):ri()})},Xe(Fh,Gt),Xe(M_,sr),Xe(_w,sr),Xe(vw,sr),(ie=Fh.prototype).yb=function(l){return Cs(this,l=this.i.yb(l))},ie.xa=function(l){this.aa===l||this.l||(this.aa=l,xv(this.a,this.aa),this.dispatchEvent(new M_(this.la())))},ie.la=function(){return this.aa},ie.fd=function(){var l=de.navigator;this.xa(l&&(l.languages&&l.languages[0]||l.language||l.userLanguage)||null)},ie.gd=function(l,p){if(!this.R){if(!/^https?:\/\//.test(l))throw new be("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function pS(l){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),de.document&&!l&&Ic().then(function(){var p=de.document.createElement("div");p.innerText="Running in emulator mode. Do not use with production credentials.",p.style.position="fixed",p.style.width="100%",p.style.backgroundColor="#ffffff",p.style.border=".1em solid #000000",p.style.color="#b50000",p.style.bottom="0px",p.style.left="0px",p.style.margin="0px",p.style.zIndex=1e4,p.style.textAlign="center",p.classList.add("firebase-emulator-warning"),de.document.body.appendChild(p)})})(p=!!p&&!!p.disableWarnings),this.R={url:l,ec:p},this.settings.jb=!0,Dl(this.a,this.R),this.dispatchEvent(new _w(this.R))}},ie.Gc=function(l){this.J.push(l),f0(this.a,r.default.SDK_VERSION?gh(r.default.SDK_VERSION,this.J):null),this.dispatchEvent(new vw(this.J))},ie.Ga=function(){return Rr(this.J)},ie.zb=function(l){this.S===l||this.l||(this.S=l,this.a.b=this.S)},ie.T=function(){return this.S},ie.toJSON=function(){return{apiKey:io(this).options.apiKey,authDomain:io(this).options.authDomain,appName:io(this).name,currentUser:Qt(this)&&Qt(this).w()}},ie.Gb=function(l,p){switch(l){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==p&&!!this.f;default:return!1}},ie.na=function(l,p,C,k){"signInViaPopup"==l&&this.g==k&&(C&&this.C?this.C(C):p&&!C&&this.f&&this.f(p),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},ie.Fa=function(l,p){return"signInViaRedirect"==l||"signInViaPopup"==l&&this.g==p&&this.f?Ut(this.ic,this):null},ie.ic=function(l,p,C,k){var U=this,K={requestUri:l,postBody:k,sessionId:p,tenantId:C};return this.c&&(this.c.cancel(),this.c=null),U.$.then(function(){return Lf(U,y0(U.a,K))})},ie.Xc=function(l){if(!un())return eo(new be("operation-not-supported-in-this-environment"));var p=this,C=ff(l.providerId),k=X(),U=null;(!G()||go())&&io(this).options.authDomain&&l.isOAuthProvider&&(U=In(io(this).options.authDomain,io(this).options.apiKey,io(this).name,"signInViaPopup",l,null,k,r.default.SDK_VERSION||null,null,null,this.T(),this.R));var K=Ka(U,C&&C.va,C&&C.ua);return Cs(this,C=k_(this).then(function(se){return P0(se,K,"signInViaPopup",l,k,!!U,p.T())}).then(function(){return new zi(function(se,Ie){p.na("signInViaPopup",null,new be("cancelled-popup-request"),p.g),p.f=se,p.C=Ie,p.g=k,p.c=U0(p.b,p,"signInViaPopup",K,k)})}).then(function(se){return K&&ra(K),se?_a(se):null}).o(function(se){throw K&&ra(K),se}))},ie.Yc=function(l){if(!un())return eo(new be("operation-not-supported-in-this-environment"));var p=this,C=k_(this).then(function(){return function mx(l){return Ro(l,function(){return l.b.set(K0,l.c.F,l.a)})}(p.i)}).then(function(){return B0(p.b,"signInViaRedirect",l,void 0,p.T())});return Cs(this,C)},ie.ra=function(){var l=this;return bw(this).then(function(p){return l.b&&qa(l.b.b),p}).o(function(p){throw l.b&&qa(l.b.b),p})},ie.dd=function(l){if(!l)return eo(new be("null-user"));if(this.S!=l.tenantId)return eo(new be("tenant-id-mismatch"));var p=this,C={};C.apiKey=io(this).options.apiKey,C.authDomain=io(this).options.authDomain,C.appName=io(this).name;var k=function fx(l,p,C,k){var U=l.h,K={};return K[nc]=U.b&&U.b.toString(),K.refreshToken=U.a,p=new rc(p||{apiKey:l.l,authDomain:l.s,appName:l.m},K),C&&(p.ha=C),k&&Km(p,k),Q0(p,l),p}(l,C,p.D,p.Ga());return Cs(this,this.h.then(function(){if(io(p).options.apiKey!=l.l)return k.reload()}).then(function(){return Qt(p)&&l.uid==Qt(p).uid?(Q0(Qt(p),l),p.da(l)):(oy(p,k),If(k),p.da(k))}).then(function(){Nh(p)}))},ie.Bb=function(){var l=this;return Cs(this,this.h.then(function(){return l.b&&qa(l.b.b),Qt(l)?(oy(l,null),gw(l.i).then(function(){Nh(l)})):ri()}))},ie.Zc=function(){var l=this;return X0(this.i,io(this).options.authDomain).then(function(p){if(!l.l){var C;if(C=Qt(l)&&p){C=Qt(l).uid;var k=p.uid;C=null!=C&&""!==C&&null!=k&&""!==k&&C==k}if(C)return Q0(Qt(l),p),Qt(l).I();(Qt(l)||p)&&(oy(l,p),p&&(If(p),p.ha=l.D),l.b&&Ih(l.b,l),Nh(l))}})},ie.da=function(l){return Of(this.i,l)},ie.mc=function(){Nh(this),this.da(Qt(this))},ie.wc=function(){this.Bb()},ie.xc=function(){this.Bb()},ie.kc=function(l){var p=this;return this.h.then(function(){return Lf(p,ri(l))})},ie.zc=function(l){var p=this;this.addAuthTokenListener(function(){l.next(Qt(p))})},ie.Ac=function(l){var p=this;!function pr(l,p){l.N.push(p),Cs(l,l.h.then(function(){!l.l&&Bn(l.N,p)&&l.W!==l.getUid()&&(l.W=l.getUid(),p(Mr(l)))}))}(this,function(){l.next(Qt(p))})},ie.Ic=function(l,p,C){var k=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof l?l(Qt(k)):"function"==typeof l.next&&l.next(Qt(k))}),this.Pa(l,p,C)},ie.Hc=function(l,p,C){var k=this;return this.ba&&Promise.resolve().then(function(){k.W=k.getUid(),"function"==typeof l?l(Qt(k)):"function"==typeof l.next&&l.next(Qt(k))}),this.ib(l,p,C)},ie.nc=function(l){var p=this;return Cs(this,this.h.then(function(){return Qt(p)?Qt(p).I(l).then(function(k){return{accessToken:k}}):null}))},ie.Tc=function(l){var p=this;return this.h.then(function(){return Lf(p,Tr(p.a,N1,{token:l}))}).then(function(C){var k=C.user;return vu(k,"isAnonymous",!1),p.da(k),C})},ie.Uc=function(l,p){var C=this;return this.h.then(function(){return Lf(C,Tr(C.a,kl,{email:l,password:p}))})},ie.dc=function(l,p){var C=this;return this.h.then(function(){return Lf(C,Tr(C.a,jm,{email:l,password:p}))})},ie.ab=function(l){var p=this;return this.h.then(function(){return Lf(p,l.ka(p.a))})},ie.Sc=function(l){return Ui("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(l)},ie.Ab=function(){var l=this;return this.h.then(function(){var p=Qt(l);if(p&&p.isAnonymous){var C=_a({providerId:null,isNewUser:!1});return _a({user:p,credential:null,additionalUserInfo:C,operationType:"signIn"})}return Lf(l,l.a.Ab()).then(function(k){var U=k.user;return vu(U,"isAnonymous",!0),l.da(U),k})})},ie.getUid=function(){return Qt(this)&&Qt(this).uid||null},ie.cc=function(l){this.addAuthTokenListener(l),this.u++,0<this.u&&Qt(this)&&Y0(Qt(this))},ie.Pc=function(l){var p=this;vr(this.s,function(C){C==l&&p.u--}),0>this.u&&(this.u=0),0==this.u&&Qt(this)&&z0(Qt(this)),this.removeAuthTokenListener(l)},ie.addAuthTokenListener=function(l){var p=this;this.s.push(l),Cs(this,this.h.then(function(){p.l||Bn(p.s,l)&&l(Mr(p))}))},ie.removeAuthTokenListener=function(l){rr(this.s,function(p){return p==l})},ie.delete=function(){this.l=!0;for(var l=0;l<this.P.length;l++)this.P[l].cancel("app-deleted");return this.P=[],this.i&&(l=this.i).b.removeListener(Hd("local"),l.a,this.ja),this.b&&(zv(this.b,this),qa(this.b.b)),Promise.resolve()},ie.hc=function(l){return Cs(this,function g0(l,p){return Tr(l,w0,{identifier:p,continueUri:zl()?Cl():"http://localhost"}).then(function(C){return C.signinMethods||[]})}(this.a,l))},ie.Bc=function(l){return!!Rd(l)},ie.xb=function(l,p){var C=this;return Cs(this,ri().then(function(){var k=new Wg(p);if(!k.c)throw new be("argument-error",Ps+" must be true when sending sign in link to email");return yh(k)}).then(function(k){return C.a.xb(l,k)}).then(function(){}))},ie.jd=function(l){return this.Sa(l).then(function(p){return p.data.email})},ie.ob=function(l,p){return Cs(this,this.a.ob(l,p).then(function(){}))},ie.Sa=function(l){return Cs(this,this.a.Sa(l).then(function(p){return new us(p)}))},ie.kb=function(l){return Cs(this,this.a.kb(l).then(function(){}))},ie.wb=function(l,p){var C=this;return Cs(this,ri().then(function(){return void 0===p||Pe(p)?{}:yh(new Wg(p))}).then(function(k){return C.a.wb(l,k)}).then(function(){}))},ie.Wc=function(l,p){return Cs(this,ox(this,l,p,Ut(this.ab,this)))},ie.Vc=function(l,p){var C=this;return Cs(this,ri().then(function(){var k=p||Cl(),U=_f(l,k);if(!(k=Rd(k)))throw new be("argument-error","Invalid email link!");if(k.tenantId!==C.T())throw new be("tenant-id-mismatch");return C.ab(U)}))},Pp.prototype.render=function(){},Pp.prototype.reset=function(){},Pp.prototype.getResponse=function(){},Pp.prototype.execute=function(){};var I_=null;function gx(l,p){return(p=Cw(p))&&l.a[p]||null}function Cw(l){return(l=void 0===l?1e12:l)?l.toString():null}function Bp(l,p){this.g=!1,this.c=p,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ki(l);var C=this;this.i=function(){C.execute()},this.h?this.execute():Os(this.f,"click",this.i)}function eb(l){if(l.g)throw Error("reCAPTCHA mock was already deleted!")}function sy(){}function ig(){}ng.prototype.render=function(l,p){return this.a[this.b.toString()]=new Bp(l,p),this.b++},ng.prototype.reset=function(l){var p=gx(this,l);l=Cw(l),p&&l&&(p.delete(),delete this.a[l])},ng.prototype.getResponse=function(l){return(l=gx(this,l))?l.getResponse():null},ng.prototype.execute=function(l){(l=gx(this,l))&&l.execute()},Bp.prototype.getResponse=function(){return eb(this),this.b},Bp.prototype.execute=function(){eb(this);var l=this;this.a||(this.a=setTimeout(function(){l.b=function Io(){for(var l=50,p=[];0<l;)p.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),l--;return p.join("")}();var p=l.c.callback,C=l.c["expired-callback"];if(p)try{p(l.b)}catch(k){}l.a=setTimeout(function(){if(l.a=null,l.b=null,C)try{C()}catch(k){}l.h&&l.execute()},6e4)},500))},Bp.prototype.delete=function(){eb(this),this.g=!0,clearTimeout(this.a),this.a=null,Gs(this.f,"click",this.i)},An(sy,"FACTOR_ID","phone"),ig.prototype.g=function(){return I_||(I_=new ng),ri(I_)},ig.prototype.c=function(){};var Up=null;function xw(){this.b=de.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var ay=new Ve(ln,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),gS=new Ye(3e4,6e4);xw.prototype.g=function(l){var p=this;return new zi(function(C,k){var U=setTimeout(function(){k(new be("network-request-failed"))},gS.get());!de.grecaptcha||l!==p.f&&!p.b?(de[p.a]=function(){if(de.grecaptcha){p.f=l;var se=de.grecaptcha.render;de.grecaptcha.render=function(Ie,Nt){return Ie=se(Ie,Nt),p.b++,Ie},clearTimeout(U),C(de.grecaptcha)}else clearTimeout(U),k(new be("internal-error"));delete de[p.a]},ri(Pm(bo(ay,{onload:p.a,hl:l||""}))).o(function(){clearTimeout(U),k(new be("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(U),C(de.grecaptcha))})},xw.prototype.c=function(){this.b--};var Tw=null;function ly(l,p,C,k,U,K,se){if(An(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=p,this.g=null,se?(Up||(Up=new ig),se=Up):(Tw||(Tw=new xw),se=Tw),this.m=se,this.a=C||{theme:"light",type:"image"},this.h=[],this.a[rl])throw new be("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[rg],!de.document)throw new be("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ki(p)||!this.i&&ki(p).hasChildNodes())throw new be("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new tc(l,K||null,U||null),this.u=k||function(){return null};var Ie=this;this.l=[];var Nt=this.a[Gd];this.a[Gd]=function(qi){if(cy(Ie,qi),"function"==typeof Nt)Nt(qi);else if("string"==typeof Nt){var To=to(Nt,de);"function"==typeof To&&To(qi)}};var tn=this.a[O_];this.a[O_]=function(){if(cy(Ie,null),"function"==typeof tn)tn();else if("string"==typeof tn){var qi=to(tn,de);"function"==typeof qi&&qi()}}}var Gd="callback",O_="expired-callback",rl="sitekey",rg="size";function cy(l,p){for(var C=0;C<l.l.length;C++)try{l.l[C](p)}catch(k){}}function tb(l,p){return l.h.push(p),p.oa(function(){Jr(l.h,p)}),p}function jp(l){if(l.J)throw new be("internal-error","RecaptchaVerifier instance has been destroyed.")}function Vp(l,p,C){var k=!1;try{this.b=C||r.default.app()}catch(se){throw new be("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new be("invalid-api-key");C=this.b.options.apiKey;var U=this,K=null;try{K=this.b.auth().Ga()}catch(se){}try{k=this.b.auth().settings.appVerificationDisabledForTesting}catch(se){}K=r.default.SDK_VERSION?gh(r.default.SDK_VERSION,K):null,ly.call(this,C,l,p,function(){try{var se=U.b.auth().la()}catch(Ie){se=null}return se},K,gn(di),k)}function og(l,p,C,k){e:{C=Array.prototype.slice.call(C);for(var U=0,K=!1,se=0;se<p.length;se++)if(p[se].optional)K=!0;else{if(K)throw new be("internal-error","Argument validator encountered a required argument after an optional argument.");U++}if(K=p.length,C.length<U||K<C.length)k="Expected "+(U==K?1==U?"1 argument":U+" arguments":U+"-"+K+" arguments")+" but got "+C.length+".";else{for(U=0;U<C.length;U++)if(K=p[U].optional&&void 0===C[U],!p[U].M(C[U])&&!K){if(p=p[U],0>U||U>=Rh.length)throw new be("internal-error","Argument validator received an unsupported number of arguments.");C=Rh[U],k=(k?"":C+" argument ")+(p.name?'"'+p.name+'" ':"")+"must be "+p.K+".";break e}k=null}}if(k)throw new be("argument-error",l+" failed: "+k)}(ie=ly.prototype).Ia=function(){var l=this;return this.f?this.f:this.f=tb(this,ri().then(function(){if(zl()&&!ys())return Ic();throw new be("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return l.m.g(l.u())}).then(function(p){return l.g=p,Tr(l.s,Ov,{})}).then(function(p){l.a[rl]=p.recaptchaSiteKey}).o(function(p){throw l.f=null,p}))},ie.render=function(){jp(this);var l=this;return tb(this,this.Ia().then(function(){if(null===l.c){var p=l.v;if(!l.i){var C=ki(p);p=function gs(l,p,C){var k=arguments,U=document,K=String(k[0]),se=k[1];if(!Yi&&se&&(se.name||se.type)){if(K=["<",K],se.name&&K.push(' name="',bc(se.name),'"'),se.type){K.push(' type="',bc(se.type),'"');var Ie={};_e(Ie,se),delete Ie.type,se=Ie}K.push(">"),K=K.join("")}return K=wd(U,K),se&&("string"==typeof se?K.className=se:Array.isArray(se)?K.className=se.join(" "):ss(K,se)),2<k.length&&ta(U,K,k),K}("DIV"),C.appendChild(p)}l.c=l.g.render(p,l.a)}return l.c}))},ie.verify=function(){jp(this);var l=this;return tb(this,this.render().then(function(p){return new zi(function(C){var k=l.g.getResponse(p);if(k)C(k);else{var U=function(K){K&&(function Ju(l,p){rr(l.l,function(C){return C==p})}(l,U),C(K))};l.l.push(U),l.i&&l.g.execute(l.c)}})}))},ie.reset=function(){jp(this),null!==this.c&&this.g.reset(this.c)},ie.clear=function(){jp(this),this.J=!0,this.m.c();for(var l=0;l<this.h.length;l++)this.h[l].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){l=ki(this.v);for(var p;p=l.firstChild;)l.removeChild(p)}},Xe(Vp,ly);var Rh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function zn(l,p){return{name:l||"",K:"a valid string",optional:!!p,M:function(C){return"string"==typeof C}}}function Ff(l,p){return{name:l||"",K:"a boolean",optional:!!p,M:function(C){return"boolean"==typeof C}}}function Jo(l,p){return{name:l||"",K:"a valid object",optional:!!p,M:Ft}}function Zd(l,p){return{name:l||"",K:"a function",optional:!!p,M:function(C){return"function"==typeof C}}}function sc(l,p){return{name:l||"",K:"null",optional:!!p,M:function(C){return null===C}}}function Yc(l){return{name:l?l+"Credential":"credential",K:l?"a valid "+l+" credential":"a valid credential",optional:!1,M:function(p){return!!p&&!(!p.ka||l&&p.providerId!==l)}}}function nb(l,p){return Ft(l)&&"string"==typeof l.type&&l.type===p&&"function"==typeof l.Ha}function bx(l){return Ft(l)&&"string"==typeof l.uid}function aa(l,p,C,k){return{name:C||"",K:l.K+" or "+p.K,optional:!!k,M:function(U){return l.M(U)||p.M(U)}}}function xs(l,p){for(var C in p){var k=p[C].name;l[k]=Sw(k,l[C],p[C].j)}}function Ko(l,p){for(var C in p){var k=p[C].name;k!==C&&Object.defineProperty(l,k,{get:kn(function(U){return this[U]},C),set:kn(function(U,K,se,Ie){og(U,[se],[Ie],!0),this[K]=Ie},k,C,p[C].lb),enumerable:!0})}}function Po(l,p,C,k){l[p]=Sw(p,C,k)}function Sw(l,p,C){function k(){var se=Array.prototype.slice.call(arguments);return og(U,C,se),p.apply(this,se)}if(!C)return p;var K,U=function _S(l){return(l=l.split("."))[l.length-1]}(l);for(K in p)k[K]=p[K];for(K in p.prototype)k.prototype[K]=p.prototype[K];return k}xs(Fh.prototype,{kb:{name:"applyActionCode",j:[zn("code")]},Sa:{name:"checkActionCode",j:[zn("code")]},ob:{name:"confirmPasswordReset",j:[zn("code"),zn("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[zn("email"),zn("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[zn("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[zn("emailLink")]},Hc:{name:"onAuthStateChanged",j:[aa(Jo(),Zd(),"nextOrObserver"),Zd("opt_error",!0),Zd("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[aa(Jo(),Zd(),"nextOrObserver"),Zd("opt_error",!0),Zd("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[zn("email"),aa(Jo("opt_actionCodeSettings",!0),sc(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[zn("email"),Jo("actionCodeSettings")]},yb:{name:"setPersistence",j:[zn("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Yc()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Yc()]},Tc:{name:"signInWithCustomToken",j:[zn("token")]},Uc:{name:"signInWithEmailAndPassword",j:[zn("email"),zn("password")]},Vc:{name:"signInWithEmailLink",j:[zn("email"),zn("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[zn("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(l){return!(!l||"string"!=typeof l.type||"function"!=typeof l.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(l){return!!(l&&l.providerId&&l.hasOwnProperty&&l.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(l){return!!(l&&l.providerId&&l.hasOwnProperty&&l.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[aa({name:"user",K:"an instance of Firebase User",optional:!1,M:function(p){return!!(p&&p instanceof rc)}},sc(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[zn(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[zn("url"),Jo("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[zn("code")]}}),Ko(Fh.prototype,{lc:{name:"languageCode",lb:aa(zn(),sc(),"languageCode")},ti:{name:"tenantId",lb:aa(zn(),sc(),"tenantId")}}),(Fh.Persistence=Hv).LOCAL="local",Fh.Persistence.SESSION="session",Fh.Persistence.NONE="none",xs(rc.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Ff("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Ff("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Yc()]},rb:{name:"linkWithCredential",j:[Yc()]},Dc:{name:"linkWithPhoneNumber",j:[zn("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(l){return!(!l||"string"!=typeof l.type||"function"!=typeof l.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(l){return!!(l&&l.providerId&&l.hasOwnProperty&&l.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(l){return!!(l&&l.providerId&&l.hasOwnProperty&&l.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Yc()]},ub:{name:"reauthenticateWithCredential",j:[Yc()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[zn("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(l){return!(!l||"string"!=typeof l.type||"function"!=typeof l.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(l){return!!(l&&l.providerId&&l.hasOwnProperty&&l.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(l){return!!(l&&l.providerId&&l.hasOwnProperty&&l.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[aa(Jo("opt_actionCodeSettings",!0),sc(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[zn(null,!0)]},cd:{name:"unlink",j:[zn("provider")]},Cb:{name:"updateEmail",j:[zn("email")]},Db:{name:"updatePassword",j:[zn("password")]},ed:{name:"updatePhoneNumber",j:[Yc("phone")]},Eb:{name:"updateProfile",j:[Jo("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[zn("email"),aa(Jo("opt_actionCodeSettings",!0),sc(null,!0),"opt_actionCodeSettings",!0)]}}),xs(ng.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),xs(Pp.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),xs(zi.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Ko(ew.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Ff("appVerificationDisabledForTesting")}}),xs(tw.prototype,{confirm:{name:"confirm",j:[zn("verificationCode")]}}),Po(Ra,"fromJSON",function(l){l="string"==typeof l?JSON.parse(l):l;for(var p,C=[Am,Nd,du,gv],k=0;k<C.length;k++)if(p=C[k](l))return p;return null},[aa(zn(),Jo(),"json")]),Po(bs,"credential",function(l,p){return new Al(l,p)},[zn("email"),zn("password")]),xs(Al.prototype,{w:{name:"toJSON",j:[zn(null,!0)]}}),xs(el.prototype,{Ca:{name:"addScope",j:[zn("scope")]},Ka:{name:"setCustomParameters",j:[Jo("customOAuthParameters")]}}),Po(el,"credential",vp,[aa(zn(),Jo(),"token")]),Po(bs,"credentialWithLink",_f,[zn("email"),zn("emailLink")]),xs(Ld.prototype,{Ca:{name:"addScope",j:[zn("scope")]},Ka:{name:"setCustomParameters",j:[Jo("customOAuthParameters")]}}),Po(Ld,"credential",t_,[aa(zn(),Jo(),"token")]),xs(Fd.prototype,{Ca:{name:"addScope",j:[zn("scope")]},Ka:{name:"setCustomParameters",j:[Jo("customOAuthParameters")]}}),Po(Fd,"credential",c0,[aa(zn(),aa(Jo(),sc()),"idToken"),aa(zn(),sc(),"accessToken",!0)]),xs(Yu.prototype,{Ka:{name:"setCustomParameters",j:[Jo("customOAuthParameters")]}}),Po(Yu,"credential",Jl,[aa(zn(),Jo(),"token"),zn("secret",!0)]),xs(Ql.prototype,{Ca:{name:"addScope",j:[zn("scope")]},credential:{name:"credential",j:[aa(zn(),aa(Jo(),sc()),"optionsOrIdToken"),aa(zn(),sc(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Jo("customOAuthParameters")]}}),xs(Pa.prototype,{w:{name:"toJSON",j:[zn(null,!0)]}}),xs($l.prototype,{w:{name:"toJSON",j:[zn(null,!0)]}}),Po(Qo,"credential",xh,[zn("verificationId"),zn("verificationCode")]),xs(Qo.prototype,{gb:{name:"verifyPhoneNumber",j:[aa(zn(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(C){return!!C&&(C.session&&C.phoneNumber?nb(C.session,mf)&&"string"==typeof C.phoneNumber:C.session&&C.multiFactorHint?nb(C.session,Od)&&bx(C.multiFactorHint):C.session&&C.multiFactorUid?nb(C.session,Od)&&"string"==typeof C.multiFactorUid:!!C.phoneNumber&&"string"==typeof C.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(l){return!(!l||"string"!=typeof l.type||"function"!=typeof l.verify)}}]}}),xs(Nc.prototype,{w:{name:"toJSON",j:[zn(null,!0)]}}),xs(be.prototype,{toJSON:{name:"toJSON",j:[zn(null,!0)]}}),xs(Mm.prototype,{toJSON:{name:"toJSON",j:[zn(null,!0)]}}),xs(i_.prototype,{toJSON:{name:"toJSON",j:[zn(null,!0)]}}),xs(Kv.prototype,{toJSON:{name:"toJSON",j:[zn(null,!0)]}}),xs(nw.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(l){return!!l&&!!l.tb}}]}}),xs(ow.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(l){return!!l&&!!l.tb}},zn("displayName",!0)]},bd:{name:"unenroll",j:[aa({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:bx},zn(),"multiFactorInfoIdentifier")]}}),xs(Vp.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Po(Yg,"parseLink",zg,[zn("link")]),Po(sy,"assertion",function(l){return new Oh(l)},[Yc("phone")]),function(){if(void 0===r.default||!r.default.INTERNAL||!r.default.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var l={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:cf,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Zg,VERIFY_AND_CHANGE_EMAIL:uf,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Fh,AuthCredential:Ra,Error:be};Po(l,"EmailAuthProvider",bs,[]),Po(l,"FacebookAuthProvider",el,[]),Po(l,"GithubAuthProvider",Ld,[]),Po(l,"GoogleAuthProvider",Fd,[]),Po(l,"TwitterAuthProvider",Yu,[]),Po(l,"OAuthProvider",Ql,[zn("providerId")]),Po(l,"SAMLAuthProvider",e_,[zn("providerId")]),Po(l,"PhoneAuthProvider",Qo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(l){return!!(l&&l instanceof Fh)}}]),Po(l,"RecaptchaVerifier",Vp,[aa(zn(),{name:"",K:"an HTML element",optional:!1,M:function(l){return!!(l&&l instanceof Element)}},"recaptchaContainer"),Jo("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(l){return!!(l&&l instanceof r.default.app.App)}}]),Po(l,"ActionCodeURL",Yg,[]),Po(l,"PhoneMultiFactorGenerator",sy,[]),r.default.INTERNAL.registerComponent({name:"auth",instanceFactory:function(p){return new Fh(p=p.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:l,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(p){p.getProvider("auth-internal").initialize()}}),r.default.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(p){return{getUid:Ut((p=p.getProvider("auth").getImmediate()).getUid,p),getToken:Ut(p.nc,p),addAuthTokenListener:Ut(p.cc,p),removeAuthTokenListener:Ut(p.Pc,p)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r.default.registerVersion("@firebase/auth","0.16.8"),r.default.INTERNAL.extendNamespace({User:rc})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},2461:(oi,$t,me)=>{"use strict";me.r($t),me.d($t,{Component:()=>Q,ComponentContainer:()=>yt,Provider:()=>wt});var r=me(655),ie=me(492),Q=function(){function ht(de,qe,We){this.name=de,this.instanceFactory=qe,this.type=We,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return ht.prototype.setInstantiationMode=function(de){return this.instantiationMode=de,this},ht.prototype.setMultipleInstances=function(de){return this.multipleInstances=de,this},ht.prototype.setServiceProps=function(de){return this.serviceProps=de,this},ht.prototype.setInstanceCreatedCallback=function(de){return this.onInstanceCreated=de,this},ht}(),Ze="[DEFAULT]",wt=function(){function ht(de,qe){this.name=de,this.container=qe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return ht.prototype.get=function(de){var qe=this.normalizeInstanceIdentifier(de);if(!this.instancesDeferred.has(qe)){var We=new ie.Deferred;if(this.instancesDeferred.set(qe,We),this.isInitialized(qe)||this.shouldAutoInitialize())try{var xt=this.getOrInitializeService({instanceIdentifier:qe});xt&&We.resolve(xt)}catch(rt){}}return this.instancesDeferred.get(qe).promise},ht.prototype.getImmediate=function(de){var qe,We=this.normalizeInstanceIdentifier(null==de?void 0:de.identifier),xt=null!==(qe=null==de?void 0:de.optional)&&void 0!==qe&&qe;if(!this.isInitialized(We)&&!this.shouldAutoInitialize()){if(xt)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:We})}catch(rt){if(xt)return null;throw rt}},ht.prototype.getComponent=function(){return this.component},ht.prototype.setComponent=function(de){var qe,We;if(de.name!==this.name)throw Error("Mismatching Component "+de.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=de,this.shouldAutoInitialize()){if(function et(ht){return"EAGER"===ht.instantiationMode}(de))try{this.getOrInitializeService({instanceIdentifier:Ze})}catch(vn){}try{for(var xt=(0,r.__values)(this.instancesDeferred.entries()),rt=xt.next();!rt.done;rt=xt.next()){var kt=(0,r.__read)(rt.value,2),ot=kt[1],Ft=this.normalizeInstanceIdentifier(kt[0]);try{var fn=this.getOrInitializeService({instanceIdentifier:Ft});ot.resolve(fn)}catch(vn){}}}catch(vn){qe={error:vn}}finally{try{rt&&!rt.done&&(We=xt.return)&&We.call(xt)}finally{if(qe)throw qe.error}}}},ht.prototype.clearInstance=function(de){void 0===de&&(de=Ze),this.instancesDeferred.delete(de),this.instancesOptions.delete(de),this.instances.delete(de)},ht.prototype.delete=function(){return(0,r.__awaiter)(this,void 0,void 0,function(){var de;return(0,r.__generator)(this,function(qe){switch(qe.label){case 0:return de=Array.from(this.instances.values()),[4,Promise.all((0,r.__spreadArray)((0,r.__spreadArray)([],(0,r.__read)(de.filter(function(We){return"INTERNAL"in We}).map(function(We){return We.INTERNAL.delete()}))),(0,r.__read)(de.filter(function(We){return"_delete"in We}).map(function(We){return We._delete()}))))];case 1:return qe.sent(),[2]}})})},ht.prototype.isComponentSet=function(){return null!=this.component},ht.prototype.isInitialized=function(de){return void 0===de&&(de=Ze),this.instances.has(de)},ht.prototype.getOptions=function(de){return void 0===de&&(de=Ze),this.instancesOptions.get(de)||{}},ht.prototype.initialize=function(de){var qe,We;void 0===de&&(de={});var xt=de.options,rt=void 0===xt?{}:xt,kt=this.normalizeInstanceIdentifier(de.instanceIdentifier);if(this.isInitialized(kt))throw Error(this.name+"("+kt+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var cn=this.getOrInitializeService({instanceIdentifier:kt,options:rt});try{for(var ot=(0,r.__values)(this.instancesDeferred.entries()),Ft=ot.next();!Ft.done;Ft=ot.next()){var fn=(0,r.__read)(Ft.value,2),qt=fn[1];kt===this.normalizeInstanceIdentifier(fn[0])&&qt.resolve(cn)}}catch(Mt){qe={error:Mt}}finally{try{Ft&&!Ft.done&&(We=ot.return)&&We.call(ot)}finally{if(qe)throw qe.error}}return cn},ht.prototype.onInit=function(de,qe){var We,xt=this.normalizeInstanceIdentifier(qe),rt=null!==(We=this.onInitCallbacks.get(xt))&&void 0!==We?We:new Set;rt.add(de),this.onInitCallbacks.set(xt,rt);var kt=this.instances.get(xt);return kt&&de(kt,xt),function(){rt.delete(de)}},ht.prototype.invokeOnInitCallbacks=function(de,qe){var We,xt,rt=this.onInitCallbacks.get(qe);if(rt)try{for(var kt=(0,r.__values)(rt),cn=kt.next();!cn.done;cn=kt.next()){var ot=cn.value;try{ot(de,qe)}catch(Ft){}}}catch(Ft){We={error:Ft}}finally{try{cn&&!cn.done&&(xt=kt.return)&&xt.call(kt)}finally{if(We)throw We.error}}},ht.prototype.getOrInitializeService=function(de){var qe=de.instanceIdentifier,We=de.options,xt=void 0===We?{}:We,rt=this.instances.get(qe);if(!rt&&this.component&&(rt=this.component.instanceFactory(this.container,{instanceIdentifier:jt(qe),options:xt}),this.instances.set(qe,rt),this.instancesOptions.set(qe,xt),this.invokeOnInitCallbacks(rt,qe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,qe,rt)}catch(kt){}return rt||null},ht.prototype.normalizeInstanceIdentifier=function(de){return void 0===de&&(de=Ze),this.component?this.component.multipleInstances?de:Ze:de},ht.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},ht}();function jt(ht){return ht===Ze?void 0:ht}var yt=function(){function ht(de){this.name=de,this.providers=new Map}return ht.prototype.addComponent=function(de){var qe=this.getProvider(de.name);if(qe.isComponentSet())throw new Error("Component "+de.name+" has already been registered with "+this.name);qe.setComponent(de)},ht.prototype.addOrOverwriteComponent=function(de){this.getProvider(de.name).isComponentSet()&&this.providers.delete(de.name),this.addComponent(de)},ht.prototype.getProvider=function(de){if(this.providers.has(de))return this.providers.get(de);var qe=new wt(de,this);return this.providers.set(de,qe),qe},ht.prototype.getProviders=function(){return Array.from(this.providers.values())},ht}()},6089:(oi,$t,me)=>{"use strict";var r=me(8367),ie=me(2461),Q=me(492),Ze=me(655),wt=me(4003);oi=me.hmd(oi);var yt="";function ht(g){yt=g}var g,de=function(){function g(m){this.domStorage_=m,this.prefix_="firebase:"}return g.prototype.set=function(m,y){null==y?this.domStorage_.removeItem(this.prefixedName_(m)):this.domStorage_.setItem(this.prefixedName_(m),(0,Q.stringify)(y))},g.prototype.get=function(m){var y=this.domStorage_.getItem(this.prefixedName_(m));return null==y?null:(0,Q.jsonEval)(y)},g.prototype.remove=function(m){this.domStorage_.removeItem(this.prefixedName_(m))},g.prototype.prefixedName_=function(m){return this.prefix_+m},g.prototype.toString=function(){return this.domStorage_.toString()},g}(),qe=function(){function g(){this.cache_={},this.isInMemoryStorage=!0}return g.prototype.set=function(m,y){null==y?delete this.cache_[m]:this.cache_[m]=y},g.prototype.get=function(m){return(0,Q.contains)(this.cache_,m)?this.cache_[m]:null},g.prototype.remove=function(m){delete this.cache_[m]},g}(),We=function(g){try{if("undefined"!=typeof window&&void 0!==window[g]){var m=window[g];return m.setItem("firebase:sentinel","cache"),m.removeItem("firebase:sentinel"),new de(m)}}catch(y){}return new qe},xt=We("localStorage"),rt=We("sessionStorage"),kt=new wt.Logger("@firebase/database"),cn=(g=1,function(){return g++}),ot=function(g){var m=(0,Q.stringToByteArray)(g),y=new Q.Sha1;y.update(m);var T=y.digest();return Q.base64.encodeByteArray(T)},Ft=function(){for(var g=[],m=0;m<arguments.length;m++)g[m]=arguments[m];for(var y="",T=0;T<g.length;T++){var I=g[T];Array.isArray(I)||I&&"object"==typeof I&&"number"==typeof I.length?y+=Ft.apply(null,I):y+="object"==typeof I?(0,Q.stringify)(I):I,y+=" "}return y},fn=null,vn=!0,qt=function(g,m){(0,Q.assert)(!m||!0===g||!1===g,"Can't turn on custom loggers persistently."),!0===g?(kt.logLevel=wt.LogLevel.VERBOSE,fn=kt.log.bind(kt),m&&rt.set("logging_enabled",!0)):"function"==typeof g?fn=g:(fn=null,rt.remove("logging_enabled"))},Re=function(){for(var g=[],m=0;m<arguments.length;m++)g[m]=arguments[m];if(!0===vn&&(vn=!1,null===fn&&!0===rt.get("logging_enabled")&&qt(!0)),fn){var y=Ft.apply(null,g);fn(y)}},Mt=function(g){return function(){for(var m=[],y=0;y<arguments.length;y++)m[y]=arguments[y];Re.apply(void 0,(0,Ze.__spreadArray)([g],(0,Ze.__read)(m)))}},Ut=function(){for(var g=[],m=0;m<arguments.length;m++)g[m]=arguments[m];var y="FIREBASE INTERNAL ERROR: "+Ft.apply(void 0,(0,Ze.__spreadArray)([],(0,Ze.__read)(g)));kt.error(y)},kn=function(){for(var g=[],m=0;m<arguments.length;m++)g[m]=arguments[m];var y="FIREBASE FATAL ERROR: "+Ft.apply(void 0,(0,Ze.__spreadArray)([],(0,Ze.__read)(g)));throw kt.error(y),new Error(y)},Gn=function(){for(var g=[],m=0;m<arguments.length;m++)g[m]=arguments[m];var y="FIREBASE WARNING: "+Ft.apply(void 0,(0,Ze.__spreadArray)([],(0,Ze.__read)(g)));kt.warn(y)},Ot=function(g){return"number"==typeof g&&(g!=g||g===Number.POSITIVE_INFINITY||g===Number.NEGATIVE_INFINITY)},At="[MIN_NAME]",Kt="[MAX_NAME]",it=function(g,m){if(g===m)return 0;if(g===At||m===Kt)return-1;if(m===At||g===Kt)return 1;var y=qo(g),T=qo(m);return null!==y?null!==T?y-T==0?g.length-m.length:y-T:-1:null!==T?1:g<m?-1:1},Tn=function(g,m){return g===m?0:g<m?-1:1},gn=function(g,m){if(m&&g in m)return m[g];throw new Error("Missing required key ("+g+") in object: "+(0,Q.stringify)(m))},di=function(g){if("object"!=typeof g||null===g)return(0,Q.stringify)(g);var m=[];for(var y in g)m.push(y);m.sort();for(var T="{",I=0;I<m.length;I++)0!==I&&(T+=","),T+=(0,Q.stringify)(m[I]),T+=":",T+=di(g[m[I]]);return T+"}"},Nn=function(g,m){var y=g.length;if(y<=m)return[g];for(var T=[],I=0;I<y;I+=m)T.push(g.substring(I,I+m>y?y:I+m));return T};function pn(g,m){for(var y in g)g.hasOwnProperty(y)&&m(y,g[y])}var Wn=function(g){(0,Q.assert)(!Ot(g),"Invalid JSON number");var I,B,z,ue,pe,T=1023;0===g?(B=0,z=0,I=1/g==-1/0?1:0):(I=g<0,(g=Math.abs(g))>=Math.pow(2,1-T)?(B=(ue=Math.min(Math.floor(Math.log(g)/Math.LN2),T))+T,z=Math.round(g*Math.pow(2,52-ue)-Math.pow(2,52))):(B=0,z=Math.round(g/Math.pow(2,-1074))));var Ae=[];for(pe=52;pe;pe-=1)Ae.push(z%2?1:0),z=Math.floor(z/2);for(pe=11;pe;pe-=1)Ae.push(B%2?1:0),B=Math.floor(B/2);Ae.push(I?1:0),Ae.reverse();var Oe=Ae.join(""),st="";for(pe=0;pe<64;pe+=8){var Vt=parseInt(Oe.substr(pe,8),2).toString(16);1===Vt.length&&(Vt="0"+Vt),st+=Vt}return st.toLowerCase()},qr=new RegExp("^-?(0*)\\d{1,10}$"),Qr=-2147483648,Hr=2147483647,qo=function(g){if(qr.test(g)){var m=Number(g);if(m>=Qr&&m<=Hr)return m}return null},Zi=function(g){try{g()}catch(m){setTimeout(function(){throw Gn("Exception was thrown by user callback.",m.stack||""),m},Math.floor(0))}},ua=function(g,m){var y=setTimeout(g,m);return"object"==typeof y&&y.unref&&y.unref(),y},vc=function(){function g(m,y){var T=this;this.appName_=m,this.appCheckProvider=y,this.appCheck=null==y?void 0:y.getImmediate({optional:!0}),this.appCheck||null==y||y.get().then(function(I){return T.appCheck=I})}return g.prototype.getToken=function(m){var y=this;return this.appCheck?this.appCheck.getToken(m):new Promise(function(T,I){setTimeout(function(){y.appCheck?y.getToken(m).then(T,I):T(null)},0)})},g.prototype.addTokenChangeListener=function(m){var y;null===(y=this.appCheckProvider)||void 0===y||y.get().then(function(T){return T.addTokenListener(m)})},g.prototype.notifyForInvalidToken=function(){Gn('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},g}(),Ki=function(){function g(m,y,T){var I=this;this.appName_=m,this.firebaseOptions_=y,this.authProvider_=T,this.auth_=null,this.auth_=T.getImmediate({optional:!0}),this.auth_||T.onInit(function(B){return I.auth_=B})}return g.prototype.getToken=function(m){var y=this;return this.auth_?this.auth_.getToken(m).catch(function(T){return T&&"auth/token-not-initialized"===T.code?(Re("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(T)}):new Promise(function(T,I){setTimeout(function(){y.auth_?y.getToken(m).then(T,I):T(null)},0)})},g.prototype.addTokenChangeListener=function(m){this.auth_?this.auth_.addAuthTokenListener(m):this.authProvider_.get().then(function(y){return y.addAuthTokenListener(m)})},g.prototype.removeTokenChangeListener=function(m){this.authProvider_.get().then(function(y){return y.removeAuthTokenListener(m)})},g.prototype.notifyForInvalidToken=function(){var m='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';Gn(m+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},g}(),vi=function(){function g(m){this.accessToken=m}return g.prototype.getToken=function(m){return Promise.resolve({accessToken:this.accessToken})},g.prototype.addTokenChangeListener=function(m){m(this.accessToken)},g.prototype.removeTokenChangeListener=function(m){},g.prototype.notifyForInvalidToken=function(){},g.OWNER="owner",g}(),Rr=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,yo="websocket",bd="long_polling",ar=function(){function g(m,y,T,I,B,z,ue){void 0===B&&(B=!1),void 0===z&&(z=""),void 0===ue&&(ue=!1),this.secure=y,this.namespace=T,this.webSocketOnly=I,this.nodeAdmin=B,this.persistenceKey=z,this.includeNamespaceInQueryParams=ue,this._host=m.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=xt.get("host:"+m)||this._host}return g.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},g.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(g.prototype,"host",{get:function(){return this._host},set:function(m){m!==this.internalHost&&(this.internalHost=m,this.isCacheableHost()&&xt.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),g.prototype.toString=function(){var m=this.toURLString();return this.persistenceKey&&(m+="<"+this.persistenceKey+">"),m},g.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},g}();function Ci(g,m,y){var T;if((0,Q.assert)("string"==typeof m,"typeof type must == string"),(0,Q.assert)("object"==typeof y,"typeof params must == object"),m===yo)T=(g.secure?"wss://":"ws://")+g.internalHost+"/.ws?";else{if(m!==bd)throw new Error("Unknown connection type: "+m);T=(g.secure?"https://":"http://")+g.internalHost+"/.lp?"}(function si(g){return g.host!==g.internalHost||g.isCustomHost()||g.includeNamespaceInQueryParams})(g)&&(y.ns=g.namespace);var I=[];return pn(y,function(B,z){I.push(B+"="+z)}),T+I.join("&")}var Dr=function(){function g(){this.counters_={}}return g.prototype.incrementCounter=function(m,y){void 0===y&&(y=1),(0,Q.contains)(this.counters_,m)||(this.counters_[m]=0),this.counters_[m]+=y},g.prototype.get=function(){return(0,Q.deepCopy)(this.counters_)},g}(),Sa={},Oi={};function pl(g){var m=g.toString();return Sa[m]||(Sa[m]=new Dr),Sa[m]}var Lr=function(){function g(m){this.onMessage_=m,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return g.prototype.closeAfter=function(m,y){this.closeAfterResponse=m,this.onClose=y,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},g.prototype.handleResponse=function(m,y){var T=this;this.pendingResponses[m]=y;for(var I=function(){var ue=B.pendingResponses[B.currentResponseNum];delete B.pendingResponses[B.currentResponseNum];for(var pe=function(Oe){ue[Oe]&&Zi(function(){T.onMessage_(ue[Oe])})},Ae=0;Ae<ue.length;++Ae)pe(Ae);if(B.currentResponseNum===B.closeAfterResponse)return B.onClose&&(B.onClose(),B.onClose=null),"break";B.currentResponseNum++},B=this;this.pendingResponses[this.currentResponseNum]&&"break"!==I(););},g}(),Ho=function(){function g(m,y,T,I,B,z,ue){var pe=this;this.connId=m,this.repoInfo=y,this.applicationId=T,this.appCheckToken=I,this.authToken=B,this.transportSessionId=z,this.lastSessionId=ue,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Mt(m),this.stats_=pl(y),this.urlFn=function(Ae){return pe.appCheckToken&&(Ae.ac=pe.appCheckToken),Ci(y,bd,Ae)}}return g.prototype.open=function(m,y){var T=this;this.curSegmentNum=0,this.onDisconnect_=y,this.myPacketOrderer=new Lr(m),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){T.log_("Timed out trying to connect."),T.onClosed_(),T.connectTimeoutTimer_=null},Math.floor(3e4)),function(g){if((0,Q.isNodeSdk)()||"complete"===document.readyState)g();else{var m=!1,y=function(){document.body?m||(m=!0,g()):setTimeout(y,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",y,!1),window.addEventListener("load",y,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&y()}),window.attachEvent("onload",y))}}(function(){if(!T.isClosed_){T.scriptTagHolder=new Gr(function(){for(var z=[],ue=0;ue<arguments.length;ue++)z[ue]=arguments[ue];var pe=(0,Ze.__read)(z,5),Ae=pe[0],Oe=pe[1],st=pe[2];if(T.incrementIncomingBytes_(z),T.scriptTagHolder)if(T.connectTimeoutTimer_&&(clearTimeout(T.connectTimeoutTimer_),T.connectTimeoutTimer_=null),T.everConnected_=!0,"start"===Ae)T.id=Oe,T.password=st;else{if("close"!==Ae)throw new Error("Unrecognized command received: "+Ae);Oe?(T.scriptTagHolder.sendNewPolls=!1,T.myPacketOrderer.closeAfter(Oe,function(){T.onClosed_()})):T.onClosed_()}},function(){for(var z=[],ue=0;ue<arguments.length;ue++)z[ue]=arguments[ue];var pe=(0,Ze.__read)(z,2),Ae=pe[0],Oe=pe[1];T.incrementIncomingBytes_(z),T.myPacketOrderer.handleResponse(Ae,Oe)},function(){T.onClosed_()},T.urlFn);var I={start:"t"};I.ser=Math.floor(1e8*Math.random()),T.scriptTagHolder.uniqueCallbackIdentifier&&(I.cb=T.scriptTagHolder.uniqueCallbackIdentifier),I.v="5",T.transportSessionId&&(I.s=T.transportSessionId),T.lastSessionId&&(I.ls=T.lastSessionId),T.applicationId&&(I.p=T.applicationId),T.appCheckToken&&(I.ac=T.appCheckToken),"undefined"!=typeof location&&location.hostname&&Rr.test(location.hostname)&&(I.r="f");var B=T.urlFn(I);T.log_("Connecting via long-poll to "+B),T.scriptTagHolder.addTag(B,function(){})}})},g.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},g.forceAllow=function(){g.forceAllow_=!0},g.forceDisallow=function(){g.forceDisallow_=!0},g.isAvailable=function(){return!((0,Q.isNodeSdk)()||!g.forceAllow_&&(g.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},g.prototype.markConnectionHealthy=function(){},g.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},g.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},g.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},g.prototype.send=function(m){var y=(0,Q.stringify)(m);this.bytesSent+=y.length,this.stats_.incrementCounter("bytes_sent",y.length);for(var T=(0,Q.base64Encode)(y),I=Nn(T,1840),B=0;B<I.length;B++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,I.length,I[B]),this.curSegmentNum++},g.prototype.addDisconnectPingFrame=function(m,y){if(!(0,Q.isNodeSdk)()){this.myDisconnFrame=document.createElement("iframe");var T={dframe:"t"};T.id=m,T.pw=y,this.myDisconnFrame.src=this.urlFn(T),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},g.prototype.incrementIncomingBytes_=function(m){var y=(0,Q.stringify)(m).length;this.bytesReceived+=y,this.stats_.incrementCounter("bytes_received",y)},g}(),Gr=function(){function g(m,y,T,I){if(this.onDisconnect=T,this.urlFn=I,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,Q.isNodeSdk)())this.commandCB=m,this.onMessageCB=y;else{this.uniqueCallbackIdentifier=cn(),window["pLPCommand"+this.uniqueCallbackIdentifier]=m,window["pRTLPCB"+this.uniqueCallbackIdentifier]=y,this.myIFrame=g.createIFrame_();var B="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(B='<script>document.domain="'+document.domain+'";<\/script>');var ue="<html><body>"+B+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(ue),this.myIFrame.doc.close()}catch(pe){Re("frame writing exception"),pe.stack&&Re(pe.stack),Re(pe)}}}return g.createIFrame_=function(){var m=document.createElement("iframe");if(m.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(m);try{m.contentWindow.document||Re("No IE domain setting required")}catch(I){var T=document.domain;m.src="javascript:void((function(){document.open();document.domain='"+T+"';document.close();})())"}return m.contentDocument?m.doc=m.contentDocument:m.contentWindow?m.doc=m.contentWindow.document:m.document&&(m.doc=m.document),m},g.prototype.close=function(){var m=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==m.myIFrame&&(document.body.removeChild(m.myIFrame),m.myIFrame=null)},Math.floor(0)));var y=this.onDisconnect;y&&(this.onDisconnect=null,y())},g.prototype.startLongPoll=function(m,y){for(this.myID=m,this.myPW=y,this.alive=!0;this.newRequest_(););},g.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var m={};m.id=this.myID,m.pw=this.myPW,m.ser=this.currentSerial;for(var y=this.urlFn(m),T="",I=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+T.length<=1870;){var z=this.pendingSegs.shift();T=T+"&seg"+I+"="+z.seg+"&ts"+I+"="+z.ts+"&d"+I+"="+z.d,I++}return this.addLongPollTag_(y+=T,this.currentSerial),!0}return!1},g.prototype.enqueueSegment=function(m,y,T){this.pendingSegs.push({seg:m,ts:y,d:T}),this.alive&&this.newRequest_()},g.prototype.addLongPollTag_=function(m,y){var T=this;this.outstandingRequests.add(y);var I=function(){T.outstandingRequests.delete(y),T.newRequest_()},B=setTimeout(I,Math.floor(25e3));this.addTag(m,function(){clearTimeout(B),I()})},g.prototype.addTag=function(m,y){var T=this;(0,Q.isNodeSdk)()?this.doNodeLongPoll(m,y):setTimeout(function(){try{if(!T.sendNewPolls)return;var I=T.myIFrame.doc.createElement("script");I.type="text/javascript",I.async=!0,I.src=m,I.onload=I.onreadystatechange=function(){var B=I.readyState;(!B||"loaded"===B||"complete"===B)&&(I.onload=I.onreadystatechange=null,I.parentNode&&I.parentNode.removeChild(I),y())},I.onerror=function(){Re("Long-poll script failed to load: "+m),T.sendNewPolls=!1,T.close()},T.myIFrame.doc.body.appendChild(I)}catch(B){}},Math.floor(1))},g}(),ms=null;"undefined"!=typeof MozWebSocket?ms=MozWebSocket:"undefined"!=typeof WebSocket&&(ms=WebSocket);var Ea=function(){function g(m,y,T,I,B,z,ue){this.connId=m,this.applicationId=T,this.appCheckToken=I,this.authToken=B,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Mt(this.connId),this.stats_=pl(y),this.connURL=g.connectionURL_(y,z,ue,I),this.nodeAdmin=y.nodeAdmin}return g.connectionURL_=function(m,y,T,I){var B={v:"5"};return!(0,Q.isNodeSdk)()&&"undefined"!=typeof location&&location.hostname&&Rr.test(location.hostname)&&(B.r="f"),y&&(B.s=y),T&&(B.ls=T),I&&(B.ac=I),Ci(m,yo,B)},g.prototype.open=function(m,y){var T=this;this.onDisconnect=y,this.onMessage=m,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,xt.set("previous_websocket_failure",!0);try{if((0,Q.isNodeSdk)()){var B={headers:{"User-Agent":"Firebase/5/"+yt+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(B.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(B.headers["X-Firebase-AppCheck"]=this.appCheckToken);var z=process.env,ue=0===this.connURL.indexOf("wss://")?z.HTTPS_PROXY||z.https_proxy:z.HTTP_PROXY||z.http_proxy;ue&&(B.proxy={origin:ue}),this.mySock=new ms(this.connURL,[],B)}else this.mySock=new ms(this.connURL,[],B={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(Ae){this.log_("Error instantiating WebSocket.");var pe=Ae.message||Ae.data;return pe&&this.log_(pe),void this.onClosed_()}this.mySock.onopen=function(){T.log_("Websocket connected."),T.everConnected_=!0},this.mySock.onclose=function(){T.log_("Websocket connection was disconnected."),T.mySock=null,T.onClosed_()},this.mySock.onmessage=function(Ae){T.handleIncomingFrame(Ae)},this.mySock.onerror=function(Ae){T.log_("WebSocket error.  Closing connection.");var Oe=Ae.message||Ae.data;Oe&&T.log_(Oe),T.onClosed_()}},g.prototype.start=function(){},g.forceDisallow=function(){g.forceDisallow_=!0},g.isAvailable=function(){var m=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var T=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);T&&T.length>1&&parseFloat(T[1])<4.4&&(m=!0)}return!m&&null!==ms&&!g.forceDisallow_},g.previouslyFailed=function(){return xt.isInMemoryStorage||!0===xt.get("previous_websocket_failure")},g.prototype.markConnectionHealthy=function(){xt.remove("previous_websocket_failure")},g.prototype.appendFrame_=function(m){if(this.frames.push(m),this.frames.length===this.totalFrames){var y=this.frames.join("");this.frames=null;var T=(0,Q.jsonEval)(y);this.onMessage(T)}},g.prototype.handleNewFrameCount_=function(m){this.totalFrames=m,this.frames=[]},g.prototype.extractFrameCount_=function(m){if((0,Q.assert)(null===this.frames,"We already have a frame buffer"),m.length<=6){var y=Number(m);if(!isNaN(y))return this.handleNewFrameCount_(y),null}return this.handleNewFrameCount_(1),m},g.prototype.handleIncomingFrame=function(m){if(null!==this.mySock){var y=m.data;if(this.bytesReceived+=y.length,this.stats_.incrementCounter("bytes_received",y.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(y);else{var T=this.extractFrameCount_(y);null!==T&&this.appendFrame_(T)}}},g.prototype.send=function(m){this.resetKeepAlive();var y=(0,Q.stringify)(m);this.bytesSent+=y.length,this.stats_.incrementCounter("bytes_sent",y.length);var T=Nn(y,16384);T.length>1&&this.sendString_(String(T.length));for(var I=0;I<T.length;I++)this.sendString_(T[I])},g.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},g.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},g.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},g.prototype.resetKeepAlive=function(){var m=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){m.mySock&&m.sendString_("0"),m.resetKeepAlive()},Math.floor(45e3))},g.prototype.sendString_=function(m){try{this.mySock.send(m)}catch(y){this.log_("Exception thrown from WebSocket.send():",y.message||y.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},g.responsesRequiredToBeHealthy=2,g.healthyTimeout=3e4,g}(),np=function(){function g(m){this.initTransports_(m)}return Object.defineProperty(g,"ALL_TRANSPORTS",{get:function(){return[Ho,Ea]},enumerable:!1,configurable:!0}),g.prototype.initTransports_=function(m){var y,T,I=Ea&&Ea.isAvailable(),B=I&&!Ea.previouslyFailed();if(m.webSocketOnly&&(I||Gn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),B=!0),B)this.transports_=[Ea];else{var z=this.transports_=[];try{for(var ue=(0,Ze.__values)(g.ALL_TRANSPORTS),pe=ue.next();!pe.done;pe=ue.next()){var Ae=pe.value;Ae&&Ae.isAvailable()&&z.push(Ae)}}catch(Oe){y={error:Oe}}finally{try{pe&&!pe.done&&(T=ue.return)&&T.call(ue)}finally{if(y)throw y.error}}}},g.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},g.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},g}(),os=function(){function g(m,y,T,I,B,z,ue,pe,Ae,Oe){this.id=m,this.repoInfo_=y,this.applicationId_=T,this.appCheckToken_=I,this.authToken_=B,this.onMessage_=z,this.onReady_=ue,this.onDisconnect_=pe,this.onKill_=Ae,this.lastSessionId=Oe,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Mt("c:"+this.id+":"),this.transportManager_=new np(y),this.log_("Connection created"),this.start_()}return g.prototype.start_=function(){var m=this,y=this.transportManager_.initialTransport();this.conn_=new y(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=y.responsesRequiredToBeHealthy||0;var T=this.connReceiver_(this.conn_),I=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){m.conn_&&m.conn_.open(T,I)},Math.floor(0));var B=y.healthyTimeout||0;B>0&&(this.healthyTimeout_=ua(function(){m.healthyTimeout_=null,m.isHealthy_||(m.conn_&&m.conn_.bytesReceived>102400?(m.log_("Connection exceeded healthy timeout but has received "+m.conn_.bytesReceived+" bytes.  Marking connection healthy."),m.isHealthy_=!0,m.conn_.markConnectionHealthy()):m.conn_&&m.conn_.bytesSent>10240?m.log_("Connection exceeded healthy timeout but has sent "+m.conn_.bytesSent+" bytes.  Leaving connection alive."):(m.log_("Closing unhealthy connection after timeout."),m.close()))},Math.floor(B)))},g.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},g.prototype.disconnReceiver_=function(m){var y=this;return function(T){m===y.conn_?y.onConnectionLost_(T):m===y.secondaryConn_?(y.log_("Secondary connection lost."),y.onSecondaryConnectionLost_()):y.log_("closing an old connection")}},g.prototype.connReceiver_=function(m){var y=this;return function(T){2!==y.state_&&(m===y.rx_?y.onPrimaryMessageReceived_(T):m===y.secondaryConn_?y.onSecondaryMessageReceived_(T):y.log_("message on old connection"))}},g.prototype.sendRequest=function(m){this.sendData_({t:"d",d:m})},g.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},g.prototype.onSecondaryControl_=function(m){if("t"in m){var y=m.t;"a"===y?this.upgradeIfSecondaryHealthy_():"r"===y?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===y&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},g.prototype.onSecondaryMessageReceived_=function(m){var y=gn("t",m),T=gn("d",m);if("c"===y)this.onSecondaryControl_(T);else{if("d"!==y)throw new Error("Unknown protocol layer: "+y);this.pendingDataMessages.push(T)}},g.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},g.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},g.prototype.onPrimaryMessageReceived_=function(m){var y=gn("t",m),T=gn("d",m);"c"===y?this.onControl_(T):"d"===y&&this.onDataMessage_(T)},g.prototype.onDataMessage_=function(m){this.onPrimaryResponse_(),this.onMessage_(m)},g.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},g.prototype.onControl_=function(m){var y=gn("t",m);if("d"in m){var T=m.d;if("h"===y)this.onHandshake_(T);else if("n"===y){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var I=0;I<this.pendingDataMessages.length;++I)this.onDataMessage_(this.pendingDataMessages[I]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===y?this.onConnectionShutdown_(T):"r"===y?this.onReset_(T):"e"===y?Ut("Server Error: "+T):"o"===y?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ut("Unknown control packet command: "+y)}},g.prototype.onHandshake_=function(m){var y=m.ts,T=m.v,I=m.h;this.sessionId=m.s,this.repoInfo_.host=I,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,y),"5"!==T&&Gn("Protocol version mismatch detected"),this.tryStartUpgrade_())},g.prototype.tryStartUpgrade_=function(){var m=this.transportManager_.upgradeTransport();m&&this.startUpgrade_(m)},g.prototype.startUpgrade_=function(m){var y=this;this.secondaryConn_=new m(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=m.responsesRequiredToBeHealthy||0;var T=this.connReceiver_(this.secondaryConn_),I=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(T,I),ua(function(){y.secondaryConn_&&(y.log_("Timed out trying to upgrade."),y.secondaryConn_.close())},Math.floor(6e4))},g.prototype.onReset_=function(m){this.log_("Reset packet received.  New host: "+m),this.repoInfo_.host=m,1===this.state_?this.close():(this.closeConnections_(),this.start_())},g.prototype.onConnectionEstablished_=function(m,y){var T=this;this.log_("Realtime connection established."),this.conn_=m,this.state_=1,this.onReady_&&(this.onReady_(y,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ua(function(){T.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},g.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},g.prototype.onSecondaryConnectionLost_=function(){var m=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===m||this.rx_===m)&&this.close()},g.prototype.onConnectionLost_=function(m){this.conn_=null,m||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(xt.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},g.prototype.onConnectionShutdown_=function(m){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(m),this.onKill_=null),this.onDisconnect_=null,this.close()},g.prototype.sendData_=function(m){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(m)},g.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},g.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},g}(),ea=function(){function g(){}return g.prototype.put=function(m,y,T,I){},g.prototype.merge=function(m,y,T,I){},g.prototype.refreshAuthToken=function(m){},g.prototype.refreshAppCheckToken=function(m){},g.prototype.onDisconnectPut=function(m,y,T){},g.prototype.onDisconnectMerge=function(m,y,T){},g.prototype.onDisconnectCancel=function(m,y){},g.prototype.reportStats=function(m){},g}(),Bi=function(){function g(m){this.allowedEvents_=m,this.listeners_={},(0,Q.assert)(Array.isArray(m)&&m.length>0,"Requires a non-empty array")}return g.prototype.trigger=function(m){for(var y=[],T=1;T<arguments.length;T++)y[T-1]=arguments[T];if(Array.isArray(this.listeners_[m]))for(var I=(0,Ze.__spreadArray)([],(0,Ze.__read)(this.listeners_[m])),B=0;B<I.length;B++)I[B].callback.apply(I[B].context,y)},g.prototype.on=function(m,y,T){this.validateEventType_(m),this.listeners_[m]=this.listeners_[m]||[],this.listeners_[m].push({callback:y,context:T});var I=this.getInitialEvent(m);I&&y.apply(T,I)},g.prototype.off=function(m,y,T){this.validateEventType_(m);for(var I=this.listeners_[m]||[],B=0;B<I.length;B++)if(I[B].callback===y&&(!T||T===I[B].context))return void I.splice(B,1)},g.prototype.validateEventType_=function(m){(0,Q.assert)(this.allowedEvents_.find(function(y){return y===m}),"Unknown event: "+m)},g}(),ks=function(g){function m(){var y=g.call(this,["online"])||this;return y.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,Q.isMobileCordova)()&&(window.addEventListener("online",function(){y.online_||(y.online_=!0,y.trigger("online",!0))},!1),window.addEventListener("offline",function(){y.online_&&(y.online_=!1,y.trigger("online",!1))},!1)),y}return(0,Ze.__extends)(m,g),m.getInstance=function(){return new m},m.prototype.getInitialEvent=function(y){return(0,Q.assert)("online"===y,"Unknown event type: "+y),[this.online_]},m.prototype.currentlyOnline=function(){return this.online_},m}(Bi),nr=function(){function g(m,y){if(void 0===y){this.pieces_=m.split("/");for(var T=0,I=0;I<this.pieces_.length;I++)this.pieces_[I].length>0&&(this.pieces_[T]=this.pieces_[I],T++);this.pieces_.length=T,this.pieceNum_=0}else this.pieces_=m,this.pieceNum_=y}return g.prototype.toString=function(){for(var m="",y=this.pieceNum_;y<this.pieces_.length;y++)""!==this.pieces_[y]&&(m+="/"+this.pieces_[y]);return m||"/"},g}();function qn(){return new nr("")}function Si(g){return g.pieceNum_>=g.pieces_.length?null:g.pieces_[g.pieceNum_]}function ha(g){return g.pieces_.length-g.pieceNum_}function Sn(g){var m=g.pieceNum_;return m<g.pieces_.length&&m++,new nr(g.pieces_,m)}function Pr(g){return g.pieceNum_<g.pieces_.length?g.pieces_[g.pieces_.length-1]:null}function Cc(g,m){return void 0===m&&(m=0),g.pieces_.slice(g.pieceNum_+m)}function Xr(g){if(g.pieceNum_>=g.pieces_.length)return null;for(var m=[],y=g.pieceNum_;y<g.pieces_.length-1;y++)m.push(g.pieces_[y]);return new nr(m,0)}function Yi(g,m){for(var y=[],T=g.pieceNum_;T<g.pieces_.length;T++)y.push(g.pieces_[T]);if(m instanceof nr)for(T=m.pieceNum_;T<m.pieces_.length;T++)y.push(m.pieces_[T]);else{var I=m.split("/");for(T=0;T<I.length;T++)I[T].length>0&&y.push(I[T])}return new nr(y,0)}function ki(g){return g.pieceNum_>=g.pieces_.length}function ss(g,m){var y=Si(g),T=Si(m);if(null===y)return m;if(y===T)return ss(Sn(g),Sn(m));throw new Error("INTERNAL ERROR: innerPath ("+m+") is not within outerPath ("+g+")")}function ch(g,m){for(var y=Cc(g,0),T=Cc(m,0),I=0;I<y.length&&I<T.length;I++){var B=it(y[I],T[I]);if(0!==B)return B}return y.length===T.length?0:y.length<T.length?-1:1}function gs(g,m){if(ha(g)!==ha(m))return!1;for(var y=g.pieceNum_,T=m.pieceNum_;y<=g.pieces_.length;y++,T++)if(g.pieces_[y]!==m.pieces_[T])return!1;return!0}function ta(g,m){var y=g.pieceNum_,T=m.pieceNum_;if(ha(g)>ha(m))return!1;for(;y<g.pieces_.length;){if(g.pieces_[y]!==m.pieces_[T])return!1;++y,++T}return!0}var wd=function g(m,y){this.errorPrefix_=y,this.parts_=Cc(m,0),this.byteLength_=Math.max(1,this.parts_.length);for(var T=0;T<this.parts_.length;T++)this.byteLength_+=(0,Q.stringLength)(this.parts_[T]);uv(this)};function uv(g){if(g.byteLength_>768)throw new Error(g.errorPrefix_+"has a key path longer than 768 bytes ("+g.byteLength_+").");if(g.parts_.length>32)throw new Error(g.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+gl(g))}function gl(g){return 0===g.parts_.length?"":"in property '"+g.parts_.join(".")+"'"}var ri,Tc,um=function(g){function m(){var T,I,y=g.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(I="visibilitychange",T="hidden"):void 0!==document.mozHidden?(I="mozvisibilitychange",T="mozHidden"):void 0!==document.msHidden?(I="msvisibilitychange",T="msHidden"):void 0!==document.webkitHidden&&(I="webkitvisibilitychange",T="webkitHidden")),y.visible_=!0,I&&document.addEventListener(I,function(){var B=!document[T];B!==y.visible_&&(y.visible_=B,y.trigger("visible",B))},!1),y}return(0,Ze.__extends)(m,g),m.getInstance=function(){return new m},m.prototype.getInitialEvent=function(y){return(0,Q.assert)("visible"===y,"Unknown event type: "+y),[this.visible_]},m}(Bi),ip=1e3,Ru=function(g){function m(y,T,I,B,z,ue,pe,Ae){var Oe=g.call(this)||this;if(Oe.repoInfo_=y,Oe.applicationId_=T,Oe.onDataUpdate_=I,Oe.onConnectStatus_=B,Oe.onServerInfoUpdate_=z,Oe.authTokenProvider_=ue,Oe.appCheckTokenProvider_=pe,Oe.authOverride_=Ae,Oe.id=m.nextPersistentConnectionId_++,Oe.log_=Mt("p:"+Oe.id+":"),Oe.interruptReasons_={},Oe.listens=new Map,Oe.outstandingPuts_=[],Oe.outstandingGets_=[],Oe.outstandingPutCount_=0,Oe.outstandingGetCount_=0,Oe.onDisconnectRequestQueue_=[],Oe.connected_=!1,Oe.reconnectDelay_=ip,Oe.maxReconnectDelay_=3e5,Oe.securityDebugCallback_=null,Oe.lastSessionId=null,Oe.establishConnectionTimer_=null,Oe.visible_=!1,Oe.requestCBHash_={},Oe.requestNumber_=0,Oe.realtime_=null,Oe.authToken_=null,Oe.appCheckToken_=null,Oe.forceTokenRefresh_=!1,Oe.invalidAuthTokenCount_=0,Oe.invalidAppCheckTokenCount_=0,Oe.firstConnection_=!0,Oe.lastConnectionAttemptTime_=null,Oe.lastConnectionEstablishedTime_=null,Ae&&!(0,Q.isNodeSdk)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return um.getInstance().on("visible",Oe.onVisible_,Oe),-1===y.host.indexOf("fblocal")&&ks.getInstance().on("online",Oe.onOnline_,Oe),Oe}return(0,Ze.__extends)(m,g),m.prototype.sendRequest=function(y,T,I){var B=++this.requestNumber_,z={r:B,a:y,b:T};this.log_((0,Q.stringify)(z)),(0,Q.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(z),I&&(this.requestCBHash_[B]=I)},m.prototype.get=function(y){var T=this;this.initConnection_();var I=new Q.Deferred,B={p:y._path.toString(),q:y._queryObject},z={action:"g",request:B,onComplete:function(pe){var Ae=pe.d;"ok"===pe.s?(T.onDataUpdate_(B.p,Ae,!1,null),I.resolve(Ae)):I.reject(Ae)}};this.outstandingGets_.push(z),this.outstandingGetCount_++;var ue=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var pe=T.outstandingGets_[ue];void 0===pe||z!==pe||(delete T.outstandingGets_[ue],T.outstandingGetCount_--,0===T.outstandingGetCount_&&(T.outstandingGets_=[]),T.log_("get "+ue+" timed out on connection"),I.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(ue),I.promise},m.prototype.listen=function(y,T,I,B){this.initConnection_();var z=y._queryIdentifier,ue=y._path.toString();this.log_("Listen called for "+ue+" "+z),this.listens.has(ue)||this.listens.set(ue,new Map),(0,Q.assert)(y._queryParams.isDefault()||!y._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,Q.assert)(!this.listens.get(ue).has(z),"listen() called twice for same path/queryId.");var pe={onComplete:B,hashFn:T,query:y,tag:I};this.listens.get(ue).set(z,pe),this.connected_&&this.sendListen_(pe)},m.prototype.sendGet_=function(y){var T=this,I=this.outstandingGets_[y];this.sendRequest("g",I.request,function(B){delete T.outstandingGets_[y],T.outstandingGetCount_--,0===T.outstandingGetCount_&&(T.outstandingGets_=[]),I.onComplete&&I.onComplete(B)})},m.prototype.sendListen_=function(y){var T=this,I=y.query,B=I._path.toString(),z=I._queryIdentifier;this.log_("Listen on "+B+" for "+z);var ue={p:B};y.tag&&(ue.q=I._queryObject,ue.t=y.tag),ue.h=y.hashFn(),this.sendRequest("q",ue,function(Ae){var Oe=Ae.d,st=Ae.s;m.warnOnListenWarnings_(Oe,I),(T.listens.get(B)&&T.listens.get(B).get(z))===y&&(T.log_("listen response",Ae),"ok"!==st&&T.removeListen_(B,z),y.onComplete&&y.onComplete(st,Oe))})},m.warnOnListenWarnings_=function(y,T){if(y&&"object"==typeof y&&(0,Q.contains)(y,"w")){var I=(0,Q.safeGet)(y,"w");if(Array.isArray(I)&&~I.indexOf("no_index")){var B='".indexOn": "'+T._queryParams.getIndex().toString()+'"',z=T._path.toString();Gn("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+B+" at "+z+" to your security rules for better performance.")}}},m.prototype.refreshAuthToken=function(y){this.authToken_=y,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(y)},m.prototype.reduceReconnectDelayIfAdminCredential_=function(y){(y&&40===y.length||(0,Q.isAdmin)(y))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},m.prototype.refreshAppCheckToken=function(y){this.appCheckToken_=y,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},m.prototype.tryAuth=function(){var y=this;if(this.connected_&&this.authToken_){var T=this.authToken_,I=(0,Q.isValidFormat)(T)?"auth":"gauth",B={cred:T};null===this.authOverride_?B.noauth=!0:"object"==typeof this.authOverride_&&(B.authvar=this.authOverride_),this.sendRequest(I,B,function(z){var ue=z.s,pe=z.d||"error";y.authToken_===T&&("ok"===ue?y.invalidAuthTokenCount_=0:y.onAuthRevoked_(ue,pe))})}},m.prototype.tryAppCheck=function(){var y=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(T){var I=T.s,B=T.d||"error";"ok"===I?y.invalidAppCheckTokenCount_=0:y.onAppCheckRevoked_(I,B)})},m.prototype.unlisten=function(y,T){var I=y._path.toString(),B=y._queryIdentifier;this.log_("Unlisten called for "+I+" "+B),(0,Q.assert)(y._queryParams.isDefault()||!y._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(I,B)&&this.connected_&&this.sendUnlisten_(I,B,y._queryObject,T)},m.prototype.sendUnlisten_=function(y,T,I,B){this.log_("Unlisten on "+y+" for "+T);var z={p:y};B&&(z.q=I,z.t=B),this.sendRequest("n",z)},m.prototype.onDisconnectPut=function(y,T,I){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",y,T,I):this.onDisconnectRequestQueue_.push({pathString:y,action:"o",data:T,onComplete:I})},m.prototype.onDisconnectMerge=function(y,T,I){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",y,T,I):this.onDisconnectRequestQueue_.push({pathString:y,action:"om",data:T,onComplete:I})},m.prototype.onDisconnectCancel=function(y,T){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",y,null,T):this.onDisconnectRequestQueue_.push({pathString:y,action:"oc",data:null,onComplete:T})},m.prototype.sendOnDisconnect_=function(y,T,I,B){var z={p:T,d:I};this.log_("onDisconnect "+y,z),this.sendRequest(y,z,function(ue){B&&setTimeout(function(){B(ue.s,ue.d)},Math.floor(0))})},m.prototype.put=function(y,T,I,B){this.putInternal("p",y,T,I,B)},m.prototype.merge=function(y,T,I,B){this.putInternal("m",y,T,I,B)},m.prototype.putInternal=function(y,T,I,B,z){this.initConnection_();var ue={p:T,d:I};void 0!==z&&(ue.h=z),this.outstandingPuts_.push({action:y,request:ue,onComplete:B}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+T)},m.prototype.sendPut_=function(y){var T=this,I=this.outstandingPuts_[y].action,B=this.outstandingPuts_[y].request,z=this.outstandingPuts_[y].onComplete;this.outstandingPuts_[y].queued=this.connected_,this.sendRequest(I,B,function(ue){T.log_(I+" response",ue),delete T.outstandingPuts_[y],T.outstandingPutCount_--,0===T.outstandingPutCount_&&(T.outstandingPuts_=[]),z&&z(ue.s,ue.d)})},m.prototype.reportStats=function(y){var T=this;if(this.connected_){var I={c:y};this.log_("reportStats",I),this.sendRequest("s",I,function(B){"ok"!==B.s&&T.log_("reportStats","Error sending stats: "+B.d)})}},m.prototype.onDataMessage_=function(y){if("r"in y){this.log_("from server: "+(0,Q.stringify)(y));var T=y.r,I=this.requestCBHash_[T];I&&(delete this.requestCBHash_[T],I(y.b))}else{if("error"in y)throw"A server-side error has occurred: "+y.error;"a"in y&&this.onDataPush_(y.a,y.b)}},m.prototype.onDataPush_=function(y,T){this.log_("handleServerMessage",y,T),"d"===y?this.onDataUpdate_(T.p,T.d,!1,T.t):"m"===y?this.onDataUpdate_(T.p,T.d,!0,T.t):"c"===y?this.onListenRevoked_(T.p,T.q):"ac"===y?this.onAuthRevoked_(T.s,T.d):"apc"===y?this.onAppCheckRevoked_(T.s,T.d):"sd"===y?this.onSecurityDebugPacket_(T):Ut("Unrecognized action received from server: "+(0,Q.stringify)(y)+"\nAre you using the latest client?")},m.prototype.onReady_=function(y,T){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(y),this.lastSessionId=T,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},m.prototype.scheduleConnect_=function(y){var T=this;(0,Q.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){T.establishConnectionTimer_=null,T.establishConnection_()},Math.floor(y))},m.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},m.prototype.onVisible_=function(y){y&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ip,this.realtime_||this.scheduleConnect_(0)),this.visible_=y},m.prototype.onOnline_=function(y){y?(this.log_("Browser went online."),this.reconnectDelay_=ip,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},m.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ip),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var T=(new Date).getTime()-this.lastConnectionAttemptTime_,I=Math.max(0,this.reconnectDelay_-T);I=Math.random()*I,this.log_("Trying to reconnect in "+I+"ms"),this.scheduleConnect_(I),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},m.prototype.establishConnection_=function(){return(0,Ze.__awaiter)(this,void 0,void 0,function(){var y,T,I,B,z,ue,pe,Ae,st,Vt,on,In,Fi,gi=this;return(0,Ze.__generator)(this,function(_i){switch(_i.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,y=this.onDataMessage_.bind(this),T=this.onReady_.bind(this),I=this.onRealtimeDisconnect_.bind(this),B=this.id+":"+m.nextConnectionId_++,z=this.lastSessionId,ue=!1,pe=null,this.realtime_={close:Ae=function(){pe?pe.close():(ue=!0,I())},sendRequest:function(lo){(0,Q.assert)(pe,"sendRequest call when we're not connected not allowed."),pe.sendRequest(lo)}},st=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,_i.label=1;case 1:return _i.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(st),this.appCheckTokenProvider_.getToken(st)])];case 2:return Vt=Ze.__read.apply(void 0,[_i.sent(),2]),on=Vt[0],In=Vt[1],ue?Re("getToken() completed but was canceled"):(Re("getToken() completed. Creating connection."),this.authToken_=on&&on.accessToken,this.appCheckToken_=In&&In.token,pe=new os(B,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,y,T,I,function(lo){Gn(lo+" ("+gi.repoInfo_.toString()+")"),gi.interrupt("server_kill")},z)),[3,4];case 3:return Fi=_i.sent(),this.log_("Failed to get token: "+Fi),ue||(this.repoInfo_.nodeAdmin&&Gn(Fi),Ae()),[3,4];case 4:return[2]}})})},m.prototype.interrupt=function(y){Re("Interrupting connection for reason: "+y),this.interruptReasons_[y]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},m.prototype.resume=function(y){Re("Resuming connection for reason: "+y),delete this.interruptReasons_[y],(0,Q.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=ip,this.realtime_||this.scheduleConnect_(0))},m.prototype.handleTimestamp_=function(y){var T=y-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:T})},m.prototype.cancelSentTransactions_=function(){for(var y=0;y<this.outstandingPuts_.length;y++){var T=this.outstandingPuts_[y];T&&"h"in T.request&&T.queued&&(T.onComplete&&T.onComplete("disconnect"),delete this.outstandingPuts_[y],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},m.prototype.onListenRevoked_=function(y,T){var I;I=T?T.map(function(z){return di(z)}).join("$"):"default";var B=this.removeListen_(y,I);B&&B.onComplete&&B.onComplete("permission_denied")},m.prototype.removeListen_=function(y,T){var B,I=new nr(y).toString();if(this.listens.has(I)){var z=this.listens.get(I);B=z.get(T),z.delete(T),0===z.size&&this.listens.delete(I)}else B=void 0;return B},m.prototype.onAuthRevoked_=function(y,T){Re("Auth token revoked: "+y+"/"+T),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===y||"permission_denied"===y)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},m.prototype.onAppCheckRevoked_=function(y,T){Re("App check token revoked: "+y+"/"+T),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===y||"permission_denied"===y)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},m.prototype.onSecurityDebugPacket_=function(y){this.securityDebugCallback_?this.securityDebugCallback_(y):"msg"in y&&console.log("FIREBASE: "+y.msg.replace("\n","\nFIREBASE: "))},m.prototype.restoreState_=function(){var y,T,I,B;this.tryAuth(),this.tryAppCheck();try{for(var z=(0,Ze.__values)(this.listens.values()),ue=z.next();!ue.done;ue=z.next()){var pe=ue.value;try{for(var Ae=(I=void 0,(0,Ze.__values)(pe.values())),Oe=Ae.next();!Oe.done;Oe=Ae.next())this.sendListen_(Oe.value)}catch(In){I={error:In}}finally{try{Oe&&!Oe.done&&(B=Ae.return)&&B.call(Ae)}finally{if(I)throw I.error}}}}catch(In){y={error:In}}finally{try{ue&&!ue.done&&(T=z.return)&&T.call(z)}finally{if(y)throw y.error}}for(var Vt=0;Vt<this.outstandingPuts_.length;Vt++)this.outstandingPuts_[Vt]&&this.sendPut_(Vt);for(;this.onDisconnectRequestQueue_.length;){var on=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(on.action,on.pathString,on.data,on.onComplete)}for(Vt=0;Vt<this.outstandingGets_.length;Vt++)this.outstandingGets_[Vt]&&this.sendGet_(Vt)},m.prototype.sendConnectStats_=function(){var y={},T="js";(0,Q.isNodeSdk)()&&(T=this.repoInfo_.nodeAdmin?"admin_node":"node"),y["sdk."+T+"."+yt.replace(/\./g,"-")]=1,(0,Q.isMobileCordova)()?y["framework.cordova"]=1:(0,Q.isReactNative)()&&(y["framework.reactnative"]=1),this.reportStats(y)},m.prototype.shouldReconnect_=function(){var y=ks.getInstance().currentlyOnline();return(0,Q.isEmpty)(this.interruptReasons_)&&y},m.nextPersistentConnectionId_=0,m.nextConnectionId_=0,m}(ea),lr=function(){function g(m,y){this.name=m,this.node=y}return g.Wrap=function(m,y){return new g(m,y)},g}(),dh=function(){function g(){}return g.prototype.getCompare=function(){return this.compare.bind(this)},g.prototype.indexedValueChanged=function(m,y){var T=new lr(At,m),I=new lr(At,y);return 0!==this.compare(T,I)},g.prototype.minPost=function(){return lr.MIN},g}(),eo=function(g){function m(){return null!==g&&g.apply(this,arguments)||this}return(0,Ze.__extends)(m,g),Object.defineProperty(m,"__EMPTY_NODE",{get:function(){return ri},set:function(y){ri=y},enumerable:!1,configurable:!0}),m.prototype.compare=function(y,T){return it(y.name,T.name)},m.prototype.isDefinedOn=function(y){throw(0,Q.assertionError)("KeyIndex.isDefinedOn not expected to be called.")},m.prototype.indexedValueChanged=function(y,T){return!1},m.prototype.minPost=function(){return lr.MIN},m.prototype.maxPost=function(){return new lr(Kt,ri)},m.prototype.makePost=function(y,T){return(0,Q.assert)("string"==typeof y,"KeyIndex indexValue must always be a string."),new lr(y,ri)},m.prototype.toString=function(){return".key"},m}(dh),xc=new eo,rp=function(){function g(m,y,T,I,B){void 0===B&&(B=null),this.isReverse_=I,this.resultGenerator_=B,this.nodeStack_=[];for(var z=1;!m.isEmpty();)if(m=m,z=y?T(m.key,y):1,I&&(z*=-1),z<0)m=this.isReverse_?m.left:m.right;else{if(0===z){this.nodeStack_.push(m);break}this.nodeStack_.push(m),m=this.isReverse_?m.right:m.left}}return g.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var y,m=this.nodeStack_.pop();if(y=this.resultGenerator_?this.resultGenerator_(m.key,m.value):{key:m.key,value:m.value},this.isReverse_)for(m=m.left;!m.isEmpty();)this.nodeStack_.push(m),m=m.right;else for(m=m.right;!m.isEmpty();)this.nodeStack_.push(m),m=m.left;return y},g.prototype.hasNext=function(){return this.nodeStack_.length>0},g.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var m=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(m.key,m.value):{key:m.key,value:m.value}},g}(),Ma=function(){function g(m,y,T,I,B){this.key=m,this.value=y,this.color=null!=T?T:g.RED,this.left=null!=I?I:Hl.EMPTY_NODE,this.right=null!=B?B:Hl.EMPTY_NODE}return g.prototype.copy=function(m,y,T,I,B){return new g(null!=m?m:this.key,null!=y?y:this.value,null!=T?T:this.color,null!=I?I:this.left,null!=B?B:this.right)},g.prototype.count=function(){return this.left.count()+1+this.right.count()},g.prototype.isEmpty=function(){return!1},g.prototype.inorderTraversal=function(m){return this.left.inorderTraversal(m)||!!m(this.key,this.value)||this.right.inorderTraversal(m)},g.prototype.reverseTraversal=function(m){return this.right.reverseTraversal(m)||m(this.key,this.value)||this.left.reverseTraversal(m)},g.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},g.prototype.minKey=function(){return this.min_().key},g.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},g.prototype.insert=function(m,y,T){var I=this,B=T(m,I.key);return(I=B<0?I.copy(null,null,null,I.left.insert(m,y,T),null):0===B?I.copy(null,y,null,null,null):I.copy(null,null,null,null,I.right.insert(m,y,T))).fixUp_()},g.prototype.removeMin_=function(){if(this.left.isEmpty())return Hl.EMPTY_NODE;var m=this;return!m.left.isRed_()&&!m.left.left.isRed_()&&(m=m.moveRedLeft_()),(m=m.copy(null,null,null,m.left.removeMin_(),null)).fixUp_()},g.prototype.remove=function(m,y){var T,I;if(y(m,(T=this).key)<0)!T.left.isEmpty()&&!T.left.isRed_()&&!T.left.left.isRed_()&&(T=T.moveRedLeft_()),T=T.copy(null,null,null,T.left.remove(m,y),null);else{if(T.left.isRed_()&&(T=T.rotateRight_()),!T.right.isEmpty()&&!T.right.isRed_()&&!T.right.left.isRed_()&&(T=T.moveRedRight_()),0===y(m,T.key)){if(T.right.isEmpty())return Hl.EMPTY_NODE;I=T.right.min_(),T=T.copy(I.key,I.value,null,null,T.right.removeMin_())}T=T.copy(null,null,null,null,T.right.remove(m,y))}return T.fixUp_()},g.prototype.isRed_=function(){return this.color},g.prototype.fixUp_=function(){var m=this;return m.right.isRed_()&&!m.left.isRed_()&&(m=m.rotateLeft_()),m.left.isRed_()&&m.left.left.isRed_()&&(m=m.rotateRight_()),m.left.isRed_()&&m.right.isRed_()&&(m=m.colorFlip_()),m},g.prototype.moveRedLeft_=function(){var m=this.colorFlip_();return m.right.left.isRed_()&&(m=(m=(m=m.copy(null,null,null,null,m.right.rotateRight_())).rotateLeft_()).colorFlip_()),m},g.prototype.moveRedRight_=function(){var m=this.colorFlip_();return m.left.left.isRed_()&&(m=(m=m.rotateRight_()).colorFlip_()),m},g.prototype.rotateLeft_=function(){var m=this.copy(null,null,g.RED,null,this.right.left);return this.right.copy(null,null,this.color,m,null)},g.prototype.rotateRight_=function(){var m=this.copy(null,null,g.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,m)},g.prototype.colorFlip_=function(){var m=this.left.copy(null,null,!this.left.color,null,null),y=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,m,y)},g.prototype.checkMaxDepth_=function(){var m=this.check_();return Math.pow(2,m)<=this.count()+1},g.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var m=this.left.check_();if(m!==this.right.check_())throw new Error("Black depths differ");return m+(this.isRed_()?0:1)},g.RED=!0,g.BLACK=!1,g}(),Pu=function(){function g(){}return g.prototype.copy=function(m,y,T,I,B){return this},g.prototype.insert=function(m,y,T){return new Ma(m,y,null)},g.prototype.remove=function(m,y){return this},g.prototype.count=function(){return 0},g.prototype.isEmpty=function(){return!0},g.prototype.inorderTraversal=function(m){return!1},g.prototype.reverseTraversal=function(m){return!1},g.prototype.minKey=function(){return null},g.prototype.maxKey=function(){return null},g.prototype.check_=function(){return 0},g.prototype.isRed_=function(){return!1},g}(),Hl=function(){function g(m,y){void 0===y&&(y=g.EMPTY_NODE),this.comparator_=m,this.root_=y}return g.prototype.insert=function(m,y){return new g(this.comparator_,this.root_.insert(m,y,this.comparator_).copy(null,null,Ma.BLACK,null,null))},g.prototype.remove=function(m){return new g(this.comparator_,this.root_.remove(m,this.comparator_).copy(null,null,Ma.BLACK,null,null))},g.prototype.get=function(m){for(var y,T=this.root_;!T.isEmpty();){if(0===(y=this.comparator_(m,T.key)))return T.value;y<0?T=T.left:y>0&&(T=T.right)}return null},g.prototype.getPredecessorKey=function(m){for(var y,T=this.root_,I=null;!T.isEmpty();){if(0===(y=this.comparator_(m,T.key))){if(T.left.isEmpty())return I?I.key:null;for(T=T.left;!T.right.isEmpty();)T=T.right;return T.key}y<0?T=T.left:y>0&&(I=T,T=T.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},g.prototype.isEmpty=function(){return this.root_.isEmpty()},g.prototype.count=function(){return this.root_.count()},g.prototype.minKey=function(){return this.root_.minKey()},g.prototype.maxKey=function(){return this.root_.maxKey()},g.prototype.inorderTraversal=function(m){return this.root_.inorderTraversal(m)},g.prototype.reverseTraversal=function(m){return this.root_.reverseTraversal(m)},g.prototype.getIterator=function(m){return new rp(this.root_,null,this.comparator_,!1,m)},g.prototype.getIteratorFrom=function(m,y){return new rp(this.root_,m,this.comparator_,!1,y)},g.prototype.getReverseIteratorFrom=function(m,y){return new rp(this.root_,m,this.comparator_,!0,y)},g.prototype.getReverseIterator=function(m){return new rp(this.root_,null,this.comparator_,!0,m)},g.EMPTY_NODE=new Pu,g}();function Cd(g,m){return it(g.name,m.name)}function _l(g,m){return it(g,m)}var op,jg,as,fh,vl,wo=function(g){return"number"==typeof g?"number:"+Wn(g):"string:"+g},ou=function(g){if(g.isLeafNode()){var m=g.val();(0,Q.assert)("string"==typeof m||"number"==typeof m||"object"==typeof m&&(0,Q.contains)(m,".sv"),"Priority must be a string or number.")}else(0,Q.assert)(g===Tc||g.isEmpty(),"priority of unexpected type.");(0,Q.assert)(g===Tc||g.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},su=function(){function g(m,y){void 0===y&&(y=g.__childrenNodeConstructor.EMPTY_NODE),this.value_=m,this.priorityNode_=y,this.lazyHash_=null,(0,Q.assert)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),ou(this.priorityNode_)}return Object.defineProperty(g,"__childrenNodeConstructor",{get:function(){return op},set:function(m){op=m},enumerable:!1,configurable:!0}),g.prototype.isLeafNode=function(){return!0},g.prototype.getPriority=function(){return this.priorityNode_},g.prototype.updatePriority=function(m){return new g(this.value_,m)},g.prototype.getImmediateChild=function(m){return".priority"===m?this.priorityNode_:g.__childrenNodeConstructor.EMPTY_NODE},g.prototype.getChild=function(m){return ki(m)?this:".priority"===Si(m)?this.priorityNode_:g.__childrenNodeConstructor.EMPTY_NODE},g.prototype.hasChild=function(){return!1},g.prototype.getPredecessorChildName=function(m,y){return null},g.prototype.updateImmediateChild=function(m,y){return".priority"===m?this.updatePriority(y):y.isEmpty()&&".priority"!==m?this:g.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(m,y).updatePriority(this.priorityNode_)},g.prototype.updateChild=function(m,y){var T=Si(m);return null===T?y:y.isEmpty()&&".priority"!==T?this:((0,Q.assert)(".priority"!==T||1===ha(m),".priority must be the last token in a path"),this.updateImmediateChild(T,g.__childrenNodeConstructor.EMPTY_NODE.updateChild(Sn(m),y)))},g.prototype.isEmpty=function(){return!1},g.prototype.numChildren=function(){return 0},g.prototype.forEachChild=function(m,y){return!1},g.prototype.val=function(m){return m&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},g.prototype.hash=function(){if(null===this.lazyHash_){var m="";this.priorityNode_.isEmpty()||(m+="priority:"+wo(this.priorityNode_.val())+":");var y=typeof this.value_;m+=y+":",m+="number"===y?Wn(this.value_):this.value_,this.lazyHash_=ot(m)}return this.lazyHash_},g.prototype.getValue=function(){return this.value_},g.prototype.compareTo=function(m){return m===g.__childrenNodeConstructor.EMPTY_NODE?1:m instanceof g.__childrenNodeConstructor?-1:((0,Q.assert)(m.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(m))},g.prototype.compareToLeafNode_=function(m){var y=typeof m.value_,T=typeof this.value_,I=g.VALUE_TYPE_ORDER.indexOf(y),B=g.VALUE_TYPE_ORDER.indexOf(T);return(0,Q.assert)(I>=0,"Unknown leaf type: "+y),(0,Q.assert)(B>=0,"Unknown leaf type: "+T),I===B?"object"===T?0:this.value_<m.value_?-1:this.value_===m.value_?0:1:B-I},g.prototype.withIndex=function(){return this},g.prototype.isIndexed=function(){return!0},g.prototype.equals=function(m){return m===this||!!m.isLeafNode()&&(this.value_===m.value_&&this.priorityNode_.equals(m.priorityNode_))},g.VALUE_TYPE_ORDER=["object","boolean","number","string"],g}(),sp=function(g){function m(){return null!==g&&g.apply(this,arguments)||this}return(0,Ze.__extends)(m,g),m.prototype.compare=function(y,T){var I=y.node.getPriority(),B=T.node.getPriority(),z=I.compareTo(B);return 0===z?it(y.name,T.name):z},m.prototype.isDefinedOn=function(y){return!y.getPriority().isEmpty()},m.prototype.indexedValueChanged=function(y,T){return!y.getPriority().equals(T.getPriority())},m.prototype.minPost=function(){return lr.MIN},m.prototype.maxPost=function(){return new lr(Kt,new su("[PRIORITY-POST]",as))},m.prototype.makePost=function(y,T){var I=jg(y);return new lr(T,new su("[PRIORITY-POST]",I))},m.prototype.toString=function(){return".priority"},m}(dh),so=new sp,Vg=Math.log(2),hm=function(){function g(m){this.count=parseInt(Math.log(m+1)/Vg,10),this.current_=this.count-1;var I=parseInt(Array(this.count+1).join("1"),2);this.bits_=m+1&I}return g.prototype.nextBitIsOne=function(){var m=!(this.bits_&1<<this.current_);return this.current_--,m},g}(),hh=function(g,m,y,T){g.sort(m);var I=function(pe,Ae){var st,Vt,Oe=Ae-pe;if(0===Oe)return null;if(1===Oe)return st=g[pe],Vt=y?y(st):st,new Ma(Vt,st.node,Ma.BLACK,null,null);var on=parseInt(Oe/2,10)+pe,In=I(pe,on),Fi=I(on+1,Ae);return st=g[on],Vt=y?y(st):st,new Ma(Vt,st.node,Ma.BLACK,In,Fi)},ue=function(pe){for(var Ae=null,Oe=null,st=g.length,Vt=function(_i,lo){var Vc=st-_i,No=st;st-=_i;var ws=I(Vc+1,No),f_=g[Vc],sn=y?y(f_):f_;on(new Ma(sn,f_.node,lo,null,ws))},on=function(_i){Ae?(Ae.left=_i,Ae=_i):(Oe=_i,Ae=_i)},In=0;In<pe.count;++In){var Fi=pe.nextBitIsOne(),gi=Math.pow(2,pe.count-(In+1));Fi?Vt(gi,Ma.BLACK):(Vt(gi,Ma.BLACK),Vt(gi,Ma.RED))}return Oe}(new hm(g.length));return new Hl(T||m,ue)},ap={},sr=function(){function g(m,y){this.indexes_=m,this.indexSet_=y}return Object.defineProperty(g,"Default",{get:function(){return(0,Q.assert)(ap&&so,"ChildrenNode.ts has not been loaded"),fh=fh||new g({".priority":ap},{".priority":so})},enumerable:!1,configurable:!0}),g.prototype.get=function(m){var y=(0,Q.safeGet)(this.indexes_,m);if(!y)throw new Error("No index defined for "+m);return y instanceof Hl?y:null},g.prototype.hasIndex=function(m){return(0,Q.contains)(this.indexSet_,m.toString())},g.prototype.addIndex=function(m,y){(0,Q.assert)(m!==xc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var T=[],I=!1,B=y.getIterator(lr.Wrap),z=B.getNext();z;)I=I||m.isDefinedOn(z.node),T.push(z),z=B.getNext();var ue;ue=I?hh(T,m.getCompare()):ap;var pe=m.toString(),Ae=(0,Ze.__assign)({},this.indexSet_);Ae[pe]=m;var Oe=(0,Ze.__assign)({},this.indexes_);return Oe[pe]=ue,new g(Oe,Ae)},g.prototype.addToIndexes=function(m,y){var T=this;return new g((0,Q.map)(this.indexes_,function(B,z){var ue=(0,Q.safeGet)(T.indexSet_,z);if((0,Q.assert)(ue,"Missing index implementation for "+z),B===ap){if(ue.isDefinedOn(m.node)){for(var pe=[],Ae=y.getIterator(lr.Wrap),Oe=Ae.getNext();Oe;)Oe.name!==m.name&&pe.push(Oe),Oe=Ae.getNext();return pe.push(m),hh(pe,ue.getCompare())}return ap}var st=y.get(m.name),Vt=B;return st&&(Vt=Vt.remove(new lr(m.name,st))),Vt.insert(m,m.node)}),this.indexSet_)},g.prototype.removeFromIndexes=function(m,y){return new g((0,Q.map)(this.indexes_,function(I){if(I===ap)return I;var B=y.get(m.name);return B?I.remove(new lr(m.name,B)):I}),this.indexSet_)},g}(),Li=function(){function g(m,y,T){this.children_=m,this.priorityNode_=y,this.indexMap_=T,this.lazyHash_=null,this.priorityNode_&&ou(this.priorityNode_),this.children_.isEmpty()&&(0,Q.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(g,"EMPTY_NODE",{get:function(){return vl||(vl=new g(new Hl(_l),null,sr.Default))},enumerable:!1,configurable:!0}),g.prototype.isLeafNode=function(){return!1},g.prototype.getPriority=function(){return this.priorityNode_||vl},g.prototype.updatePriority=function(m){return this.children_.isEmpty()?this:new g(this.children_,m,this.indexMap_)},g.prototype.getImmediateChild=function(m){if(".priority"===m)return this.getPriority();var y=this.children_.get(m);return null===y?vl:y},g.prototype.getChild=function(m){var y=Si(m);return null===y?this:this.getImmediateChild(y).getChild(Sn(m))},g.prototype.hasChild=function(m){return null!==this.children_.get(m)},g.prototype.updateImmediateChild=function(m,y){if((0,Q.assert)(y,"We should always be passing snapshot nodes"),".priority"===m)return this.updatePriority(y);var T=new lr(m,y),I=void 0,B=void 0;y.isEmpty()?(I=this.children_.remove(m),B=this.indexMap_.removeFromIndexes(T,this.children_)):(I=this.children_.insert(m,y),B=this.indexMap_.addToIndexes(T,this.children_));var z=I.isEmpty()?vl:this.priorityNode_;return new g(I,z,B)},g.prototype.updateChild=function(m,y){var T=Si(m);if(null===T)return y;(0,Q.assert)(".priority"!==Si(m)||1===ha(m),".priority must be the last token in a path");var I=this.getImmediateChild(T).updateChild(Sn(m),y);return this.updateImmediateChild(T,I)},g.prototype.isEmpty=function(){return this.children_.isEmpty()},g.prototype.numChildren=function(){return this.children_.count()},g.prototype.val=function(m){if(this.isEmpty())return null;var y={},T=0,I=0,B=!0;if(this.forEachChild(so,function(pe,Ae){y[pe]=Ae.val(m),T++,B&&g.INTEGER_REGEXP_.test(pe)?I=Math.max(I,Number(pe)):B=!1}),!m&&B&&I<2*T){var z=[];for(var ue in y)z[ue]=y[ue];return z}return m&&!this.getPriority().isEmpty()&&(y[".priority"]=this.getPriority().val()),y},g.prototype.hash=function(){if(null===this.lazyHash_){var m="";this.getPriority().isEmpty()||(m+="priority:"+wo(this.getPriority().val())+":"),this.forEachChild(so,function(y,T){var I=T.hash();""!==I&&(m+=":"+y+":"+I)}),this.lazyHash_=""===m?"":ot(m)}return this.lazyHash_},g.prototype.getPredecessorChildName=function(m,y,T){var I=this.resolveIndex_(T);if(I){var B=I.getPredecessorKey(new lr(m,y));return B?B.name:null}return this.children_.getPredecessorKey(m)},g.prototype.getFirstChildName=function(m){var y=this.resolveIndex_(m);if(y){var T=y.minKey();return T&&T.name}return this.children_.minKey()},g.prototype.getFirstChild=function(m){var y=this.getFirstChildName(m);return y?new lr(y,this.children_.get(y)):null},g.prototype.getLastChildName=function(m){var y=this.resolveIndex_(m);if(y){var T=y.maxKey();return T&&T.name}return this.children_.maxKey()},g.prototype.getLastChild=function(m){var y=this.getLastChildName(m);return y?new lr(y,this.children_.get(y)):null},g.prototype.forEachChild=function(m,y){var T=this.resolveIndex_(m);return T?T.inorderTraversal(function(I){return y(I.name,I.node)}):this.children_.inorderTraversal(y)},g.prototype.getIterator=function(m){return this.getIteratorFrom(m.minPost(),m)},g.prototype.getIteratorFrom=function(m,y){var T=this.resolveIndex_(y);if(T)return T.getIteratorFrom(m,function(z){return z});for(var I=this.children_.getIteratorFrom(m.name,lr.Wrap),B=I.peek();null!=B&&y.compare(B,m)<0;)I.getNext(),B=I.peek();return I},g.prototype.getReverseIterator=function(m){return this.getReverseIteratorFrom(m.maxPost(),m)},g.prototype.getReverseIteratorFrom=function(m,y){var T=this.resolveIndex_(y);if(T)return T.getReverseIteratorFrom(m,function(z){return z});for(var I=this.children_.getReverseIteratorFrom(m.name,lr.Wrap),B=I.peek();null!=B&&y.compare(B,m)>0;)I.getNext(),B=I.peek();return I},g.prototype.compareTo=function(m){return this.isEmpty()?m.isEmpty()?0:-1:m.isLeafNode()||m.isEmpty()?1:m===ef?-1:0},g.prototype.withIndex=function(m){if(m===xc||this.indexMap_.hasIndex(m))return this;var y=this.indexMap_.addIndex(m,this.children_);return new g(this.children_,this.priorityNode_,y)},g.prototype.isIndexed=function(m){return m===xc||this.indexMap_.hasIndex(m)},g.prototype.equals=function(m){if(m===this)return!0;if(m.isLeafNode())return!1;var y=m;if(this.getPriority().equals(y.getPriority())){if(this.children_.count()===y.children_.count()){for(var T=this.getIterator(so),I=y.getIterator(so),B=T.getNext(),z=I.getNext();B&&z;){if(B.name!==z.name||!B.node.equals(z.node))return!1;B=T.getNext(),z=I.getNext()}return null===B&&null===z}return!1}return!1},g.prototype.resolveIndex_=function(m){return m===xc?null:this.indexMap_.get(m.toString())},g.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,g}(),Zr=function(g){function m(){return g.call(this,new Hl(_l),Li.EMPTY_NODE,sr.Default)||this}return(0,Ze.__extends)(m,g),m.prototype.compareTo=function(y){return y===this?0:1},m.prototype.equals=function(y){return y===this},m.prototype.getPriority=function(){return this},m.prototype.getImmediateChild=function(y){return Li.EMPTY_NODE},m.prototype.isEmpty=function(){return!1},m}(Li),ef=new Zr;function Ur(g,m){if(void 0===m&&(m=null),null===g)return Li.EMPTY_NODE;if("object"==typeof g&&".priority"in g&&(m=g[".priority"]),(0,Q.assert)(null===m||"string"==typeof m||"number"==typeof m||"object"==typeof m&&".sv"in m,"Invalid priority type found: "+typeof m),"object"==typeof g&&".value"in g&&null!==g[".value"]&&(g=g[".value"]),"object"!=typeof g||".sv"in g)return new su(g,Ur(m));if(g instanceof Array){var pe=Li.EMPTY_NODE;return pn(g,function(Ae,Oe){if((0,Q.contains)(g,Ae)&&"."!==Ae.substring(0,1)){var st=Ur(Oe);(st.isLeafNode()||!st.isEmpty())&&(pe=pe.updateImmediateChild(Ae,st))}}),pe.updatePriority(Ur(m))}var T=[],I=!1;if(pn(g,function(Ae,Oe){if("."!==Ae.substring(0,1)){var st=Ur(Oe);st.isEmpty()||(I=I||!st.getPriority().isEmpty(),T.push(new lr(Ae,st)))}}),0===T.length)return Li.EMPTY_NODE;var z=hh(T,Cd,function(Ae){return Ae.name},_l);if(I){var ue=hh(T,so.getCompare());return new Li(z,Ur(m),new sr({".priority":ue},{".priority":so}))}return new Li(z,Ur(m),sr.Default)}Object.defineProperties(lr,{MIN:{value:new lr(At,Li.EMPTY_NODE)},MAX:{value:new lr(Kt,ef)}}),eo.__EMPTY_NODE=Li.EMPTY_NODE,su.__childrenNodeConstructor=Li,function hv(g){Tc=g}(ef),function dm(g){as=g}(ef),function qs(g){jg=g}(Ur);var Is=function(g){function m(y){var T=g.call(this)||this;return T.indexPath_=y,(0,Q.assert)(!ki(y)&&".priority"!==Si(y),"Can't create PathIndex with empty path or .priority key"),T}return(0,Ze.__extends)(m,g),m.prototype.extractChild=function(y){return y.getChild(this.indexPath_)},m.prototype.isDefinedOn=function(y){return!y.getChild(this.indexPath_).isEmpty()},m.prototype.compare=function(y,T){var I=this.extractChild(y.node),B=this.extractChild(T.node),z=I.compareTo(B);return 0===z?it(y.name,T.name):z},m.prototype.makePost=function(y,T){var I=Ur(y),B=Li.EMPTY_NODE.updateChild(this.indexPath_,I);return new lr(T,B)},m.prototype.maxPost=function(){var y=Li.EMPTY_NODE.updateChild(this.indexPath_,ef);return new lr(Kt,y)},m.prototype.toString=function(){return Cc(this.indexPath_,0).join("/")},m}(dh),pm=function(g){function m(){return null!==g&&g.apply(this,arguments)||this}return(0,Ze.__extends)(m,g),m.prototype.compare=function(y,T){var I=y.node.compareTo(T.node);return 0===I?it(y.name,T.name):I},m.prototype.isDefinedOn=function(y){return!0},m.prototype.indexedValueChanged=function(y,T){return!y.equals(T)},m.prototype.minPost=function(){return lr.MIN},m.prototype.maxPost=function(){return lr.MAX},m.prototype.makePost=function(y,T){var I=Ur(y);return new lr(T,I)},m.prototype.toString=function(){return".value"},m}(dh),xd=new pm,fa="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",mm=function(){var g=0,m=[];return function(y){var T=y===g;g=y;var I,B=new Array(8);for(I=7;I>=0;I--)B[I]=fa.charAt(y%64),y=Math.floor(y/64);(0,Q.assert)(0===y,"Cannot push at time == 0");var z=B.join("");if(T){for(I=11;I>=0&&63===m[I];I--)m[I]=0;m[I]++}else for(I=0;I<12;I++)m[I]=Math.floor(64*Math.random());for(I=0;I<12;I++)z+=fa.charAt(m[I]);return(0,Q.assert)(20===z.length,"nextPushId: Length should be 20."),z}}(),Ac=function(g){if(g===""+Hr)return"-";var m=qo(g);if(null!=m)return""+(m+1);for(var y=new Array(g.length),T=0;T<y.length;T++)y[T]=g.charAt(T);if(y.length<786)return y.push("-"),y.join("");for(var I=y.length-1;I>=0&&"z"===y[I];)I--;if(-1===I)return Kt;var z=fa.charAt(fa.indexOf(y[I])+1);return y[I]=z,y.slice(0,I+1).join("")},au=function(g){if(g===""+Qr)return At;var m=qo(g);if(null!=m)return""+(m-1);for(var y=new Array(g.length),T=0;T<y.length;T++)y[T]=g.charAt(T);return"-"===y[y.length-1]?1===y.length?""+Hr:(delete y[y.length-1],y.join("")):(y[y.length-1]=fa.charAt(fa.indexOf(y[y.length-1])-1),y.join("")+"z".repeat(786-y.length))};function Gs(g){return{type:"value",snapshotNode:g}}function hi(g,m){return{type:"child_added",snapshotNode:m,childName:g}}function Ad(g,m){return{type:"child_removed",snapshotNode:m,childName:g}}function Ls(g,m,y){return{type:"child_changed",snapshotNode:m,childName:g,oldSnap:y}}var gm=function(){function g(m){this.index_=m}return g.prototype.updateChild=function(m,y,T,I,B,z){(0,Q.assert)(m.isIndexed(this.index_),"A node must be indexed if only a child is updated");var ue=m.getImmediateChild(y);return ue.getChild(I).equals(T.getChild(I))&&ue.isEmpty()===T.isEmpty()||(null!=z&&(T.isEmpty()?m.hasChild(y)?z.trackChildChange(Ad(y,ue)):(0,Q.assert)(m.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):ue.isEmpty()?z.trackChildChange(hi(y,T)):z.trackChildChange(Ls(y,T,ue))),m.isLeafNode()&&T.isEmpty())?m:m.updateImmediateChild(y,T).withIndex(this.index_)},g.prototype.updateFullNode=function(m,y,T){return null!=T&&(m.isLeafNode()||m.forEachChild(so,function(I,B){y.hasChild(I)||T.trackChildChange(Ad(I,B))}),y.isLeafNode()||y.forEachChild(so,function(I,B){if(m.hasChild(I)){var z=m.getImmediateChild(I);z.equals(B)||T.trackChildChange(Ls(I,B,z))}else T.trackChildChange(hi(I,B))})),y.withIndex(this.index_)},g.prototype.updatePriority=function(m,y){return m.isEmpty()?Li.EMPTY_NODE:m.updatePriority(y)},g.prototype.filtersNodes=function(){return!1},g.prototype.getIndexedFilter=function(){return this},g.prototype.getIndex=function(){return this.index_},g}(),Gl=function(){function g(m){this.indexedFilter_=new gm(m.getIndex()),this.index_=m.getIndex(),this.startPost_=g.getStartPost_(m),this.endPost_=g.getEndPost_(m)}return g.prototype.getStartPost=function(){return this.startPost_},g.prototype.getEndPost=function(){return this.endPost_},g.prototype.matches=function(m){return this.index_.compare(this.getStartPost(),m)<=0&&this.index_.compare(m,this.getEndPost())<=0},g.prototype.updateChild=function(m,y,T,I,B,z){return this.matches(new lr(y,T))||(T=Li.EMPTY_NODE),this.indexedFilter_.updateChild(m,y,T,I,B,z)},g.prototype.updateFullNode=function(m,y,T){y.isLeafNode()&&(y=Li.EMPTY_NODE);var I=y.withIndex(this.index_);I=I.updatePriority(Li.EMPTY_NODE);var B=this;return y.forEachChild(so,function(z,ue){B.matches(new lr(z,ue))||(I=I.updateImmediateChild(z,Li.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(m,I,T)},g.prototype.updatePriority=function(m,y){return m},g.prototype.filtersNodes=function(){return!0},g.prototype.getIndexedFilter=function(){return this.indexedFilter_},g.prototype.getIndex=function(){return this.index_},g.getStartPost_=function(m){if(m.hasStart()){var y=m.getIndexStartName();return m.getIndex().makePost(m.getIndexStartValue(),y)}return m.getIndex().minPost()},g.getEndPost_=function(m){if(m.hasEnd()){var y=m.getIndexEndName();return m.getIndex().makePost(m.getIndexEndValue(),y)}return m.getIndex().maxPost()},g}(),_m=function(){function g(m){this.rangedFilter_=new Gl(m),this.index_=m.getIndex(),this.limit_=m.getLimit(),this.reverse_=!m.isViewFromLeft()}return g.prototype.updateChild=function(m,y,T,I,B,z){return this.rangedFilter_.matches(new lr(y,T))||(T=Li.EMPTY_NODE),m.getImmediateChild(y).equals(T)?m:m.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(m,y,T,I,B,z):this.fullLimitUpdateChild_(m,y,T,B,z)},g.prototype.updateFullNode=function(m,y,T){var I;if(y.isLeafNode()||y.isEmpty())I=Li.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<y.numChildren()&&y.isIndexed(this.index_)){I=Li.EMPTY_NODE.withIndex(this.index_);var B=void 0;B=this.reverse_?y.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):y.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var z=0;B.hasNext()&&z<this.limit_;){var ue=B.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),ue)<=0:this.index_.compare(ue,this.rangedFilter_.getEndPost())<=0))break;I=I.updateImmediateChild(ue.name,ue.node),z++}}else{I=(I=y.withIndex(this.index_)).updatePriority(Li.EMPTY_NODE);var Ae=void 0,Oe=void 0,st=void 0;if(B=void 0,this.reverse_){B=I.getReverseIterator(this.index_),Ae=this.rangedFilter_.getEndPost(),Oe=this.rangedFilter_.getStartPost();var Vt=this.index_.getCompare();st=function(gi,_i){return Vt(_i,gi)}}else B=I.getIterator(this.index_),Ae=this.rangedFilter_.getStartPost(),Oe=this.rangedFilter_.getEndPost(),st=this.index_.getCompare();z=0;for(var on=!1;B.hasNext();)ue=B.getNext(),!on&&st(Ae,ue)<=0&&(on=!0),on&&z<this.limit_&&st(ue,Oe)<=0?z++:I=I.updateImmediateChild(ue.name,Li.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(m,I,T)},g.prototype.updatePriority=function(m,y){return m},g.prototype.filtersNodes=function(){return!0},g.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},g.prototype.getIndex=function(){return this.index_},g.prototype.fullLimitUpdateChild_=function(m,y,T,I,B){var z;if(this.reverse_){var ue=this.index_.getCompare();z=function(lo,Vc){return ue(Vc,lo)}}else z=this.index_.getCompare();var pe=m;(0,Q.assert)(pe.numChildren()===this.limit_,"");var Ae=new lr(y,T),Oe=this.reverse_?pe.getFirstChild(this.index_):pe.getLastChild(this.index_),st=this.rangedFilter_.matches(Ae);if(pe.hasChild(y)){for(var Vt=pe.getImmediateChild(y),on=I.getChildAfterChild(this.index_,Oe,this.reverse_);null!=on&&(on.name===y||pe.hasChild(on.name));)on=I.getChildAfterChild(this.index_,on,this.reverse_);var In=null==on?1:z(on,Ae);if(st&&!T.isEmpty()&&In>=0)return null!=B&&B.trackChildChange(Ls(y,T,Vt)),pe.updateImmediateChild(y,T);null!=B&&B.trackChildChange(Ad(y,Vt));var gi=pe.updateImmediateChild(y,Li.EMPTY_NODE);return null!=on&&this.rangedFilter_.matches(on)?(null!=B&&B.trackChildChange(hi(on.name,on.node)),gi.updateImmediateChild(on.name,on.node)):gi}return T.isEmpty()?m:st&&z(Oe,Ae)>=0?(null!=B&&(B.trackChildChange(Ad(Oe.name,Oe.node)),B.trackChildChange(hi(y,T))),pe.updateImmediateChild(y,T).updateImmediateChild(Oe.name,Li.EMPTY_NODE)):m},g}(),Sc=function(){function g(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=so}return g.prototype.hasStart=function(){return this.startSet_},g.prototype.hasStartAfter=function(){return this.startAfterSet_},g.prototype.hasEndBefore=function(){return this.endBeforeSet_},g.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},g.prototype.getIndexStartValue=function(){return(0,Q.assert)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},g.prototype.getIndexStartName=function(){return(0,Q.assert)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:At},g.prototype.hasEnd=function(){return this.endSet_},g.prototype.getIndexEndValue=function(){return(0,Q.assert)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},g.prototype.getIndexEndName=function(){return(0,Q.assert)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Kt},g.prototype.hasLimit=function(){return this.limitSet_},g.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},g.prototype.getLimit=function(){return(0,Q.assert)(this.limitSet_,"Only valid if limit has been set"),this.limit_},g.prototype.getIndex=function(){return this.index_},g.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},g.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===so},g.prototype.copy=function(){var m=new g;return m.limitSet_=this.limitSet_,m.limit_=this.limit_,m.startSet_=this.startSet_,m.indexStartValue_=this.indexStartValue_,m.startNameSet_=this.startNameSet_,m.indexStartName_=this.indexStartName_,m.endSet_=this.endSet_,m.indexEndValue_=this.indexEndValue_,m.endNameSet_=this.endNameSet_,m.indexEndName_=this.indexEndName_,m.index_=this.index_,m.viewFrom_=this.viewFrom_,m},g}();function Wi(g,m,y){var T=g.copy();return T.startSet_=!0,void 0===m&&(m=null),T.indexStartValue_=m,null!=y?(T.startNameSet_=!0,T.indexStartName_=y):(T.startNameSet_=!1,T.indexStartName_=""),T}function na(g,m,y){var T=g.copy();return T.endSet_=!0,void 0===m&&(m=null),T.indexEndValue_=m,void 0!==y?(T.endNameSet_=!0,T.indexEndName_=y):(T.endNameSet_=!1,T.indexEndName_=""),T}function Zl(g,m){var y=g.copy();return y.index_=m,y}function Uu(g){var y,m={};return g.isDefault()||(g.index_===so?y="$priority":g.index_===xd?y="$value":g.index_===xc?y="$key":((0,Q.assert)(g.index_ instanceof Is,"Unrecognized index type!"),y=g.index_.toString()),m.orderBy=(0,Q.stringify)(y),g.startSet_&&(m.startAt=(0,Q.stringify)(g.indexStartValue_),g.startNameSet_&&(m.startAt+=","+(0,Q.stringify)(g.indexStartName_))),g.endSet_&&(m.endAt=(0,Q.stringify)(g.indexEndValue_),g.endNameSet_&&(m.endAt+=","+(0,Q.stringify)(g.indexEndName_))),g.limitSet_&&(g.isViewFromLeft()?m.limitToFirst=g.limit_:m.limitToLast=g.limit_)),m}function Sd(g){var m={};if(g.startSet_&&(m.sp=g.indexStartValue_,g.startNameSet_&&(m.sn=g.indexStartName_)),g.endSet_&&(m.ep=g.indexEndValue_,g.endNameSet_&&(m.en=g.indexEndName_)),g.limitSet_){m.l=g.limit_;var y=g.viewFrom_;""===y&&(y=g.isViewFromLeft()?"l":"r"),m.vf=y}return g.index_!==so&&(m.i=g.index_.toString()),m}var cp=function(g){function m(y,T,I,B){var z=g.call(this)||this;return z.repoInfo_=y,z.onDataUpdate_=T,z.authTokenProvider_=I,z.appCheckTokenProvider_=B,z.log_=Mt("p:rest:"),z.listens_={},z}return(0,Ze.__extends)(m,g),m.prototype.reportStats=function(y){throw new Error("Method not implemented.")},m.getListenId_=function(y,T){return void 0!==T?"tag$"+T:((0,Q.assert)(y._queryParams.isDefault(),"should have a tag if it's not a default query."),y._path.toString())},m.prototype.listen=function(y,T,I,B){var z=this,ue=y._path.toString();this.log_("Listen called for "+ue+" "+y._queryIdentifier);var pe=m.getListenId_(y,I),Ae={};this.listens_[pe]=Ae;var Oe=Uu(y._queryParams);this.restRequest_(ue+".json",Oe,function(st,Vt){var on=Vt;404===st&&(on=null,st=null),null===st&&z.onDataUpdate_(ue,on,!1,I),(0,Q.safeGet)(z.listens_,pe)===Ae&&B(st?401===st?"permission_denied":"rest_error:"+st:"ok",null)})},m.prototype.unlisten=function(y,T){var I=m.getListenId_(y,T);delete this.listens_[I]},m.prototype.get=function(y){var T=this,I=Uu(y._queryParams),B=y._path.toString(),z=new Q.Deferred;return this.restRequest_(B+".json",I,function(ue,pe){var Ae=pe;404===ue&&(Ae=null,ue=null),null===ue?(T.onDataUpdate_(B,Ae,!1,null),z.resolve(Ae)):z.reject(new Error(Ae))}),z.promise},m.prototype.refreshAuthToken=function(y){},m.prototype.restRequest_=function(y,T,I){var B=this;return void 0===T&&(T={}),T.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(z){var ue=(0,Ze.__read)(z,2),pe=ue[0],Ae=ue[1];pe&&pe.accessToken&&(T.auth=pe.accessToken),Ae&&Ae.token&&(T.ac=Ae.token);var Oe=(B.repoInfo_.secure?"https://":"http://")+B.repoInfo_.host+y+"?ns="+B.repoInfo_.namespace+(0,Q.querystring)(T);B.log_("Sending REST request for "+Oe);var st=new XMLHttpRequest;st.onreadystatechange=function(){if(I&&4===st.readyState){B.log_("REST Response for "+Oe+" received. status:",st.status,"response:",st.responseText);var Vt=null;if(st.status>=200&&st.status<300){try{Vt=(0,Q.jsonEval)(st.responseText)}catch(on){Gn("Failed to parse JSON response for "+Oe+": "+st.responseText)}I(null,Vt)}else 401!==st.status&&404!==st.status&&Gn("Got unsuccessful REST response for "+Oe+" Status: "+st.status),I(st.status);I=null}},st.open("GET",Oe,!0),st.send()})},m}(ea),Dc=function(){function g(){this.rootNode_=Li.EMPTY_NODE}return g.prototype.getNode=function(m){return this.rootNode_.getChild(m)},g.prototype.updateSnapshot=function(m,y){this.rootNode_=this.rootNode_.updateChild(m,y)},g}();function Ec(){return{value:null,children:new Map}}function Fo(g,m,y){if(ki(m))g.value=y,g.children.clear();else if(null!==g.value)g.value=g.value.updateChild(m,y);else{var T=Si(m);g.children.has(T)||g.children.set(T,Ec()),Fo(g.children.get(T),m=Sn(m),y)}}function Fs(g,m){if(ki(m))return g.value=null,g.children.clear(),!0;if(null!==g.value){if(g.value.isLeafNode())return!1;var y=g.value;return g.value=null,y.forEachChild(so,function(B,z){Fo(g,new nr(B),z)}),Fs(g,m)}if(g.children.size>0){var T=Si(m);return m=Sn(m),g.children.has(T)&&Fs(g.children.get(T),m)&&g.children.delete(T),0===g.children.size}return!0}function ju(g,m,y){null!==g.value?y(m,g.value):function ls(g,m){g.children.forEach(function(y,T){m(T,y)})}(g,function(T,I){ju(I,new nr(m.toString()+"/"+T),y)})}var wl=function(){function g(m){this.collection_=m,this.last_=null}return g.prototype.get=function(){var m=this.collection_.get(),y=(0,Ze.__assign)({},m);return this.last_&&pn(this.last_,function(T,I){y[T]=y[T]-I}),this.last_=m,y},g}(),ka=function(){function g(m,y){this.server_=y,this.statsToReport_={},this.statsListener_=new wl(m);var T=1e4+2e4*Math.random();ua(this.reportStats_.bind(this),Math.floor(T))}return g.prototype.reportStats_=function(){var m=this,y=this.statsListener_.get(),T={},I=!1;pn(y,function(B,z){z>0&&(0,Q.contains)(m.statsToReport_,B)&&(T[B]=z,I=!0)}),I&&this.server_.reportStats(T),ua(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},g}(),cs=(()=>(function(g){g[g.OVERWRITE=0]="OVERWRITE",g[g.MERGE=1]="MERGE",g[g.ACK_USER_WRITE=2]="ACK_USER_WRITE",g[g.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(cs||(cs={})),cs))();function qg(g){return{fromUser:!1,fromServer:!0,queryId:g,tagged:!0}}var fv=function(){function g(m,y,T){this.path=m,this.affectedTree=y,this.revert=T,this.type=cs.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return g.prototype.operationForChild=function(m){if(ki(this.path)){if(null!=this.affectedTree.value)return(0,Q.assert)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var y=this.affectedTree.subtree(new nr(m));return new g(qn(),y,this.revert)}return(0,Q.assert)(Si(this.path)===m,"operationForChild called for unrelated child."),new g(Sn(this.path),this.affectedTree,this.revert)},g}(),tf=function(){function g(m,y){this.source=m,this.path=y,this.type=cs.LISTEN_COMPLETE}return g.prototype.operationForChild=function(m){return ki(this.path)?new g(this.source,qn()):new g(this.source,Sn(this.path))},g}(),nf=function(){function g(m,y,T){this.source=m,this.path=y,this.snap=T,this.type=cs.OVERWRITE}return g.prototype.operationForChild=function(m){return ki(this.path)?new g(this.source,qn(),this.snap.getImmediateChild(m)):new g(this.source,Sn(this.path),this.snap)},g}(),Mc=function(){function g(m,y,T){this.source=m,this.path=y,this.children=T,this.type=cs.MERGE}return g.prototype.operationForChild=function(m){if(ki(this.path)){var y=this.children.subtree(new nr(m));return y.isEmpty()?null:y.value?new nf(this.source,qn(),y.value):new g(this.source,qn(),y)}return(0,Q.assert)(Si(this.path)===m,"Can't get a merge for a child not on the path of the operation"),new g(this.source,Sn(this.path),this.children)},g.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},g}(),Zs=function(){function g(m,y,T){this.node_=m,this.fullyInitialized_=y,this.filtered_=T}return g.prototype.isFullyInitialized=function(){return this.fullyInitialized_},g.prototype.isFiltered=function(){return this.filtered_},g.prototype.isCompleteForPath=function(m){if(ki(m))return this.isFullyInitialized()&&!this.filtered_;var y=Si(m);return this.isCompleteForChild(y)},g.prototype.isCompleteForChild=function(m){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(m)},g.prototype.getNode=function(){return this.node_},g}(),Hg=function g(m){this.query_=m,this.index_=this.query_._queryParams.getIndex()};function Oa(g,m,y,T,I,B){var z=T.filter(function(ue){return ue.type===y});z.sort(function(ue,pe){return function ia(g,m,y){if(null==m.childName||null==y.childName)throw(0,Q.assertionError)("Should only compare child_ events.");var T=new lr(m.childName,m.snapshotNode),I=new lr(y.childName,y.snapshotNode);return g.index_.compare(T,I)}(g,ue,pe)}),z.forEach(function(ue){var pe=function ym(g,m,y){return"value"===m.type||"child_removed"===m.type||(m.prevName=y.getPredecessorChildName(m.childName,m.snapshotNode,g.index_)),m}(g,ue,B);I.forEach(function(Ae){Ae.respondsTo(ue.type)&&m.push(Ae.createEvent(pe,g.query_))})})}function vs(g,m){return{eventCache:g,serverCache:m}}function Yr(g,m,y,T){return vs(new Zs(m,y,T),g.serverCache)}function La(g,m,y,T){return vs(g.eventCache,new Zs(m,y,T))}function up(g){return g.eventCache.isFullyInitialized()?g.eventCache.getNode():null}function kc(g){return g.serverCache.isFullyInitialized()?g.serverCache.getNode():null}var rf,ma=function(){function g(m,y){void 0===y&&(rf||(rf=new Hl(Tn)),y=rf),this.value=m,this.children=y}return g.fromObject=function(m){var y=new g(null);return pn(m,function(T,I){y=y.set(new nr(T),I)}),y},g.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},g.prototype.findRootMostMatchingPathAndValue=function(m,y){if(null!=this.value&&y(this.value))return{path:qn(),value:this.value};if(ki(m))return null;var T=Si(m),I=this.children.get(T);if(null!==I){var B=I.findRootMostMatchingPathAndValue(Sn(m),y);return null!=B?{path:Yi(new nr(T),B.path),value:B.value}:null}return null},g.prototype.findRootMostValueAndPath=function(m){return this.findRootMostMatchingPathAndValue(m,function(){return!0})},g.prototype.subtree=function(m){if(ki(m))return this;var y=Si(m),T=this.children.get(y);return null!==T?T.subtree(Sn(m)):new g(null)},g.prototype.set=function(m,y){if(ki(m))return new g(y,this.children);var T=Si(m),B=(this.children.get(T)||new g(null)).set(Sn(m),y),z=this.children.insert(T,B);return new g(this.value,z)},g.prototype.remove=function(m){if(ki(m))return this.children.isEmpty()?new g(null):new g(null,this.children);var y=Si(m),T=this.children.get(y);if(T){var I=T.remove(Sn(m)),B=void 0;return B=I.isEmpty()?this.children.remove(y):this.children.insert(y,I),null===this.value&&B.isEmpty()?new g(null):new g(this.value,B)}return this},g.prototype.get=function(m){if(ki(m))return this.value;var y=Si(m),T=this.children.get(y);return T?T.get(Sn(m)):null},g.prototype.setTree=function(m,y){if(ki(m))return y;var z,T=Si(m),B=(this.children.get(T)||new g(null)).setTree(Sn(m),y);return z=B.isEmpty()?this.children.remove(T):this.children.insert(T,B),new g(this.value,z)},g.prototype.fold=function(m){return this.fold_(qn(),m)},g.prototype.fold_=function(m,y){var T={};return this.children.inorderTraversal(function(I,B){T[I]=B.fold_(Yi(m,I),y)}),y(m,this.value,T)},g.prototype.findOnPath=function(m,y){return this.findOnPath_(m,qn(),y)},g.prototype.findOnPath_=function(m,y,T){var I=!!this.value&&T(y,this.value);if(I)return I;if(ki(m))return null;var B=Si(m),z=this.children.get(B);return z?z.findOnPath_(Sn(m),Yi(y,B),T):null},g.prototype.foreachOnPath=function(m,y){return this.foreachOnPath_(m,qn(),y)},g.prototype.foreachOnPath_=function(m,y,T){if(ki(m))return this;this.value&&T(y,this.value);var I=Si(m),B=this.children.get(I);return B?B.foreachOnPath_(Sn(m),Yi(y,I),T):new g(null)},g.prototype.foreach=function(m){this.foreach_(qn(),m)},g.prototype.foreach_=function(m,y){this.children.inorderTraversal(function(T,I){I.foreach_(Yi(m,T),y)}),this.value&&y(m,this.value)},g.prototype.foreachChild=function(m){this.children.inorderTraversal(function(y,T){T.value&&m(y,T.value)})},g}(),ga=function(){function g(m){this.writeTree_=m}return g.empty=function(){return new g(new ma(null))},g}();function Cl(g,m,y){if(ki(m))return new ga(new ma(y));var T=g.writeTree_.findRootMostValueAndPath(m);if(null!=T){var I=T.path,B=T.value,z=ss(I,m);return B=B.updateChild(z,y),new ga(g.writeTree_.set(I,B))}var ue=new ma(y),pe=g.writeTree_.setTree(m,ue);return new ga(pe)}function mh(g,m,y){var T=g;return pn(y,function(I,B){T=Cl(T,Yi(m,I),B)}),T}function sf(g,m){if(ki(m))return ga.empty();var y=g.writeTree_.setTree(m,new ma(null));return new ga(y)}function dp(g,m){return null!=qu(g,m)}function qu(g,m){var y=g.writeTree_.findRootMostValueAndPath(m);return null!=y?g.writeTree_.get(y.path).getChild(ss(y.path,m)):null}function ra(g){var m=[],y=g.writeTree_.value;return null!=y?y.isLeafNode()||y.forEachChild(so,function(T,I){m.push(new lr(T,I))}):g.writeTree_.children.inorderTraversal(function(T,I){null!=I.value&&m.push(new lr(T,I.value))}),m}function Ka(g,m){if(ki(m))return g;var y=qu(g,m);return new ga(null!=y?new ma(y):g.writeTree_.subtree(m))}function af(g){return g.writeTree_.isEmpty()}function Dd(g,m){return Fa(qn(),g.writeTree_,m)}function Fa(g,m,y){if(null!=m.value)return y.updateChild(g,m.value);var T=null;return m.children.inorderTraversal(function(I,B){".priority"===I?((0,Q.assert)(null!==B.value,"Priority writes must always be leaf nodes"),T=B.value):y=Fa(Yi(g,I),B,y)}),!y.getChild(g).isEmpty()&&null!==T&&(y=y.updateChild(Yi(g,".priority"),T)),y}function Ic(g,m){return X(m,g)}function Dn(g,m){if(g.snap)return ta(g.path,m);for(var y in g.children)if(g.children.hasOwnProperty(y)&&ta(Yi(g.path,y),m))return!0;return!1}function Io(g){return g.visible}function Co(g,m,y){for(var T=ga.empty(),I=0;I<g.length;++I){var B=g[I];if(m(B)){var z=B.path,ue=void 0;if(B.snap)ta(y,z)?T=Cl(T,ue=ss(y,z),B.snap):ta(z,y)&&(ue=ss(z,y),T=Cl(T,qn(),B.snap.getChild(ue)));else{if(!B.children)throw(0,Q.assertionError)("WriteRecord should have .snap or .children");if(ta(y,z))T=mh(T,ue=ss(y,z),B.children);else if(ta(z,y))if(ki(ue=ss(z,y)))T=mh(T,qn(),B.children);else{var pe=(0,Q.safeGet)(B.children,Si(ue));if(pe){var Ae=pe.getChild(Sn(ue));T=Cl(T,qn(),Ae)}}}}}return T}function hp(g,m,y,T,I){if(T||I){var pe=Ka(g.visibleWrites,m);return!I&&af(pe)?y:I||null!=y||dp(pe,qn())?Dd(Co(g.allWrites,function(Vt){return(Vt.visible||I)&&(!T||!~T.indexOf(Vt.writeId))&&(ta(Vt.path,m)||ta(m,Vt.path))},m),y||Li.EMPTY_NODE):null}var B=qu(g.visibleWrites,m);if(null!=B)return B;var z=Ka(g.visibleWrites,m);return af(z)?y:null!=y||dp(z,qn())?Dd(z,y||Li.EMPTY_NODE):null}function un(g,m,y,T){return hp(g.writeTree,g.treePath,m,y,T)}function zl(g,m){return function Hu(g,m,y){var T=Li.EMPTY_NODE,I=qu(g.visibleWrites,m);if(I)return I.isLeafNode()||I.forEachChild(so,function(ue,pe){T=T.updateImmediateChild(ue,pe)}),T;if(y){var B=Ka(g.visibleWrites,m);return y.forEachChild(so,function(ue,pe){var Ae=Dd(Ka(B,new nr(ue)),pe);T=T.updateImmediateChild(ue,Ae)}),ra(B).forEach(function(ue){T=T.updateImmediateChild(ue.name,ue.node)}),T}return ra(Ka(g.visibleWrites,m)).forEach(function(ue){T=T.updateImmediateChild(ue.name,ue.node)}),T}(g.writeTree,g.treePath,m)}function N(g,m,y,T){return function Ed(g,m,y,T,I){(0,Q.assert)(T||I,"Either existingEventSnap or existingServerSnap must exist");var B=Yi(m,y);if(dp(g.visibleWrites,B))return null;var z=Ka(g.visibleWrites,B);return af(z)?I.getChild(y):Dd(z,I.getChild(y))}(g.writeTree,g.treePath,m,y,T)}function G(g,m){return function xo(g,m){return qu(g.visibleWrites,m)}(g.writeTree,Yi(g.treePath,m))}function L(g,m,y){return function gh(g,m,y,T){var I=Yi(m,y),B=qu(g.visibleWrites,I);return null!=B?B:T.isCompleteForChild(y)?Dd(Ka(g.visibleWrites,I),T.getNode().getImmediateChild(y)):null}(g.writeTree,g.treePath,m,y)}function Z(g,m){return X(Yi(g.treePath,m),g.writeTree)}function X(g,m){return{treePath:g,writeTree:m}}var ye=function(){function g(){this.changeMap=new Map}return g.prototype.trackChildChange=function(m){var y=m.type,T=m.childName;(0,Q.assert)("child_added"===y||"child_changed"===y||"child_removed"===y,"Only child changes supported for tracking"),(0,Q.assert)(".priority"!==T,"Only non-priority child changes can be tracked.");var I=this.changeMap.get(T);if(I){var B=I.type;if("child_added"===y&&"child_removed"===B)this.changeMap.set(T,Ls(T,m.snapshotNode,I.snapshotNode));else if("child_removed"===y&&"child_added"===B)this.changeMap.delete(T);else if("child_removed"===y&&"child_changed"===B)this.changeMap.set(T,Ad(T,I.oldSnap));else if("child_changed"===y&&"child_added"===B)this.changeMap.set(T,hi(T,m.snapshotNode));else{if("child_changed"!==y||"child_changed"!==B)throw(0,Q.assertionError)("Illegal combination of changes: "+m+" occurred after "+I);this.changeMap.set(T,Ls(T,m.snapshotNode,I.oldSnap))}}else this.changeMap.set(T,m)},g.prototype.getChanges=function(){return Array.from(this.changeMap.values())},g}(),Se=function(){function g(){}return g.prototype.getCompleteChild=function(m){return null},g.prototype.getChildAfterChild=function(m,y,T){return null},g}(),Ye=new Se,Lt=function(){function g(m,y,T){void 0===T&&(T=null),this.writes_=m,this.viewCache_=y,this.optCompleteServerCache_=T}return g.prototype.getCompleteChild=function(m){var y=this.viewCache_.eventCache;if(y.isCompleteForChild(m))return y.getNode().getImmediateChild(m);var T=null!=this.optCompleteServerCache_?new Zs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return L(this.writes_,m,T)},g.prototype.getChildAfterChild=function(m,y,T){var I=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:kc(this.viewCache_),B=function j(g,m,y,T,I,B){return function to(g,m,y,T,I,B,z){var ue,pe=Ka(g.visibleWrites,m),Ae=qu(pe,qn());if(null!=Ae)ue=Ae;else{if(null==y)return[];ue=Dd(pe,y)}if((ue=ue.withIndex(z)).isEmpty()||ue.isLeafNode())return[];for(var Oe=[],st=z.getCompare(),Vt=B?ue.getReverseIteratorFrom(T,z):ue.getIteratorFrom(T,z),on=Vt.getNext();on&&Oe.length<I;)0!==st(on,T)&&Oe.push(on),on=Vt.getNext();return Oe}(g.writeTree,g.treePath,m,y,T,I,B)}(this.writes_,I,y,1,T,m);return 0===B.length?null:B[0]},g}();function er(g,m,y,T,I,B){var z=m.eventCache;if(null!=G(T,y))return m;var ue=void 0,pe=void 0;if(ki(y))if((0,Q.assert)(m.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),m.serverCache.isFiltered()){var Ae=kc(m),st=zl(T,Ae instanceof Li?Ae:Li.EMPTY_NODE);ue=g.filter.updateFullNode(m.eventCache.getNode(),st,B)}else{var Vt=un(T,kc(m));ue=g.filter.updateFullNode(m.eventCache.getNode(),Vt,B)}else{var on=Si(y);if(".priority"===on){(0,Q.assert)(1===ha(y),"Can't have a priority with additional path components");var In=z.getNode(),Fi=N(T,y,In,pe=m.serverCache.getNode());ue=null!=Fi?g.filter.updatePriority(In,Fi):z.getNode()}else{var gi=Sn(y),_i=void 0;if(z.isCompleteForChild(on)){pe=m.serverCache.getNode();var lo=N(T,y,z.getNode(),pe);_i=null!=lo?z.getNode().getImmediateChild(on).updateChild(gi,lo):z.getNode().getImmediateChild(on)}else _i=L(T,on,m.serverCache);ue=null!=_i?g.filter.updateChild(z.getNode(),on,_i,gi,I,B):z.getNode()}}return Yr(m,ue,z.isFullyInitialized()||ki(y),g.filter.filtersNodes())}function $i(g,m,y,T,I,B,z,ue){var Ae,pe=m.serverCache,Oe=z?g.filter:g.filter.getIndexedFilter();if(ki(y))Ae=Oe.updateFullNode(pe.getNode(),T,null);else if(Oe.filtersNodes()&&!pe.isFiltered()){var st=pe.getNode().updateChild(y,T);Ae=Oe.updateFullNode(pe.getNode(),st,null)}else{var Vt=Si(y);if(!pe.isCompleteForPath(y)&&ha(y)>1)return m;var on=Sn(y),Fi=pe.getNode().getImmediateChild(Vt).updateChild(on,T);Ae=".priority"===Vt?Oe.updatePriority(pe.getNode(),Fi):Oe.updateChild(pe.getNode(),Vt,Fi,on,Ye,null)}var gi=La(m,Ae,pe.isFullyInitialized()||ki(y),Oe.filtersNodes());return er(g,gi,y,I,new Lt(I,gi,B),ue)}function Ui(g,m,y,T,I,B,z){var pe,Ae,ue=m.eventCache,Oe=new Lt(I,m,B);if(ki(y))Ae=g.filter.updateFullNode(m.eventCache.getNode(),T,z),pe=Yr(m,Ae,!0,g.filter.filtersNodes());else{var st=Si(y);if(".priority"===st)Ae=g.filter.updatePriority(m.eventCache.getNode(),T),pe=Yr(m,Ae,ue.isFullyInitialized(),ue.isFiltered());else{var Vt=Sn(y),on=ue.getNode().getImmediateChild(st),In=void 0;if(ki(Vt))In=T;else{var Fi=Oe.getCompleteChild(st);In=null!=Fi?".priority"===Pr(Vt)&&Fi.getChild(Xr(Vt)).isEmpty()?Fi:Fi.updateChild(Vt,T):Li.EMPTY_NODE}pe=on.equals(In)?m:Yr(m,g.filter.updateChild(ue.getNode(),st,In,Vt,Oe,z),ue.isFullyInitialized(),g.filter.filtersNodes())}}return pe}function fi(g,m){return g.eventCache.isCompleteForChild(m)}function An(g,m,y){return y.foreach(function(T,I){m=m.updateChild(T,I)}),m}function ao(g,m,y,T,I,B,z,ue){if(m.serverCache.getNode().isEmpty()&&!m.serverCache.isFullyInitialized())return m;var Ae,pe=m;Ae=ki(y)?T:new ma(null).setTree(y,T);var Oe=m.serverCache.getNode();return Ae.children.inorderTraversal(function(st,Vt){if(Oe.hasChild(st)){var In=An(0,m.serverCache.getNode().getImmediateChild(st),Vt);pe=$i(g,pe,new nr(st),In,I,B,z,ue)}}),Ae.children.inorderTraversal(function(st,Vt){var on=!m.serverCache.isCompleteForChild(st)&&void 0===Vt.value;if(!Oe.hasChild(st)&&!on){var Fi=An(0,m.serverCache.getNode().getImmediateChild(st),Vt);pe=$i(g,pe,new nr(st),Fi,I,B,z,ue)}}),pe}var Ir=function(){function g(m,y){this.query_=m,this.eventRegistrations_=[];var T=this.query_._queryParams,I=new gm(T.getIndex()),B=function Gt(g){return g.loadsAllData()?new gm(g.getIndex()):g.hasLimit()?new _m(g):new Gl(g)}(T);this.processor_=function Mn(g){return{filter:g}}(B);var z=y.serverCache,ue=y.eventCache,pe=I.updateFullNode(Li.EMPTY_NODE,z.getNode(),null),Ae=B.updateFullNode(Li.EMPTY_NODE,ue.getNode(),null),Oe=new Zs(pe,z.isFullyInitialized(),I.filtersNodes()),st=new Zs(Ae,ue.isFullyInitialized(),B.filtersNodes());this.viewCache_=vs(st,Oe),this.eventGenerator_=new Hg(this.query_)}return Object.defineProperty(g.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),g}();function hr(g,m){var y=kc(g.viewCache_);return y&&(g.query._queryParams.loadsAllData()||!ki(m)&&!y.getImmediateChild(Si(m)).isEmpty())?y.getChild(m):null}function Na(g){return 0===g.eventRegistrations_.length}function Wl(g,m,y){var T=[];if(y){(0,Q.assert)(null==m,"A cancel should cancel all event registrations.");var I=g.query._path;g.eventRegistrations_.forEach(function(pe){var Ae=pe.createCancelEvent(y,I);Ae&&T.push(Ae)})}if(m){for(var B=[],z=0;z<g.eventRegistrations_.length;++z){var ue=g.eventRegistrations_[z];if(ue.matches(m)){if(m.hasAnyCallback()){B=B.concat(g.eventRegistrations_.slice(z+1));break}}else B.push(ue)}g.eventRegistrations_=B}else g.eventRegistrations_=[];return T}function _h(g,m,y,T){m.type===cs.MERGE&&null!==m.source.queryId&&((0,Q.assert)(kc(g.viewCache_),"We should always have a full cache before handling merges"),(0,Q.assert)(up(g.viewCache_),"Missing event cache, even though we have a server cache"));var I=g.viewCache_,B=function En(g,m,y,T,I){var z,ue,B=new ye;if(y.type===cs.OVERWRITE){var pe=y;pe.source.fromUser?z=Ui(g,m,pe.path,pe.snap,T,I,B):((0,Q.assert)(pe.source.fromServer,"Unknown source."),ue=pe.source.tagged||m.serverCache.isFiltered()&&!ki(pe.path),z=$i(g,m,pe.path,pe.snap,T,I,ue,B))}else if(y.type===cs.MERGE){var Ae=y;Ae.source.fromUser?z=function Di(g,m,y,T,I,B,z){var ue=m;return T.foreach(function(pe,Ae){var Oe=Yi(y,pe);fi(m,Si(Oe))&&(ue=Ui(g,ue,Oe,Ae,I,B,z))}),T.foreach(function(pe,Ae){var Oe=Yi(y,pe);fi(m,Si(Oe))||(ue=Ui(g,ue,Oe,Ae,I,B,z))}),ue}(g,m,Ae.path,Ae.children,T,I,B):((0,Q.assert)(Ae.source.fromServer,"Unknown source."),ue=Ae.source.tagged||m.serverCache.isFiltered(),z=ao(g,m,Ae.path,Ae.children,T,I,ue,B))}else if(y.type===cs.ACK_USER_WRITE){var Oe=y;z=Oe.revert?function Er(g,m,y,T,I,B){var z;if(null!=G(T,y))return m;var ue=new Lt(T,m,I),pe=m.eventCache.getNode(),Ae=void 0;if(ki(y)||".priority"===Si(y)){var Oe=void 0;if(m.serverCache.isFullyInitialized())Oe=un(T,kc(m));else{var st=m.serverCache.getNode();(0,Q.assert)(st instanceof Li,"serverChildren would be complete if leaf node"),Oe=zl(T,st)}Ae=g.filter.updateFullNode(pe,Oe=Oe,B)}else{var Vt=Si(y),on=L(T,Vt,m.serverCache);null==on&&m.serverCache.isCompleteForChild(Vt)&&(on=pe.getImmediateChild(Vt)),(Ae=null!=on?g.filter.updateChild(pe,Vt,on,Sn(y),ue,B):m.eventCache.getNode().hasChild(Vt)?g.filter.updateChild(pe,Vt,Li.EMPTY_NODE,Sn(y),ue,B):pe).isEmpty()&&m.serverCache.isFullyInitialized()&&(z=un(T,kc(m))).isLeafNode()&&(Ae=g.filter.updateFullNode(Ae,z,B))}return z=m.serverCache.isFullyInitialized()||null!=G(T,qn()),Yr(m,Ae,z,g.filter.filtersNodes())}(g,m,Oe.path,T,I,B):function _a(g,m,y,T,I,B,z){if(null!=G(I,y))return m;var ue=m.serverCache.isFiltered(),pe=m.serverCache;if(null!=T.value){if(ki(y)&&pe.isFullyInitialized()||pe.isCompleteForPath(y))return $i(g,m,y,pe.getNode().getChild(y),I,B,ue,z);if(ki(y)){var Ae=new ma(null);return pe.getNode().forEachChild(xc,function(st,Vt){Ae=Ae.set(new nr(st),Vt)}),ao(g,m,y,Ae,I,B,ue,z)}return m}var Oe=new ma(null);return T.foreach(function(st,Vt){var on=Yi(y,st);pe.isCompleteForPath(on)&&(Oe=Oe.set(st,pe.getNode().getChild(on)))}),ao(g,m,y,Oe,I,B,ue,z)}(g,m,Oe.path,Oe.affectedTree,T,I,B)}else{if(y.type!==cs.LISTEN_COMPLETE)throw(0,Q.assertionError)("Unknown operation type: "+y.type);z=function zo(g,m,y,T,I){var B=m.serverCache;return er(g,La(m,B.getNode(),B.isFullyInitialized()||ki(y),B.isFiltered()),y,T,Ye,I)}(g,m,y.path,T,B)}var st=B.getChanges();return function ei(g,m,y){var T=m.eventCache;if(T.isFullyInitialized()){var I=T.getNode().isLeafNode()||T.getNode().isEmpty(),B=up(g);(y.length>0||!g.eventCache.isFullyInitialized()||I&&!T.getNode().equals(B)||!T.getNode().getPriority().equals(B.getPriority()))&&y.push(Gs(up(m)))}}(m,z,st),{viewCache:z,changes:st}}(g.processor_,I,m,y,T);return function rn(g,m){(0,Q.assert)(m.eventCache.getNode().isIndexed(g.filter.getIndex()),"Event snap not indexed"),(0,Q.assert)(m.serverCache.getNode().isIndexed(g.filter.getIndex()),"Server snap not indexed")}(g.processor_,B.viewCache),(0,Q.assert)(B.viewCache.serverCache.isFullyInitialized()||!I.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),g.viewCache_=B.viewCache,Zg(g,B.changes,B.viewCache.eventCache.getNode(),null)}function Zg(g,m,y,T){return function Ia(g,m,y,T){var I=[],B=[];return m.forEach(function(z){"child_changed"===z.type&&g.index_.indexedValueChanged(z.oldSnap,z.snapshotNode)&&B.push(function Bu(g,m){return{type:"child_moved",snapshotNode:m,childName:g}}(z.childName,z.snapshotNode))}),Oa(g,I,"child_removed",m,T,y),Oa(g,I,"child_added",m,T,y),Oa(g,I,"child_moved",B,T,y),Oa(g,I,"child_changed",m,T,y),Oa(g,I,"value",m,T,y),I}(g.eventGenerator_,m,y,T?[T]:g.eventRegistrations_)}var cf,pp,uf=function g(){this.views=new Map};function lu(g,m,y,T){var I,B,z=m.source.queryId;if(null!==z){var ue=g.views.get(z);return(0,Q.assert)(null!=ue,"SyncTree gave us an op for an invalid query."),_h(ue,m,y,T)}var pe=[];try{for(var Ae=(0,Ze.__values)(g.views.values()),Oe=Ae.next();!Oe.done;Oe=Ae.next())pe=pe.concat(_h(ue=Oe.value,m,y,T))}catch(st){I={error:st}}finally{try{Oe&&!Oe.done&&(B=Ae.return)&&B.call(Ae)}finally{if(I)throw I.error}}return pe}function Md(g,m,y,T,I){var z=g.views.get(m._queryIdentifier);if(!z){var ue=un(y,I?T:null),pe=!1;ue?pe=!0:T instanceof Li?(ue=zl(y,T),pe=!1):(ue=Li.EMPTY_NODE,pe=!1);var Ae=vs(new Zs(ue,pe,!1),new Zs(T,I,!1));return new Ir(m,Ae)}return z}function Cm(g){var m,y,T=[];try{for(var I=(0,Ze.__values)(g.views.values()),B=I.next();!B.done;B=I.next()){var z=B.value;z.query._queryParams.loadsAllData()||T.push(z)}}catch(ue){m={error:ue}}finally{try{B&&!B.done&&(y=I.return)&&y.call(I)}finally{if(m)throw m.error}}return T}function Oc(g,m){var y,T,I=null;try{for(var B=(0,Ze.__values)(g.views.values()),z=B.next();!z.done;z=B.next())I=I||hr(z.value,m)}catch(pe){y={error:pe}}finally{try{z&&!z.done&&(T=B.return)&&T.call(B)}finally{if(y)throw y.error}}return I}function T1(g,m){return m._queryParams.loadsAllData()?xl(g):g.views.get(m._queryIdentifier)}function Yg(g,m){return null!=T1(g,m)}function Rs(g){return null!=xl(g)}function xl(g){var m,y;try{for(var T=(0,Ze.__values)(g.views.values()),I=T.next();!I.done;I=T.next()){var B=I.value;if(B.query._queryParams.loadsAllData())return B}}catch(z){m={error:z}}finally{try{I&&!I.done&&(y=T.return)&&y.call(T)}finally{if(m)throw m.error}}return null}var r0=1,o0=function g(m){this.listenProvider_=m,this.syncPointTree_=new ma(null),this.pendingWriteTree_=function Yl(){return{visibleWrites:ga.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function zg(g,m,y,T,I){return function bm(g,m,y,T,I){(0,Q.assert)(T>g.lastWriteId,"Stacking an older write on top of newer ones"),void 0===I&&(I=!0),g.allWrites.push({path:m,snap:y,writeId:T,visible:I}),I&&(g.visibleWrites=Cl(g.visibleWrites,m,y)),g.lastWriteId=T}(g.pendingWriteTree_,m,y,T,I),I?cu(g,new nf({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},m,y)):[]}function ji(g,m,y){void 0===y&&(y=!1);var T=function go(g,m){for(var y=0;y<g.allWrites.length;y++){var T=g.allWrites[y];if(T.writeId===m)return T}return null}(g.pendingWriteTree_,m);if(function ys(g,m){var y=g.allWrites.findIndex(function(Ae){return Ae.writeId===m});(0,Q.assert)(y>=0,"removeWrite called with nonexistent writeId.");var T=g.allWrites[y];g.allWrites.splice(y,1);for(var I=T.visible,B=!1,z=g.allWrites.length-1;I&&z>=0;){var ue=g.allWrites[z];ue.visible&&(z>=y&&Dn(ue,T.path)?I=!1:ta(T.path,ue.path)&&(B=!0)),z--}return!!I&&(B?(function Ht(g){g.visibleWrites=Co(g.allWrites,Io,qn()),g.lastWriteId=g.allWrites.length>0?g.allWrites[g.allWrites.length-1].writeId:-1}(g),!0):(T.snap?g.visibleWrites=sf(g.visibleWrites,T.path):pn(T.children,function(Ae){g.visibleWrites=sf(g.visibleWrites,Yi(T.path,Ae))}),!0))}(g.pendingWriteTree_,m)){var B=new ma(null);return null!=T.snap?B=B.set(qn(),!0):pn(T.children,function(z){B=B.set(new nr(z),!0)}),cu(g,new fv(T.path,B,y))}return[]}function df(g,m,y){return cu(g,new nf({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},m,y))}function pv(g,m,y,T){var I=m._path,B=g.syncPointTree_.get(I),z=[];if(B&&("default"===m._queryIdentifier||Yg(B,m))){var ue=function Ns(g,m,y,T){var I,B,z=m._queryIdentifier,ue=[],pe=[],Ae=Rs(g);if("default"===z)try{for(var Oe=(0,Ze.__values)(g.views.entries()),st=Oe.next();!st.done;st=Oe.next()){var In,Vt=(0,Ze.__read)(st.value,2),on=Vt[0];pe=pe.concat(Wl(In=Vt[1],y,T)),Na(In)&&(g.views.delete(on),In.query._queryParams.loadsAllData()||ue.push(In.query))}}catch(Fi){I={error:Fi}}finally{try{st&&!st.done&&(B=Oe.return)&&B.call(Oe)}finally{if(I)throw I.error}}else(In=g.views.get(z))&&(pe=pe.concat(Wl(In,y,T)),Na(In)&&(g.views.delete(z),In.query._queryParams.loadsAllData()||ue.push(In.query)));return Ae&&!Rs(g)&&ue.push(new(function Wo(){return(0,Q.assert)(cf,"Reference.ts has not been loaded"),cf}())(m._repo,m._path)),{removed:ue,events:pe}}(B,m,y,T);(function x1(g){return 0===g.views.size})(B)&&(g.syncPointTree_=g.syncPointTree_.remove(I));var pe=ue.removed;z=ue.events;var Ae=-1!==pe.findIndex(function(lo){return lo._queryParams.loadsAllData()}),Oe=g.syncPointTree_.findOnPath(I,function(lo,Vc){return Rs(Vc)});if(Ae&&!Oe){var st=g.syncPointTree_.subtree(I);if(!st.isEmpty())for(var Vt=function $g(g){return g.fold(function(m,y,T){if(y&&Rs(y))return[xl(y)];var B=[];return y&&(B=Cm(y)),pn(T,function(z,ue){B=B.concat(ue)}),B})}(st),on=0;on<Vt.length;++on){var In=Vt[on],Fi=In.query,gi=Tl(g,In);g.listenProvider_.startListening(ff(Fi),gp(g,Fi),gi.hashFn,gi.onComplete)}}!Oe&&pe.length>0&&!T&&(Ae?g.listenProvider_.stopListening(ff(m),null):pe.forEach(function(lo){var Vc=g.queryToTagMap.get(uu(lo));g.listenProvider_.stopListening(ff(lo),Vc)})),function Qg(g,m){for(var y=0;y<m.length;++y){var T=m[y];if(!T._queryParams.loadsAllData()){var I=uu(T),B=g.queryToTagMap.get(I);g.queryToTagMap.delete(I),g.tagToQueryMap.delete(B)}}}(g,pe)}return z}function Lc(g,m,y){var T=m._path,I=null,B=!1;g.syncPointTree_.foreachOnPath(T,function(Fi,gi){var _i=ss(Fi,T);I=I||Oc(gi,_i),B=B||Rs(gi)});var ue,z=g.syncPointTree_.get(T);z?(B=B||Rs(z),I=I||Oc(z,qn())):(z=new uf,g.syncPointTree_=g.syncPointTree_.set(T,z)),null!=I?ue=!0:(ue=!1,I=Li.EMPTY_NODE,g.syncPointTree_.subtree(T).foreachChild(function(Fi,gi){var _i=Oc(gi,qn());_i&&(I=I.updateImmediateChild(Fi,_i))}));var Ae=Yg(z,m);if(!Ae&&!m._queryParams.loadsAllData()){var Oe=uu(m);(0,Q.assert)(!g.queryToTagMap.has(Oe),"View does not exist, but we have a tag");var st=function Jg(){return r0++}();g.queryToTagMap.set(Oe,st),g.tagToQueryMap.set(st,Oe)}var on=function wm(g,m,y,T,I,B){var z=Md(g,m,T,I,B);return g.views.has(m._queryIdentifier)||g.views.set(m._queryIdentifier,z),function no(g,m){g.eventRegistrations_.push(m)}(z,y),function us(g,m){var y=g.viewCache_.eventCache,T=[];return y.getNode().isLeafNode()||y.getNode().forEachChild(so,function(B,z){T.push(hi(B,z))}),y.isFullyInitialized()&&T.push(Gs(y.getNode())),Zg(g,T,y.getNode(),m)}(z,y)}(z,m,y,Ic(g.pendingWriteTree_,T),I,ue);if(!Ae&&!B){var In=T1(z,m);on=on.concat(function kd(g,m,y){var T=m._path,I=gp(g,m),B=Tl(g,y),z=g.listenProvider_.startListening(ff(m),I,B.hashFn,B.onComplete),ue=g.syncPointTree_.subtree(T);if(I)(0,Q.assert)(!Rs(ue.value),"If we're adding a query, it shouldn't be shadowed");else for(var pe=ue.fold(function(st,Vt,on){if(!ki(st)&&Vt&&Rs(Vt))return[xl(Vt).query];var In=[];return Vt&&(In=In.concat(Cm(Vt).map(function(Fi){return Fi.query}))),pn(on,function(Fi,gi){In=In.concat(gi)}),In}),Ae=0;Ae<pe.length;++Ae){var Oe=pe[Ae];g.listenProvider_.stopListening(ff(Oe),gp(g,Oe))}return z}(g,m,In))}return on}function yh(g,m,y){var I=g.pendingWriteTree_,B=g.syncPointTree_.findOnPath(m,function(z,ue){var Ae=Oc(ue,ss(z,m));if(Ae)return Ae});return hp(I,m,B,y,!0)}function cu(g,m){return l0(m,g.syncPointTree_,null,Ic(g.pendingWriteTree_,qn()))}function l0(g,m,y,T){if(ki(g.path))return Bs(g,m,y,T);var I=m.get(qn());null==y&&null!=I&&(y=Oc(I,qn()));var B=[],z=Si(g.path),ue=g.operationForChild(z),pe=m.children.get(z);if(pe&&ue){var Ae=y?y.getImmediateChild(z):null,Oe=Z(T,z);B=B.concat(l0(ue,pe,Ae,Oe))}return I&&(B=B.concat(lu(I,g,T,y))),B}function Bs(g,m,y,T){var I=m.get(qn());null==y&&null!=I&&(y=Oc(I,qn()));var B=[];return m.children.inorderTraversal(function(z,ue){var pe=y?y.getImmediateChild(z):null,Ae=Z(T,z),Oe=g.operationForChild(z);Oe&&(B=B.concat(Bs(Oe,ue,pe,Ae)))}),I&&(B=B.concat(lu(I,g,T,y))),B}function Tl(g,m){var y=m.query,T=gp(g,y);return{hashFn:function(){var I=function Gu(g){return g.viewCache_.serverCache.getNode()}(m)||Li.EMPTY_NODE;return I.hash()},onComplete:function(I){if("ok"===I)return T?function vh(g,m,y){var T=hf(g,y);if(T){var I=bh(T),B=I.path,z=I.queryId,ue=ss(B,m);return _p(g,B,new tf(qg(z),ue))}return[]}(g,y._path,T):function Tm(g,m){return cu(g,new tf({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},m))}(g,y._path);var B=function ii(g,m){var y="Unknown Error";"too_big"===g?y="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===g?y="Client doesn't have permission to access the desired data.":"unavailable"===g&&(y="The service is unavailable");var T=new Error(g+" at "+m._path.toString()+": "+y);return T.code=g.toUpperCase(),T}(I,y);return pv(g,y,null,B)}}}function gp(g,m){var y=uu(m);return g.queryToTagMap.get(y)}function uu(g){return g._path.toString()+"$"+g._queryIdentifier}function hf(g,m){return g.tagToQueryMap.get(m)}function bh(g){var m=g.indexOf("$");return(0,Q.assert)(-1!==m&&m<g.length-1,"Bad queryKey."),{queryId:g.substr(m+1),path:new nr(g.substr(0,m))}}function _p(g,m,y){var T=g.syncPointTree_.get(m);return(0,Q.assert)(T,"Missing sync point for query tag that we're tracking"),lu(T,y,Ic(g.pendingWriteTree_,m),null)}function ff(g){return g._queryParams.loadsAllData()&&!g._queryParams.isDefault()?new(function mp(){return(0,Q.assert)(pp,"Reference.ts has not been loaded"),pp}())(g._repo,g._path):g}var Zu=function(){function g(m){this.node_=m}return g.prototype.getImmediateChild=function(m){return new g(this.node_.getImmediateChild(m))},g.prototype.node=function(){return this.node_},g}(),Vi=function(){function g(m,y){this.syncTree_=m,this.path_=y}return g.prototype.getImmediateChild=function(m){var y=Yi(this.path_,m);return new g(this.syncTree_,y)},g.prototype.node=function(){return yh(this.syncTree_,this.path_)},g}(),Kg=function(g,m,y){return g&&"object"==typeof g?((0,Q.assert)(".sv"in g,"Unexpected leaf node or priority contents"),"string"==typeof g[".sv"]?Id(g[".sv"],m,y):"object"==typeof g[".sv"]?Xg(g[".sv"],m):void(0,Q.assert)(!1,"Unexpected server value: "+JSON.stringify(g,null,2))):g},Id=function(g,m,y){if("timestamp"===g)return y.timestamp;(0,Q.assert)(!1,"Unexpected server value: "+g)},Xg=function(g,m,y){g.hasOwnProperty("increment")||(0,Q.assert)(!1,"Unexpected server value: "+JSON.stringify(g,null,2));var T=g.increment;"number"!=typeof T&&(0,Q.assert)(!1,"Unexpected increment value: "+T);var I=m.node();if((0,Q.assert)(null!=I,"Expected ChildrenNode.EMPTY_NODE for nulls"),!I.isLeafNode())return T;var z=I.getValue();return"number"!=typeof z?T:z+T},wh=function(g,m,y,T){return mf(m,new Vi(y,g),T)},pf=function(g,m,y){return mf(g,new Zu(m),y)};function mf(g,m,y){var B,T=g.getPriority().val(),I=Kg(T,m.getImmediateChild(".priority"),y);if(g.isLeafNode()){var z=g,ue=Kg(z.getValue(),m,y);return ue!==z.getValue()||I!==z.getPriority().val()?new su(ue,Ur(I)):g}var pe=g;return B=pe,I!==pe.getPriority().val()&&(B=B.updatePriority(new su(I))),pe.forEachChild(so,function(Ae,Oe){var st=mf(Oe,m.getImmediateChild(Ae),y);st!==Oe&&(B=B.updateImmediateChild(Ae,st))}),B}var Od=function g(m,y,T){void 0===m&&(m=""),void 0===y&&(y=null),void 0===T&&(T={children:{},childCount:0}),this.name=m,this.parent=y,this.node=T};function Ra(g,m){for(var y=m instanceof nr?m:new nr(m),T=g,I=Si(y);null!==I;){var B=(0,Q.safeGet)(T.node.children,I)||{children:{},childCount:0};T=new Od(I,T,B),I=Si(y=Sn(y))}return T}function va(g){return g.node.value}function $l(g,m){g.node.value=m,e_(g)}function Ch(g){return g.node.childCount>0}function Pa(g,m){pn(g.node.children,function(y,T){m(new Od(y,g,T))})}function gf(g,m,y,T){y&&!T&&m(g),Pa(g,function(I){gf(I,m,!0,T)}),y&&T&&m(g)}function Fc(g){return new nr(null===g.parent?g.name:Fc(g.parent)+"/"+g.name)}function e_(g){null!==g.parent&&function Ql(g,m,y){var T=function gv(g){return void 0===va(g)&&!Ch(g)}(y),I=(0,Q.contains)(g.node.children,m);T&&I?(delete g.node.children[m],g.node.childCount--,e_(g)):!T&&!I&&(g.node.children[m]=y.node,g.node.childCount++,e_(g))}(g.parent,g.name,g)}var el=/[\[\].#$\/\u0000-\u001F\u007F]/,vp=/[\[\].#$\u0000-\u001F\u007F]/,Ld=10485760,t_=function(g){return"string"==typeof g&&0!==g.length&&!el.test(g)},Fd=function(g){return"string"==typeof g&&0!==g.length&&!vp.test(g)},Yu=function(g){return null===g||"string"==typeof g||"number"==typeof g&&!Ot(g)||g&&"object"==typeof g&&(0,Q.contains)(g,".sv")},Jl=function(g,m,y,T){T&&void 0===m||Al((0,Q.errorPrefix)(g,"value"),m,y)},Al=function(g,m,y){var T=y instanceof nr?new wd(y,g):y;if(void 0===m)throw new Error(g+"contains undefined "+gl(T));if("function"==typeof m)throw new Error(g+"contains a function "+gl(T)+" with contents = "+m.toString());if(Ot(m))throw new Error(g+"contains "+m.toString()+" "+gl(T));if("string"==typeof m&&m.length>Ld/3&&(0,Q.stringLength)(m)>Ld)throw new Error(g+"contains a string greater than "+Ld+" utf8 bytes "+gl(T)+" ('"+m.substring(0,50)+"...')");if(m&&"object"==typeof m){var I=!1,B=!1;if(pn(m,function(z,ue){if(".value"===z)I=!0;else if(".priority"!==z&&".sv"!==z&&(B=!0,!t_(z)))throw new Error(g+" contains an invalid key ("+z+") "+gl(T)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function cv(g,m){g.parts_.length>0&&(g.byteLength_+=1),g.parts_.push(m),g.byteLength_+=(0,Q.stringLength)(m),uv(g)})(T,z),Al(g,ue,T),function $a(g){var m=g.parts_.pop();g.byteLength_-=(0,Q.stringLength)(m),g.parts_.length>0&&(g.byteLength_-=1)}(T)}),I&&B)throw new Error(g+' contains ".value" child '+gl(T)+" in addition to actual children.")}},bs=function(g,m,y,T){if(!T||void 0!==m){var I=(0,Q.errorPrefix)(g,"values");if(!m||"object"!=typeof m||Array.isArray(m))throw new Error(I+" must be an object containing the children to replace.");var B=[];pn(m,function(z,ue){var pe=new nr(z);if(Al(I,ue,Yi(y,pe)),".priority"===Pr(pe)&&!Yu(ue))throw new Error(I+"contains an invalid value for '"+pe.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");B.push(pe)}),function(g,m){var y,T;for(y=0;y<m.length;y++)for(var I=Cc(T=m[y]),B=0;B<I.length;B++)if((".priority"!==I[B]||B!==I.length-1)&&!t_(I[B]))throw new Error(g+"contains an invalid key ("+I[B]+") in path "+T.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');m.sort(ch);var z=null;for(y=0;y<m.length;y++){if(T=m[y],null!==z&&ta(z,T))throw new Error(g+"contains a path "+z.toString()+" that is ancestor of another path "+T.toString());z=T}}(I,B)}},_f=function(g,m,y){if(!y||void 0!==m){if(Ot(m))throw new Error((0,Q.errorPrefix)(g,"priority")+"is "+m.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Yu(m))throw new Error((0,Q.errorPrefix)(g,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Rd=function(g,m,y){if(!y||void 0!==m)switch(m){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,Q.errorPrefix)(g,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Nc=function(g,m,y,T){if(!(T&&void 0===y||t_(y)))throw new Error((0,Q.errorPrefix)(g,m)+'was an invalid key = "'+y+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},du=function(g,m,y,T){if(!(T&&void 0===y||Fd(y)))throw new Error((0,Q.errorPrefix)(g,m)+'was an invalid path = "'+y+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Qo=function(g,m){if(".info"===Si(m))throw new Error(g+" failed = Can't modify data under /.info/")},xh=function(g,m){var y=m.path.toString();if("string"!=typeof m.repoInfo.host||0===m.repoInfo.host.length||!t_(m.repoInfo.namespace)&&"localhost"!==m.repoInfo.host.split(":")[0]||0!==y.length&&!function(g){return g&&(g=g.replace(/^\/*\.info(\/|$)/,"/")),Fd(g)}(y))throw new Error((0,Q.errorPrefix)(g,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Dm=function(g,m,y,T){if((!T||void 0!==y)&&"boolean"!=typeof y)throw new Error((0,Q.errorPrefix)(g,m)+"must be a boolean.")},yp=function g(){this.eventLists_=[],this.recursionDepth_=0};function Ba(g,m){for(var y=null,T=0;T<m.length;T++){var I=m[T],B=I.getPath();null!==y&&!gs(B,y.path)&&(g.eventLists_.push(y),y=null),null===y&&(y={events:[],path:B}),y.events.push(I)}y&&g.eventLists_.push(y)}function Rc(g,m,y){Ba(g,y),n_(g,function(T){return gs(T,m)})}function Sl(g,m,y){Ba(g,y),n_(g,function(T){return ta(T,m)||ta(m,T)})}function n_(g,m){g.recursionDepth_++;for(var y=!0,T=0;T<g.eventLists_.length;T++){var I=g.eventLists_[T];I&&(m(I.path)?(Em(g.eventLists_[T]),g.eventLists_[T]=null):y=!1)}y&&(g.eventLists_=[]),g.recursionDepth_--}function Em(g){for(var m=0;m<g.events.length;m++){var y=g.events[m];if(null!==y){g.events[m]=null;var T=y.getEventRunner();fn&&Re("event: "+y.toString()),Zi(T)}}}var i_="repo_interrupt",Pc=function(){function g(m,y,T,I){this.repoInfo_=m,this.forceRestClient_=y,this.authTokenProvider_=T,this.appCheckProvider_=I,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new yp,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ec(),this.transactionQueueTree_=new Od,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return g.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},g}();function Th(g){var y=g.infoData_.getNode(new nr(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+y}function Pd(g){return function(g){return(g=g||{}).timestamp=g.timestamp||(new Date).getTime(),g}({timestamp:Th(g)})}function bp(g,m,y,T,I){g.dataUpdateCount++;var B=new nr(m);y=g.interceptServerDataCallback_?g.interceptServerDataCallback_(m,y):y;var z=[];if(I)if(T){var ue=(0,Q.map)(y,function(Vt){return Ur(Vt)});z=function s0(g,m,y,T){var I=hf(g,T);if(I){var B=bh(I),z=B.path,ue=B.queryId,pe=ss(z,m),Ae=ma.fromObject(y);return _p(g,z,new Mc(qg(ue),pe,Ae))}return[]}(g.serverSyncTree_,B,ue,I)}else{var pe=Ur(y);z=function mv(g,m,y,T){var I=hf(g,T);if(null!=I){var B=bh(I),z=B.path,ue=B.queryId,pe=ss(z,m);return _p(g,z,new nf(qg(ue),pe,y))}return[]}(g.serverSyncTree_,B,pe,I)}else if(T){var Ae=(0,Q.map)(y,function(Vt){return Ur(Vt)});z=function Ps(g,m,y){var T=ma.fromObject(y);return cu(g,new Mc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},m,T))}(g.serverSyncTree_,B,Ae)}else{var Oe=Ur(y);z=df(g.serverSyncTree_,B,Oe)}var st=B;z.length>0&&(st=fu(g,B)),Sl(g.eventQueue_,st,z)}function km(g,m){wp(g,"connected",m),!1===m&&function S1(g){Xl(g,"onDisconnectEvents");var m=Pd(g),y=Ec();ju(g.onDisconnect_,qn(),function(I,B){var z=wh(I,B,g.serverSyncTree_,m);Fo(y,I,z)});var T=[];ju(y,qn(),function(I,B){T=T.concat(df(g.serverSyncTree_,I,B));var z=Sh(g,I);fu(g,z)}),g.onDisconnect_=Ec(),Sl(g.eventQueue_,qn(),T)}(g)}function wp(g,m,y){var T=new nr("/.info/"+m),I=Ur(y);g.infoData_.updateSnapshot(T,I);var B=df(g.infoSyncTree_,T,I);Sl(g.eventQueue_,T,B)}function Cp(g){return g.nextWriteId_++}function xp(g,m,y,T,I){Xl(g,"set",{path:m.toString(),value:y,priority:T});var B=Pd(g),z=Ur(y,T),ue=yh(g.serverSyncTree_,m),pe=pf(z,ue,B),Ae=Cp(g),Oe=zg(g.serverSyncTree_,m,pe,Ae,!0);Ba(g.eventQueue_,Oe),g.server_.put(m.toString(),z.val(!0),function(Vt,on){var In="ok"===Vt;In||Gn("set at "+m+" failed: "+Vt);var Fi=ji(g.serverSyncTree_,Ae,!In);Sl(g.eventQueue_,m,Fi),hu(0,I,Vt,on)});var st=Sh(g,m);fu(g,st),Sl(g.eventQueue_,st,[])}function Im(g,m,y){g.server_.onDisconnectCancel(m.toString(),function(T,I){"ok"===T&&Fs(g.onDisconnect_,m),hu(0,y,T,I)})}function Tp(g,m,y,T){var I=Ur(y);g.server_.onDisconnectPut(m.toString(),I.val(!0),function(B,z){"ok"===B&&Fo(g.onDisconnect_,m,I),hu(0,T,B,z)})}function yf(g,m,y){var T;T=".info"===Si(m._path)?pv(g.infoSyncTree_,m,y):pv(g.serverSyncTree_,m,y),Rc(g.eventQueue_,m._path,T)}function Om(g){g.persistentConnection_&&g.persistentConnection_.interrupt(i_)}function Xl(g){for(var m=[],y=1;y<arguments.length;y++)m[y-1]=arguments[y];var T="";g.persistentConnection_&&(T=g.persistentConnection_.id+":"),Re.apply(void 0,(0,Ze.__spreadArray)([T],(0,Ze.__read)(m)))}function hu(g,m,y,T){m&&Zi(function(){if("ok"===y)m(null);else{var I=(y||"error").toUpperCase(),B=I;T&&(B+=": "+T);var z=new Error(B);z.code=I,m(z)}})}function Bd(g,m,y){return yh(g.serverSyncTree_,m,y)||Li.EMPTY_NODE}function wf(g,m){if(void 0===m&&(m=g.transactionQueueTree_),m||Cf(g,m),va(m)){var y=Fm(g,m);(0,Q.assert)(y.length>0,"Sending zero length transaction queue"),y.every(function(I){return 0===I.status})&&function Lm(g,m,y){for(var T=y.map(function(Vt){return Vt.currentWriteId}),I=Bd(g,m,T),B=I,z=I.hash(),ue=0;ue<y.length;ue++){var pe=y[ue];(0,Q.assert)(0===pe.status,"tryToSendTransactionQueue_: items in queue should all be run."),pe.status=1,pe.retryCount++;var Ae=ss(m,pe.path);B=B.updateChild(Ae,pe.currentOutputSnapshotRaw)}var Oe=B.val(!0),st=m;g.server_.put(st.toString(),Oe,function(Vt){Xl(g,"transaction put response",{path:st.toString(),status:Vt});var on=[];if("ok"===Vt){for(var In=[],Fi=function(_i){y[_i].status=2,on=on.concat(ji(g.serverSyncTree_,y[_i].currentWriteId)),y[_i].onComplete&&In.push(function(){return y[_i].onComplete(null,!0,y[_i].currentOutputSnapshotResolved)}),y[_i].unwatcher()},gi=0;gi<y.length;gi++)Fi(gi);for(Cf(g,Ra(g.transactionQueueTree_,m)),wf(g,g.transactionQueueTree_),Sl(g.eventQueue_,m,on),gi=0;gi<In.length;gi++)Zi(In[gi])}else{if("datastale"===Vt)for(gi=0;gi<y.length;gi++)y[gi].status=3===y[gi].status?4:0;else for(Gn("transaction at "+st.toString()+" failed: "+Vt),gi=0;gi<y.length;gi++)y[gi].status=4,y[gi].abortReason=Vt;fu(g,m)}},z)}(g,Fc(m),y)}else Ch(m)&&Pa(m,function(I){wf(g,I)})}function fu(g,m){var y=Ap(g,m),T=Fc(y);return function D1(g,m,y){if(0!==m.length){for(var T=[],I=[],z=m.filter(function(Ae){return 0===Ae.status}).map(function(Ae){return Ae.currentWriteId}),ue=function(Ae){var on,Oe=m[Ae],st=ss(y,Oe.path),Vt=!1;if((0,Q.assert)(null!==st,"rerunTransactionsUnderNode_: relativePath should not be null."),4===Oe.status)Vt=!0,on=Oe.abortReason,I=I.concat(ji(g.serverSyncTree_,Oe.currentWriteId,!0));else if(0===Oe.status)if(Oe.retryCount>=25)Vt=!0,on="maxretry",I=I.concat(ji(g.serverSyncTree_,Oe.currentWriteId,!0));else{var In=Bd(g,Oe.path,z);Oe.currentInputSnapshot=In;var Fi=m[Ae].update(In.val());if(void 0!==Fi){Al("transaction failed: Data returned ",Fi,Oe.path);var gi=Ur(Fi);"object"==typeof Fi&&null!=Fi&&(0,Q.contains)(Fi,".priority")||(gi=gi.updatePriority(In.getPriority()));var lo=Oe.currentWriteId,Vc=Pd(g),No=pf(gi,In,Vc);Oe.currentOutputSnapshotRaw=gi,Oe.currentOutputSnapshotResolved=No,Oe.currentWriteId=Cp(g),z.splice(z.indexOf(lo),1),I=(I=I.concat(zg(g.serverSyncTree_,Oe.path,No,Oe.currentWriteId,Oe.applyLocally))).concat(ji(g.serverSyncTree_,lo,!0))}else Vt=!0,on="nodata",I=I.concat(ji(g.serverSyncTree_,Oe.currentWriteId,!0))}Sl(g.eventQueue_,y,I),I=[],Vt&&(m[Ae].status=2,setTimeout(m[Ae].unwatcher,Math.floor(0)),m[Ae].onComplete&&T.push("nodata"===on?function(){return m[Ae].onComplete(null,!1,m[Ae].currentInputSnapshot)}:function(){return m[Ae].onComplete(new Error(on),!1,null)}))},pe=0;pe<m.length;pe++)ue(pe);for(Cf(g,g.transactionQueueTree_),pe=0;pe<T.length;pe++)Zi(T[pe]);wf(g,g.transactionQueueTree_)}}(g,Fm(g,y),T),T}function Ap(g,m){var y,T=g.transactionQueueTree_;for(y=Si(m);null!==y&&void 0===va(T);)T=Ra(T,y),y=Si(m=Sn(m));return T}function Fm(g,m){var y=[];return u0(g,m,y),y.sort(function(T,I){return T.order-I.order}),y}function u0(g,m,y){var T=va(m);if(T)for(var I=0;I<T.length;I++)y.push(T[I]);Pa(m,function(B){u0(g,B,y)})}function Cf(g,m){var y=va(m);if(y){for(var T=0,I=0;I<y.length;I++)2!==y[I].status&&(y[T]=y[I],T++);y.length=T,$l(m,y.length>0?y:void 0)}Pa(m,function(B){Cf(g,B)})}function Sh(g,m){var y=Fc(Ap(g,m)),T=Ra(g.transactionQueueTree_,m);return function Am(g,m,y){for(var T=y?g:g.parent;null!==T;){if(m(T))return!0;T=T.parent}}(T,function(I){Nm(g,I)}),Nm(g,T),gf(T,function(I){Nm(g,I)}),y}function Nm(g,m){var y=va(m);if(y){for(var T=[],I=[],B=-1,z=0;z<y.length;z++)3===y[z].status||(1===y[z].status?((0,Q.assert)(B===z-1,"All SENT items should be at beginning of queue."),B=z,y[z].status=3,y[z].abortReason="set"):((0,Q.assert)(0===y[z].status,"Unexpected transaction status in abort"),y[z].unwatcher(),I=I.concat(ji(g.serverSyncTree_,y[z].currentWriteId,!0)),y[z].onComplete&&T.push(y[z].onComplete.bind(null,new Error("set"),!1,null))));for(-1===B?$l(m,void 0):y.length=B+1,Sl(g.eventQueue_,Fc(m),I),z=0;z<T.length;z++)Zi(T[z])}}var fr=function(g,m){var y=Dp(g),T=y.namespace;return"firebase.com"===y.domain&&kn(y.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!T||"undefined"===T)&&"localhost"!==y.domain&&kn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),y.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Gn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new ar(y.host,y.secure,T,m,"ws"===y.scheme||"wss"===y.scheme,"",T!==y.subdomain),path:new nr(y.pathString)}},Dp=function(g){var m="",y="",T="",I="",B="",z=!0,ue="https",pe=443;if("string"==typeof g){var Ae=g.indexOf("//");Ae>=0&&(ue=g.substring(0,Ae-1),g=g.substring(Ae+2));var Oe=g.indexOf("/");-1===Oe&&(Oe=g.length);var st=g.indexOf("?");-1===st&&(st=g.length),m=g.substring(0,Math.min(Oe,st)),Oe<st&&(I=function Sp(g){for(var m="",y=g.split("/"),T=0;T<y.length;T++)if(y[T].length>0){var I=y[T];try{I=decodeURIComponent(I.replace(/\+/g," "))}catch(B){}m+="/"+I}return m}(g.substring(Oe,st)));var Vt=function o_(g){var m,y,T={};"?"===g.charAt(0)&&(g=g.substring(1));try{for(var I=(0,Ze.__values)(g.split("&")),B=I.next();!B.done;B=I.next()){var z=B.value;if(0!==z.length){var ue=z.split("=");2===ue.length?T[decodeURIComponent(ue[0])]=decodeURIComponent(ue[1]):Gn("Invalid query segment '"+z+"' in query '"+g+"'")}}}catch(pe){m={error:pe}}finally{try{B&&!B.done&&(y=I.return)&&y.call(I)}finally{if(m)throw m.error}}return T}(g.substring(Math.min(g.length,st)));(Ae=m.indexOf(":"))>=0?(z="https"===ue||"wss"===ue,pe=parseInt(m.substring(Ae+1),10)):Ae=m.length;var on=m.slice(0,Ae);if("localhost"===on.toLowerCase())y="localhost";else if(on.split(".").length<=2)y=on;else{var In=m.indexOf(".");T=m.substring(0,In).toLowerCase(),y=m.substring(In+1),B=T}"ns"in Vt&&(B=Vt.ns)}return{host:m,port:pe,domain:y,subdomain:T,secure:z,scheme:ue,pathString:I,namespace:B}},bv=function(){function g(m,y,T,I){this.eventType=m,this.eventRegistration=y,this.snapshot=T,this.prevName=I}return g.prototype.getPath=function(){var m=this.snapshot.ref;return"value"===this.eventType?m._path:m.parent._path},g.prototype.getEventType=function(){return this.eventType},g.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},g.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,Q.stringify)(this.snapshot.exportVal())},g}(),nl=function(){function g(m,y,T){this.eventRegistration=m,this.error=y,this.path=T}return g.prototype.getPath=function(){return this.path},g.prototype.getEventType=function(){return"cancel"},g.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},g.prototype.toString=function(){return this.path.toString()+":cancel"},g}(),Uc=function(){function g(m,y){this.snapshotCallback=m,this.cancelCallback=y}return g.prototype.onValue=function(m,y){this.snapshotCallback.call(null,m,y)},g.prototype.onCancel=function(m){return(0,Q.assert)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,m)},Object.defineProperty(g.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),g.prototype.matches=function(m){return this.snapshotCallback===m.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===m.snapshotCallback.userCallback&&this.snapshotCallback.context===m.snapshotCallback.context},g}(),Rm=function(){function g(m,y){this._repo=m,this._path=y}return g.prototype.cancel=function(){var m=new Q.Deferred;return Im(this._repo,this._path,m.wrapCallback(function(){})),m.promise},g.prototype.remove=function(){Qo("OnDisconnect.remove",this._path);var m=new Q.Deferred;return Tp(this._repo,this._path,null,m.wrapCallback(function(){})),m.promise},g.prototype.set=function(m){Qo("OnDisconnect.set",this._path),Jl("OnDisconnect.set",m,this._path,!1);var y=new Q.Deferred;return Tp(this._repo,this._path,m,y.wrapCallback(function(){})),y.promise},g.prototype.setWithPriority=function(m,y){Qo("OnDisconnect.setWithPriority",this._path),Jl("OnDisconnect.setWithPriority",m,this._path,!1),_f("OnDisconnect.setWithPriority",y,!1);var T=new Q.Deferred;return function vv(g,m,y,T,I){var B=Ur(y,T);g.server_.onDisconnectPut(m.toString(),B.val(!0),function(z,ue){"ok"===z&&Fo(g.onDisconnect_,m,B),hu(0,I,z,ue)})}(this._repo,this._path,m,y,T.wrapCallback(function(){})),T.promise},g.prototype.update=function(m){Qo("OnDisconnect.update",this._path),bs("OnDisconnect.update",m,this._path,!1);var y=new Q.Deferred;return function Bc(g,m,y,T){if((0,Q.isEmpty)(y))return Re("onDisconnect().update() called with empty data.  Don't do anything."),void hu(0,T,"ok",void 0);g.server_.onDisconnectMerge(m.toString(),y,function(I,B){"ok"===I&&pn(y,function(z,ue){var pe=Ur(ue);Fo(g.onDisconnect_,Yi(m,z),pe)}),hu(0,T,I,B)})}(this._repo,this._path,m,y.wrapCallback(function(){})),y.promise},g}(),il=function(){function g(m,y,T,I){this._repo=m,this._path=y,this._queryParams=T,this._orderByCalled=I}return Object.defineProperty(g.prototype,"key",{get:function(){return ki(this._path)?null:Pr(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"ref",{get:function(){return new pu(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"_queryIdentifier",{get:function(){var m=Sd(this._queryParams),y=di(m);return"{}"===y?"default":y},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"_queryObject",{get:function(){return Sd(this._queryParams)},enumerable:!1,configurable:!0}),g.prototype.isEqual=function(m){if(!((m=(0,Q.getModularInstance)(m))instanceof g))return!1;var y=this._repo===m._repo,T=gs(this._path,m._path);return y&&T&&this._queryIdentifier===m._queryIdentifier},g.prototype.toJSON=function(){return this.toString()},g.prototype.toString=function(){return this._repo.toString()+function mo(g){for(var m="",y=g.pieceNum_;y<g.pieces_.length;y++)""!==g.pieces_[y]&&(m+="/"+encodeURIComponent(String(g.pieces_[y])));return m||"/"}(this._path)},g}();function s_(g,m){if(!0===g._orderByCalled)throw new Error(m+": You can't combine multiple orderBy calls.")}function Wu(g){var m=null,y=null;if(g.hasStart()&&(m=g.getIndexStartValue()),g.hasEnd()&&(y=g.getIndexEndValue()),g.getIndex()===xc){var T="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",I="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(g.hasStart()){if(g.getIndexStartName()!==At)throw new Error(T);if("string"!=typeof m)throw new Error(I)}if(g.hasEnd()){if(g.getIndexEndName()!==Kt)throw new Error(T);if("string"!=typeof y)throw new Error(I)}}else if(g.getIndex()===so){if(null!=m&&!Yu(m)||null!=y&&!Yu(y))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,Q.assert)(g.getIndex()instanceof Is||g.getIndex()===xd,"unknown index type."),null!=m&&"object"==typeof m||null!=y&&"object"==typeof y)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Dh(g){if(g.hasStart()&&g.hasEnd()&&g.hasLimit()&&!g.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var pu=function(g){function m(y,T){return g.call(this,y,T,new Sc,!1)||this}return(0,Ze.__extends)(m,g),Object.defineProperty(m.prototype,"parent",{get:function(){var y=Xr(this._path);return null===y?null:new m(this._repo,y)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"root",{get:function(){for(var y=this;null!==y.parent;)y=y.parent;return y},enumerable:!1,configurable:!0}),m}(il),xf=function(){function g(m,y,T){this._node=m,this.ref=y,this._index=T}return Object.defineProperty(g.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),g.prototype.child=function(m){var y=new nr(m),T=Ua(this.ref,m);return new g(this._node.getChild(y),T,so)},g.prototype.exists=function(){return!this._node.isEmpty()},g.prototype.exportVal=function(){return this._node.val(!0)},g.prototype.forEach=function(m){var y=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(I,B){return m(new g(B,Ua(y.ref,I),so))})},g.prototype.hasChild=function(m){var y=new nr(m);return!this._node.getChild(y).isEmpty()},g.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},g.prototype.toJSON=function(){return this.exportVal()},g.prototype.val=function(){return this._node.val()},g}();function ec(g,m){return(g=(0,Q.getModularInstance)(g))._checkNotDeleted("ref"),void 0!==m?Ua(g._root,m):g._root}function oa(g,m){(g=(0,Q.getModularInstance)(g))._checkNotDeleted("refFromURL");var y=fr(m,g._repo.repoInfo_.nodeAdmin);xh("refFromURL",y);var T=y.repoInfo;return!g._repo.repoInfo_.isCustomHost()&&T.host!==g._repo.repoInfo_.host&&kn("refFromURL: Host name does not match the current database: (found "+T.host+" but expected "+g._repo.repoInfo_.host+")"),ec(g,y.path.toString())}function Ua(g,m){return null===Si((g=(0,Q.getModularInstance)(g))._path)?(y=m,y&&(y=y.replace(/^\/*\.info(\/|$)/,"/")),du("child","path",y,!1)):du("child","path",m,!1),new pu(g._repo,Yi(g._path,m));var y}function Pm(g,m){g=(0,Q.getModularInstance)(g),Qo("push",g._path),Jl("push",m,g._path,!0);var z,y=Th(g._repo),T=mm(y),I=Ua(g,T),B=Ua(g,T);return z=null!=m?sa(B,m).then(function(){return B}):Promise.resolve(B),I.then=z.then.bind(z),I.catch=z.then.bind(z,void 0),I}function d0(g){return Qo("remove",g._path),sa(g,null)}function sa(g,m){g=(0,Q.getModularInstance)(g),Qo("set",g._path),Jl("set",m,g._path,!1);var y=new Q.Deferred;return xp(g._repo,g._path,m,null,y.wrapCallback(function(){})),y.promise}function Eh(g,m){g=(0,Q.getModularInstance)(g),Qo("setPriority",g._path),_f("setPriority",m,!1);var y=new Q.Deferred;return xp(g._repo,Yi(g._path,".priority"),m,null,y.wrapCallback(function(){})),y.promise}function wv(g,m,y){if(Qo("setWithPriority",g._path),Jl("setWithPriority",m,g._path,!1),_f("setWithPriority",y,!1),".length"===g.key||".keys"===g.key)throw"setWithPriority failed: "+g.key+" is a read-only object.";var T=new Q.Deferred;return xp(g._repo,g._path,m,y,T.wrapCallback(function(){})),T.promise}function E1(g,m){bs("update",m,g._path,!1);var y=new Q.Deferred;return function Ah(g,m,y,T){Xl(g,"update",{path:m.toString(),value:y});var I=!0,B=Pd(g),z={};if(pn(y,function(Ae,Oe){I=!1,z[Ae]=wh(Yi(m,Ae),Ur(Oe),g.serverSyncTree_,B)}),I)Re("update() called with empty data.  Don't do anything."),hu(0,T,"ok",void 0);else{var ue=Cp(g),pe=function Wg(g,m,y,T){!function lf(g,m,y,T){(0,Q.assert)(T>g.lastWriteId,"Stacking an older merge on top of newer ones"),g.allWrites.push({path:m,children:y,writeId:T,visible:!0}),g.visibleWrites=mh(g.visibleWrites,m,y),g.lastWriteId=T}(g.pendingWriteTree_,m,y,T);var I=ma.fromObject(y);return cu(g,new Mc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},m,I))}(g.serverSyncTree_,m,z,ue);Ba(g.eventQueue_,pe),g.server_.merge(m.toString(),y,function(Ae,Oe){var st="ok"===Ae;st||Gn("update at "+m+" failed: "+Ae);var Vt=ji(g.serverSyncTree_,ue,!st),on=Vt.length>0?fu(g,m):m;Sl(g.eventQueue_,on,Vt),hu(0,T,Ae,Oe)}),pn(y,function(Ae){var Oe=Sh(g,Yi(m,Ae));fu(g,Oe)}),Sl(g.eventQueue_,m,[])}}(g._repo,g._path,m,y.wrapCallback(function(){})),y.promise}function Bm(g){return function A1(g,m){var y=function a0(g,m){var y=m._path,T=null;g.syncPointTree_.foreachOnPath(y,function(Ae,Oe){var st=ss(Ae,y);T=T||Oc(Oe,st)});var I=g.syncPointTree_.get(y);I?T=T||Oc(I,qn()):(I=new uf,g.syncPointTree_=g.syncPointTree_.set(y,I));var B=null!=T,z=B?new Zs(T,!0,!1):null;return function Xa(g){return up(g.viewCache_)}(Md(I,m,Ic(g.pendingWriteTree_,m._path),B?z.getNode():Li.EMPTY_NODE,B))}(g.serverSyncTree_,m);return null!=y?Promise.resolve(y):g.server_.get(m).then(function(T){var I=Ur(T).withIndex(m._queryParams.getIndex()),B=df(g.serverSyncTree_,m._path,I);return Rc(g.eventQueue_,m._path,B),Promise.resolve(I)},function(T){return Xl(g,"get for query "+(0,Q.stringify)(m)+" failed: "+T),Promise.reject(new Error(T))})}((g=(0,Q.getModularInstance)(g))._repo,g).then(function(m){return new xf(m,new pu(g._repo,g._path),g._queryParams.getIndex())})}var Ep=function(){function g(m){this.callbackContext=m}return g.prototype.respondsTo=function(m){return"value"===m},g.prototype.createEvent=function(m,y){var T=y._queryParams.getIndex();return new bv("value",this,new xf(m.snapshotNode,new pu(y._repo,y._path),T))},g.prototype.getEventRunner=function(m){var y=this;return"cancel"===m.getEventType()?function(){return y.callbackContext.onCancel(m.error)}:function(){return y.callbackContext.onValue(m.snapshot,null)}},g.prototype.createCancelEvent=function(m,y){return this.callbackContext.hasCancelCallback?new nl(this,m,y):null},g.prototype.matches=function(m){return m instanceof g&&(!m.callbackContext||!this.callbackContext||m.callbackContext.matches(this.callbackContext))},g.prototype.hasAnyCallback=function(){return null!==this.callbackContext},g}(),tc=function(){function g(m,y){this.eventType=m,this.callbackContext=y}return g.prototype.respondsTo=function(m){var y="children_added"===m?"child_added":m;return this.eventType===("children_removed"===y?"child_removed":y)},g.prototype.createCancelEvent=function(m,y){return this.callbackContext.hasCancelCallback?new nl(this,m,y):null},g.prototype.createEvent=function(m,y){(0,Q.assert)(null!=m.childName,"Child events should have a childName.");var T=Ua(new pu(y._repo,y._path),m.childName),I=y._queryParams.getIndex();return new bv(m.type,this,new xf(m.snapshotNode,T,I),m.prevName)},g.prototype.getEventRunner=function(m){var y=this;return"cancel"===m.getEventType()?function(){return y.callbackContext.onCancel(m.error)}:function(){return y.callbackContext.onValue(m.snapshot,m.prevName)}},g.prototype.matches=function(m){return m instanceof g&&this.eventType===m.eventType&&(!this.callbackContext||!m.callbackContext||this.callbackContext.matches(m.callbackContext))},g.prototype.hasAnyCallback=function(){return!!this.callbackContext},g}();function mu(g,m,y,T,I){var B;if("object"==typeof T&&(B=void 0,I=T),"function"==typeof T&&(B=T),I&&I.onlyOnce){var z=y,ue=function(Oe,st){yf(g._repo,g,Ae),z(Oe,st)};ue.userCallback=y.userCallback,ue.context=y.context,y=ue}var pe=new Uc(y,B||void 0),Ae="value"===m?new Ep(pe):new tc(m,pe);return function vf(g,m,y){var T;T=".info"===Si(m._path)?Lc(g.infoSyncTree_,m,y):Lc(g.serverSyncTree_,m,y),Rc(g.eventQueue_,m._path,T)}(g._repo,g,Ae),function(){return yf(g._repo,g,Ae)}}function nc(g,m,y,T){return mu(g,"value",m,y,T)}function Cv(g,m,y,T){return mu(g,"child_added",m,y,T)}function Um(g,m,y,T){return mu(g,"child_changed",m,y,T)}function h0(g,m,y,T){return mu(g,"child_moved",m,y,T)}function Mh(g,m,y,T){return mu(g,"child_removed",m,y,T)}function xv(g,m,y){var T=null,I=y?new Uc(y):null;"value"===m?T=new Ep(I):m&&(T=new tc(m,I)),yf(g._repo,g,T)}var Dl=function g(){},$u=function(g){function m(y,T){var I=g.call(this)||this;return I._value=y,I._key=T,I}return(0,Ze.__extends)(m,g),m.prototype._apply=function(y){Jl("endAt",this._value,y._path,!0);var T=na(y._queryParams,this._value,this._key);if(Dh(T),Wu(T),y._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new il(y._repo,y._path,T,y._orderByCalled)},m}(Dl);function f0(g,m){return Nc("endAt","key",m,!0),new $u(g,m)}var p0=function(g){function m(y,T){var I=g.call(this)||this;return I._value=y,I._key=T,I}return(0,Ze.__extends)(m,g),m.prototype._apply=function(y){Jl("endBefore",this._value,y._path,!1);var T=function bl(g,m,y){var I;return g.index_===xc?("string"==typeof m&&(m=au(m)),I=na(g,m,y)):I=na(g,m,null==y?At:au(y)),I.endBeforeSet_=!0,I}(y._queryParams,this._value,this._key);if(Dh(T),Wu(T),y._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new il(y._repo,y._path,T,y._orderByCalled)},m}(Dl);function a_(g,m){return Nc("endBefore","key",m,!0),new p0(g,m)}var Tv=function(g){function m(y,T){var I=g.call(this)||this;return I._value=y,I._key=T,I}return(0,Ze.__extends)(m,g),m.prototype._apply=function(y){Jl("startAt",this._value,y._path,!0);var T=Wi(y._queryParams,this._value,this._key);if(Dh(T),Wu(T),y._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new il(y._repo,y._path,T,y._orderByCalled)},m}(Dl);function M1(g,m){return void 0===g&&(g=null),Nc("startAt","key",m,!0),new Tv(g,m)}var k1=function(g){function m(y,T){var I=g.call(this)||this;return I._value=y,I._key=T,I}return(0,Ze.__extends)(m,g),m.prototype._apply=function(y){Jl("startAfter",this._value,y._path,!1);var T=function yl(g,m,y){var T;return g.index_===xc?("string"==typeof m&&(m=Ac(m)),T=Wi(g,m,y)):T=Wi(g,m,null==y?Kt:Ac(y)),T.startAfterSet_=!0,T}(y._queryParams,this._value,this._key);if(Dh(T),Wu(T),y._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new il(y._repo,y._path,T,y._orderByCalled)},m}(Dl);function m0(g,m){return Nc("startAfter","key",m,!0),new k1(g,m)}var Tf=function(g){function m(y){var T=g.call(this)||this;return T._limit=y,T}return(0,Ze.__extends)(m,g),m.prototype._apply=function(y){if(y._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new il(y._repo,y._path,function cr(g,m){var y=g.copy();return y.limitSet_=!0,y.limit_=m,y.viewFrom_="l",y}(y._queryParams,this._limit),y._orderByCalled)},m}(Dl);function Av(g){if("number"!=typeof g||Math.floor(g)!==g||g<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Tf(g)}var g0=function(g){function m(y){var T=g.call(this)||this;return T._limit=y,T}return(0,Ze.__extends)(m,g),m.prototype._apply=function(y){if(y._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new il(y._repo,y._path,function lp(g,m){var y=g.copy();return y.limitSet_=!0,y.limit_=m,y.viewFrom_="r",y}(y._queryParams,this._limit),y._orderByCalled)},m}(Dl);function I1(g){if("number"!=typeof g||Math.floor(g)!==g||g<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new g0(g)}var El=function(g){function m(y){var T=g.call(this)||this;return T._path=y,T}return(0,Ze.__extends)(m,g),m.prototype._apply=function(y){s_(y,"orderByChild");var T=new nr(this._path);if(ki(T))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var I=new Is(T),B=Zl(y._queryParams,I);return Wu(B),new il(y._repo,y._path,B,!0)},m}(Dl);function Sv(g){if("$key"===g)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===g)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===g)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return du("orderByChild","path",g,!1),new El(g)}var O1=function(g){function m(){return null!==g&&g.apply(this,arguments)||this}return(0,Ze.__extends)(m,g),m.prototype._apply=function(y){s_(y,"orderByKey");var T=Zl(y._queryParams,xc);return Wu(T),new il(y._repo,y._path,T,!0)},m}(Dl);function _0(){return new O1}var v0=function(g){function m(){return null!==g&&g.apply(this,arguments)||this}return(0,Ze.__extends)(m,g),m.prototype._apply=function(y){s_(y,"orderByPriority");var T=Zl(y._queryParams,so);return Wu(T),new il(y._repo,y._path,T,!0)},m}(Dl);function L1(){return new v0}var Af=function(g){function m(){return null!==g&&g.apply(this,arguments)||this}return(0,Ze.__extends)(m,g),m.prototype._apply=function(y){s_(y,"orderByValue");var T=Zl(y._queryParams,xd);return Wu(T),new il(y._repo,y._path,T,!0)},m}(Dl);function gu(){return new Af}var Dv=function(g){function m(y,T){var I=g.call(this)||this;return I._value=y,I._key=T,I}return(0,Ze.__extends)(m,g),m.prototype._apply=function(y){if(Jl("equalTo",this._value,y._path,!1),y._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(y._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new $u(this._value,this._key)._apply(new Tv(this._value,this._key)._apply(y))},m}(Dl);function Ev(g,m){return Nc("equalTo","key",m,!0),new Dv(g,m)}function ic(g){for(var m,y,T=[],I=1;I<arguments.length;I++)T[I-1]=arguments[I];var B=(0,Q.getModularInstance)(g);try{for(var z=(0,Ze.__values)(T),ue=z.next();!ue.done;ue=z.next()){var pe=ue.value;B=pe._apply(B)}}catch(Ae){m={error:Ae}}finally{try{ue&&!ue.done&&(y=z.return)&&y.call(z)}finally{if(m)throw m.error}}return B}(function fp(g){(0,Q.assert)(!cf,"__referenceConstructor has already been defined"),cf=g})(pu),function xm(g){(0,Q.assert)(!pp,"__referenceConstructor has already been defined"),pp=g}(pu);var Ml={},Mp=!1;function b0(g,m,y,T,I){var B=T||g.options.databaseURL;void 0===B&&(g.options.projectId||kn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Re("Using default host for project ",g.options.projectId),B=g.options.projectId+"-default-rtdb.firebaseio.com");var pe,z=fr(B,I),ue=z.repoInfo,Ae=void 0;"undefined"!=typeof process&&(Ae=process.env.FIREBASE_DATABASE_EMULATOR_HOST),Ae?(pe=!0,ue=(z=fr(B="http://"+Ae+"?ns="+ue.namespace,I)).repoInfo):pe=!z.repoInfo.secure;var Oe=I&&pe?new vi(vi.OWNER):new Ki(g.name,g.options,m);xh("Invalid Firebase Database URL",z),ki(z.path)||kn("Database URL must point to the root of a Firebase Database (not including a child path).");var st=function jm(g,m,y,T){var I=Ml[m.name];I||(Ml[m.name]=I={});var B=I[g.toURLString()];return B&&kn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),B=new Pc(g,Mp,y,T),I[g.toURLString()]=B,B}(ue,g,Oe,new vc(g.name,y));return new C0(st,g)}var C0=function(){function g(m,y){this._repoInternal=m,this.app=y,this.type="database",this._instanceStarted=!1}return Object.defineProperty(g.prototype,"_repo",{get:function(){return this._instanceStarted||(function Kl(g,m,y){if(g.stats_=pl(g.repoInfo_),g.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)g.server_=new cp(g.repoInfo_,function(T,I,B,z){bp(g,T,I,B,z)},g.authTokenProvider_,g.appCheckProvider_),setTimeout(function(){return km(g,!0)},0);else{if(null!=y){if("object"!=typeof y)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,Q.stringify)(y)}catch(T){throw new Error("Invalid authOverride provided: "+T)}}g.persistentConnection_=new Ru(g.repoInfo_,m,function(T,I,B,z){bp(g,T,I,B,z)},function(T){km(g,T)},function(T){!function r_(g,m){pn(m,function(y,T){wp(g,y,T)})}(g,T)},g.authTokenProvider_,g.appCheckProvider_,y),g.server_=g.persistentConnection_}g.authTokenProvider_.addTokenChangeListener(function(T){g.server_.refreshAuthToken(T)}),g.appCheckProvider_.addTokenChangeListener(function(T){g.server_.refreshAppCheckToken(T.token)}),g.statsReporter_=function Xs(g,m){var y=g.toString();return Oi[y]||(Oi[y]=m()),Oi[y]}(g.repoInfo_,function(){return new ka(g.stats_,g.server_)}),g.infoData_=new Dc,g.infoSyncTree_=new o0({startListening:function(T,I,B,z){var ue=[],pe=g.infoData_.getNode(T._path);return pe.isEmpty()||(ue=df(g.infoSyncTree_,T._path,pe),setTimeout(function(){z("ok")},0)),ue},stopListening:function(){}}),wp(g,"connected",!1),g.serverSyncTree_=new o0({startListening:function(T,I,B,z){return g.server_.listen(T,B,I,function(ue,pe){var Ae=z(ue,pe);Sl(g.eventQueue_,T._path,Ae)}),[]},stopListening:function(T,I){g.server_.unlisten(T,I)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new pu(this._repo,qn())),this._rootInternal},enumerable:!1,configurable:!0}),g.prototype._delete=function(){return null!==this._rootInternal&&(function l_(g,m){var y=Ml[m];(!y||y[g.key]!==g)&&kn("Database "+m+"("+g.repoInfo_+") has already been deleted."),Om(g),delete y[g.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},g.prototype._checkNotDeleted=function(m){null===this._rootInternal&&kn("Cannot call "+m+" on a deleted database.")},g}();function c_(g){(g=(0,Q.getModularInstance)(g))._checkNotDeleted("goOffline"),Om(g._repo)}function x0(g){(g=(0,Q.getModularInstance)(g))._checkNotDeleted("goOnline"),function tl(g){g.persistentConnection_&&g.persistentConnection_.resume(i_)}(g._repo)}var KC={".sv":"timestamp"},kv=function(){function g(m,y){this.committed=m,this.snapshot=y}return g.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},g}();function F1(g,m,y){var T;if(g=(0,Q.getModularInstance)(g),Qo("Reference.transaction",g._path),".length"===g.key||".keys"===g.key)throw"Reference.transaction failed: "+g.key+" is a read-only object.";var I=null===(T=null==y?void 0:y.applyLocally)||void 0===T||T,B=new Q.Deferred,ue=nc(g,function(){});return function bf(g,m,y,T,I,B){Xl(g,"transaction on "+m);var z={path:m,update:y,onComplete:T,status:null,order:cn(),applyLocally:B,retryCount:0,unwatcher:I,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},ue=Bd(g,m,void 0);z.currentInputSnapshot=ue;var pe=z.update(ue.val());if(void 0===pe)z.unwatcher(),z.currentOutputSnapshotRaw=null,z.currentOutputSnapshotResolved=null,z.onComplete&&z.onComplete(null,!1,z.currentInputSnapshot);else{Al("transaction failed: Data returned ",pe,z.path),z.status=0;var Ae=Ra(g.transactionQueueTree_,m),Oe=va(Ae)||[];Oe.push(z),$l(Ae,Oe);var st=void 0;"object"==typeof pe&&null!==pe&&(0,Q.contains)(pe,".priority")?(st=(0,Q.safeGet)(pe,".priority"),(0,Q.assert)(Yu(st),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):st=(yh(g.serverSyncTree_,m)||Li.EMPTY_NODE).getPriority().val();var on=Pd(g),In=Ur(pe,st),Fi=pf(In,ue,on);z.currentOutputSnapshotRaw=In,z.currentOutputSnapshotResolved=Fi,z.currentWriteId=Cp(g);var gi=zg(g.serverSyncTree_,m,Fi,z.currentWriteId,z.applyLocally);Sl(g.eventQueue_,m,gi),wf(g,g.transactionQueueTree_)}}(g._repo,g._path,m,function(pe,Ae,Oe){var st=null;pe?B.reject(pe):(st=new xf(Oe,new pu(g._repo,g._path),so),B.resolve(new kv(Ae,st)))},ue,I),B.promise}var Iv=function(){function g(m){this._delegate=m}return g.prototype.cancel=function(m){(0,Q.validateArgCount)("OnDisconnect.cancel",0,1,arguments.length),(0,Q.validateCallback)("OnDisconnect.cancel","onComplete",m,!0);var y=this._delegate.cancel();return m&&y.then(function(){return m(null)},function(T){return m(T)}),y},g.prototype.remove=function(m){(0,Q.validateArgCount)("OnDisconnect.remove",0,1,arguments.length),(0,Q.validateCallback)("OnDisconnect.remove","onComplete",m,!0);var y=this._delegate.remove();return m&&y.then(function(){return m(null)},function(T){return m(T)}),y},g.prototype.set=function(m,y){(0,Q.validateArgCount)("OnDisconnect.set",1,2,arguments.length),(0,Q.validateCallback)("OnDisconnect.set","onComplete",y,!0);var T=this._delegate.set(m);return y&&T.then(function(){return y(null)},function(I){return y(I)}),T},g.prototype.setWithPriority=function(m,y,T){(0,Q.validateArgCount)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,Q.validateCallback)("OnDisconnect.setWithPriority","onComplete",T,!0);var I=this._delegate.setWithPriority(m,y);return T&&I.then(function(){return T(null)},function(B){return T(B)}),I},g.prototype.update=function(m,y){if((0,Q.validateArgCount)("OnDisconnect.update",1,2,arguments.length),Array.isArray(m)){for(var T={},I=0;I<m.length;++I)T[""+I]=m[I];m=T,Gn("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,Q.validateCallback)("OnDisconnect.update","onComplete",y,!0);var B=this._delegate.update(m);return y&&B.then(function(){return y(null)},function(z){return y(z)}),B},g}(),ja=function(){function g(m,y){this.committed=m,this.snapshot=y}return g.prototype.toJSON=function(){return(0,Q.validateArgCount)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},g}(),qm=function(){function g(m,y){this._database=m,this._delegate=y}return g.prototype.val=function(){return(0,Q.validateArgCount)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},g.prototype.exportVal=function(){return(0,Q.validateArgCount)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},g.prototype.toJSON=function(){return(0,Q.validateArgCount)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},g.prototype.exists=function(){return(0,Q.validateArgCount)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},g.prototype.child=function(m){return(0,Q.validateArgCount)("DataSnapshot.child",0,1,arguments.length),m=String(m),du("DataSnapshot.child","path",m,!1),new g(this._database,this._delegate.child(m))},g.prototype.hasChild=function(m){return(0,Q.validateArgCount)("DataSnapshot.hasChild",1,1,arguments.length),du("DataSnapshot.hasChild","path",m,!1),this._delegate.hasChild(m)},g.prototype.getPriority=function(){return(0,Q.validateArgCount)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},g.prototype.forEach=function(m){var y=this;return(0,Q.validateArgCount)("DataSnapshot.forEach",1,1,arguments.length),(0,Q.validateCallback)("DataSnapshot.forEach","action",m,!1),this._delegate.forEach(function(T){return m(new g(y._database,T))})},g.prototype.hasChildren=function(){return(0,Q.validateArgCount)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(g.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),g.prototype.numChildren=function(){return(0,Q.validateArgCount)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},g.prototype.getRef=function(){return(0,Q.validateArgCount)("DataSnapshot.ref",0,0,arguments.length),new jc(this._database,this._delegate.ref)},Object.defineProperty(g.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),g}(),Ov=function(){function g(m,y){this.database=m,this._delegate=y}return g.prototype.on=function(m,y,T,I){var z,B=this;(0,Q.validateArgCount)("Query.on",2,4,arguments.length),(0,Q.validateCallback)("Query.on","callback",y,!1);var ue=g.getCancelAndContextArgs_("Query.on",T,I),pe=function(Oe,st){y.call(ue.context,new qm(B.database,Oe),st)};pe.userCallback=y,pe.context=ue.context;var Ae=null===(z=ue.cancel)||void 0===z?void 0:z.bind(ue.context);switch(m){case"value":return nc(this._delegate,pe,Ae),y;case"child_added":return Cv(this._delegate,pe,Ae),y;case"child_removed":return Mh(this._delegate,pe,Ae),y;case"child_changed":return Um(this._delegate,pe,Ae),y;case"child_moved":return h0(this._delegate,pe,Ae),y;default:throw new Error((0,Q.errorPrefix)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},g.prototype.off=function(m,y,T){if((0,Q.validateArgCount)("Query.off",0,3,arguments.length),Rd("Query.off",m,!0),(0,Q.validateCallback)("Query.off","callback",y,!0),(0,Q.validateContextObject)("Query.off","context",T,!0),y){var I=function(){};I.userCallback=y,I.context=T,xv(this._delegate,m,I)}else xv(this._delegate,m)},g.prototype.get=function(){var m=this;return Bm(this._delegate).then(function(y){return new qm(m.database,y)})},g.prototype.once=function(m,y,T,I){var B=this;(0,Q.validateArgCount)("Query.once",1,4,arguments.length),(0,Q.validateCallback)("Query.once","callback",y,!0);var z=g.getCancelAndContextArgs_("Query.once",T,I),ue=new Q.Deferred,pe=function(Oe,st){var Vt=new qm(B.database,Oe);y&&y.call(z.context,Vt,st),ue.resolve(Vt)};pe.userCallback=y,pe.context=z.context;var Ae=function(Oe){z.cancel&&z.cancel.call(z.context,Oe),ue.reject(Oe)};switch(m){case"value":nc(this._delegate,pe,Ae,{onlyOnce:!0});break;case"child_added":Cv(this._delegate,pe,Ae,{onlyOnce:!0});break;case"child_removed":Mh(this._delegate,pe,Ae,{onlyOnce:!0});break;case"child_changed":Um(this._delegate,pe,Ae,{onlyOnce:!0});break;case"child_moved":h0(this._delegate,pe,Ae,{onlyOnce:!0});break;default:throw new Error((0,Q.errorPrefix)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return ue.promise},g.prototype.limitToFirst=function(m){return(0,Q.validateArgCount)("Query.limitToFirst",1,1,arguments.length),new g(this.database,ic(this._delegate,Av(m)))},g.prototype.limitToLast=function(m){return(0,Q.validateArgCount)("Query.limitToLast",1,1,arguments.length),new g(this.database,ic(this._delegate,I1(m)))},g.prototype.orderByChild=function(m){return(0,Q.validateArgCount)("Query.orderByChild",1,1,arguments.length),new g(this.database,ic(this._delegate,Sv(m)))},g.prototype.orderByKey=function(){return(0,Q.validateArgCount)("Query.orderByKey",0,0,arguments.length),new g(this.database,ic(this._delegate,_0()))},g.prototype.orderByPriority=function(){return(0,Q.validateArgCount)("Query.orderByPriority",0,0,arguments.length),new g(this.database,ic(this._delegate,L1()))},g.prototype.orderByValue=function(){return(0,Q.validateArgCount)("Query.orderByValue",0,0,arguments.length),new g(this.database,ic(this._delegate,gu()))},g.prototype.startAt=function(m,y){return void 0===m&&(m=null),(0,Q.validateArgCount)("Query.startAt",0,2,arguments.length),new g(this.database,ic(this._delegate,M1(m,y)))},g.prototype.startAfter=function(m,y){return void 0===m&&(m=null),(0,Q.validateArgCount)("Query.startAfter",0,2,arguments.length),new g(this.database,ic(this._delegate,m0(m,y)))},g.prototype.endAt=function(m,y){return void 0===m&&(m=null),(0,Q.validateArgCount)("Query.endAt",0,2,arguments.length),new g(this.database,ic(this._delegate,f0(m,y)))},g.prototype.endBefore=function(m,y){return void 0===m&&(m=null),(0,Q.validateArgCount)("Query.endBefore",0,2,arguments.length),new g(this.database,ic(this._delegate,a_(m,y)))},g.prototype.equalTo=function(m,y){return(0,Q.validateArgCount)("Query.equalTo",1,2,arguments.length),new g(this.database,ic(this._delegate,Ev(m,y)))},g.prototype.toString=function(){return(0,Q.validateArgCount)("Query.toString",0,0,arguments.length),this._delegate.toString()},g.prototype.toJSON=function(){return(0,Q.validateArgCount)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},g.prototype.isEqual=function(m){if((0,Q.validateArgCount)("Query.isEqual",1,1,arguments.length),!(m instanceof g)){var y="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(y)}return this._delegate.isEqual(m._delegate)},g.getCancelAndContextArgs_=function(m,y,T){var I={cancel:void 0,context:void 0};if(y&&T)I.cancel=y,(0,Q.validateCallback)(m,"cancel",I.cancel,!0),I.context=T,(0,Q.validateContextObject)(m,"context",I.context,!0);else if(y)if("object"==typeof y&&null!==y)I.context=y;else{if("function"!=typeof y)throw new Error((0,Q.errorPrefix)(m,"cancelOrContext")+" must either be a cancel callback or a context object.");I.cancel=y}return I},Object.defineProperty(g.prototype,"ref",{get:function(){return new jc(this.database,new pu(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),g}(),jc=function(g){function m(y,T){var I=g.call(this,y,new il(T._repo,T._path,new Sc,!1))||this;return I.database=y,I._delegate=T,I}return(0,Ze.__extends)(m,g),m.prototype.getKey=function(){return(0,Q.validateArgCount)("Reference.key",0,0,arguments.length),this._delegate.key},m.prototype.child=function(y){return(0,Q.validateArgCount)("Reference.child",1,1,arguments.length),"number"==typeof y&&(y=String(y)),new m(this.database,Ua(this._delegate,y))},m.prototype.getParent=function(){(0,Q.validateArgCount)("Reference.parent",0,0,arguments.length);var y=this._delegate.parent;return y?new m(this.database,y):null},m.prototype.getRoot=function(){return(0,Q.validateArgCount)("Reference.root",0,0,arguments.length),new m(this.database,this._delegate.root)},m.prototype.set=function(y,T){(0,Q.validateArgCount)("Reference.set",1,2,arguments.length),(0,Q.validateCallback)("Reference.set","onComplete",T,!0);var I=sa(this._delegate,y);return T&&I.then(function(){return T(null)},function(B){return T(B)}),I},m.prototype.update=function(y,T){if((0,Q.validateArgCount)("Reference.update",1,2,arguments.length),Array.isArray(y)){for(var I={},B=0;B<y.length;++B)I[""+B]=y[B];y=I,Gn("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Qo("Reference.update",this._delegate._path),(0,Q.validateCallback)("Reference.update","onComplete",T,!0);var z=E1(this._delegate,y);return T&&z.then(function(){return T(null)},function(ue){return T(ue)}),z},m.prototype.setWithPriority=function(y,T,I){(0,Q.validateArgCount)("Reference.setWithPriority",2,3,arguments.length),(0,Q.validateCallback)("Reference.setWithPriority","onComplete",I,!0);var B=wv(this._delegate,y,T);return I&&B.then(function(){return I(null)},function(z){return I(z)}),B},m.prototype.remove=function(y){(0,Q.validateArgCount)("Reference.remove",0,1,arguments.length),(0,Q.validateCallback)("Reference.remove","onComplete",y,!0);var T=d0(this._delegate);return y&&T.then(function(){return y(null)},function(I){return y(I)}),T},m.prototype.transaction=function(y,T,I){var B=this;(0,Q.validateArgCount)("Reference.transaction",1,3,arguments.length),(0,Q.validateCallback)("Reference.transaction","transactionUpdate",y,!1),(0,Q.validateCallback)("Reference.transaction","onComplete",T,!0),Dm("Reference.transaction","applyLocally",I,!0);var z=F1(this._delegate,y,{applyLocally:I}).then(function(ue){return new ja(ue.committed,new qm(B.database,ue.snapshot))});return T&&z.then(function(ue){return T(null,ue.committed,ue.snapshot)},function(ue){return T(ue,!1,null)}),z},m.prototype.setPriority=function(y,T){(0,Q.validateArgCount)("Reference.setPriority",1,2,arguments.length),(0,Q.validateCallback)("Reference.setPriority","onComplete",T,!0);var I=Eh(this._delegate,y);return T&&I.then(function(){return T(null)},function(B){return T(B)}),I},m.prototype.push=function(y,T){var I=this;(0,Q.validateArgCount)("Reference.push",0,2,arguments.length),(0,Q.validateCallback)("Reference.push","onComplete",T,!0);var B=Pm(this._delegate,y),z=B.then(function(pe){return new m(I.database,pe)});T&&z.then(function(){return T(null)},function(pe){return T(pe)});var ue=new m(this.database,B);return ue.then=z.then.bind(z),ue.catch=z.catch.bind(z,void 0),ue},m.prototype.onDisconnect=function(){return Qo("Reference.onDisconnect",this._delegate._path),new Iv(new Rm(this._delegate._repo,this._delegate._path))},Object.defineProperty(m.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),m}(Ov),Sf=function(){function g(m,y){var T=this;this._delegate=m,this.app=y,this.INTERNAL={delete:function(){return T._delegate._delete()}}}return g.prototype.useEmulator=function(m,y,T){void 0===T&&(T={}),function Vm(g,m,y,T){void 0===T&&(T={}),(g=(0,Q.getModularInstance)(g))._checkNotDeleted("useEmulator"),g._instanceStarted&&kn("Cannot call useEmulator() after instance has already been initialized.");var I=g._repoInternal,B=void 0;if(I.repoInfo_.nodeAdmin)T.mockUserToken&&kn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),B=new vi(vi.OWNER);else if(T.mockUserToken){var z="string"==typeof T.mockUserToken?T.mockUserToken:(0,Q.createMockUserToken)(T.mockUserToken,g.app.options.projectId);B=new vi(z)}!function kp(g,m,y,T){g.repoInfo_=new ar(m+":"+y,!1,g.repoInfo_.namespace,g.repoInfo_.webSocketOnly,g.repoInfo_.nodeAdmin,g.repoInfo_.persistenceKey,g.repoInfo_.includeNamespaceInQueryParams),T&&(g.authTokenProvider_=T)}(I,m,y,B)}(this._delegate,m,y,T)},g.prototype.ref=function(m){if((0,Q.validateArgCount)("database.ref",0,1,arguments.length),m instanceof jc){var y=oa(this._delegate,m.toString());return new jc(this,y)}return y=ec(this._delegate,m),new jc(this,y)},g.prototype.refFromURL=function(m){var y="database.refFromURL";(0,Q.validateArgCount)(y,1,1,arguments.length);var T=oa(this._delegate,m);return new jc(this,T)},g.prototype.goOffline=function(){return(0,Q.validateArgCount)("database.goOffline",0,0,arguments.length),c_(this._delegate)},g.prototype.goOnline=function(){return(0,Q.validateArgCount)("database.goOnline",0,0,arguments.length),x0(this._delegate)},g.ServerValue={TIMESTAMP:KC,increment:function(m){return function Mv(g){return{".sv":{increment:g}}}(m)}},g}(),kl=Object.freeze({__proto__:null,forceLongPolling:function(){Ea.forceDisallow(),Ho.forceAllow()},forceWebSockets:function(){Ho.forceDisallow()},isWebSocketsAvailable:function(){return Ea.isAvailable()},setSecurityDebugCallback:function(g,m){g._delegate._repo.persistentConnection_.securityDebugCallback_=m},stats:function(g,m){!function zu(g,m){if(void 0===m&&(m=!1),"undefined"!=typeof console){var y;m?(g.statsListener_||(g.statsListener_=new wl(g.stats_)),y=g.statsListener_.get()):y=g.stats_.get();var T=Object.keys(y).reduce(function(I,B){return Math.max(B.length,I)},0);pn(y,function(I,B){for(var z=I,ue=I.length;ue<T+2;ue++)z+=" ";console.log(z+B)})}}(g._delegate._repo,m)},statsIncrementCounter:function(g,m){!function yv(g,m){g.stats_.incrementCounter(m),function Vu(g,m){g.statsToReport_[m]=!0}(g.statsReporter_,m)}(g._delegate._repo,m)},dataUpdateCount:function(g){return g._delegate._repo.dataUpdateCount},interceptServerData:function(g,m){return function _v(g,m){g.interceptServerDataCallback_=m}(g._delegate._repo,m)},initStandalone:function N1(g){var m=g.app,y=g.url,I=g.customAuthImpl,B=g.namespace,z=g.nodeAdmin,ue=void 0!==z&&z;ht(g.version);var pe=new ie.Provider("auth-internal",new ie.ComponentContainer("database-standalone"));return pe.setComponent(new ie.Component("auth-internal",function(){return I},"PRIVATE")),{instance:new Sf(b0(m,pe,void 0,y,ue),m),namespace:B}}}),Rv=Ru;Ru.prototype.simpleListen=function(g,m){this.sendRequest("q",{p:g},m)},Ru.prototype.echo=function(g,m){this.sendRequest("echo",{d:g},m)};var h_=Object.freeze({__proto__:null,DataConnection:Rv,RealTimeConnection:os,hijackHash:function(g){var m=Ru.prototype.put;return Ru.prototype.put=function(y,T,I,B){void 0!==B&&(B=g()),m.call(this,y,T,I,B)},function(){Ru.prototype.put=m}},ConnectionTarget:ar,queryIdentifier:function(g){return g._delegate._queryIdentifier},forceRestClient:function(g){!function w0(g){Mp=g}(g)}}),Bv=Sf.ServerValue;!function Uv(g){ht(g.SDK_VERSION);var m=g.INTERNAL.registerComponent(new ie.Component("database",function(y,T){var I=T.instanceIdentifier,B=y.getProvider("app").getImmediate(),z=y.getProvider("auth-internal"),ue=y.getProvider("app-check-internal");return new Sf(b0(B,z,ue,I),B)},"PUBLIC").setServiceProps({Reference:jc,Query:Ov,Database:Sf,DataSnapshot:qm,enableLogging:qt,INTERNAL:kl,ServerValue:Bv,TEST_ACCESS:h_}).setMultipleInstances(!0));g.registerVersion("@firebase/database","0.11.0"),(0,Q.isNodeSdk)()&&(oi.exports=m)}(r.default)},4003:(oi,$t,me)=>{"use strict";function r(){for(var We=0,xt=0,rt=arguments.length;xt<rt;xt++)We+=arguments[xt].length;var kt=Array(We),cn=0;for(xt=0;xt<rt;xt++)for(var ot=arguments[xt],Ft=0,fn=ot.length;Ft<fn;Ft++,cn++)kt[cn]=ot[Ft];return kt}me.r($t),me.d($t,{LogLevel:()=>Ze,Logger:()=>ht,setLogLevel:()=>de,setUserLogHandler:()=>qe});var ie,Q=[],Ze=(()=>{return(We=Ze||(Ze={}))[We.DEBUG=0]="DEBUG",We[We.VERBOSE=1]="VERBOSE",We[We.INFO=2]="INFO",We[We.WARN=3]="WARN",We[We.ERROR=4]="ERROR",We[We.SILENT=5]="SILENT",Ze;var We})(),wt={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},jt=Ze.INFO,et=((ie={})[Ze.DEBUG]="log",ie[Ze.VERBOSE]="log",ie[Ze.INFO]="info",ie[Ze.WARN]="warn",ie[Ze.ERROR]="error",ie),yt=function(We,xt){for(var rt=[],kt=2;kt<arguments.length;kt++)rt[kt-2]=arguments[kt];if(!(xt<We.logLevel)){var cn=(new Date).toISOString(),ot=et[xt];if(!ot)throw new Error("Attempted to log a message with an invalid logType (value: "+xt+")");console[ot].apply(console,r(["["+cn+"]  "+We.name+":"],rt))}},ht=function(){function We(xt){this.name=xt,this._logLevel=jt,this._logHandler=yt,this._userLogHandler=null,Q.push(this)}return Object.defineProperty(We.prototype,"logLevel",{get:function(){return this._logLevel},set:function(xt){if(!(xt in Ze))throw new TypeError('Invalid value "'+xt+'" assigned to `logLevel`');this._logLevel=xt},enumerable:!1,configurable:!0}),We.prototype.setLogLevel=function(xt){this._logLevel="string"==typeof xt?wt[xt]:xt},Object.defineProperty(We.prototype,"logHandler",{get:function(){return this._logHandler},set:function(xt){if("function"!=typeof xt)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=xt},enumerable:!1,configurable:!0}),Object.defineProperty(We.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(xt){this._userLogHandler=xt},enumerable:!1,configurable:!0}),We.prototype.debug=function(){for(var xt=[],rt=0;rt<arguments.length;rt++)xt[rt]=arguments[rt];this._userLogHandler&&this._userLogHandler.apply(this,r([this,Ze.DEBUG],xt)),this._logHandler.apply(this,r([this,Ze.DEBUG],xt))},We.prototype.log=function(){for(var xt=[],rt=0;rt<arguments.length;rt++)xt[rt]=arguments[rt];this._userLogHandler&&this._userLogHandler.apply(this,r([this,Ze.VERBOSE],xt)),this._logHandler.apply(this,r([this,Ze.VERBOSE],xt))},We.prototype.info=function(){for(var xt=[],rt=0;rt<arguments.length;rt++)xt[rt]=arguments[rt];this._userLogHandler&&this._userLogHandler.apply(this,r([this,Ze.INFO],xt)),this._logHandler.apply(this,r([this,Ze.INFO],xt))},We.prototype.warn=function(){for(var xt=[],rt=0;rt<arguments.length;rt++)xt[rt]=arguments[rt];this._userLogHandler&&this._userLogHandler.apply(this,r([this,Ze.WARN],xt)),this._logHandler.apply(this,r([this,Ze.WARN],xt))},We.prototype.error=function(){for(var xt=[],rt=0;rt<arguments.length;rt++)xt[rt]=arguments[rt];this._userLogHandler&&this._userLogHandler.apply(this,r([this,Ze.ERROR],xt)),this._logHandler.apply(this,r([this,Ze.ERROR],xt))},We}();function de(We){Q.forEach(function(xt){xt.setLogLevel(We)})}function qe(We,xt){for(var rt=function(Ft){var fn=null;xt&&xt.level&&(fn=wt[xt.level]),Ft.userLogHandler=null===We?null:function(vn,qt){for(var Re=[],Mt=2;Mt<arguments.length;Mt++)Re[Mt-2]=arguments[Mt];var Ut=Re.map(function(kn){if(null==kn)return null;if("string"==typeof kn)return kn;if("number"==typeof kn||"boolean"==typeof kn)return kn.toString();if(kn instanceof Error)return kn.message;try{return JSON.stringify(kn)}catch(Gn){return null}}).filter(function(kn){return kn}).join(" ");qt>=(null!=fn?fn:vn.logLevel)&&We({level:Ze[qt].toLowerCase(),message:Ut,args:Re,type:vn.name})}},kt=0,cn=Q;kt<cn.length;kt++)rt(cn[kt])}},492:(oi,$t,me)=>{"use strict";me.r($t),me.d($t,{CONSTANTS:()=>ie,Deferred:()=>rt,ErrorFactory:()=>Tn,FirebaseError:()=>it,MAX_VALUE_MILLIS:()=>Sa,RANDOM_FACTOR:()=>Oi,Sha1:()=>Mo,areCookiesEnabled:()=>be,assert:()=>Q,assertionError:()=>Ze,async:()=>rr,base64:()=>et,base64Decode:()=>de,base64Encode:()=>yt,base64urlEncodeWithoutPadding:()=>ht,calculateBackoffMillis:()=>pl,contains:()=>Qr,createMockUserToken:()=>kt,createSubscribe:()=>Bn,decode:()=>Wn,deepCopy:()=>qe,deepEqual:()=>vr,deepExtend:()=>We,errorPrefix:()=>da,extractQuerystring:()=>vi,getGlobal:()=>At,getModularInstance:()=>yi,getUA:()=>cn,isAdmin:()=>qr,isBrowser:()=>fn,isBrowserExtension:()=>vn,isElectron:()=>Re,isEmpty:()=>qo,isIE:()=>Mt,isIndexedDBAvailable:()=>Xe,isMobileCordova:()=>ot,isNode:()=>Ft,isNodeSdk:()=>kn,isReactNative:()=>qt,isSafari:()=>Gn,isUWP:()=>Ut,isValidFormat:()=>ii,isValidTimestamp:()=>dn,issuedAtTime:()=>mi,jsonEval:()=>Nn,map:()=>Zi,ordinal:()=>Xs,querystring:()=>vc,querystringDecode:()=>Ki,safeGet:()=>Hr,stringLength:()=>si,stringToByteArray:()=>ar,stringify:()=>pn,validateArgCount:()=>Ks,validateCallback:()=>yo,validateContextObject:()=>bd,validateIndexedDBOpenable:()=>Ot,validateNamespace:()=>Lo});var r=me(655),ie={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},Q=function(Pe,ke){if(!Pe)throw Ze(ke)},Ze=function(Pe){return new Error("Firebase Database ("+ie.SDK_VERSION+") INTERNAL ASSERT FAILED: "+Pe)},wt=function(Pe){for(var ke=[],at=0,_e=0;_e<Pe.length;_e++){var ge=Pe.charCodeAt(_e);ge<128?ke[at++]=ge:ge<2048?(ke[at++]=ge>>6|192,ke[at++]=63&ge|128):55296==(64512&ge)&&_e+1<Pe.length&&56320==(64512&Pe.charCodeAt(_e+1))?(ge=65536+((1023&ge)<<10)+(1023&Pe.charCodeAt(++_e)),ke[at++]=ge>>18|240,ke[at++]=ge>>12&63|128,ke[at++]=ge>>6&63|128,ke[at++]=63&ge|128):(ke[at++]=ge>>12|224,ke[at++]=ge>>6&63|128,ke[at++]=63&ge|128)}return ke},et={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(Pe,ke){if(!Array.isArray(Pe))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var at=ke?this.byteToCharMapWebSafe_:this.byteToCharMap_,_e=[],ge=0;ge<Pe.length;ge+=3){var Ve=Pe[ge],mt=ge+1<Pe.length,Wt=mt?Pe[ge+1]:0,ln=ge+2<Pe.length,Vn=ln?Pe[ge+2]:0,or=(15&Wt)<<2|Vn>>6,bo=63&Vn;ln||(bo=64,mt||(or=64)),_e.push(at[Ve>>2],at[(3&Ve)<<4|Wt>>4],at[or],at[bo])}return _e.join("")},encodeString:function(Pe,ke){return this.HAS_NATIVE_SUPPORT&&!ke?btoa(Pe):this.encodeByteArray(wt(Pe),ke)},decodeString:function(Pe,ke){return this.HAS_NATIVE_SUPPORT&&!ke?atob(Pe):function(Pe){for(var ke=[],at=0,_e=0;at<Pe.length;){var ge=Pe[at++];if(ge<128)ke[_e++]=String.fromCharCode(ge);else if(ge>191&&ge<224){var Ve=Pe[at++];ke[_e++]=String.fromCharCode((31&ge)<<6|63&Ve)}else if(ge>239&&ge<365){var ln=((7&ge)<<18|(63&(Ve=Pe[at++]))<<12|(63&(mt=Pe[at++]))<<6|63&Pe[at++])-65536;ke[_e++]=String.fromCharCode(55296+(ln>>10)),ke[_e++]=String.fromCharCode(56320+(1023&ln))}else{Ve=Pe[at++];var mt=Pe[at++];ke[_e++]=String.fromCharCode((15&ge)<<12|(63&Ve)<<6|63&mt)}}return ke.join("")}(this.decodeStringToByteArray(Pe,ke))},decodeStringToByteArray:function(Pe,ke){this.init_();for(var at=ke?this.charToByteMapWebSafe_:this.charToByteMap_,_e=[],ge=0;ge<Pe.length;){var Ve=at[Pe.charAt(ge++)],Wt=ge<Pe.length?at[Pe.charAt(ge)]:0,Vn=++ge<Pe.length?at[Pe.charAt(ge)]:64,Cr=++ge<Pe.length?at[Pe.charAt(ge)]:64;if(++ge,null==Ve||null==Wt||null==Vn||null==Cr)throw Error();_e.push(Ve<<2|Wt>>4),64!==Vn&&(_e.push(Wt<<4&240|Vn>>2),64!==Cr&&_e.push(Vn<<6&192|Cr))}return _e},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var Pe=0;Pe<this.ENCODED_VALS.length;Pe++)this.byteToCharMap_[Pe]=this.ENCODED_VALS.charAt(Pe),this.charToByteMap_[this.byteToCharMap_[Pe]]=Pe,this.byteToCharMapWebSafe_[Pe]=this.ENCODED_VALS_WEBSAFE.charAt(Pe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Pe]]=Pe,Pe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Pe)]=Pe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Pe)]=Pe)}}},yt=function(Pe){var ke=wt(Pe);return et.encodeByteArray(ke,!0)},ht=function(Pe){return yt(Pe).replace(/\./g,"")},de=function(Pe){try{return et.decodeString(Pe,!0)}catch(ke){console.error("base64Decode failed: ",ke)}return null};function qe(Pe){return We(void 0,Pe)}function We(Pe,ke){if(!(ke instanceof Object))return ke;switch(ke.constructor){case Date:return new Date(ke.getTime());case Object:void 0===Pe&&(Pe={});break;case Array:Pe=[];break;default:return ke}for(var _e in ke)!ke.hasOwnProperty(_e)||!xt(_e)||(Pe[_e]=We(Pe[_e],ke[_e]));return Pe}function xt(Pe){return"__proto__"!==Pe}var rt=function(){function Pe(){var ke=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(at,_e){ke.resolve=at,ke.reject=_e})}return Pe.prototype.wrapCallback=function(ke){var at=this;return function(_e,ge){_e?at.reject(_e):at.resolve(ge),"function"==typeof ke&&(at.promise.catch(function(){}),1===ke.length?ke(_e):ke(_e,ge))}},Pe}();function kt(Pe,ke){if(Pe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var _e=ke||"demo-project",ge=Pe.iat||0,Ve=Pe.sub||Pe.user_id;if(!Ve)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var mt=(0,r.__assign)({iss:"https://securetoken.google.com/"+_e,aud:_e,iat:ge,exp:ge+3600,auth_time:ge,sub:Ve,user_id:Ve,firebase:{sign_in_provider:"custom",identities:{}}},Pe);return[ht(JSON.stringify({alg:"none",type:"JWT"})),ht(JSON.stringify(mt)),""].join(".")}function cn(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ot(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function Ft(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Pe){return!1}}function fn(){return"object"==typeof self&&self.self===self}function vn(){var Pe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Pe&&void 0!==Pe.id}function qt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Re(){return cn().indexOf("Electron/")>=0}function Mt(){var Pe=cn();return Pe.indexOf("MSIE ")>=0||Pe.indexOf("Trident/")>=0}function Ut(){return cn().indexOf("MSAppHost/")>=0}function kn(){return!0===ie.NODE_CLIENT||!0===ie.NODE_ADMIN}function Gn(){return!Ft()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Xe(){return"indexedDB"in self&&null!=indexedDB}function Ot(){return new Promise(function(Pe,ke){try{var at=!0,_e="validate-browser-context-for-indexeddb-analytics-module",ge=self.indexedDB.open(_e);ge.onsuccess=function(){ge.result.close(),at||self.indexedDB.deleteDatabase(_e),Pe(!0)},ge.onupgradeneeded=function(){at=!1},ge.onerror=function(){var Ve;ke((null===(Ve=ge.error)||void 0===Ve?void 0:Ve.message)||"")}}catch(Ve){ke(Ve)}})}function be(){return!(!navigator||!navigator.cookieEnabled)}function At(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}var it=function(Pe){function ke(at,_e,ge){var Ve=Pe.call(this,_e)||this;return Ve.code=at,Ve.customData=ge,Ve.name="FirebaseError",Object.setPrototypeOf(Ve,ke.prototype),Error.captureStackTrace&&Error.captureStackTrace(Ve,Tn.prototype.create),Ve}return(0,r.__extends)(ke,Pe),ke}(Error),Tn=function(){function Pe(ke,at,_e){this.service=ke,this.serviceName=at,this.errors=_e}return Pe.prototype.create=function(ke){for(var at=[],_e=1;_e<arguments.length;_e++)at[_e-1]=arguments[_e];var ge=at[0]||{},Ve=this.service+"/"+ke,mt=this.errors[ke],Wt=mt?gn(mt,ge):"Error",ln=this.serviceName+": "+Wt+" ("+Ve+").",Vn=new it(Ve,ln,ge);return Vn},Pe}();function gn(Pe,ke){return Pe.replace(di,function(at,_e){var ge=ke[_e];return null!=ge?String(ge):"<"+_e+"?>"})}var di=/\{\$([^}]+)}/g;function Nn(Pe){return JSON.parse(Pe)}function pn(Pe){return JSON.stringify(Pe)}var Wn=function(Pe){var ke={},at={},_e={},ge="";try{var Ve=Pe.split(".");ke=Nn(de(Ve[0])||""),at=Nn(de(Ve[1])||""),ge=Ve[2],_e=at.d||{},delete at.d}catch(mt){}return{header:ke,claims:at,data:_e,signature:ge}},dn=function(Pe){var ke=Wn(Pe).claims,at=Math.floor((new Date).getTime()/1e3),_e=0,ge=0;return"object"==typeof ke&&(ke.hasOwnProperty("nbf")?_e=ke.nbf:ke.hasOwnProperty("iat")&&(_e=ke.iat),ge=ke.hasOwnProperty("exp")?ke.exp:_e+86400),!!at&&!!_e&&!!ge&&at>=_e&&at<=ge},mi=function(Pe){var ke=Wn(Pe).claims;return"object"==typeof ke&&ke.hasOwnProperty("iat")?ke.iat:null},ii=function(Pe){var at=Wn(Pe).claims;return!!at&&"object"==typeof at&&at.hasOwnProperty("iat")},qr=function(Pe){var ke=Wn(Pe).claims;return"object"==typeof ke&&!0===ke.admin};function Qr(Pe,ke){return Object.prototype.hasOwnProperty.call(Pe,ke)}function Hr(Pe,ke){if(Object.prototype.hasOwnProperty.call(Pe,ke))return Pe[ke]}function qo(Pe){for(var ke in Pe)if(Object.prototype.hasOwnProperty.call(Pe,ke))return!1;return!0}function Zi(Pe,ke,at){var _e={};for(var ge in Pe)Object.prototype.hasOwnProperty.call(Pe,ge)&&(_e[ge]=ke.call(at,Pe[ge],ge,Pe));return _e}function vr(Pe,ke){if(Pe===ke)return!0;for(var at=Object.keys(Pe),_e=Object.keys(ke),ge=0,Ve=at;ge<Ve.length;ge++){if(!_e.includes(mt=Ve[ge]))return!1;var Wt=Pe[mt],ln=ke[mt];if(ua(Wt)&&ua(ln)){if(!vr(Wt,ln))return!1}else if(Wt!==ln)return!1}for(var Vn=0,Ri=_e;Vn<Ri.length;Vn++){var mt;if(!at.includes(mt=Ri[Vn]))return!1}return!0}function ua(Pe){return null!==Pe&&"object"==typeof Pe}function vc(Pe){for(var ke=[],at=function(ln,Vn){Array.isArray(Vn)?Vn.forEach(function(Ri){ke.push(encodeURIComponent(ln)+"="+encodeURIComponent(Ri))}):ke.push(encodeURIComponent(ln)+"="+encodeURIComponent(Vn))},_e=0,ge=Object.entries(Pe);_e<ge.length;_e++){var Ve=ge[_e];at(Ve[0],Ve[1])}return ke.length?"&"+ke.join("&"):""}function Ki(Pe){var ke={};return Pe.replace(/^\?/,"").split("&").forEach(function(_e){if(_e){var ge=_e.split("="),mt=ge[1];ke[decodeURIComponent(ge[0])]=decodeURIComponent(mt)}}),ke}function vi(Pe){var ke=Pe.indexOf("?");if(!ke)return"";var at=Pe.indexOf("#",ke);return Pe.substring(ke,at>0?at:void 0)}var Mo=function(){function Pe(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var ke=1;ke<this.blockSize;++ke)this.pad_[ke]=0;this.reset()}return Pe.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},Pe.prototype.compress_=function(ke,at){at||(at=0);var _e=this.W_;if("string"==typeof ke)for(var ge=0;ge<16;ge++)_e[ge]=ke.charCodeAt(at)<<24|ke.charCodeAt(at+1)<<16|ke.charCodeAt(at+2)<<8|ke.charCodeAt(at+3),at+=4;else for(ge=0;ge<16;ge++)_e[ge]=ke[at]<<24|ke[at+1]<<16|ke[at+2]<<8|ke[at+3],at+=4;for(ge=16;ge<80;ge++)_e[ge]=4294967295&((Ve=_e[ge-3]^_e[ge-8]^_e[ge-14]^_e[ge-16])<<1|Ve>>>31);var Cr,or,mt=this.chain_[0],Wt=this.chain_[1],ln=this.chain_[2],Vn=this.chain_[3],Ri=this.chain_[4];for(ge=0;ge<80;ge++){ge<40?ge<20?(Cr=Vn^Wt&(ln^Vn),or=1518500249):(Cr=Wt^ln^Vn,or=1859775393):ge<60?(Cr=Wt&ln|Vn&(Wt|ln),or=2400959708):(Cr=Wt^ln^Vn,or=3395469782);var Ve=(mt<<5|mt>>>27)+Cr+Ri+or+_e[ge]&4294967295;Ri=Vn,Vn=ln,ln=4294967295&(Wt<<30|Wt>>>2),Wt=mt,mt=Ve}this.chain_[0]=this.chain_[0]+mt&4294967295,this.chain_[1]=this.chain_[1]+Wt&4294967295,this.chain_[2]=this.chain_[2]+ln&4294967295,this.chain_[3]=this.chain_[3]+Vn&4294967295,this.chain_[4]=this.chain_[4]+Ri&4294967295},Pe.prototype.update=function(ke,at){if(null!=ke){void 0===at&&(at=ke.length);for(var _e=at-this.blockSize,ge=0,Ve=this.buf_,mt=this.inbuf_;ge<at;){if(0===mt)for(;ge<=_e;)this.compress_(ke,ge),ge+=this.blockSize;if("string"==typeof ke){for(;ge<at;)if(Ve[mt]=ke.charCodeAt(ge),++ge,++mt===this.blockSize){this.compress_(Ve),mt=0;break}}else for(;ge<at;)if(Ve[mt]=ke[ge],++ge,++mt===this.blockSize){this.compress_(Ve),mt=0;break}}this.inbuf_=mt,this.total_+=at}},Pe.prototype.digest=function(){var ke=[],at=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var _e=this.blockSize-1;_e>=56;_e--)this.buf_[_e]=255&at,at/=256;this.compress_(this.buf_);var ge=0;for(_e=0;_e<5;_e++)for(var Ve=24;Ve>=0;Ve-=8)ke[ge]=this.chain_[_e]>>Ve&255,++ge;return ke},Pe}();function Bn(Pe,ke){var at=new Jr(Pe,ke);return at.subscribe.bind(at)}var Jr=function(){function Pe(ke,at){var _e=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=at,this.task.then(function(){ke(_e)}).catch(function(ge){_e.error(ge)})}return Pe.prototype.next=function(ke){this.forEachObserver(function(at){at.next(ke)})},Pe.prototype.error=function(ke){this.forEachObserver(function(at){at.error(ke)}),this.close(ke)},Pe.prototype.complete=function(){this.forEachObserver(function(ke){ke.complete()}),this.close()},Pe.prototype.subscribe=function(ke,at,_e){var Ve,ge=this;if(void 0===ke&&void 0===at&&void 0===_e)throw new Error("Missing Observer.");Ve=function wr(Pe,ke){if("object"!=typeof Pe||null===Pe)return!1;for(var at=0,_e=ke;at<_e.length;at++){var ge=_e[at];if(ge in Pe&&"function"==typeof Pe[ge])return!0}return!1}(ke,["next","error","complete"])?ke:{next:ke,error:at,complete:_e},void 0===Ve.next&&(Ve.next=Rr),void 0===Ve.error&&(Ve.error=Rr),void 0===Ve.complete&&(Ve.complete=Rr);var mt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{ge.finalError?Ve.error(ge.finalError):Ve.complete()}catch(Wt){}}),this.observers.push(Ve),mt},Pe.prototype.unsubscribeOne=function(ke){void 0===this.observers||void 0===this.observers[ke]||(delete this.observers[ke],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},Pe.prototype.forEachObserver=function(ke){if(!this.finalized)for(var at=0;at<this.observers.length;at++)this.sendOne(at,ke)},Pe.prototype.sendOne=function(ke,at){var _e=this;this.task.then(function(){if(void 0!==_e.observers&&void 0!==_e.observers[ke])try{at(_e.observers[ke])}catch(ge){"undefined"!=typeof console&&console.error&&console.error(ge)}})},Pe.prototype.close=function(ke){var at=this;this.finalized||(this.finalized=!0,void 0!==ke&&(this.finalError=ke),this.task.then(function(){at.observers=void 0,at.onNoObservers=void 0}))},Pe}();function rr(Pe,ke){return function(){for(var at=[],_e=0;_e<arguments.length;_e++)at[_e]=arguments[_e];Promise.resolve(!0).then(function(){Pe.apply(void 0,at)}).catch(function(ge){ke&&ke(ge)})}}function Rr(){}var Ks=function(Pe,ke,at,_e){var ge;if(_e<ke?ge="at least "+ke:_e>at&&(ge=0===at?"none":"no more than "+at),ge)throw new Error(Pe+" failed: Was called with "+_e+(1===_e?" argument.":" arguments.")+" Expects "+ge+".")};function da(Pe,ke){return Pe+" failed: "+ke+" argument "}function Lo(Pe,ke,at){if((!at||ke)&&"string"!=typeof ke)throw new Error(da(Pe,"namespace")+"must be a valid firebase namespace.")}function yo(Pe,ke,at,_e){if((!_e||at)&&"function"!=typeof at)throw new Error(da(Pe,ke)+"must be a valid function.")}function bd(Pe,ke,at,_e){if((!_e||at)&&("object"!=typeof at||null===at))throw new Error(da(Pe,ke)+"must be a valid context object.")}var ar=function(Pe){for(var ke=[],at=0,_e=0;_e<Pe.length;_e++){var ge=Pe.charCodeAt(_e);if(ge>=55296&&ge<=56319){var Ve=ge-55296;_e++,Q(_e<Pe.length,"Surrogate pair missing trail surrogate."),ge=65536+(Ve<<10)+(Pe.charCodeAt(_e)-56320)}ge<128?ke[at++]=ge:ge<2048?(ke[at++]=ge>>6|192,ke[at++]=63&ge|128):ge<65536?(ke[at++]=ge>>12|224,ke[at++]=ge>>6&63|128,ke[at++]=63&ge|128):(ke[at++]=ge>>18|240,ke[at++]=ge>>12&63|128,ke[at++]=ge>>6&63|128,ke[at++]=63&ge|128)}return ke},si=function(Pe){for(var ke=0,at=0;at<Pe.length;at++){var _e=Pe.charCodeAt(at);_e<128?ke++:_e<2048?ke+=2:_e>=55296&&_e<=56319?(ke+=4,at++):ke+=3}return ke},Sa=144e5,Oi=.5;function pl(Pe,ke,at){void 0===ke&&(ke=1e3),void 0===at&&(at=2);var _e=ke*Math.pow(at,Pe),ge=Math.round(Oi*_e*(Math.random()-.5)*2);return Math.min(Sa,_e+ge)}function Xs(Pe){return Number.isFinite(Pe)?Pe+function Lr(Pe){var ke=(Pe=Math.abs(Pe))%100;if(ke>=10&&ke<=20)return"th";var at=Pe%10;return 1===at?"st":2===at?"nd":3===at?"rd":"th"}(Pe):""+Pe}function yi(Pe){return Pe&&Pe._delegate?Pe._delegate:Pe}},8162:(oi,$t,me)=>{"use strict";var r=me(5e3);let ie=null;function Q(){return ie}const et=new r.OlP("DocumentToken");let yt=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:function(){return function ht(){return(0,r.LFG)(qe)}()},providedIn:"platform"}),t})();const de=new r.OlP("Location Initialized");let qe=(()=>{class t extends yt{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Q().getBaseHref(this._doc)}onPopState(e){const i=Q().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=Q().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,o){We()?this._history.pushState(e,i,o):this.location.hash=o}replaceState(e,i,o){We()?this._history.replaceState(e,i,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(et))},t.\u0275prov=r.Yz7({token:t,factory:function(){return function xt(){return new qe((0,r.LFG)(et))}()},providedIn:"platform"}),t})();function We(){return!!window.history.pushState}function rt(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function kt(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function cn(t){return t&&"?"!==t[0]?"?"+t:t}let ot=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:function(){return function Ft(t){const n=(0,r.LFG)(et).location;return new vn((0,r.LFG)(yt),n&&n.origin||"")}()},providedIn:"root"}),t})();const fn=new r.OlP("appBaseHref");let vn=(()=>{class t extends ot{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return rt(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+cn(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${i}${o}`:i}pushState(e,i,o,s){const a=this.prepareExternalUrl(o+cn(s));this._platformLocation.pushState(e,i,a)}replaceState(e,i,o,s){const a=this.prepareExternalUrl(o+cn(s));this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,o;null===(o=(i=this._platformLocation).historyGo)||void 0===o||o.call(i,e)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(yt),r.LFG(fn,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),qt=(()=>{class t extends ot{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=rt(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,o,s){let a=this.prepareExternalUrl(o+cn(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(e,i,a)}replaceState(e,i,o,s){let a=this.prepareExternalUrl(o+cn(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,o;null===(o=(i=this._platformLocation).historyGo)||void 0===o||o.call(i,e)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(yt),r.LFG(fn,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),Re=(()=>{class t{constructor(e,i){this._subject=new r.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const o=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=kt(kn(o)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+cn(i))}normalize(e){return t.stripTrailingSlash(function Ut(t,n){return t&&n.startsWith(t)?n.substring(t.length):n}(this._baseHref,kn(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",o=null){this._platformStrategy.pushState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+cn(i)),o)}replaceState(e,i="",o=null){this._platformStrategy.replaceState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+cn(i)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,o;null===(o=(i=this._platformStrategy).historyGo)||void 0===o||o.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(o=>o(e,i))}subscribe(e,i,o){return this._subject.subscribe({next:e,error:i,complete:o})}}return t.normalizeQueryParams=cn,t.joinWithSlash=rt,t.stripTrailingSlash=kt,t.\u0275fac=function(e){return new(e||t)(r.LFG(ot),r.LFG(yt))},t.\u0275prov=r.Yz7({token:t,factory:function(){return function Mt(){return new Re((0,r.LFG)(ot),(0,r.LFG)(yt))}()},providedIn:"root"}),t})();function kn(t){return t.replace(/\/index.html$/,"")}var Xe=(()=>((Xe=Xe||{})[Xe.Decimal=0]="Decimal",Xe[Xe.Percent=1]="Percent",Xe[Xe.Currency=2]="Currency",Xe[Xe.Scientific=3]="Scientific",Xe))(),be=(()=>((be=be||{})[be.Format=0]="Format",be[be.Standalone=1]="Standalone",be))(),At=(()=>((At=At||{})[At.Narrow=0]="Narrow",At[At.Abbreviated=1]="Abbreviated",At[At.Wide=2]="Wide",At[At.Short=3]="Short",At))(),Kt=(()=>((Kt=Kt||{})[Kt.Short=0]="Short",Kt[Kt.Medium=1]="Medium",Kt[Kt.Long=2]="Long",Kt[Kt.Full=3]="Full",Kt))(),it=(()=>((it=it||{})[it.Decimal=0]="Decimal",it[it.Group=1]="Group",it[it.List=2]="List",it[it.PercentSign=3]="PercentSign",it[it.PlusSign=4]="PlusSign",it[it.MinusSign=5]="MinusSign",it[it.Exponential=6]="Exponential",it[it.SuperscriptingExponent=7]="SuperscriptingExponent",it[it.PerMille=8]="PerMille",it[it.Infinity=9]="Infinity",it[it.NaN=10]="NaN",it[it.TimeSeparator=11]="TimeSeparator",it[it.CurrencyDecimal=12]="CurrencyDecimal",it[it.CurrencyGroup=13]="CurrencyGroup",it))();function ii(t,n){return rr((0,r.cg1)(t)[r.wAp.DateFormat],n)}function qr(t,n){return rr((0,r.cg1)(t)[r.wAp.TimeFormat],n)}function Qr(t,n){return rr((0,r.cg1)(t)[r.wAp.DateTimeFormat],n)}function Hr(t,n){const e=(0,r.cg1)(t),i=e[r.wAp.NumberSymbols][n];if(void 0===i){if(n===it.CurrencyDecimal)return e[r.wAp.NumberSymbols][it.Decimal];if(n===it.CurrencyGroup)return e[r.wAp.NumberSymbols][it.Group]}return i}function vi(t){if(!t[r.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[r.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function rr(t,n){for(let e=n;e>-1;e--)if(void 0!==t[e])return t[e];throw new Error("Locale data API: locale data undefined")}function wr(t){const[n,e]=t.split(":");return{hours:+n,minutes:+e}}const Lo=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,yo={},bd=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ar=(()=>((ar=ar||{})[ar.Short=0]="Short",ar[ar.ShortGMT=1]="ShortGMT",ar[ar.Long=2]="Long",ar[ar.Extended=3]="Extended",ar))(),si=(()=>((si=si||{})[si.FullYear=0]="FullYear",si[si.Month=1]="Month",si[si.Date=2]="Date",si[si.Hours=3]="Hours",si[si.Minutes=4]="Minutes",si[si.Seconds=5]="Seconds",si[si.FractionalSeconds=6]="FractionalSeconds",si[si.Day=7]="Day",si))(),Ci=(()=>((Ci=Ci||{})[Ci.DayPeriods=0]="DayPeriods",Ci[Ci.Days=1]="Days",Ci[Ci.Months=2]="Months",Ci[Ci.Eras=3]="Eras",Ci))();function Dr(t,n,e,i){let o=function yc(t){if(Gr(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[o,s=1,a=1]=t.split("-").map(d=>+d);return Sa(o,s-1,a)}const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let i;if(i=t.match(Lo))return function Ho(t){const n=new Date(0);let e=0,i=0;const o=t[8]?n.setUTCFullYear:n.setFullYear,s=t[8]?n.setUTCHours:n.setHours;t[9]&&(e=Number(t[9]+t[10]),i=Number(t[9]+t[11])),o.call(n,Number(t[1]),Number(t[2])-1,Number(t[3]));const a=Number(t[4]||0)-e,d=Number(t[5]||0)-i,f=Number(t[6]||0),v=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return s.call(n,a,d,f,v),n}(i)}const n=new Date(t);if(!Gr(n))throw new Error(`Unable to convert "${t}" into a date`);return n}(t);n=Oi(e,n)||n;let d,a=[];for(;n;){if(d=bd.exec(n),!d){a.push(n);break}{a=a.concat(d.slice(1));const w=a.pop();if(!w)break;n=w}}let f=o.getTimezoneOffset();i&&(f=or(i,f),o=function Da(t,n,e){const i=e?-1:1,o=t.getTimezoneOffset();return function bo(t,n){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+n),t}(t,i*(or(n,o)-o))}(o,i,!0));let v="";return a.forEach(w=>{const x=function Cr(t){if(Ri[t])return Ri[t];let n;switch(t){case"G":case"GG":case"GGG":n=ke(Ci.Eras,At.Abbreviated);break;case"GGGG":n=ke(Ci.Eras,At.Wide);break;case"GGGGG":n=ke(Ci.Eras,At.Narrow);break;case"y":n=yi(si.FullYear,1,0,!1,!0);break;case"yy":n=yi(si.FullYear,2,0,!0,!0);break;case"yyy":n=yi(si.FullYear,3,0,!1,!0);break;case"yyyy":n=yi(si.FullYear,4,0,!1,!0);break;case"Y":n=Vn(1);break;case"YY":n=Vn(2,!0);break;case"YYY":n=Vn(3);break;case"YYYY":n=Vn(4);break;case"M":case"L":n=yi(si.Month,1,1);break;case"MM":case"LL":n=yi(si.Month,2,1);break;case"MMM":n=ke(Ci.Months,At.Abbreviated);break;case"MMMM":n=ke(Ci.Months,At.Wide);break;case"MMMMM":n=ke(Ci.Months,At.Narrow);break;case"LLL":n=ke(Ci.Months,At.Abbreviated,be.Standalone);break;case"LLLL":n=ke(Ci.Months,At.Wide,be.Standalone);break;case"LLLLL":n=ke(Ci.Months,At.Narrow,be.Standalone);break;case"w":n=ln(1);break;case"ww":n=ln(2);break;case"W":n=ln(1,!0);break;case"d":n=yi(si.Date,1);break;case"dd":n=yi(si.Date,2);break;case"c":case"cc":n=yi(si.Day,1);break;case"ccc":n=ke(Ci.Days,At.Abbreviated,be.Standalone);break;case"cccc":n=ke(Ci.Days,At.Wide,be.Standalone);break;case"ccccc":n=ke(Ci.Days,At.Narrow,be.Standalone);break;case"cccccc":n=ke(Ci.Days,At.Short,be.Standalone);break;case"E":case"EE":case"EEE":n=ke(Ci.Days,At.Abbreviated);break;case"EEEE":n=ke(Ci.Days,At.Wide);break;case"EEEEE":n=ke(Ci.Days,At.Narrow);break;case"EEEEEE":n=ke(Ci.Days,At.Short);break;case"a":case"aa":case"aaa":n=ke(Ci.DayPeriods,At.Abbreviated);break;case"aaaa":n=ke(Ci.DayPeriods,At.Wide);break;case"aaaaa":n=ke(Ci.DayPeriods,At.Narrow);break;case"b":case"bb":case"bbb":n=ke(Ci.DayPeriods,At.Abbreviated,be.Standalone,!0);break;case"bbbb":n=ke(Ci.DayPeriods,At.Wide,be.Standalone,!0);break;case"bbbbb":n=ke(Ci.DayPeriods,At.Narrow,be.Standalone,!0);break;case"B":case"BB":case"BBB":n=ke(Ci.DayPeriods,At.Abbreviated,be.Format,!0);break;case"BBBB":n=ke(Ci.DayPeriods,At.Wide,be.Format,!0);break;case"BBBBB":n=ke(Ci.DayPeriods,At.Narrow,be.Format,!0);break;case"h":n=yi(si.Hours,1,-12);break;case"hh":n=yi(si.Hours,2,-12);break;case"H":n=yi(si.Hours,1);break;case"HH":n=yi(si.Hours,2);break;case"m":n=yi(si.Minutes,1);break;case"mm":n=yi(si.Minutes,2);break;case"s":n=yi(si.Seconds,1);break;case"ss":n=yi(si.Seconds,2);break;case"S":n=yi(si.FractionalSeconds,1);break;case"SS":n=yi(si.FractionalSeconds,2);break;case"SSS":n=yi(si.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=_e(ar.Short);break;case"ZZZZZ":n=_e(ar.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=_e(ar.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=_e(ar.Long);break;default:return null}return Ri[t]=n,n}(w);v+=x?x(o,e,f):"''"===w?"'":w.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),v}function Sa(t,n,e){const i=new Date(0);return i.setFullYear(t,n,e),i.setHours(0,0,0),i}function Oi(t,n){const e=function gn(t){return(0,r.cg1)(t)[r.wAp.LocaleId]}(t);if(yo[e]=yo[e]||{},yo[e][n])return yo[e][n];let i="";switch(n){case"shortDate":i=ii(t,Kt.Short);break;case"mediumDate":i=ii(t,Kt.Medium);break;case"longDate":i=ii(t,Kt.Long);break;case"fullDate":i=ii(t,Kt.Full);break;case"shortTime":i=qr(t,Kt.Short);break;case"mediumTime":i=qr(t,Kt.Medium);break;case"longTime":i=qr(t,Kt.Long);break;case"fullTime":i=qr(t,Kt.Full);break;case"short":const o=Oi(t,"shortTime"),s=Oi(t,"shortDate");i=pl(Qr(t,Kt.Short),[o,s]);break;case"medium":const a=Oi(t,"mediumTime"),d=Oi(t,"mediumDate");i=pl(Qr(t,Kt.Medium),[a,d]);break;case"long":const f=Oi(t,"longTime"),v=Oi(t,"longDate");i=pl(Qr(t,Kt.Long),[f,v]);break;case"full":const w=Oi(t,"fullTime"),x=Oi(t,"fullDate");i=pl(Qr(t,Kt.Full),[w,x])}return i&&(yo[e][n]=i),i}function pl(t,n){return n&&(t=t.replace(/\{([^}]+)}/g,function(e,i){return null!=n&&i in n?n[i]:e})),t}function Xs(t,n,e="-",i,o){let s="";(t<0||o&&t<=0)&&(o?t=1-t:(t=-t,s=e));let a=String(t);for(;a.length<n;)a="0"+a;return i&&(a=a.substr(a.length-n)),s+a}function yi(t,n,e=0,i=!1,o=!1){return function(s,a){let d=function Pe(t,n){switch(t){case si.FullYear:return n.getFullYear();case si.Month:return n.getMonth();case si.Date:return n.getDate();case si.Hours:return n.getHours();case si.Minutes:return n.getMinutes();case si.Seconds:return n.getSeconds();case si.FractionalSeconds:return n.getMilliseconds();case si.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,s);if((e>0||d>-e)&&(d+=e),t===si.Hours)0===d&&-12===e&&(d=12);else if(t===si.FractionalSeconds)return function Lr(t,n){return Xs(t,3).substr(0,n)}(d,n);const f=Hr(a,it.MinusSign);return Xs(d,n,f,i,o)}}function ke(t,n,e=be.Format,i=!1){return function(o,s){return function at(t,n,e,i,o,s){switch(e){case Ci.Months:return function pn(t,n,e){const i=(0,r.cg1)(t),s=rr([i[r.wAp.MonthsFormat],i[r.wAp.MonthsStandalone]],n);return rr(s,e)}(n,o,i)[t.getMonth()];case Ci.Days:return function Nn(t,n,e){const i=(0,r.cg1)(t),s=rr([i[r.wAp.DaysFormat],i[r.wAp.DaysStandalone]],n);return rr(s,e)}(n,o,i)[t.getDay()];case Ci.DayPeriods:const a=t.getHours(),d=t.getMinutes();if(s){const v=function Mo(t){const n=(0,r.cg1)(t);return vi(n),(n[r.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?wr(i):[wr(i[0]),wr(i[1])])}(n),w=function Bn(t,n,e){const i=(0,r.cg1)(t);vi(i);const s=rr([i[r.wAp.ExtraData][0],i[r.wAp.ExtraData][1]],n)||[];return rr(s,e)||[]}(n,o,i),x=v.findIndex(S=>{if(Array.isArray(S)){const[E,q]=S,H=a>=E.hours&&d>=E.minutes,ee=a<q.hours||a===q.hours&&d<q.minutes;if(E.hours<q.hours){if(H&&ee)return!0}else if(H||ee)return!0}else if(S.hours===a&&S.minutes===d)return!0;return!1});if(-1!==x)return w[x]}return function di(t,n,e){const i=(0,r.cg1)(t),s=rr([i[r.wAp.DayPeriodsFormat],i[r.wAp.DayPeriodsStandalone]],n);return rr(s,e)}(n,o,i)[a<12?0:1];case Ci.Eras:return function Wn(t,n){return rr((0,r.cg1)(t)[r.wAp.Eras],n)}(n,i)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(o,s,t,n,e,i)}}function _e(t){return function(n,e,i){const o=-1*i,s=Hr(e,it.MinusSign),a=o>0?Math.floor(o/60):Math.ceil(o/60);switch(t){case ar.Short:return(o>=0?"+":"")+Xs(a,2,s)+Xs(Math.abs(o%60),2,s);case ar.ShortGMT:return"GMT"+(o>=0?"+":"")+Xs(a,1,s);case ar.Long:return"GMT"+(o>=0?"+":"")+Xs(a,2,s)+":"+Xs(Math.abs(o%60),2,s);case ar.Extended:return 0===i?"Z":(o>=0?"+":"")+Xs(a,2,s)+":"+Xs(Math.abs(o%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}function Wt(t){return Sa(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function ln(t,n=!1){return function(e,i){let o;if(n){const s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,a=e.getDate();o=1+Math.floor((a+s)/7)}else{const s=Wt(e),a=function mt(t){const n=Sa(t,0,1).getDay();return Sa(t,0,1+(n<=4?4:11)-n)}(s.getFullYear()),d=s.getTime()-a.getTime();o=1+Math.round(d/6048e5)}return Xs(o,t,Hr(i,it.MinusSign))}}function Vn(t,n=!1){return function(e,i){return Xs(Wt(e).getFullYear(),t,Hr(i,it.MinusSign),n)}}const Ri={};function or(t,n){t=t.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(e)?n:e}function Gr(t){return t instanceof Date&&!isNaN(t.valueOf())}const Go=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function wc(t){const n=parseInt(t);if(isNaN(n))throw new Error("Invalid integer literal when parsing "+t);return n}let xr=(()=>{class t{constructor(e,i,o,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=o,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,r.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,r.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.ZZ4),r.Y36(r.aQg),r.Y36(r.SBq),r.Y36(r.Qsj))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class nr{constructor(n,e,i,o){this.$implicit=n,this.ngForOf=e,this.index=i,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let qn=(()=>{class t{constructor(e,i,o){this._viewContainer=e,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((o,s,a)=>{if(null==o.previousIndex)i.createEmbeddedView(this._template,new nr(o.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===s?void 0:s);else if(null!==s){const d=i.get(s);i.move(d,a),Si(d,o)}});for(let o=0,s=i.length;o<s;o++){const d=i.get(o).context;d.index=o,d.count=s,d.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{Si(i.get(o.currentIndex),o)})}static ngTemplateContextGuard(e,i){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(r.ZZ4))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();function Si(t,n){t.context.$implicit=n.item}let Sn=(()=>{class t{constructor(e,i){this._viewContainer=e,this._context=new Pr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){mo("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){mo("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.Rgc))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class Pr{constructor(){this.$implicit=null,this.ngIf=null}}function mo(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,r.AaK)(n)}'.`)}class Cc{constructor(n,e){this._viewContainerRef=n,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(n){n&&!this._created?this.create():!n&&this._created&&this.destroy()}}let Xr=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),Yi=(()=>{class t{constructor(e,i,o){this.ngSwitch=o,o._addCase(),this._view=new Cc(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(Xr,9))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),ki=(()=>{class t{constructor(e,i,o){o._addDefault(new Cc(e,i))}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(Xr,9))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngSwitchDefault",""]]}),t})(),ta=(()=>{class t{constructor(e,i,o){this._ngEl=e,this._differs=i,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[o,s]=e.split(".");null!=(i=null!=i&&s?`${i}${s}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,o,i):this._renderer.removeStyle(this._ngEl.nativeElement,o)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.aQg),r.Y36(r.Qsj))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})(),wd=(()=>{class t{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?i.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[r.TTD]}),t})();function $a(t,n){return new r.vHH(2100,"")}class uv{createSubscription(n,e){return n.subscribe({next:e,error:i=>{throw i}})}dispose(n){n.unsubscribe()}onDestroy(n){n.unsubscribe()}}class gl{createSubscription(n,e){return n.then(e,i=>{throw i})}dispose(n){}onDestroy(n){}}const um=new gl,ip=new uv;let uh=(()=>{class t{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,r.QGY)(e))return um;if((0,r.F4k)(e))return ip;throw $a()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.sBO,16))},t.\u0275pipe=r.Yjl({name:"async",type:t,pure:!1}),t})(),Yo=(()=>{class t{transform(e){if(null==e)return null;if("string"!=typeof e)throw $a();return e.toUpperCase()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Yjl({name:"uppercase",type:t,pure:!0}),t})();const Nu=new r.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Qa=(()=>{class t{constructor(e,i){this.locale=e,this.defaultTimezone=i}transform(e,i="mediumDate",o,s){var a;if(null==e||""===e||e!=e)return null;try{return Dr(e,i,s||this.locale,null!==(a=null!=o?o:this.defaultTimezone)&&void 0!==a?a:void 0)}catch(d){throw $a()}}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.soG,16),r.Y36(Nu,24))},t.\u0275pipe=r.Yjl({name:"date",type:t,pure:!0}),t})(),Ma=(()=>{class t{constructor(e){this._locale=e}transform(e,i,o){if(!function Cd(t){return!(null==t||""===t||t!=t)}(e))return null;o=o||this._locale;try{return function Xi(t,n,e){return function rs(t,n,e,i,o,s,a=!1){let d="",f=!1;if(isFinite(t)){let v=function bc(t){let i,o,s,a,d,n=Math.abs(t)+"",e=0;for((o=n.indexOf("."))>-1&&(n=n.replace(".","")),(s=n.search(/e/i))>0?(o<0&&(o=s),o+=+n.slice(s+1),n=n.substring(0,s)):o<0&&(o=n.length),s=0;"0"===n.charAt(s);s++);if(s===(d=n.length))i=[0],o=1;else{for(d--;"0"===n.charAt(d);)d--;for(o-=s,i=[],a=0;s<=d;s++,a++)i[a]=Number(n.charAt(s))}return o>22&&(i=i.splice(0,21),e=o-1,o=1),{digits:i,exponent:e,integerLen:o}}(t);a&&(v=function Ms(t){if(0===t.digits[0])return t;const n=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===n?t.digits.push(0,0):1===n&&t.digits.push(0),t.integerLen+=2),t}(v));let w=n.minInt,x=n.minFrac,S=n.maxFrac;if(s){const oe=s.match(Go);if(null===oe)throw new Error(`${s} is not a valid digit info`);const ve=oe[1],Fe=oe[3],Be=oe[5];null!=ve&&(w=wc(ve)),null!=Fe&&(x=wc(Fe)),null!=Be?S=wc(Be):null!=Fe&&x>S&&(S=x)}!function Zo(t,n,e){if(n>e)throw new Error(`The minimum number of digits after fraction (${n}) is higher than the maximum (${e}).`);let i=t.digits,o=i.length-t.integerLen;const s=Math.min(Math.max(n,o),e);let a=s+t.integerLen,d=i[a];if(a>0){i.splice(Math.max(t.integerLen,a));for(let x=a;x<i.length;x++)i[x]=0}else{o=Math.max(0,o),t.integerLen=1,i.length=Math.max(1,a=s+1),i[0]=0;for(let x=1;x<a;x++)i[x]=0}if(d>=5)if(a-1<0){for(let x=0;x>a;x--)i.unshift(0),t.integerLen++;i.unshift(1),t.integerLen++}else i[a-1]++;for(;o<Math.max(0,s);o++)i.push(0);let f=0!==s;const v=n+t.integerLen,w=i.reduceRight(function(x,S,E,q){return q[E]=(S+=x)<10?S:S-10,f&&(0===q[E]&&E>=v?q.pop():f=!1),S>=10?1:0},0);w&&(i.unshift(w),t.integerLen++)}(v,x,S);let E=v.digits,q=v.integerLen;const H=v.exponent;let ee=[];for(f=E.every(oe=>!oe);q<w;q++)E.unshift(0);for(;q<0;q++)E.unshift(0);q>0?ee=E.splice(q,E.length):(ee=E,E=[0]);const $=[];for(E.length>=n.lgSize&&$.unshift(E.splice(-n.lgSize,E.length).join(""));E.length>n.gSize;)$.unshift(E.splice(-n.gSize,E.length).join(""));E.length&&$.unshift(E.join("")),d=$.join(Hr(e,i)),ee.length&&(d+=Hr(e,o)+ee.join("")),H&&(d+=Hr(e,it.Exponential)+"+"+H)}else d=Hr(e,it.Infinity);return d=t<0&&!f?n.negPre+d+n.negSuf:n.posPre+d+n.posSuf,d}(t,function Kr(t,n="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=t.split(";"),o=i[0],s=i[1],a=-1!==o.indexOf(".")?o.split("."):[o.substring(0,o.lastIndexOf("0")+1),o.substring(o.lastIndexOf("0")+1)],d=a[0],f=a[1]||"";e.posPre=d.substr(0,d.indexOf("#"));for(let w=0;w<f.length;w++){const x=f.charAt(w);"0"===x?e.minFrac=e.maxFrac=w+1:"#"===x?e.maxFrac=w+1:e.posSuf+=x}const v=d.split(",");if(e.gSize=v[1]?v[1].length:0,e.lgSize=v[2]||v[1]?(v[2]||v[1]).length:0,s){const w=o.length-e.posPre.length-e.posSuf.length,x=s.indexOf("#");e.negPre=s.substr(0,x).replace(/'/g,""),e.negSuf=s.substr(x+w).replace(/'/g,"")}else e.negPre=n+e.posPre,e.negSuf=e.posSuf;return e}(function qo(t,n){return(0,r.cg1)(t)[r.wAp.NumberFormats][n]}(n,Xe.Decimal),Hr(n,it.MinusSign)),n,it.Group,it.Decimal,e)}(function _l(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(e),o,i)}catch(s){throw $a()}}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.soG,16))},t.\u0275pipe=r.Yjl({name:"number",type:t,pure:!0}),t})();let Tc=(()=>{class t{transform(e,i,o){if(null==e)return null;if(!this.supports(e))throw $a();return e.slice(i,o)}supports(e){return"string"==typeof e||Array.isArray(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Yjl({name:"slice",type:t,pure:!1}),t})(),wo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();const ou="browser";function as(t){return t===ou}function qs(t){return"server"===t}let Vg=(()=>{class t{}return t.\u0275prov=(0,r.Yz7)({token:t,providedIn:"root",factory:()=>new hm((0,r.LFG)(et),window)}),t})();class hm{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const e=function fh(t,n){const e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let o=i.currentNode;for(;o;){const s=o.shadowRoot;if(s){const a=s.getElementById(n)||s.querySelector(`[name="${n}"]`);if(a)return a}o=i.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=n)}}scrollToElement(n){const e=n.getBoundingClientRect(),i=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],o-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=hh(this.window.history)||hh(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch(n){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(n){return!1}}}function hh(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Li extends class vl extends class jt{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function wt(t){ie||(ie=t)}(new Li)}onAndCancel(n,e,i){return n.addEventListener(e,i,!1),()=>{n.removeEventListener(e,i,!1)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function ef(){return Zr=Zr||document.querySelector("base"),Zr?Zr.getAttribute("href"):null}();return null==e?null:function Ur(t){fm=fm||document.createElement("a"),fm.setAttribute("href",t);const n=fm.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){Zr=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function ks(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const i=e.indexOf("="),[o,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(o.trim()===n)return decodeURIComponent(s)}return null}(document.cookie,n)}}let fm,Zr=null;const Is=new r.OlP("TRANSITION_ID"),xd=[{provide:r.ip1,useFactory:function pm(t,n,e){return()=>{e.get(r.CZH).donePromise.then(()=>{const i=Q(),o=n.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<o.length;s++)i.remove(o[s])})}},deps:[Is,et,r.zs3],multi:!0}];class fa{static init(){(0,r.VLi)(new fa)}addToWindow(n){r.dqk.getAngularTestability=(i,o=!0)=>{const s=n.findTestabilityInTree(i,o);if(null==s)throw new Error("Could not find testability for element.");return s},r.dqk.getAllAngularTestabilities=()=>n.getAllTestabilities(),r.dqk.getAllAngularRootElements=()=>n.getAllRootElements(),r.dqk.frameworkStabilizers||(r.dqk.frameworkStabilizers=[]),r.dqk.frameworkStabilizers.push(i=>{const o=r.dqk.getAllAngularTestabilities();let s=o.length,a=!1;const d=function(f){a=a||f,s--,0==s&&i(a)};o.forEach(function(f){f.whenStable(d)})})}findTestabilityInTree(n,e,i){if(null==e)return null;const o=n.getTestability(e);return null!=o?o:i?Q().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null}}let Hs=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const Td=new r.OlP("EventManagerPlugins");let Os=(()=>{class t{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(o=>o.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,o){return this._findPluginFor(i).addEventListener(e,i,o)}addGlobalEventListener(e,i,o){return this._findPluginFor(i).addGlobalEventListener(e,i,o)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const o=this._plugins;for(let s=0;s<o.length;s++){const a=o[s];if(a.supports(e))return this._eventNameToPlugin.set(e,a),a}throw new Error(`No event manager plugin found for event ${e}`)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Td),r.LFG(r.R0b))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class mm{constructor(n){this._doc=n}addGlobalEventListener(n,e,i){const o=Q().getGlobalEventTarget(this._doc,n);if(!o)throw new Error(`Unsupported event target ${o} for event ${e}`);return this.addEventListener(o,e,i)}}let Ac=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),i.add(o))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),au=(()=>{class t extends Ac{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,o){e.forEach(s=>{const a=this._doc.createElement("style");a.textContent=s,o.push(i.appendChild(a))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Gs),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,o)=>{this._addStylesToHost(e,o,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Gs))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(et))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();function Gs(t){Q().remove(t)}const hi={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ad=/%COMP%/g;function Gt(t,n,e){for(let i=0;i<n.length;i++){let o=n[i];Array.isArray(o)?Gt(t,o,e):(o=o.replace(Ad,t),e.push(o))}return e}function cr(t){return n=>{if("__ngUnwrap__"===n)return t;!1===t(n)&&(n.preventDefault(),n.returnValue=!1)}}let Wi=(()=>{class t{constructor(e,i,o){this.eventManager=e,this.sharedStylesHost=i,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new yl(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case r.ifc.Emulated:{let o=this.rendererByCompId.get(i.id);return o||(o=new Zl(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,o)),o.applyToHost(e),o}case 1:case r.ifc.ShadowDom:return new Uu(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const o=Gt(i.id,i.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Os),r.LFG(au),r.LFG(r.AFp))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class yl{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?document.createElementNS(hi[e]||e,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,e){n.appendChild(e)}insertBefore(n,e,i){n&&n.insertBefore(e,i)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let i="string"==typeof n?document.querySelector(n):n;if(!i)throw new Error(`The selector "${n}" did not match any elements`);return e||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,i,o){if(o){e=o+":"+e;const s=hi[o];s?n.setAttributeNS(s,e,i):n.setAttribute(e,i)}else n.setAttribute(e,i)}removeAttribute(n,e,i){if(i){const o=hi[i];o?n.removeAttributeNS(o,e):n.removeAttribute(`${i}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,i,o){o&(r.JOm.DashCase|r.JOm.Important)?n.style.setProperty(e,i,o&r.JOm.Important?"important":""):n.style[e]=i}removeStyle(n,e,i){i&r.JOm.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,i){n[e]=i}setValue(n,e){n.nodeValue=e}listen(n,e,i){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,e,cr(i)):this.eventManager.addEventListener(n,e,cr(i))}}class Zl extends yl{constructor(n,e,i,o){super(n),this.component=i;const s=Gt(o+"-"+i.id,i.styles,[]);e.addStyles(s),this.contentAttr=function _m(t){return"_ngcontent-%COMP%".replace(Ad,t)}(o+"-"+i.id),this.hostAttr=function Sc(t){return"_nghost-%COMP%".replace(Ad,t)}(o+"-"+i.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,e){const i=super.createElement(n,e);return super.setAttribute(i,this.contentAttr,""),i}}class Uu extends yl{constructor(n,e,i,o){super(n),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Gt(o.id,o.styles,[]);for(let a=0;a<s.length;a++){const d=document.createElement("style");d.textContent=s[a],this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,i){return super.insertBefore(this.nodeOrShadowRoot(n),e,i)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let Sd=(()=>{class t extends mm{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,o){return e.addEventListener(i,o,!1),()=>this.removeEventListener(e,i,o)}removeEventListener(e,i,o){return e.removeEventListener(i,o)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(et))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const cp=["alt","control","meta","shift"],Ec={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Fo={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Fs={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let ju=(()=>{class t extends mm{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,i,o){const s=t.parseEventName(i),a=t.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Q().onAndCancel(e,s.domEventName,a))}static parseEventName(e){const i=e.toLowerCase().split("."),o=i.shift();if(0===i.length||"keydown"!==o&&"keyup"!==o)return null;const s=t._normalizeKey(i.pop());let a="";if(cp.forEach(f=>{const v=i.indexOf(f);v>-1&&(i.splice(v,1),a+=f+".")}),a+=s,0!=i.length||0===s.length)return null;const d={};return d.domEventName=o,d.fullKey=a,d}static getEventFullKey(e){let i="",o=function ls(t){let n=t.key;if(null==n){if(n=t.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===t.location&&Fo.hasOwnProperty(n)&&(n=Fo[n]))}return Ec[n]||n}(e);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),cp.forEach(s=>{s!=o&&Fs[s](e)&&(i+=s+".")}),i+=o,i}static eventCallback(e,i,o){return s=>{t.getEventFullKey(s)===e&&o.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(et))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const ka=(0,r.eFA)(r._c5,"browser",[{provide:r.Lbi,useValue:ou},{provide:r.g9A,useValue:function wl(){Li.makeCurrent(),fa.init()},multi:!0},{provide:et,useFactory:function Ja(){return(0,r.RDi)(document),document},deps:[]}]),Vu=[{provide:r.zSh,useValue:"root"},{provide:r.qLn,useFactory:function wi(){return new r.qLn},deps:[]},{provide:Td,useClass:Sd,multi:!0,deps:[et,r.R0b,r.Lbi]},{provide:Td,useClass:ju,multi:!0,deps:[et]},{provide:Wi,useClass:Wi,deps:[Os,au,r.AFp]},{provide:r.FYo,useExisting:Wi},{provide:Ac,useExisting:au},{provide:au,useClass:au,deps:[et]},{provide:r.dDg,useClass:r.dDg,deps:[r.R0b]},{provide:Os,useClass:Os,deps:[Td,r.R0b]},{provide:class sr{},useClass:Hs,deps:[]}];let cs=(()=>{class t{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.AFp,useValue:e.appId},{provide:Is,useExisting:r.AFp},xd]}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(t,12))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:Vu,imports:[wo,r.hGG]}),t})();"undefined"!=typeof window&&window;let Fa=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:function(e){let i=null;return i=e?new(e||t):r.LFG(bm),i},providedIn:"root"}),t})(),bm=(()=>{class t extends Fa{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case r.q3G.NONE:return i;case r.q3G.HTML:return(0,r.qzn)(i,"HTML")?(0,r.z3N)(i):(0,r.EiD)(this._doc,String(i)).toString();case r.q3G.STYLE:return(0,r.qzn)(i,"Style")?(0,r.z3N)(i):i;case r.q3G.SCRIPT:if((0,r.qzn)(i,"Script"))return(0,r.z3N)(i);throw new Error("unsafe value used in a script context");case r.q3G.URL:return(0,r.yhl)(i),(0,r.qzn)(i,"URL")?(0,r.z3N)(i):(0,r.mCW)(String(i));case r.q3G.RESOURCE_URL:if((0,r.qzn)(i,"ResourceURL"))return(0,r.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,r.JVY)(e)}bypassSecurityTrustStyle(e){return(0,r.L6k)(e)}bypassSecurityTrustScript(e){return(0,r.eBb)(e)}bypassSecurityTrustUrl(e){return(0,r.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,r.pB0)(e)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(et))},t.\u0275prov=r.Yz7({token:t,factory:function(e){let i=null;return i=e?new e:function Ic(t){return new bm(t.get(et))}(r.LFG(r.zs3)),i},providedIn:"root"}),t})();var go=me(8996),ys=me(3269);function Dn(...t){const n=(0,ys.yG)(t);return(0,go.D)(t,n)}var Ht=me(7579);class Io extends Ht.x{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:i}=this;if(n)throw e;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}}var Co=me(8306);const{isArray:hp}=Array,{getPrototypeOf:Hu,prototype:Ed,keys:gh}=Object;function xo(t){if(1===t.length){const n=t[0];if(hp(n))return{args:n,keys:null};if(function to(t){return t&&"object"==typeof t&&Hu(t)===Ed}(n)){const e=gh(n);return{args:e.map(i=>n[i]),keys:e}}}return{args:t,keys:null}}var Yl=me(4671),un=me(4004);const{isArray:zl}=Array;function G(t){return(0,un.U)(n=>function N(t,n){return zl(n)?t(...n):t(n)}(t,n))}function j(t,n){return t.reduce((e,i,o)=>(e[i]=n[o],e),{})}var L=me(5403),Z=me(9672);function X(...t){const n=(0,ys.yG)(t),e=(0,ys.jO)(t),{args:i,keys:o}=xo(t);if(0===i.length)return(0,go.D)([],n);const s=new Co.y(function ye(t,n,e=Yl.y){return i=>{Se(n,()=>{const{length:o}=t,s=new Array(o);let a=o,d=o;for(let f=0;f<o;f++)Se(n,()=>{const v=(0,go.D)(t[f],n);let w=!1;v.subscribe((0,L.x)(i,x=>{s[f]=x,w||(w=!0,d--),d||i.next(e(s.slice()))},()=>{--a||i.complete()}))},i)},i)}}(i,n,o?a=>j(o,a):Yl.y));return e?s.pipe(G(e)):s}function Se(t,n,e){t?(0,Z.f)(e,t,n):n()}var Ye=me(576);function Lt(t,n){const e=(0,Ye.m)(t)?t:()=>t,i=o=>o.error(e());return new Co.y(n?o=>n.schedule(i,0,o):i)}const rn=(0,me(3888).d)(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});var En=me(8189);function er(...t){return function ei(){return(0,En.J)(1)}()((0,go.D)(t,(0,ys.yG)(t)))}var $i=me(8421);function Ui(t){return new Co.y(n=>{(0,$i.Xf)(t()).subscribe(n)})}var fi=me(515),Di=me(727),An=me(4482);function ao(){return(0,An.e)((t,n)=>{let e=null;t._refCount++;const i=(0,L.x)(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const o=t._connection,s=e;e=null,o&&(!s||o===s)&&o.unsubscribe(),n.unsubscribe()});t.subscribe(i),i.closed||(e=t.connect())})}class _a extends Co.y{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,An.A)(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,null==n||n.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Di.w0;const e=this.getSubject();n.add(this.source.subscribe((0,L.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Di.w0.EMPTY)}return n}refCount(){return ao()(this)}}function zo(t,n){return(0,An.e)((e,i)=>{let o=null,s=0,a=!1;const d=()=>a&&!o&&i.complete();e.subscribe((0,L.x)(i,f=>{null==o||o.unsubscribe();let v=0;const w=s++;(0,$i.Xf)(t(f,w)).subscribe(o=(0,L.x)(i,x=>i.next(n?n(f,x,w,v++):x),()=>{o=null,d()}))},()=>{a=!0,d()}))})}var Er=me(5698);function Ir(...t){const n=(0,ys.yG)(t);return(0,An.e)((e,i)=>{(n?er(t,e,n):er(t,e)).subscribe(i)})}function Gu(t,n,e,i,o){return(s,a)=>{let d=e,f=n,v=0;s.subscribe((0,L.x)(a,w=>{const x=v++;f=d?t(f,w,x):(d=!0,w),i&&a.next(f)},o&&(()=>{d&&a.next(f),a.complete()})))}}function Xa(t,n){return(0,An.e)(Gu(t,n,arguments.length>=2,!0))}function hr(t,n){return(0,An.e)((e,i)=>{let o=0;e.subscribe((0,L.x)(i,s=>t.call(n,s,o++)&&i.next(s)))})}function Na(t){return(0,An.e)((n,e)=>{let s,i=null,o=!1;i=n.subscribe((0,L.x)(e,void 0,void 0,a=>{s=(0,$i.Xf)(t(a,Na(t)(n))),i?(i.unsubscribe(),i=null,s.subscribe(e)):o=!0})),o&&(i.unsubscribe(),i=null,s.subscribe(e))})}var no=me(5577);function Wl(t,n){return(0,Ye.m)(n)?(0,no.z)(t,n,1):(0,no.z)(t,1)}function _h(t){return t<=0?()=>fi.E:(0,An.e)((n,e)=>{let i=[];n.subscribe((0,L.x)(e,o=>{i.push(o),t<i.length&&i.shift()},()=>{for(const o of i)e.next(o);e.complete()},void 0,()=>{i=null}))})}function us(t=Zg){return(0,An.e)((n,e)=>{let i=!1;n.subscribe((0,L.x)(e,o=>{i=!0,e.next(o)},()=>i?e.complete():e.error(t())))})}function Zg(){return new rn}function cf(t){return(0,An.e)((n,e)=>{let i=!1;n.subscribe((0,L.x)(e,o=>{i=!0,e.next(o)},()=>{i||e.next(t),e.complete()}))})}function fp(t,n){const e=arguments.length>=2;return i=>i.pipe(t?hr((o,s)=>t(o,s,i)):Yl.y,(0,Er.q)(1),e?cf(n):us(()=>new rn))}var Wo=me(8505);function x1(t){return(0,An.e)((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}class lu{constructor(n,e){this.id=n,this.url=e}}class Md extends lu{constructor(n,e,i="imperative",o=null){super(n,e),this.navigationTrigger=i,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class wm extends lu{constructor(n,e,i){super(n,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ns extends lu{constructor(n,e,i){super(n,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Cm extends lu{constructor(n,e,i){super(n,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Oc extends lu{constructor(n,e,i,o){super(n,e),this.urlAfterRedirects=i,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class T1 extends lu{constructor(n,e,i,o){super(n,e),this.urlAfterRedirects=i,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yg extends lu{constructor(n,e,i,o,s){super(n,e),this.urlAfterRedirects=i,this.state=o,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Rs extends lu{constructor(n,e,i,o){super(n,e),this.urlAfterRedirects=i,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xl extends lu{constructor(n,e,i,o){super(n,e),this.urlAfterRedirects=i,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pp{constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class xm{constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class mp{constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class r0{constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class o0{constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zg{constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wg{constructor(n,e,i){this.routerEvent=n,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ji="primary";class df{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ps(t){return new df(t)}const Tm="ngNavigationCancelingError";function vh(t){const n=Error("NavigationCancelingError: "+t);return n[Tm]=!0,n}function mv(t,n,e){const i=e.path.split("/");if(i.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||i.length<t.length))return null;const o={};for(let s=0;s<i.length;s++){const a=i[s],d=t[s];if(a.startsWith(":"))o[a.substring(1)]=d;else if(a!==d.path)return null}return{consumed:t.slice(0,i.length),posParams:o}}function Lc(t,n){const e=t?Object.keys(t):void 0,i=n?Object.keys(n):void 0;if(!e||!i||e.length!=i.length)return!1;let o;for(let s=0;s<e.length;s++)if(o=e[s],!yh(t[o],n[o]))return!1;return!0}function yh(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),i=[...n].sort();return e.every((o,s)=>i[s]===o)}return t===n}function a0(t){return Array.prototype.concat.apply([],t)}function cu(t){return t.length>0?t[t.length-1]:null}function Bs(t,n){for(const e in t)t.hasOwnProperty(e)&&n(t[e],e)}function Tl(t){return(0,r.CqO)(t)?t:(0,r.QGY)(t)?(0,go.D)(Promise.resolve(t)):Dn(t)}const uu={exact:function $g(t,n,e){if(!Id(t.segments,n.segments)||!kd(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children)if(!t.children[i]||!$g(t.children[i],n.children[i],e))return!1;return!0},subset:Qg},hf={exact:function _p(t,n){return Lc(t,n)},subset:function ff(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>yh(t[e],n[e]))},ignored:()=>!0};function bh(t,n,e){return uu[e.paths](t.root,n.root,e.matrixParams)&&hf[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function Qg(t,n,e){return Jg(t,n,n.segments,e)}function Jg(t,n,e,i){if(t.segments.length>e.length){const o=t.segments.slice(0,e.length);return!(!Id(o,e)||n.hasChildren()||!kd(o,e,i))}if(t.segments.length===e.length){if(!Id(t.segments,e)||!kd(t.segments,e,i))return!1;for(const o in n.children)if(!t.children[o]||!Qg(t.children[o],n.children[o],i))return!1;return!0}{const o=e.slice(0,t.segments.length),s=e.slice(t.segments.length);return!!(Id(t.segments,o)&&kd(t.segments,o,i)&&t.children[ji])&&Jg(t.children[ji],n,s,i)}}function kd(t,n,e){return n.every((i,o)=>hf[e](t[o].parameters,i.parameters))}class Zu{constructor(n,e,i){this.root=n,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ps(this.queryParams)),this._queryParamMap}toString(){return mf.serialize(this)}}class Vi{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Bs(e,(i,o)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Od(this)}}class $o{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ps(this.parameters)),this._parameterMap}toString(){return Am(this)}}function Id(t,n){return t.length===n.length&&t.every((e,i)=>e.path===n[i].path)}class wh{}class pf{parse(n){const e=new c0(n);return new Zu(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${Ra(n.root,!0)}`,i=function e_(t){const n=Object.keys(t).map(e=>{const i=t[e];return Array.isArray(i)?i.map(o=>`${$l(e)}=${$l(o)}`).join("&"):`${$l(e)}=${$l(i)}`}).filter(e=>!!e);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${e}${i}${"string"==typeof n.fragment?`#${function Ch(t){return encodeURI(t)}(n.fragment)}`:""}`}}const mf=new pf;function Od(t){return t.segments.map(n=>Am(n)).join("/")}function Ra(t,n){if(!t.hasChildren())return Od(t);if(n){const e=t.children[ji]?Ra(t.children[ji],!1):"",i=[];return Bs(t.children,(o,s)=>{s!==ji&&i.push(`${s}:${Ra(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Xg(t,n){let e=[];return Bs(t.children,(i,o)=>{o===ji&&(e=e.concat(n(i,o)))}),Bs(t.children,(i,o)=>{o!==ji&&(e=e.concat(n(i,o)))}),e}(t,(i,o)=>o===ji?[Ra(t.children[ji],!1)]:[`${o}:${Ra(i,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ji]?`${Od(t)}/${e[0]}`:`${Od(t)}/(${e.join("//")})`}}function va(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $l(t){return va(t).replace(/%3B/gi,";")}function gv(t){return va(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Pa(t){return decodeURIComponent(t)}function gf(t){return Pa(t.replace(/\+/g,"%20"))}function Am(t){return`${gv(t.path)}${function Fc(t){return Object.keys(t).map(n=>`;${gv(n)}=${gv(t[n])}`).join("")}(t.parameters)}`}const Ql=/^[^\/()?;=#]+/;function el(t){const n=t.match(Ql);return n?n[0]:""}const vp=/^[^=?&#]+/,t_=/^[^&#]+/;class c0{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Vi([],{}):new Vi([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(i[ji]=new Vi(n,e)),i}parseSegment(){const n=el(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(n),new $o(Pa(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=el(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const o=el(this.remaining);o&&(i=o,this.capture(i))}n[Pa(e)]=Pa(i)}parseQueryParam(n){const e=function Ld(t){const n=t.match(vp);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const a=function Fd(t){const n=t.match(t_);return n?n[0]:""}(this.remaining);a&&(i=a,this.capture(i))}const o=gf(e),s=gf(i);if(n.hasOwnProperty(o)){let a=n[o];Array.isArray(a)||(a=[a],n[o]=a),a.push(s)}else n[o]=s}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=el(this.remaining),o=this.remaining[i.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let s;i.indexOf(":")>-1?(s=i.substr(0,i.indexOf(":")),this.capture(s),this.capture(":")):n&&(s=ji);const a=this.parseChildren();e[s]=1===Object.keys(a).length?a[ji]:new Vi([],a),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Error(`Expected "${n}".`)}}class Yu{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=Jl(n,this._root);return e?e.children.map(i=>i.value):[]}firstChild(n){const e=Jl(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=Al(n,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==n)}pathFromRoot(n){return Al(n,this._root).map(e=>e.value)}}function Jl(t,n){if(t===n.value)return n;for(const e of n.children){const i=Jl(t,e);if(i)return i}return null}function Al(t,n){if(t===n.value)return[n];for(const e of n.children){const i=Al(t,e);if(i.length)return i.unshift(n),i}return[]}class Nd{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function bs(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class _f extends Yu{constructor(n,e){super(n),this.snapshot=e,yp(this,n)}toString(){return this.snapshot.toString()}}function Rd(t,n){const e=function Nc(t,n){const a=new xh([],{},{},"",{},ji,n,null,t.root,-1,{});return new Dm("",new Nd(a,[]))}(t,n),i=new Io([new $o("",{})]),o=new Io({}),s=new Io({}),a=new Io({}),d=new Io(""),f=new du(i,o,a,d,s,ji,n,e.root);return f.snapshot=e.root,new _f(new Nd(f,[]),e)}class du{constructor(n,e,i,o,s,a,d,f){this.url=n,this.params=e,this.queryParams=i,this.fragment=o,this.data=s,this.outlet=a,this.component=d,this._futureSnapshot=f}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,un.U)(n=>Ps(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,un.U)(n=>Ps(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Sm(t,n="emptyOnly"){const e=t.pathFromRoot;let i=0;if("always"!==n)for(i=e.length-1;i>=1;){const o=e[i],s=e[i-1];if(o.routeConfig&&""===o.routeConfig.path)i--;else{if(s.component)break;i--}}return function Qo(t){return t.reduce((n,e)=>({params:Object.assign(Object.assign({},n.params),e.params),data:Object.assign(Object.assign({},n.data),e.data),resolve:Object.assign(Object.assign({},n.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class xh{constructor(n,e,i,o,s,a,d,f,v,w,x){this.url=n,this.params=e,this.queryParams=i,this.fragment=o,this.data=s,this.outlet=a,this.component=d,this.routeConfig=f,this._urlSegment=v,this._lastPathIndex=w,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ps(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ps(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Dm extends Yu{constructor(n,e){super(e),this.url=n,yp(this,e)}toString(){return Ba(this._root)}}function yp(t,n){n.value._routerState=t,n.children.forEach(e=>yp(t,e))}function Ba(t){const n=t.children.length>0?` { ${t.children.map(Ba).join(", ")} } `:"";return`${t.value}${n}`}function Rc(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Lc(n.queryParams,e.queryParams)||t.queryParams.next(e.queryParams),n.fragment!==e.fragment&&t.fragment.next(e.fragment),Lc(n.params,e.params)||t.params.next(e.params),function s0(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!Lc(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.url.next(e.url),Lc(n.data,e.data)||t.data.next(e.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Sl(t,n){const e=Lc(t.params,n.params)&&function Kg(t,n){return Id(t,n)&&t.every((e,i)=>Lc(e.parameters,n[i].parameters))}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||Sl(t.parent,n.parent))}function Em(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=n.value;const o=function i_(t,n,e){return n.children.map(i=>{for(const o of e.children)if(t.shouldReuseRoute(i.value,o.value.snapshot))return Em(t,i,o);return Em(t,i)})}(t,n,e);return new Nd(i,o)}{if(t.shouldAttach(n.value)){const s=t.retrieve(n.value);if(null!==s){const a=s.route;return a.value._futureSnapshot=n.value,a.children=n.children.map(d=>Em(t,d)),a}}const i=function Mm(t){return new du(new Io(t.url),new Io(t.params),new Io(t.queryParams),new Io(t.fragment),new Io(t.data),t.outlet,t.component,t)}(n.value),o=n.children.map(s=>Em(t,s));return new Nd(i,o)}}function Kl(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Th(t){return"object"==typeof t&&null!=t&&t.outlets}function Pd(t,n,e,i,o){let s={};if(i&&Bs(i,(d,f)=>{s[f]=Array.isArray(d)?d.map(v=>`${v}`):`${d}`}),t===n)return new Zu(e,s,o);const a=bp(t,n,e);return new Zu(a,s,o)}function bp(t,n,e){const i={};return Bs(t.children,(o,s)=>{i[s]=o===n?e:bp(o,n,e)}),new Vi(t.segments,i)}class _v{constructor(n,e,i){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=i,n&&i.length>0&&Kl(i[0]))throw new Error("Root segment cannot have matrix parameters");const o=i.find(Th);if(o&&o!==cu(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class r_{constructor(n,e,i){this.segmentGroup=n,this.processChildren=e,this.index=i}}function xp(t,n,e){if(t||(t=new Vi([],{})),0===t.segments.length&&t.hasChildren())return Ah(t,n,e);const i=function S1(t,n,e){let i=0,o=n;const s={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(i>=e.length)return s;const a=t.segments[o],d=e[i];if(Th(d))break;const f=`${d}`,v=i<e.length-1?e[i+1]:null;if(o>0&&void 0===f)break;if(f&&v&&"object"==typeof v&&void 0===v.outlets){if(!Bc(f,v,a))return s;i+=2}else{if(!Bc(f,{},a))return s;i++}o++}return{match:!0,pathIndex:o,commandIndex:i}}(t,n,e),o=e.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const s=new Vi(t.segments.slice(0,i.pathIndex),{});return s.children[ji]=new Vi(t.segments.slice(i.pathIndex),t.children),Ah(s,0,o)}return i.match&&0===o.length?new Vi(t.segments,{}):i.match&&!t.hasChildren()?Im(t,n,e):i.match?Ah(t,0,o):Im(t,n,e)}function Ah(t,n,e){if(0===e.length)return new Vi(t.segments,{});{const i=function A1(t){return Th(t[0])?t[0].outlets:{[ji]:t}}(e),o={};return Bs(i,(s,a)=>{"string"==typeof s&&(s=[s]),null!==s&&(o[a]=xp(t.children[a],n,s))}),Bs(t.children,(s,a)=>{void 0===i[a]&&(o[a]=s)}),new Vi(t.segments,o)}}function Im(t,n,e){const i=t.segments.slice(0,n);let o=0;for(;o<e.length;){const s=e[o];if(Th(s)){const f=Tp(s.outlets);return new Vi(i,f)}if(0===o&&Kl(e[0])){i.push(new $o(t.segments[n].path,vv(e[0]))),o++;continue}const a=Th(s)?s.outlets[ji]:`${s}`,d=o<e.length-1?e[o+1]:null;a&&d&&Kl(d)?(i.push(new $o(a,vv(d))),o+=2):(i.push(new $o(a,{})),o++)}return new Vi(i,{})}function Tp(t){const n={};return Bs(t,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(n[i]=Im(new Vi([],{}),0,e))}),n}function vv(t){const n={};return Bs(t,(e,i)=>n[i]=`${e}`),n}function Bc(t,n,e){return t==e.path&&Lc(n,e.parameters)}class yf{constructor(n,e,i,o){this.routeReuseStrategy=n,this.futureState=e,this.currState=i,this.forwardEvent=o}activate(n){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,n),Rc(this.futureState.root),this.activateChildRoutes(e,i,n)}deactivateChildRoutes(n,e,i){const o=bs(e);n.children.forEach(s=>{const a=s.value.outlet;this.deactivateRoutes(s,o[a],i),delete o[a]}),Bs(o,(s,a)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(n,e,i){const o=n.value,s=e?e.value:null;if(o===s)if(o.component){const a=i.getContext(o.outlet);a&&this.deactivateChildRoutes(n,e,a.children)}else this.deactivateChildRoutes(n,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const i=e.getContext(n.value.outlet),o=i&&n.value.component?i.children:e,s=bs(n);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],o);if(i&&i.outlet){const a=i.outlet.detach(),d=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:a,route:n,contexts:d})}}deactivateRouteAndOutlet(n,e){const i=e.getContext(n.value.outlet),o=i&&n.value.component?i.children:e,s=bs(n);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],o);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(n,e,i){const o=bs(e);n.children.forEach(s=>{this.activateRoutes(s,o[s.value.outlet],i),this.forwardEvent(new zg(s.value.snapshot))}),n.children.length&&this.forwardEvent(new r0(n.value.snapshot))}activateRoutes(n,e,i){const o=n.value,s=e?e.value:null;if(Rc(o),o===s)if(o.component){const a=i.getOrCreateContext(o.outlet);this.activateChildRoutes(n,e,a.children)}else this.activateChildRoutes(n,e,i);else if(o.component){const a=i.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const d=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),a.children.onOutletReAttached(d.contexts),a.attachRef=d.componentRef,a.route=d.route.value,a.outlet&&a.outlet.attach(d.componentRef,d.route.value),Rc(d.route.value),this.activateChildRoutes(n,null,a.children)}else{const d=function Om(t){for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(o.snapshot),f=d?d.module.componentFactoryResolver:null;a.attachRef=null,a.route=o,a.resolver=f,a.outlet&&a.outlet.activateWith(o,f),this.activateChildRoutes(n,null,a.children)}}else this.activateChildRoutes(n,null,i)}}class tl{constructor(n,e){this.routes=n,this.module=e}}function zu(t){return"function"==typeof t}function Xl(t){return t instanceof Zu}const Lm=Symbol("INITIAL_VALUE");function fu(){return zo(t=>X(t.map(n=>n.pipe((0,Er.q)(1),Ir(Lm)))).pipe(Xa((n,e)=>{let i=!1;return e.reduce((o,s,a)=>o!==Lm?o:(s===Lm&&(i=!0),i||!1!==s&&a!==e.length-1&&!Xl(s)?o:s),n)},Lm),hr(n=>n!==Lm),(0,un.U)(n=>Xl(n)?n:!0===n),(0,Er.q)(1)))}class D1{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ap,this.attachRef=null}}class Ap{constructor(){this.contexts=new Map}onChildOutletCreated(n,e){const i=this.getOrCreateContext(n);i.outlet=e,this.contexts.set(n,i)}onChildOutletDestroyed(n){const e=this.getContext(n);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let e=this.getContext(n);return e||(e=new D1,this.contexts.set(n,e)),e}getContext(n){return this.contexts.get(n)||null}}let Fm=(()=>{class t{constructor(e,i,o,s,a){this.parentContexts=e,this.location=i,this.resolver=o,this.changeDetector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.vpe,this.deactivateEvents=new r.vpe,this.attachEvents=new r.vpe,this.detachEvents=new r.vpe,this.name=s||ji,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const a=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),d=this.parentContexts.getOrCreateContext(this.name).children,f=new u0(e,d,this.location.injector);this.activated=this.location.createComponent(a,this.location.length,f),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Ap),r.Y36(r.s_b),r.Y36(r._Vd),r.$8M("name"),r.Y36(r.sBO))},t.\u0275dir=r.lG2({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class u0{constructor(n,e,i){this.route=n,this.childContexts=e,this.parent=i}get(n,e){return n===du?this.route:n===Ap?this.childContexts:this.parent.get(n,e)}}let Cf=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&r._UZ(0,"router-outlet")},directives:[Fm],encapsulation:2}),t})();function Sh(t,n=""){for(let e=0;e<t.length;e++){const i=t[e];Nm(i,Sp(n,i))}}function Nm(t,n){t.children&&Sh(t.children,n)}function Sp(t,n){return n?t||n.path?t&&!n.path?`${t}/`:!t&&n.path?n.path:`${t}/${n.path}`:"":t}function o_(t){const n=t.children&&t.children.map(o_),e=n?Object.assign(Object.assign({},t),{children:n}):Object.assign({},t);return!e.component&&(n||e.loadChildren)&&e.outlet&&e.outlet!==ji&&(e.component=Cf),e}function fr(t){return t.outlet||ji}function Dp(t,n){const e=t.filter(i=>fr(i)===n);return e.push(...t.filter(i=>fr(i)!==n)),e}const bv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function nl(t,n,e){var i;if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?Object.assign({},bv):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const s=(n.matcher||mv)(e,t,n);if(!s)return Object.assign({},bv);const a={};Bs(s.posParams,(f,v)=>{a[v]=f.path});const d=s.consumed.length>0?Object.assign(Object.assign({},a),s.consumed[s.consumed.length-1].parameters):a;return{matched:!0,consumedSegments:s.consumed,remainingSegments:e.slice(s.consumed.length),parameters:d,positionalParamSegments:null!==(i=s.posParams)&&void 0!==i?i:{}}}function Uc(t,n,e,i,o="corrected"){if(e.length>0&&function s_(t,n,e){return e.some(i=>Dh(t,n,i)&&fr(i)!==ji)}(t,e,i)){const a=new Vi(n,function il(t,n,e,i){const o={};o[ji]=i,i._sourceSegment=t,i._segmentIndexShift=n.length;for(const s of e)if(""===s.path&&fr(s)!==ji){const a=new Vi([],{});a._sourceSegment=t,a._segmentIndexShift=n.length,o[fr(s)]=a}return o}(t,n,i,new Vi(e,t.children)));return a._sourceSegment=t,a._segmentIndexShift=n.length,{segmentGroup:a,slicedSegments:[]}}if(0===e.length&&function Wu(t,n,e){return e.some(i=>Dh(t,n,i))}(t,e,i)){const a=new Vi(t.segments,function Rm(t,n,e,i,o,s){const a={};for(const d of i)if(Dh(t,e,d)&&!o[fr(d)]){const f=new Vi([],{});f._sourceSegment=t,f._segmentIndexShift="legacy"===s?t.segments.length:n.length,a[fr(d)]=f}return Object.assign(Object.assign({},o),a)}(t,n,e,i,t.children,o));return a._sourceSegment=t,a._segmentIndexShift=n.length,{segmentGroup:a,slicedSegments:e}}const s=new Vi(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=n.length,{segmentGroup:s,slicedSegments:e}}function Dh(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}function pu(t,n,e,i){return!!(fr(t)===i||i!==ji&&Dh(n,e,t))&&("**"===t.path||nl(n,t,e).matched)}function xf(t,n,e){return 0===n.length&&!t.children[e]}class ec{constructor(n){this.segmentGroup=n||null}}class oa{constructor(n){this.urlTree=n}}function Ua(t){return Lt(new ec(t))}function Pm(t){return Lt(new oa(t))}class wv{constructor(n,e,i,o,s){this.configLoader=e,this.urlSerializer=i,this.urlTree=o,this.config=s,this.allowRedirects=!0,this.ngModule=n.get(r.h0i)}apply(){const n=Uc(this.urlTree.root,[],[],this.config).segmentGroup,e=new Vi(n.segments,n.children);return this.expandSegmentGroup(this.ngModule,this.config,e,ji).pipe((0,un.U)(s=>this.createUrlTree(Bm(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Na(s=>{if(s instanceof oa)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof ec?this.noMatchError(s):s}))}match(n){return this.expandSegmentGroup(this.ngModule,this.config,n.root,ji).pipe((0,un.U)(o=>this.createUrlTree(Bm(o),n.queryParams,n.fragment))).pipe(Na(o=>{throw o instanceof ec?this.noMatchError(o):o}))}noMatchError(n){return new Error(`Cannot match any routes. URL Segment: '${n.segmentGroup}'`)}createUrlTree(n,e,i){const o=n.segments.length>0?new Vi([],{[ji]:n}):n;return new Zu(o,e,i)}expandSegmentGroup(n,e,i,o){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(n,e,i).pipe((0,un.U)(s=>new Vi([],s))):this.expandSegment(n,i,e,i.segments,o,!0)}expandChildren(n,e,i){const o=[];for(const s of Object.keys(i.children))"primary"===s?o.unshift(s):o.push(s);return(0,go.D)(o).pipe(Wl(s=>{const a=i.children[s],d=Dp(e,s);return this.expandSegmentGroup(n,d,a,s).pipe((0,un.U)(f=>({segment:f,outlet:s})))}),Xa((s,a)=>(s[a.outlet]=a.segment,s),{}),function uf(t,n){const e=arguments.length>=2;return i=>i.pipe(t?hr((o,s)=>t(o,s,i)):Yl.y,_h(1),e?cf(n):us(()=>new rn))}())}expandSegment(n,e,i,o,s,a){return(0,go.D)(i).pipe(Wl(d=>this.expandSegmentAgainstRoute(n,e,i,d,o,s,a).pipe(Na(v=>{if(v instanceof ec)return Dn(null);throw v}))),fp(d=>!!d),Na((d,f)=>{if(d instanceof rn||"EmptyError"===d.name)return xf(e,o,s)?Dn(new Vi([],{})):Ua(e);throw d}))}expandSegmentAgainstRoute(n,e,i,o,s,a,d){return pu(o,e,s,a)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(n,e,o,s,a):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,e,i,o,s,a):Ua(e):Ua(e)}expandSegmentAgainstRouteUsingRedirect(n,e,i,o,s,a){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,i,o,a):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,i,o,s,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,e,i,o){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Pm(s):this.lineralizeSegments(i,s).pipe((0,no.z)(a=>{const d=new Vi(a,{});return this.expandSegment(n,d,e,a,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,e,i,o,s,a){const{matched:d,consumedSegments:f,remainingSegments:v,positionalParamSegments:w}=nl(e,o,s);if(!d)return Ua(e);const x=this.applyRedirectCommands(f,o.redirectTo,w);return o.redirectTo.startsWith("/")?Pm(x):this.lineralizeSegments(o,x).pipe((0,no.z)(S=>this.expandSegment(n,e,i,S.concat(v),a,!1)))}matchSegmentAgainstRoute(n,e,i,o,s){if("**"===i.path)return i.loadChildren?(i._loadedConfig?Dn(i._loadedConfig):this.configLoader.load(n.injector,i)).pipe((0,un.U)(x=>(i._loadedConfig=x,new Vi(o,{})))):Dn(new Vi(o,{}));const{matched:a,consumedSegments:d,remainingSegments:f}=nl(e,i,o);return a?this.getChildConfig(n,i,o).pipe((0,no.z)(w=>{const x=w.module,S=w.routes,{segmentGroup:E,slicedSegments:q}=Uc(e,d,f,S),H=new Vi(E.segments,E.children);if(0===q.length&&H.hasChildren())return this.expandChildren(x,S,H).pipe((0,un.U)(ve=>new Vi(d,ve)));if(0===S.length&&0===q.length)return Dn(new Vi(d,{}));const ee=fr(i)===s;return this.expandSegment(x,H,S,q,ee?ji:s,!0).pipe((0,un.U)(oe=>new Vi(d.concat(oe.segments),oe.children)))})):Ua(e)}getChildConfig(n,e,i){return e.children?Dn(new tl(e.children,n)):e.loadChildren?void 0!==e._loadedConfig?Dn(e._loadedConfig):this.runCanLoadGuards(n.injector,e,i).pipe((0,no.z)(o=>o?this.configLoader.load(n.injector,e).pipe((0,un.U)(s=>(e._loadedConfig=s,s))):function sa(t){return Lt(vh(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`))}(e))):Dn(new tl([],n))}runCanLoadGuards(n,e,i){const o=e.canLoad;return o&&0!==o.length?Dn(o.map(a=>{const d=n.get(a);let f;if(function hu(t){return t&&zu(t.canLoad)}(d))f=d.canLoad(e,i);else{if(!zu(d))throw new Error("Invalid CanLoad guard");f=d(e,i)}return Tl(f)})).pipe(fu(),(0,Wo.b)(a=>{if(!Xl(a))return;const d=vh(`Redirecting to "${this.urlSerializer.serialize(a)}"`);throw d.url=a,d}),(0,un.U)(a=>!0===a)):Dn(!0)}lineralizeSegments(n,e){let i=[],o=e.root;for(;;){if(i=i.concat(o.segments),0===o.numberOfChildren)return Dn(i);if(o.numberOfChildren>1||!o.children[ji])return Lt(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n.redirectTo}'`));o=o.children[ji]}}applyRedirectCommands(n,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),n,i)}applyRedirectCreatreUrlTree(n,e,i,o){const s=this.createSegmentGroup(n,e.root,i,o);return new Zu(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const i={};return Bs(n,(o,s)=>{if("string"==typeof o&&o.startsWith(":")){const d=o.substring(1);i[s]=e[d]}else i[s]=o}),i}createSegmentGroup(n,e,i,o){const s=this.createSegments(n,e.segments,i,o);let a={};return Bs(e.children,(d,f)=>{a[f]=this.createSegmentGroup(n,d,i,o)}),new Vi(s,a)}createSegments(n,e,i,o){return e.map(s=>s.path.startsWith(":")?this.findPosParam(n,s,o):this.findOrReturn(s,i))}findPosParam(n,e,i){const o=i[e.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${n}'. Cannot find '${e.path}'.`);return o}findOrReturn(n,e){let i=0;for(const o of e){if(o.path===n.path)return e.splice(i),o;i++}return n}}function Bm(t){const n={};for(const i of Object.keys(t.children)){const s=Bm(t.children[i]);(s.segments.length>0||s.hasChildren())&&(n[i]=s)}return function E1(t){if(1===t.numberOfChildren&&t.children[ji]){const n=t.children[ji];return new Vi(t.segments.concat(n.segments),n.children)}return t}(new Vi(t.segments,n))}class tc{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class mu{constructor(n,e){this.component=n,this.route=e}}function nc(t,n,e){const i=t._root;return Mh(i,n?n._root:null,e,[i.value])}function Um(t,n,e){const i=function h0(t){if(!t)return null;for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(n);return(i?i.module.injector:e).get(t)}function Mh(t,n,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=bs(n);return t.children.forEach(a=>{(function xv(t,n,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,a=n?n.value:null,d=e?e.getContext(t.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const f=function Dl(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!Id(t.url,n.url);case"pathParamsOrQueryParamsChange":return!Id(t.url,n.url)||!Lc(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Sl(t,n)||!Lc(t.queryParams,n.queryParams);default:return!Sl(t,n)}}(a,s,s.routeConfig.runGuardsAndResolvers);f?o.canActivateChecks.push(new tc(i)):(s.data=a.data,s._resolvedData=a._resolvedData),Mh(t,n,s.component?d?d.children:null:e,i,o),f&&d&&d.outlet&&d.outlet.isActivated&&o.canDeactivateChecks.push(new mu(d.outlet.component,a))}else a&&$u(n,d,o),o.canActivateChecks.push(new tc(i)),Mh(t,null,s.component?d?d.children:null:e,i,o)})(a,s[a.value.outlet],e,i.concat([a.value]),o),delete s[a.value.outlet]}),Bs(s,(a,d)=>$u(a,e.getContext(d),o)),o}function $u(t,n,e){const i=bs(t),o=t.value;Bs(i,(s,a)=>{$u(s,o.component?n?n.children.getContext(a):null:n,e)}),e.canDeactivateChecks.push(new mu(o.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,o))}class Av{}function g0(t){return new Co.y(n=>n.error(t))}class El{constructor(n,e,i,o,s,a){this.rootComponentType=n,this.config=e,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=a}recognize(){const n=Uc(this.urlTree.root,[],[],this.config.filter(a=>void 0===a.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,n,ji);if(null===e)return null;const i=new xh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ji,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Nd(i,e),s=new Dm(this.url,o);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(n){const e=n.value,i=Sm(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),n.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(n,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(n,e):this.processSegment(n,e,e.segments,i)}processChildren(n,e){const i=[];for(const s of Object.keys(e.children)){const a=e.children[s],d=Dp(n,s),f=this.processSegmentGroup(d,a,s);if(null===f)return null;i.push(...f)}const o=v0(i);return function Sv(t){t.sort((n,e)=>n.value.outlet===ji?-1:e.value.outlet===ji?1:n.value.outlet.localeCompare(e.value.outlet))}(o),o}processSegment(n,e,i,o){for(const s of n){const a=this.processSegmentAgainstRoute(s,e,i,o);if(null!==a)return a}return xf(e,i,o)?[]:null}processSegmentAgainstRoute(n,e,i,o){if(n.redirectTo||!pu(n,e,i,o))return null;let s,a=[],d=[];if("**"===n.path){const E=i.length>0?cu(i).parameters:{};s=new xh(i,E,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Dv(n),fr(n),n.component,n,Af(e),gu(e)+i.length,Ev(n))}else{const E=nl(e,n,i);if(!E.matched)return null;a=E.consumedSegments,d=E.remainingSegments,s=new xh(a,E.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Dv(n),fr(n),n.component,n,Af(e),gu(e)+a.length,Ev(n))}const f=function O1(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(n),{segmentGroup:v,slicedSegments:w}=Uc(e,a,d,f.filter(E=>void 0===E.redirectTo),this.relativeLinkResolution);if(0===w.length&&v.hasChildren()){const E=this.processChildren(f,v);return null===E?null:[new Nd(s,E)]}if(0===f.length&&0===w.length)return[new Nd(s,[])];const x=fr(n)===o,S=this.processSegment(f,v,w,x?ji:o);return null===S?null:[new Nd(s,S)]}}function _0(t){const n=t.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function v0(t){const n=[],e=new Set;for(const i of t){if(!_0(i)){n.push(i);continue}const o=n.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==o?(o.children.push(...i.children),e.add(o)):n.push(i)}for(const i of e){const o=v0(i.children);n.push(new Nd(i.value,o))}return n.filter(i=>!e.has(i))}function Af(t){let n=t;for(;n._sourceSegment;)n=n._sourceSegment;return n}function gu(t){let n=t,e=n._segmentIndexShift?n._segmentIndexShift:0;for(;n._sourceSegment;)n=n._sourceSegment,e+=n._segmentIndexShift?n._segmentIndexShift:0;return e-1}function Dv(t){return t.data||{}}function Ev(t){return t.resolve||{}}function kp(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function l_(t){return zo(n=>{const e=t(n);return e?(0,go.D)(e).pipe((0,un.U)(()=>n)):Dn(n)})}class C0 extends class w0{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}{}const Vm=new r.OlP("ROUTES");class c_{constructor(n,e,i,o){this.injector=n,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=o}load(n,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const o=this.loadModuleFactory(e.loadChildren).pipe((0,un.U)(s=>{this.onLoadEndListener&&this.onLoadEndListener(e);const a=s.create(n);return new tl(a0(a.injector.get(Vm,void 0,r.XFs.Self|r.XFs.Optional)).map(o_),a)}),Na(s=>{throw e._loader$=void 0,s}));return e._loader$=new _a(o,()=>new Ht.x).pipe(ao()),e._loader$}loadModuleFactory(n){return Tl(n()).pipe((0,no.z)(e=>e instanceof r.YKP?Dn(e):(0,go.D)(this.compiler.compileModuleAsync(e))))}}class KC{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,e){return n}}function Ip(t){throw t}function Mv(t,n,e){return n.parse("/")}function kv(t,n){return Dn(null)}const F1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Iv={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ja=(()=>{class t{constructor(e,i,o,s,a,d,f){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=o,this.location=s,this.config=f,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ht.x,this.errorHandler=Ip,this.malformedUriErrorHandler=Mv,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:kv,afterPreactivation:kv},this.urlHandlingStrategy=new KC,this.routeReuseStrategy=new C0,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=a.get(r.h0i),this.console=a.get(r.c2e);const x=a.get(r.R0b);this.isNgZoneEnabled=x instanceof r.R0b&&r.R0b.isInAngularZone(),this.resetConfig(f),this.currentUrlTree=function gp(){return new Zu(new Vi([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new c_(a,d,S=>this.triggerEvent(new pp(S)),S=>this.triggerEvent(new xm(S))),this.routerState=Rd(this.currentUrlTree,this.rootComponentType),this.transitions=new Io({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(hr(o=>0!==o.id),(0,un.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),zo(o=>{let s=!1,a=!1;return Dn(o).pipe((0,Wo.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.currentRawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),zo(d=>{const f=this.browserUrlTree.toString(),v=!this.navigated||d.extractedUrl.toString()!==f||f!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||v)&&this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return Ov(d.source)&&(this.browserUrlTree=d.extractedUrl),Dn(d).pipe(zo(x=>{const S=this.transitions.getValue();return i.next(new Md(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),S!==this.transitions.getValue()?fi.E:Promise.resolve(x)}),function Ep(t,n,e,i){return zo(o=>function Eh(t,n,e,i,o){return new wv(t,n,e,i,o).apply()}(t,n,e,o.extractedUrl,i).pipe((0,un.U)(s=>Object.assign(Object.assign({},o),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Wo.b)(x=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:x.urlAfterRedirects})}),function ic(t,n,e,i,o){return(0,no.z)(s=>function I1(t,n,e,i,o="emptyOnly",s="legacy"){try{const a=new El(t,n,e,i,o,s).recognize();return null===a?g0(new Av):Dn(a)}catch(a){return g0(a)}}(t,n,s.urlAfterRedirects,e(s.urlAfterRedirects),i,o).pipe((0,un.U)(a=>Object.assign(Object.assign({},s),{targetSnapshot:a}))))}(this.rootComponentType,this.config,x=>this.serializeUrl(x),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Wo.b)(x=>{if("eager"===this.urlUpdateStrategy){if(!x.extras.skipLocationChange){const E=this.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);this.setBrowserUrl(E,x)}this.browserUrlTree=x.urlAfterRedirects}const S=new Oc(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);i.next(S)}));if(v&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:S,extractedUrl:E,source:q,restoredState:H,extras:ee}=d,$=new Md(S,this.serializeUrl(E),q,H);i.next($);const oe=Rd(E,this.rootComponentType).snapshot;return Dn(Object.assign(Object.assign({},d),{targetSnapshot:oe,urlAfterRedirects:E,extras:Object.assign(Object.assign({},ee),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=d.rawUrl,d.resolve(null),fi.E}),l_(d=>{const{targetSnapshot:f,id:v,extractedUrl:w,rawUrl:x,extras:{skipLocationChange:S,replaceUrl:E}}=d;return this.hooks.beforePreactivation(f,{navigationId:v,appliedUrlTree:w,rawUrlTree:x,skipLocationChange:!!S,replaceUrl:!!E})}),(0,Wo.b)(d=>{const f=new T1(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(f)}),(0,un.U)(d=>Object.assign(Object.assign({},d),{guards:nc(d.targetSnapshot,d.currentSnapshot,this.rootContexts)})),function f0(t,n){return(0,no.z)(e=>{const{targetSnapshot:i,currentSnapshot:o,guards:{canActivateChecks:s,canDeactivateChecks:a}}=e;return 0===a.length&&0===s.length?Dn(Object.assign(Object.assign({},e),{guardsResult:!0})):function p0(t,n,e,i){return(0,go.D)(t).pipe((0,no.z)(o=>function Tf(t,n,e,i,o){const s=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return s&&0!==s.length?Dn(s.map(d=>{const f=Um(d,n,o);let v;if(function wf(t){return t&&zu(t.canDeactivate)}(f))v=Tl(f.canDeactivate(t,n,e,i));else{if(!zu(f))throw new Error("Invalid CanDeactivate guard");v=Tl(f(t,n,e,i))}return v.pipe(fp())})).pipe(fu()):Dn(!0)}(o.component,o.route,e,n,i)),fp(o=>!0!==o,!0))}(a,i,o,t).pipe((0,no.z)(d=>d&&function yv(t){return"boolean"==typeof t}(d)?function a_(t,n,e,i){return(0,go.D)(n).pipe(Wl(o=>er(function M1(t,n){return null!==t&&n&&n(new mp(t)),Dn(!0)}(o.route.parent,i),function Tv(t,n){return null!==t&&n&&n(new o0(t)),Dn(!0)}(o.route,i),function m0(t,n,e){const i=n[n.length-1],s=n.slice(0,n.length-1).reverse().map(a=>function Cv(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(a)).filter(a=>null!==a).map(a=>Ui(()=>Dn(a.guards.map(f=>{const v=Um(f,a.node,e);let w;if(function Bd(t){return t&&zu(t.canActivateChild)}(v))w=Tl(v.canActivateChild(i,t));else{if(!zu(v))throw new Error("Invalid CanActivateChild guard");w=Tl(v(i,t))}return w.pipe(fp())})).pipe(fu())));return Dn(s).pipe(fu())}(t,o.path,e),function k1(t,n,e){const i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||0===i.length)return Dn(!0);const o=i.map(s=>Ui(()=>{const a=Um(s,n,e);let d;if(function bf(t){return t&&zu(t.canActivate)}(a))d=Tl(a.canActivate(n,t));else{if(!zu(a))throw new Error("Invalid CanActivate guard");d=Tl(a(n,t))}return d.pipe(fp())}));return Dn(o).pipe(fu())}(t,o.route,e))),fp(o=>!0!==o,!0))}(i,s,t,n):Dn(d)),(0,un.U)(d=>Object.assign(Object.assign({},e),{guardsResult:d})))})}(this.ngModule.injector,d=>this.triggerEvent(d)),(0,Wo.b)(d=>{if(Xl(d.guardsResult)){const v=vh(`Redirecting to "${this.serializeUrl(d.guardsResult)}"`);throw v.url=d.guardsResult,v}const f=new Yg(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.triggerEvent(f)}),hr(d=>!!d.guardsResult||(this.restoreHistory(d),this.cancelNavigationTransition(d,""),!1)),l_(d=>{if(d.guards.canActivateChecks.length)return Dn(d).pipe((0,Wo.b)(f=>{const v=new Rs(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(v)}),zo(f=>{let v=!1;return Dn(f).pipe(function y0(t,n){return(0,no.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:o}}=e;if(!o.length)return Dn(e);let s=0;return(0,go.D)(o).pipe(Wl(a=>function Ml(t,n,e,i){return function Mp(t,n,e,i){const o=kp(t);if(0===o.length)return Dn({});const s={};return(0,go.D)(o).pipe((0,no.z)(a=>function b0(t,n,e,i){const o=Um(t,n,i);return Tl(o.resolve?o.resolve(n,e):o(n,e))}(t[a],n,e,i).pipe((0,Wo.b)(d=>{s[a]=d}))),_h(1),(0,no.z)(()=>kp(s).length===o.length?Dn(s):fi.E))}(t._resolve,t,n,i).pipe((0,un.U)(s=>(t._resolvedData=s,t.data=Object.assign(Object.assign({},t.data),Sm(t,e).resolve),null)))}(a.route,i,t,n)),(0,Wo.b)(()=>s++),_h(1),(0,no.z)(a=>s===o.length?Dn(e):fi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Wo.b)({next:()=>v=!0,complete:()=>{v||(this.restoreHistory(f),this.cancelNavigationTransition(f,"At least one route resolver didn't emit any value."))}}))}),(0,Wo.b)(f=>{const v=new xl(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(v)}))}),l_(d=>{const{targetSnapshot:f,id:v,extractedUrl:w,rawUrl:x,extras:{skipLocationChange:S,replaceUrl:E}}=d;return this.hooks.afterPreactivation(f,{navigationId:v,appliedUrlTree:w,rawUrlTree:x,skipLocationChange:!!S,replaceUrl:!!E})}),(0,un.U)(d=>{const f=function n_(t,n,e){const i=Em(t,n._root,e?e._root:void 0);return new _f(i,n)}(this.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return Object.assign(Object.assign({},d),{targetRouterState:f})}),(0,Wo.b)(d=>{this.currentUrlTree=d.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),this.routerState=d.targetRouterState,"deferred"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,d),this.browserUrlTree=d.urlAfterRedirects)}),((t,n,e)=>(0,un.U)(i=>(new yf(n,i.targetRouterState,i.currentRouterState,e).activate(t),i)))(this.rootContexts,this.routeReuseStrategy,d=>this.triggerEvent(d)),(0,Wo.b)({next(){s=!0},complete(){s=!0}}),x1(()=>{var d;s||a||this.cancelNavigationTransition(o,`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`),(null===(d=this.currentNavigation)||void 0===d?void 0:d.id)===o.id&&(this.currentNavigation=null)}),Na(d=>{if(a=!0,function pv(t){return t&&t[Tm]}(d)){const f=Xl(d.url);f||(this.navigated=!0,this.restoreHistory(o,!0));const v=new Ns(o.id,this.serializeUrl(o.extractedUrl),d.message);i.next(v),f?setTimeout(()=>{const w=this.urlHandlingStrategy.merge(d.url,this.rawUrlTree),x={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ov(o.source)};this.scheduleNavigation(w,"imperative",null,x,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const f=new Cm(o.id,this.serializeUrl(o.extractedUrl),d);i.next(f);try{o.resolve(this.errorHandler(d))}catch(v){o.reject(v)}}return fi.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var o;const s={replaceUrl:!0},a=(null===(o=e.state)||void 0===o?void 0:o.navigationId)?e.state:null;if(a){const f=Object.assign({},a);delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(s.state=f)}const d=this.parseUrl(e.url);this.scheduleNavigation(d,i,a,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Sh(e),this.config=e.map(o_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:d,preserveFragment:f}=i,v=o||this.routerState.root,w=f?this.currentUrlTree.fragment:a;let x=null;switch(d){case"merge":x=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=s||null}return null!==x&&(x=this.removeEmptyProps(x)),function Pc(t,n,e,i,o){if(0===e.length)return Pd(n.root,n.root,n.root,i,o);const s=function km(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new _v(!0,0,t);let n=0,e=!1;const i=t.reduce((o,s,a)=>{if("object"==typeof s&&null!=s){if(s.outlets){const d={};return Bs(s.outlets,(f,v)=>{d[v]="string"==typeof f?f.split("/"):f}),[...o,{outlets:d}]}if(s.segmentPath)return[...o,s.segmentPath]}return"string"!=typeof s?[...o,s]:0===a?(s.split("/").forEach((d,f)=>{0==f&&"."===d||(0==f&&""===d?e=!0:".."===d?n++:""!=d&&o.push(d))}),o):[...o,s]},[]);return new _v(e,n,i)}(e);if(s.toRoot())return Pd(n.root,n.root,new Vi([],{}),i,o);const a=function wp(t,n,e){if(t.isAbsolute)return new r_(n.root,!0,0);if(-1===e.snapshot._lastPathIndex){const s=e.snapshot._urlSegment;return new r_(s,s===n.root,0)}const i=Kl(t.commands[0])?0:1;return function Cp(t,n,e){let i=t,o=n,s=e;for(;s>o;){if(s-=o,i=i.parent,!i)throw new Error("Invalid number of '../'");o=i.segments.length}return new r_(i,!1,o-s)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(s,n,t),d=a.processChildren?Ah(a.segmentGroup,a.index,s.commands):xp(a.segmentGroup,a.index,s.commands);return Pd(n.root,a.segmentGroup,d,i,o)}(v,this.currentUrlTree,e,x,null!=w?w:null)}navigateByUrl(e,i={skipLocationChange:!1}){const o=Xl(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function qm(t){for(let n=0;n<t.length;n++){const e=t[n];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${n}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(o){i=this.malformedUriErrorHandler(o,this.urlSerializer,e)}return i}isActive(e,i){let o;if(o=!0===i?Object.assign({},F1):!1===i?Object.assign({},Iv):i,Xl(e))return bh(this.currentUrlTree,e,o);const s=this.parseUrl(e);return bh(this.currentUrlTree,s,o)}removeEmptyProps(e){return Object.keys(e).reduce((i,o)=>{const s=e[o];return null!=s&&(i[o]=s),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new wm(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,o,s,a){var d,f;if(this.disposed)return Promise.resolve(!1);let v,w,x;a?(v=a.resolve,w=a.reject,x=a.promise):x=new Promise((q,H)=>{v=q,w=H});const S=++this.navigationId;let E;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),E=o&&o.\u0275routerPageId?o.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(d=this.browserPageId)&&void 0!==d?d:0:(null!==(f=this.browserPageId)&&void 0!==f?f:0)+1):E=0,this.setTransition({id:S,targetPageId:E,source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:v,reject:w,promise:x,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),x.catch(q=>Promise.reject(q))}setBrowserUrl(e,i){const o=this.urlSerializer.serialize(e),s=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl?this.location.replaceState(o,"",s):this.location.go(o,"",s)}restoreHistory(e,i=!1){var o,s;if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===a?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===a&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(a)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const o=new Ns(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(o),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return t.\u0275fac=function(e){r.$Z()},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();function Ov(t){return"imperative"!==t}let jc=(()=>{class t{constructor(e,i,o,s,a){this.router=e,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.commands=null,this.onChanges=new Ht.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,o=this.el.nativeElement;null!==e?i.setAttribute(o,"tabindex",e):i.removeAttribute(o,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:Df(this.skipLocationChange),replaceUrl:Df(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Df(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(ja),r.Y36(du),r.$8M("tabindex"),r.Y36(r.Qsj),r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&r.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[r.TTD]}),t})(),Sf=(()=>{class t{constructor(e,i,o){this.router=e,this.route=i,this.locationStrategy=o,this.commands=null,this.href=null,this.onChanges=new Ht.x,this.subscription=e.events.subscribe(s=>{s instanceof wm&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,o,s,a){if(0!==e||i||o||s||a||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const d={skipLocationChange:Df(this.skipLocationChange),replaceUrl:Df(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,d),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Df(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(ja),r.Y36(du),r.Y36(ot))},t.\u0275dir=r.lG2({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&r.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&r.uIk("target",i.target)("href",i.href,r.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[r.TTD]}),t})();function Df(t){return""===t||!!t}let u_=(()=>{class t{constructor(e,i,o,s,a,d){this.router=e,this.element=i,this.renderer=o,this.cdr=s,this.link=a,this.linkWithHref=d,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new r.vpe,this.routerEventsSubscription=e.events.subscribe(f=>{f instanceof wm&&this.update()})}ngAfterContentInit(){Dn(this.links.changes,this.linksWithHrefs.changes,Dn(null)).pipe((0,En.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const i=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(o=>!!o).map(o=>o.onChanges);this.linkInputChangesSubscription=(0,go.D)(i).pipe((0,En.J)()).subscribe(o=>{this.isActive!==this.isLinkActive(this.router)(o)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(o=>!!o)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function Lv(t){return!!t.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>!!o.urlTree&&e.isActive(o.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(ja),r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(r.sBO),r.Y36(jc,8),r.Y36(Sf,8))},t.\u0275dir=r.lG2({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,o){if(1&e&&(r.Suo(o,jc,5),r.Suo(o,Sf,5)),2&e){let s;r.iGM(s=r.CRH())&&(i.links=s),r.iGM(s=r.CRH())&&(i.linksWithHrefs=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[r.TTD]}),t})();class Fv{}class T0{preload(n,e){return Dn(null)}}let A0=(()=>{class t{constructor(e,i,o,s){this.router=e,this.injector=o,this.preloadingStrategy=s,this.loader=new c_(o,i,f=>e.triggerEvent(new pp(f)),f=>e.triggerEvent(new xm(f)))}setUpPreloading(){this.subscription=this.router.events.pipe(hr(e=>e instanceof wm),Wl(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(r.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const o=[];for(const s of i)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const a=s._loadedConfig;o.push(this.processRoutes(a.module,a.routes))}else s.loadChildren&&!s.canLoad?o.push(this.preloadConfig(e,s)):s.children&&o.push(this.processRoutes(e,s.children));return(0,go.D)(o).pipe((0,En.J)(),(0,un.U)(s=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?Dn(i._loadedConfig):this.loader.load(e.injector,i)).pipe((0,no.z)(s=>(i._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(ja),r.LFG(r.Sil),r.LFG(r.zs3),r.LFG(Fv))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),d_=(()=>{class t{constructor(e,i,o={}){this.router=e,this.viewportScroller=i,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Md?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof wm&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Wg&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new Wg(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){r.$Z()},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const kl=new r.OlP("ROUTER_CONFIGURATION"),Rv=new r.OlP("ROUTER_FORROOT_GUARD"),S0=[Re,{provide:wh,useClass:pf},{provide:ja,useFactory:function Uv(t,n,e,i,o,s,a={},d,f){const v=new ja(null,t,n,e,i,o,a0(s));return d&&(v.urlHandlingStrategy=d),f&&(v.routeReuseStrategy=f),function g(t,n){t.errorHandler&&(n.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(n.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(n.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(n.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(n.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(n.canceledNavigationResolution=t.canceledNavigationResolution)}(a,v),a.enableTracing&&v.events.subscribe(w=>{var x,S;null===(x=console.group)||void 0===x||x.call(console,`Router Event: ${w.constructor.name}`),console.log(w.toString()),console.log(w),null===(S=console.groupEnd)||void 0===S||S.call(console)}),v},deps:[wh,Ap,Re,r.zs3,r.Sil,Vm,kl,[class x0{},new r.FiY],[class jm{},new r.FiY]]},Ap,{provide:du,useFactory:function m(t){return t.routerState.root},deps:[ja]},A0,T0,class Nv{preload(n,e){return e().pipe(Na(()=>Dn(null)))}},{provide:kl,useValue:{enableTracing:!1}}];function R1(){return new r.PXZ("Router",ja)}let Hm=(()=>{class t{constructor(e,i){}static forRoot(e,i){return{ngModule:t,providers:[S0,Bv(e),{provide:Rv,useFactory:h_,deps:[[ja,new r.FiY,new r.tp0]]},{provide:kl,useValue:i||{}},{provide:ot,useFactory:Pv,deps:[yt,[new r.tBr(fn),new r.FiY],kl]},{provide:d_,useFactory:Tr,deps:[ja,Vg,kl]},{provide:Fv,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:T0},{provide:r.PXZ,multi:!0,useFactory:R1},[y,{provide:r.ip1,multi:!0,useFactory:T,deps:[y]},{provide:B,useFactory:I,deps:[y]},{provide:r.tb,multi:!0,useExisting:B}]]}}static forChild(e){return{ngModule:t,providers:[Bv(e)]}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Rv,8),r.LFG(ja,8))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();function Tr(t,n,e){return e.scrollOffset&&n.setOffset(e.scrollOffset),new d_(t,n,e)}function Pv(t,n,e={}){return e.useHash?new qt(t,n):new vn(t,n)}function h_(t){return"guarded"}function Bv(t){return[{provide:r.deG,multi:!0,useValue:t},{provide:Vm,multi:!0,useValue:t}]}let y=(()=>{class t{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ht.x}appInitializer(){return this.injector.get(de,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const o=new Promise(d=>i=d),s=this.injector.get(ja),a=this.injector.get(kl);return"disabled"===a.initialNavigation?(s.setUpLocationChangeListener(),i(!0)):"enabled"===a.initialNavigation||"enabledBlocking"===a.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?Dn(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),s.initialNavigation()):i(!0),o})}bootstrapListener(e){const i=this.injector.get(kl),o=this.injector.get(A0),s=this.injector.get(d_),a=this.injector.get(ja),d=this.injector.get(r.z2F);e===d.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&a.initialNavigation(),o.setUpPreloading(),s.init(),a.resetRootComponentType(d.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.zs3))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();function T(t){return t.appInitializer.bind(t)}function I(t){return t.bootstrapListener.bind(t)}const B=new r.OlP("Router Initializer");function pe(...t){const n=(0,ys.jO)(t),{args:e,keys:i}=xo(t),o=new Co.y(s=>{const{length:a}=e;if(!a)return void s.complete();const d=new Array(a);let f=a,v=a;for(let w=0;w<a;w++){let x=!1;(0,$i.Xf)(e[w]).subscribe((0,L.x)(s,S=>{x||(x=!0,v--),d[w]=S},()=>f--,void 0,()=>{(!f||!x)&&(v||s.next(i?j(i,d):d),s.complete())}))}});return n?o.pipe(G(n)):o}let Ae=(()=>{class t{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Qsj),r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t}),t})(),Oe=(()=>{class t extends Ae{}return t.\u0275fac=function(){let n;return function(i){return(n||(n=r.n5z(t)))(i||t)}}(),t.\u0275dir=r.lG2({type:t,features:[r.qOj]}),t})();const st=new r.OlP("NgValueAccessor"),In={provide:st,useExisting:(0,r.Gpc)(()=>_i),multi:!0},gi=new r.OlP("CompositionEventMode");let _i=(()=>{class t extends Ae{constructor(e,i,o){super(e,i),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Fi(){const t=Q()?Q().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(gi,8))},t.\u0275dir=r.lG2({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&r.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[r._Bn([In]),r.qOj]}),t})();function lo(t){return null==t||0===t.length}function Vc(t){return null!=t&&"number"==typeof t.length}const No=new r.OlP("NgValidators"),ws=new r.OlP("NgAsyncValidators"),f_=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class sn{static min(n){return function P1(t){return n=>{if(lo(n.value)||lo(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}(n)}static max(n){return function D0(t){return n=>{if(lo(n.value)||lo(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}(n)}static required(n){return function B1(t){return lo(t.value)?{required:!0}:null}(n)}static requiredTrue(n){return function E0(t){return!0===t.value?null:{required:!0}}(n)}static email(n){return function U1(t){return lo(t.value)||f_.test(t.value)?null:{email:!0}}(n)}static minLength(n){return function j1(t){return n=>lo(n.value)||!Vc(n.value)?null:n.value.length<t?{minlength:{requiredLength:t,actualLength:n.value.length}}:null}(n)}static maxLength(n){return M0(n)}static pattern(n){return function jv(t){if(!t)return Ni;let n,e;return"string"==typeof t?(e="","^"!==t.charAt(0)&&(e+="^"),e+=t,"$"!==t.charAt(t.length-1)&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),i=>{if(lo(i.value))return null;const o=i.value;return n.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}(n)}static nullValidator(n){return null}static compose(n){return q1(n)}static composeAsync(n){return qc(n)}}function M0(t){return n=>Vc(n.value)&&n.value.length>t?{maxlength:{requiredLength:t,actualLength:n.value.length}}:null}function Ni(t){return null}function Gm(t){return null!=t}function Zm(t){const n=(0,r.QGY)(t)?(0,go.D)(t):t;return(0,r.CqO)(n),n}function Op(t){let n={};return t.forEach(e=>{n=null!=e?Object.assign(Object.assign({},n),e):n}),0===Object.keys(n).length?null:n}function p_(t,n){return n.map(e=>e(t))}function V1(t){return t.map(n=>function Qu(t){return!t.validate}(n)?n:e=>n.validate(e))}function q1(t){if(!t)return null;const n=t.filter(Gm);return 0==n.length?null:function(e){return Op(p_(e,n))}}function m_(t){return null!=t?q1(V1(t)):null}function qc(t){if(!t)return null;const n=t.filter(Gm);return 0==n.length?null:function(e){return pe(p_(e,n).map(Zm)).pipe((0,un.U)(Op))}}function Lp(t){return null!=t?qc(V1(t)):null}function k0(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function I0(t){return t._rawValidators}function H1(t){return t._rawAsyncValidators}function g_(t){return t?Array.isArray(t)?t:[t]:[]}function O0(t,n){return Array.isArray(t)?t.includes(n):t===n}function Vv(t,n){const e=g_(n);return g_(t).forEach(o=>{O0(e,o)||e.push(o)}),e}function qv(t,n){return g_(n).filter(e=>!O0(t,e))}class __{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=m_(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Lp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class Hc extends __{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Va extends __{get formDirective(){return null}get path(){return null}}class oS{constructor(n){this._cd=n}is(n){var e,i,o;return"submitted"===n?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(o=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===o?void 0:o[n])}}let Gc=(()=>{class t extends oS{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Hc,2))},t.\u0275dir=r.lG2({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&r.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[r.qOj]}),t})(),Ud=(()=>{class t extends oS{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Va,10))},t.\u0275dir=r.lG2({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&r.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[r.qOj]}),t})();function Y1(t,n){return[...n.path,t]}function Gv(t,n){b_(t,n),n.valueAccessor.writeValue(t.value),function W1(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Q1(t,n)})}(t,n),function jd(t,n){const e=(i,o)=>{n.valueAccessor.writeValue(i),o&&n.viewToModelUpdate(i)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function $1(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Q1(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function z1(t,n){if(n.valueAccessor.setDisabledState){const e=i=>{n.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function _u(t,n,e=!0){const i=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(i),n.valueAccessor.registerOnTouched(i)),Qm(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function $m(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function b_(t,n){const e=I0(t);null!==n.validator?t.setValidators(k0(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const i=H1(t);null!==n.asyncValidator?t.setAsyncValidators(k0(i,n.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]);const o=()=>t.updateValueAndValidity();$m(n._rawValidators,o),$m(n._rawAsyncValidators,o)}function Qm(t,n){let e=!1;if(null!==t){if(null!==n.validator){const o=I0(t);if(Array.isArray(o)&&o.length>0){const s=o.filter(a=>a!==n.validator);s.length!==o.length&&(e=!0,t.setValidators(s))}}if(null!==n.asyncValidator){const o=H1(t);if(Array.isArray(o)&&o.length>0){const s=o.filter(a=>a!==n.asyncValidator);s.length!==o.length&&(e=!0,t.setAsyncValidators(s))}}}const i=()=>{};return $m(n._rawValidators,i),$m(n._rawAsyncValidators,i),e}function Q1(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function J1(t,n){b_(t,n)}function K1(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}function Ef(t,n){t._syncPendingControls(),n.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Yv(t,n){if(!n)return null;let e,i,o;return Array.isArray(n),n.forEach(s=>{s.constructor===_i?e=s:function Zv(t){return Object.getPrototypeOf(t.constructor)===Oe}(s)?i=s:o=s}),o||i||e||null}function kh(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}const w_="VALID",C_="INVALID",Fp="PENDING",Ih="DISABLED";function R0(t){return(B0(t)?t.validators:t)||null}function Wv(t){return Array.isArray(t)?m_(t):t||null}function P0(t,n){return(B0(n)?n.asyncValidators:t)||null}function $v(t){return Array.isArray(t)?Lp(t):t||null}function B0(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}const U0=t=>t instanceof mn,x_=t=>t instanceof Il;function Qv(t){return U0(t)?t.value:t.getRawValue()}function Jv(t,n){const e=x_(t),i=t.controls;if(!(e?Object.keys(i):i).length)throw new r.vHH(1e3,"");if(!i[n])throw new r.vHH(1001,"")}function X1(t,n){x_(t),t._forEachChild((i,o)=>{if(void 0===n[o])throw new r.vHH(1002,"")})}class qa{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=e,this._composedValidatorFn=Wv(this._rawValidators),this._composedAsyncValidatorFn=$v(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===w_}get invalid(){return this.status===C_}get pending(){return this.status==Fp}get disabled(){return this.status===Ih}get enabled(){return this.status!==Ih}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=Wv(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=$v(n)}addValidators(n){this.setValidators(Vv(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(Vv(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(qv(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(qv(n,this._rawAsyncValidators))}hasValidator(n){return O0(this._rawValidators,n)}hasAsyncValidator(n){return O0(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=Fp,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=Ih,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=w_,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===w_||this.status===Fp)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ih:w_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=Fp,this._hasOwnPendingAsyncValidator=!0;const e=Zm(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){return function zv(t,n,e){if(null==n||(Array.isArray(n)||(n=n.split(e)),Array.isArray(n)&&0===n.length))return null;let i=t;return n.forEach(o=>{i=x_(i)?i.controls.hasOwnProperty(o)?i.controls[o]:null:(t=>t instanceof uS)(i)&&i.at(o)||null}),i}(this,n,".")}getError(n,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new r.vpe,this.statusChanges=new r.vpe}_calculateStatus(){return this._allControlsDisabled()?Ih:this.errors?C_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fp)?Fp:this._anyControlsHaveStatus(C_)?C_:w_}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_isBoxedValue(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){B0(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class mn extends qa{constructor(n=null,e,i){super(R0(e),P0(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),B0(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){kh(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){kh(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){this._isBoxedValue(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}}class Il extends qa{constructor(n,e,i){super(R0(e),P0(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,i={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){X1(this,n),Object.keys(n).forEach(i=>{Jv(this,i),this.controls[i].setValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((i,o)=>{i.reset(n[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,i)=>(n[i]=Qv(e),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&n(i,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&n(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(n,e,i)=>((e.enabled||this.disabled)&&(n[i]=e.value),n))}_reduceChildren(n,e){let i=n;return this._forEachChild((o,s)=>{i=e(i,o,s)}),i}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class uS extends qa{constructor(n,e,i){super(R0(e),P0(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[n]}push(n,e={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(n,e,i={}){this.controls.splice(n,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(n,e,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),e&&(this.controls.splice(n,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,e={}){X1(this,n),n.forEach((i,o)=>{Jv(this,o),this.at(o).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(n.forEach((i,o)=>{this.at(o)&&this.at(o).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n=[],e={}){this._forEachChild((i,o)=>{i.reset(n[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(n=>Qv(n))}clear(n={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_syncPendingControls(){let n=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((e,i)=>{n(e,i)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(e=>e.enabled&&n(e))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}}const T_={provide:Va,useExisting:(0,r.Gpc)(()=>Mf)},A_=(()=>Promise.resolve(null))();let Mf=(()=>{class t extends Va{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new r.vpe,this.form=new Il({},m_(e),Lp(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){A_.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Gv(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){A_.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){A_.then(()=>{const i=this._findContainer(e.path),o=new Il({});J1(o,e),i.registerControl(e.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){A_.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){A_.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,Ef(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(No,10),r.Y36(ws,10))},t.\u0275dir=r.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&r.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([T_]),r.qOj]}),t})();const sx={provide:Hc,useExisting:(0,r.Gpc)(()=>Jm)},Kv=(()=>Promise.resolve(null))();let Jm=(()=>{class t extends Hc{constructor(e,i,o,s,a){super(),this._changeDetectorRef=a,this.control=new mn,this._registered=!1,this.update=new r.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=Yv(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),K1(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Gv(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Kv.then(()=>{var i;this.control.setValue(e,{emitViewToModelChange:!1}),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,o=""===i||i&&"false"!==i;Kv.then(()=>{var s;o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),null===(s=this._changeDetectorRef)||void 0===s||s.markForCheck()})}_getPath(e){return this._parent?Y1(e,this._parent):[e]}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Va,9),r.Y36(No,10),r.Y36(ws,10),r.Y36(st,10),r.Y36(r.sBO,8))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r._Bn([sx]),r.qOj,r.TTD]}),t})(),qd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),kf=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();const aw=new r.OlP("NgModelWithFormControlWarning"),q0={provide:Va,useExisting:(0,r.Gpc)(()=>ya)};let ya=(()=>{class t extends Va{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Qm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Gv(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){_u(e.control||null,e,!1),kh(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,Ef(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,o=this.form.get(e.path);i!==o&&(_u(i||null,e),U0(o)&&(Gv(o,e),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);J1(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function cS(t,n){return Qm(t,n)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){b_(this.form,this),this._oldForm&&Qm(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(No,10),r.Y36(ws,10))},t.\u0275dir=r.lG2({type:t,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&r.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([q0]),r.qOj,r.TTD]}),t})();const rc={provide:Hc,useExisting:(0,r.Gpc)(()=>Zc)};let Zc=(()=>{class t extends Hc{constructor(e,i,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.update=new r.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=Yv(0,s)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),K1(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Y1(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(e){return new(e||t)(r.Y36(Va,13),r.Y36(No,10),r.Y36(ws,10),r.Y36(st,10),r.Y36(aw,8))},t.\u0275dir=r.lG2({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r._Bn([rc]),r.qOj,r.TTD]}),t})();let Np=(()=>{class t{constructor(){this._validator=Ni}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Ni,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,features:[r.TTD]}),t})();const hx={provide:No,useExisting:(0,r.Gpc)(()=>eg),multi:!0};let eg=(()=>{class t extends Np{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function If(t){return"number"==typeof t?t:parseInt(t,10)}(e),this.createValidator=e=>M0(e)}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=r.n5z(t)))(i||t)}}(),t.\u0275dir=r.lG2({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&r.uIk("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[r._Bn([hx]),r.qOj]}),t})(),fx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[kf]]}),t})(),px=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[fx]}),t})(),mw=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:aw,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[fx]}),t})();var co=me(6451),Rp=me(5363),K0=me(6063);class Hd extends Ht.x{constructor(n=1/0,e=1/0,i=K0.l){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){const{isStopped:e,_buffer:i,_infiniteTimeWindow:o,_timestampProvider:s,_windowTime:a}=this;e||(i.push(n),!o&&i.push(s.now()+a)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(n),{_infiniteTimeWindow:i,_buffer:o}=this,s=o.slice();for(let a=0;a<s.length&&!n.closed;a+=i?1:2)n.next(s[a]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){const{_bufferSize:n,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:o}=this,s=(o?1:2)*n;if(n<1/0&&s<i.length&&i.splice(0,i.length-s),!o){const a=e.now();let d=0;for(let f=1;f<i.length&&i[f]<=a;f+=2)d=f;d&&i.splice(0,d+1)}}}var mx=me(3099);function Of(t,n,e){let i,o=!1;return t&&"object"==typeof t?({bufferSize:i=1/0,windowTime:n=1/0,refCount:o=!1,scheduler:e}=t):i=null!=t?t:1/0,(0,mx.B)({connector:()=>new Hd(i,n,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function gw(t,n){return(0,Ye.m)(n)?zo(()=>t,n):zo(()=>t)}var X0=me(9468),Ro=me(2816);const M_=new r.OlP("angularfire2.auth.use-emulator"),_w=new r.OlP("angularfire2.auth.settings"),vw=new r.OlP("angularfire2.auth.tenant-id"),pS=new r.OlP("angularfire2.auth.langugage-code"),mS=new r.OlP("angularfire2.auth.use-device-language"),k_=new r.OlP("angularfire.auth.persistence");let yw=(()=>{class t{constructor(e,i,o,s,a,d,f,v,w,x){const S=new Ro.HU(s),E=(0,Ro.ss)(S),q=new Ht.x,H=Dn(void 0).pipe((0,Rp.Q)(S.outsideAngular),zo(()=>s.runOutsideAngular(()=>me.e(304).then(me.bind(me,8304)))),(0,un.U)(()=>(0,Ro.on)(e,s,i)),(0,un.U)(ee=>s.runOutsideAngular(()=>{const $=a,oe=d;return(0,Ro.sI)(`${ee.name}.auth`,"AngularFireAuth",ee,()=>{const ve=s.runOutsideAngular(()=>ee.auth());if($&&ve.useEmulator(`http://${$.join(":")}`),f&&(ve.tenantId=f),ve.languageCode=v,w&&ve.useDeviceLanguage(),oe)for(const[Fe,Be]of Object.entries(oe))ve.settings[Fe]=Be;return x&&ve.setPersistence(x),ve},[$,f,v,w,oe,x])})),Of({bufferSize:1,refCount:!1}));if(qs(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Dn(null);else{H.pipe(fp()).subscribe();const $=H.pipe(zo(Be=>Be.getRedirectResult().then(gt=>gt,()=>null)),E,Of({bufferSize:1,refCount:!1})),oe=Be=>new Co.y(gt=>({unsubscribe:s.runOutsideAngular(()=>Be(gt))})),ve=H.pipe(zo(Be=>oe(Be.onAuthStateChanged.bind(Be)))),Fe=H.pipe(zo(Be=>oe(Be.onIdTokenChanged.bind(Be))));this.authState=$.pipe(gw(ve),(0,X0.R)(S.outsideAngular),(0,Rp.Q)(S.insideAngular)),this.user=$.pipe(gw(Fe),(0,X0.R)(S.outsideAngular),(0,Rp.Q)(S.insideAngular)),this.idToken=this.user.pipe(zo(Be=>Be?(0,go.D)(Be.getIdToken()):Dn(null))),this.idTokenResult=this.user.pipe(zo(Be=>Be?(0,go.D)(Be.getIdTokenResult()):Dn(null))),this.credential=(0,co.T)($,q,this.authState.pipe(hr(Be=>!Be))).pipe((0,un.U)(Be=>(null==Be?void 0:Be.user)?Be:null),(0,X0.R)(S.outsideAngular),(0,Rp.Q)(S.insideAngular))}return(0,Ro.pX)(this,H,s,{spy:{apply:(ee,$,oe)=>{(ee.startsWith("signIn")||ee.startsWith("createUser"))&&oe.then(ve=>q.next(ve))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Ro.Dh),r.LFG(Ro.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(M_,8),r.LFG(_w,8),r.LFG(vw,8),r.LFG(pS,8),r.LFG(mS,8),r.LFG(k_,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(Ro.Dh),r.LFG(Ro.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(M_,8),r.LFG(_w,8),r.LFG(vw,8),r.LFG(pS,8),r.LFG(mS,8),r.LFG(k_,8))},token:t,providedIn:"any"}),t})(),bw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[yw]}),t})();class ww{}const ba="*";function zs(t,n){return{type:7,name:t,definitions:n,options:{}}}function Ar(t,n=null){return{type:4,styles:n,timings:t}}function Lf(t,n=null){return{type:3,steps:t,options:n}}function io(t,n=null){return{type:2,steps:t,options:n}}function Qt(t){return{type:6,styles:t,offset:null}}function Mr(t,n,e){return{type:0,name:t,styles:n,options:e}}function Nh(t){return{type:5,steps:t}}function pr(t,n,e=null){return{type:1,expr:t,animation:n,options:e}}function Pp(t=null){return{type:9,options:t}}function I_(t,n,e=null){return{type:11,selector:t,animation:n,options:e}}function Cw(t){Promise.resolve(null).then(t)}class Bp{constructor(n=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Cw(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class eb{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let e=0,i=0,o=0;const s=this.players.length;0==s?Cw(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==s&&this._onFinish()}),a.onDestroy(()=>{++i==s&&this._onDestroy()}),a.onStart(()=>{++o==s&&this._onStart()})}),this.totalTime=this.players.reduce((a,d)=>Math.max(a,d.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const e=n*this.totalTime;this.players.forEach(i=>{const o=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(o)})}getPosition(){const n=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const ig=["toast-component",""];function Up(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"button",5),r.NdJ("click",function(){return r.CHM(e),r.oxw().remove()}),r.TgZ(1,"span",6),r._uU(2,"\xd7"),r.qZA()()}}function xw(t,n){if(1&t&&(r.ynx(0),r._uU(1),r.BQk()),2&t){const e=r.oxw(2);r.xp6(1),r.hij("[",e.duplicatesCount+1,"]")}}function ay(t,n){if(1&t&&(r.TgZ(0,"div"),r._uU(1),r.YNc(2,xw,2,1,"ng-container",4),r.qZA()),2&t){const e=r.oxw();r.Tol(e.options.titleClass),r.uIk("aria-label",e.title),r.xp6(1),r.hij(" ",e.title," "),r.xp6(1),r.Q6J("ngIf",e.duplicatesCount)}}function gS(t,n){if(1&t&&r._UZ(0,"div",7),2&t){const e=r.oxw();r.Tol(e.options.messageClass),r.Q6J("innerHTML",e.message,r.oJD)}}function Tw(t,n){if(1&t&&(r.TgZ(0,"div",8),r._uU(1),r.qZA()),2&t){const e=r.oxw();r.Tol(e.options.messageClass),r.uIk("aria-label",e.message),r.xp6(1),r.hij(" ",e.message," ")}}function ly(t,n){if(1&t&&(r.TgZ(0,"div"),r._UZ(1,"div",9),r.qZA()),2&t){const e=r.oxw();r.xp6(1),r.Udp("width",e.width+"%")}}function Gd(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"button",5),r.NdJ("click",function(){return r.CHM(e),r.oxw().remove()}),r.TgZ(1,"span",6),r._uU(2,"\xd7"),r.qZA()()}}function O_(t,n){if(1&t&&(r.ynx(0),r._uU(1),r.BQk()),2&t){const e=r.oxw(2);r.xp6(1),r.hij("[",e.duplicatesCount+1,"]")}}function rl(t,n){if(1&t&&(r.TgZ(0,"div"),r._uU(1),r.YNc(2,O_,2,1,"ng-container",4),r.qZA()),2&t){const e=r.oxw();r.Tol(e.options.titleClass),r.uIk("aria-label",e.title),r.xp6(1),r.hij(" ",e.title," "),r.xp6(1),r.Q6J("ngIf",e.duplicatesCount)}}function rg(t,n){if(1&t&&r._UZ(0,"div",7),2&t){const e=r.oxw();r.Tol(e.options.messageClass),r.Q6J("innerHTML",e.message,r.oJD)}}function cy(t,n){if(1&t&&(r.TgZ(0,"div",8),r._uU(1),r.qZA()),2&t){const e=r.oxw();r.Tol(e.options.messageClass),r.uIk("aria-label",e.message),r.xp6(1),r.hij(" ",e.message," ")}}function Ju(t,n){if(1&t&&(r.TgZ(0,"div"),r._UZ(1,"div",9),r.qZA()),2&t){const e=r.oxw();r.xp6(1),r.Udp("width",e.width+"%")}}class Vp{constructor(n,e){this.component=n,this.injector=e}attach(n,e){return this._attachedHost=n,n.attach(this,e)}detach(){const n=this._attachedHost;if(n)return this._attachedHost=void 0,n.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class Rh{constructor(n,e,i,o,s,a){this.toastId=n,this.config=e,this.message=i,this.title=o,this.toastType=s,this.toastRef=a,this._onTap=new Ht.x,this._onAction=new Ht.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(n){this._onAction.next(n)}onAction(){return this._onAction.asObservable()}}const zn={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},Ff=new r.OlP("ToastConfig");class Jo{constructor(n){this._overlayRef=n,this.duplicatesCount=0,this._afterClosed=new Ht.x,this._activate=new Ht.x,this._manualClose=new Ht.x,this._resetTimeout=new Ht.x,this._countDuplicate=new Ht.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(n,e){n&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}class Zd{constructor(n,e){this._toastPackage=n,this._parentInjector=e}get(n,e,i){return n===Rh?this._toastPackage:this._parentInjector.get(n,e,i)}}class sc extends class og{attach(n,e){return this._attachedPortal=n,this.attachComponentPortal(n,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(n){this._disposeFn=n}}{constructor(n,e,i){super(),this._hostDomElement=n,this._componentFactoryResolver=e,this._appRef=i}attachComponentPortal(n,e){const i=this._componentFactoryResolver.resolveComponentFactory(n.component);let o;return o=i.create(n.injector),this._appRef.attachView(o.hostView),this.setDisposeFn(()=>{this._appRef.detachView(o.hostView),o.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(o),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(o)),o}_getComponentRootNode(n){return n.hostView.rootNodes[0]}}class _x{constructor(n){this._portalHost=n}attach(n,e=!0){return this._portalHost.attach(n,e)}detach(){return this._portalHost.detach()}}let vx=(()=>{class t{constructor(e){this._document=e}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e=this._document.createElement("div");e.classList.add("overlay-container"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(et))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),yx=(()=>{class t{constructor(e,i,o,s){this._overlayContainer=e,this._componentFactoryResolver=i,this._appRef=o,this._document=s,this._paneElements=new Map}create(e,i){return this._createOverlayRef(this.getPaneElement(e,i))}getPaneElement(e="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[e]||(this._paneElements.get(i)[e]=this._createPaneElement(e,i)),this._paneElements.get(i)[e]}_createPaneElement(e,i){const o=this._document.createElement("div");return o.id="toast-container",o.classList.add(e),o.classList.add("toast-container"),i?i.getContainerElement().appendChild(o):this._overlayContainer.getContainerElement().appendChild(o),o}_createPortalHost(e){return new sc(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new _x(this._createPortalHost(e))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(vx),r.LFG(r._Vd),r.LFG(r.z2F),r.LFG(et))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Yc=(()=>{class t{constructor(e,i,o,s,a){this.overlay=i,this._injector=o,this.sanitizer=s,this.ngZone=a,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},e.default),e.config),e.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},e.default.iconClasses),e.config.iconClasses))}show(e,i,o={},s=""){return this._preBuildNotification(s,e,i,this.applyConfig(o))}success(e,i,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",e,i,this.applyConfig(o))}error(e,i,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",e,i,this.applyConfig(o))}info(e,i,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",e,i,this.applyConfig(o))}warning(e,i,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",e,i,this.applyConfig(o))}clear(e){for(const i of this.toasts)if(void 0!==e){if(i.toastId===e)return void i.toastRef.manualClose()}else i.toastRef.manualClose()}remove(e){const i=this._findToast(e);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const o=this.toasts[this.currentlyActive].toastRef;o.isInactive()||(this.currentlyActive=this.currentlyActive+1,o.activate())}return!0}findDuplicate(e="",i="",o,s){const{includeTitleDuplicates:a}=this.toastrConfig;for(const d of this.toasts){const f=a&&d.title===e;if((!a||f)&&d.message===i)return d.toastRef.onDuplicate(o,s),d}return null}applyConfig(e={}){return Object.assign(Object.assign({},this.toastrConfig),e)}_findToast(e){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===e)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(e,i,o,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,i,o,s)):this._buildNotification(e,i,o,s)}_buildNotification(e,i,o,s){if(!s.toastComponent)throw new Error("toastComponent required");const a=this.findDuplicate(o,i,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&o||i)&&this.toastrConfig.preventDuplicates&&null!==a)return a;this.previousToastMessage=i;let d=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(d=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const f=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let v=i;i&&s.enableHtml&&(v=this.sanitizer.sanitize(r.q3G.HTML,i));const w=new Jo(f),x=new Rh(this.index,s,v,o,e,w),S=new Zd(x,this._injector),E=new Vp(s.toastComponent,S),q=f.attach(E,this.toastrConfig.newestOnTop);w.componentInstance=q.instance;const H={toastId:this.index,title:o||"",message:i||"",toastRef:w,onShown:w.afterActivate(),onHidden:w.afterClosed(),onTap:x.onTap(),onAction:x.onAction(),portal:q};return d||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{H.toastRef.activate()})),this.toasts.push(H),H}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Ff),r.LFG(yx),r.LFG(r.zs3),r.LFG(Fa),r.LFG(r.R0b))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Aw=(()=>{class t{constructor(e,i,o){this.toastrService=e,this.toastPackage=i,this.ngZone=o,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),i)):this.timeout=setTimeout(()=>e(),i)}outsideInterval(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),i)):this.intervalId=setInterval(()=>e(),i)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Yc),r.Y36(Rh),r.Y36(r.R0b))},t.\u0275cmp=r.Xpm({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(e,i){1&e&&r.NdJ("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&e&&(r.d8E("@flyInOut",i.state),r.Tol(i.toastClasses),r.Udp("display",i.displayStyle))},attrs:ig,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(e,i){1&e&&(r.YNc(0,Up,3,0,"button",0),r.YNc(1,ay,3,5,"div",1),r.YNc(2,gS,1,3,"div",2),r.YNc(3,Tw,2,4,"div",3),r.YNc(4,ly,2,2,"div",4)),2&e&&(r.Q6J("ngIf",i.options.closeButton),r.xp6(1),r.Q6J("ngIf",i.title),r.xp6(1),r.Q6J("ngIf",i.message&&i.options.enableHtml),r.xp6(1),r.Q6J("ngIf",i.message&&!i.options.enableHtml),r.xp6(1),r.Q6J("ngIf",i.options.progressBar))},directives:[Sn],encapsulation:2,data:{animation:[zs("flyInOut",[Mr("inactive",Qt({opacity:0})),Mr("active",Qt({opacity:1})),Mr("removed",Qt({opacity:0})),pr("inactive => active",Ar("{{ easeTime }}ms {{ easing }}")),pr("active => removed",Ar("{{ easeTime }}ms {{ easing }}"))])]}}),t})();const sg=Object.assign(Object.assign({},zn),{toastComponent:Aw});let nb=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[{provide:Ff,useValue:{default:sg,config:e}}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[wo]]}),t})(),uy=(()=>{class t{constructor(e,i,o){this.toastrService=e,this.toastPackage=i,this.appRef=o,this.width=-1,this.toastClasses="",this.state="inactive",this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Yc),r.Y36(Rh),r.Y36(r.z2F))},t.\u0275cmp=r.Xpm({type:t,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(e,i){1&e&&r.NdJ("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&e&&(r.Tol(i.toastClasses),r.Udp("display",i.displayStyle))},attrs:ig,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(e,i){1&e&&(r.YNc(0,Gd,3,0,"button",0),r.YNc(1,rl,3,5,"div",1),r.YNc(2,rg,1,3,"div",2),r.YNc(3,cy,2,4,"div",3),r.YNc(4,Ju,2,2,"div",4)),2&e&&(r.Q6J("ngIf",i.options.closeButton),r.xp6(1),r.Q6J("ngIf",i.title),r.xp6(1),r.Q6J("ngIf",i.message&&i.options.enableHtml),r.xp6(1),r.Q6J("ngIf",i.message&&!i.options.enableHtml),r.xp6(1),r.Q6J("ngIf",i.options.progressBar))},directives:[Sn],encapsulation:2}),t})();Object.assign(Object.assign({},zn),{toastComponent:uy});let Ko=(()=>{class t{constructor(e){this.toastr=e,this.loadingStateChanged=new Ht.x}showSuccessToast(e,i){this.toastr.success(e,i)}showErrorToast(e,i){this.toastr.error(e,i)}showWarningToast(e,i){this.toastr.warning(e,i)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Yc))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Po=(()=>{class t{constructor(e,i,o){this.router=e,this.afauth=i,this.uiService=o,this.isAuthenticated=!1,this.isAlreadyLogin=!1}initAuthListener(){this.afauth.authState.subscribe(e=>{e?(this.isAuthenticated=!0,0==this.isAlreadyLogin&&(this.router.navigate(["/sidenav"]),this.isAlreadyLogin=!0),this.uiService.showSuccessToast("You are succesfully logged in!","Login Successful")):(this.router.navigate(["/login"]),this.isAuthenticated=!1)})}registerUser(e){this.uiService.loadingStateChanged.next(!0),this.afauth.createUserWithEmailAndPassword(e.email,e.password).then(i=>{this.uiService.loadingStateChanged.next(!1)}).catch(i=>{this.uiService.loadingStateChanged.next(!1),this.uiService.showWarningToast(i.message,"Registration Error")})}login(e){this.uiService.loadingStateChanged.next(!0),this.afauth.signInWithEmailAndPassword(e.email,e.password).then(i=>{this.uiService.loadingStateChanged.next(!1)}).catch(i=>{this.uiService.loadingStateChanged.next(!1),this.uiService.showWarningToast(i.message,"Login Error")})}logout(){this.afauth.signOut(),this.isAlreadyLogin=!1,this.uiService.showSuccessToast("You are succesfully logged out!","Logout Successful")}onForgotPassword(e){this.afauth.sendPasswordResetEmail(e).then(()=>{this.uiService.showSuccessToast("Password reset email has been sent to: "+e+"!","Success")},i=>{this.uiService.showErrorToast("no email found, or something went wrong","Error")})}isAuth(){return this.isAuthenticated}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(ja),r.LFG(yw),r.LFG(Ko))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const _S={provide:r.tb,useFactory:function Sw(t,n){return()=>{if(as(n)){const e=Array.from(t.querySelectorAll(`[class*=${l}]`)),i=/\bflex-layout-.+?\b/g;e.forEach(o=>{o.classList.contains(`${l}ssr`)&&o.parentNode?o.parentNode.removeChild(o):o.className.replace(i,"")})}}},deps:[et,r.Lbi],multi:!0},l="flex-layout-";let p=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[_S]}),t})();class C{constructor(n=!1,e="all",i="",o="",s=0){this.matches=n,this.mediaQuery=e,this.mqAlias=i,this.suffix=o,this.priority=s,this.property=""}clone(){return new C(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let k=(()=>{class t{constructor(){this.stylesheet=new Map}addStyleToElement(e,i,o){const s=this.stylesheet.get(e);s?s.set(i,o):this.stylesheet.set(e,new Map([[i,o]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(e,i){const o=this.stylesheet.get(e);let s="";if(o){const a=o.get(i);("number"==typeof a||"string"==typeof a)&&(s=a+"")}return s}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const U={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[]},K=new r.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>U}),se=new r.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),Ie=new r.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function Nt(t,n){return t=t?t.clone():new C,n&&(t.mqAlias=n.alias,t.mediaQuery=n.mediaQuery,t.suffix=n.suffix,t.priority=n.priority),t}const tn="inline",qi=["row","column","row-reverse","column-reverse"];function ol(t){if(t)switch(t.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":t="wrap-reverse";break;case"no":case"none":case"nowrap":t="nowrap";break;default:t="wrap"}return t}let Bo=(()=>{class t{constructor(e,i,o,s){this.elementRef=e,this.styleBuilder=i,this.styler=o,this.marshal=s,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new Ht.x,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,this.marshal.activatedAlias)}ngOnChanges(e){Object.keys(e).forEach(i=>{if(-1!==this.inputs.indexOf(i)){const o=i.split(".").slice(1).join(".");this.setValue(e[i].currentValue,o)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(e=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),e)}addStyles(e,i){const o=this.styleBuilder,s=o.shouldCache;let a=this.styleCache.get(e);(!a||!s)&&(a=o.buildStyles(e,i),s&&this.styleCache.set(e,a)),this.mru=Object.assign({},a),this.applyStyleToElement(a),o.sideEffect(e,a,i)}clearStyles(){Object.keys(this.mru).forEach(e=>{this.mru[e]=""}),this.applyStyleToElement(this.mru),this.mru={}}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(e,i=!1){if(e){const[o,s]=this.styler.getFlowDirection(e);if(!s&&i){const a=function To(t){let[n,e,i]=function ro(t){t=t?t.toLowerCase():"";let[n,e,i]=t.split(" ");return qi.find(o=>o===n)||(n=qi[0]),e===tn&&(e=i!==tn?i:"",i=tn),[n,ol(e),!!i]}(t);return function Nf(t,n=null,e=!1){return{display:e?"inline-flex":"flex","box-sizing":"border-box","flex-direction":t,"flex-wrap":n||null}}(n,e,i)}(o);this.styler.applyStyleToElements(a,[e])}return o.trim()}return"row"}hasWrap(e){return this.styler.hasWrap(e)}applyStyleToElement(e,i,o=this.nativeElement){this.styler.applyStyleToElement(o,e,i)}setValue(e,i){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,i)}updateWithValue(e){this.currentValue!==e&&(this.addStyles(e),this.currentValue=e)}}return t.\u0275fac=function(e){r.$Z()},t.\u0275dir=r.lG2({type:t,features:[r.TTD]}),t})();const aB=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],oM="(orientation: portrait) and (max-width: 599.98px)",dy="(orientation: landscape) and (max-width: 959.98px)",sM="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",vS="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",aM="(orientation: portrait) and (min-width: 840px)",yS="(orientation: landscape) and (min-width: 1280px)",Ph={HANDSET:`${oM}, ${dy}`,TABLET:`${sM} , ${vS}`,WEB:`${aM}, ${yS} `,HANDSET_PORTRAIT:`${oM}`,TABLET_PORTRAIT:`${sM} `,WEB_PORTRAIT:`${aM}`,HANDSET_LANDSCAPE:`${dy}`,TABLET_LANDSCAPE:`${vS}`,WEB_LANDSCAPE:`${yS}`},TL=[{alias:"handset",priority:2e3,mediaQuery:Ph.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:Ph.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:Ph.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:Ph.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:Ph.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:Ph.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:Ph.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:Ph.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:Ph.WEB_PORTRAIT,overlapping:!0}],AL=/(\.|-|_)/g;function SL(t){let n=t.length>0?t.charAt(0):"",e=t.length>1?t.slice(1):"";return n.toUpperCase()+e}function ML(t,n=[]){const e={};return t.forEach(i=>{e[i.alias]=i}),n.forEach(i=>{e[i.alias]?function lM(t,...n){if(null==t)throw TypeError("Cannot convert undefined or null to object");for(let e of n)if(null!=e)for(let i in e)e.hasOwnProperty(i)&&(t[i]=e[i])}(e[i.alias],i):e[i.alias]=i}),function EL(t){return t.forEach(n=>{n.suffix||(n.suffix=function DL(t){return t.replace(AL,"|").split("|").map(SL).join("")}(n.alias),n.overlapping=!!n.overlapping)}),t}(Object.keys(e).map(i=>e[i]))}const bS=new r.OlP("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const t=(0,r.f3M)(Ie),n=(0,r.f3M)(K),e=[].concat.apply([],(t||[]).map(o=>Array.isArray(o)?o:[o]));return ML((n.disableDefaultBps?[]:aB).concat(n.addOrientationBps?TL:[]),e)}});function Dw(t,n){return(n&&n.priority||0)-(t&&t.priority||0)}function cM(t,n){return(t.priority||0)-(n.priority||0)}let ib=(()=>{class t{constructor(e){this.findByMap=new Map,this.items=[...e].sort(cM)}findByAlias(e){return e?this.findWithPredicate(e,i=>i.alias==e):null}findByQuery(e){return this.findWithPredicate(e,i=>i.mediaQuery==e)}get overlappings(){return this.items.filter(e=>1==e.overlapping)}get aliases(){return this.items.map(e=>e.alias)}get suffixes(){return this.items.map(e=>e.suffix?e.suffix:"")}findWithPredicate(e,i){let o=this.findByMap.get(e);return o||(o=this.items.find(i)||null,this.findByMap.set(e,o)),o||null}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(bS))},t.\u0275prov=(0,r.Yz7)({factory:function(){return new t((0,r.LFG)(bS))},token:t,providedIn:"root"}),t})(),rb=(()=>{class t{constructor(e,i,o){this._zone=e,this._platformId=i,this._document=o,this.source=new Io(new C(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const e=[];return this.registry.forEach((i,o)=>{i.matches&&e.push(o)}),e}isActive(e){const i=this.registry.get(e);return i?i.matches:this.registerQuery(e).some(o=>o.matches)}observe(e,i=!1){if(e&&e.length){const o=this._observable$.pipe(hr(a=>!i||e.indexOf(a.mediaQuery)>-1)),s=new Co.y(a=>{const d=this.registerQuery(e);if(d.length){const f=d.pop();d.forEach(v=>{a.next(v)}),this.source.next(f)}a.complete()});return(0,co.T)(s,o)}return this._observable$}registerQuery(e){const i=Array.isArray(e)?e:[e],o=[];return function wS(t,n){const e=t.filter(i=>!kL[i]);if(e.length>0){const i=e.join(", ");try{const o=n.createElement("style");o.setAttribute("type","text/css"),o.styleSheet||o.appendChild(n.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${i} {.fx-query-test{ }}\n`)),n.head.appendChild(o),e.forEach(s=>kL[s]=o)}catch(o){console.error(o)}}}(i,this._document),i.forEach(s=>{const a=f=>{this._zone.run(()=>this.source.next(new C(f.matches,s)))};let d=this.registry.get(s);d||(d=this.buildMQL(s),d.addListener(a),this.pendingRemoveListenerFns.push(()=>d.removeListener(a)),this.registry.set(s,d)),d.matches&&o.push(new C(!0,s))}),o}ngOnDestroy(){let e;for(;e=this.pendingRemoveListenerFns.pop();)e()}buildMQL(e){return function IL(t,n){return n&&window.matchMedia("all").addListener?window.matchMedia(t):{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{},onchange:null,addEventListener(){},removeEventListener(){},dispatchEvent:()=>!1}}(e,as(this._platformId))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.R0b),r.LFG(r.Lbi),r.LFG(et))},t.\u0275prov=(0,r.Yz7)({factory:function(){return new t((0,r.LFG)(r.R0b),(0,r.LFG)(r.Lbi),(0,r.LFG)(et))},token:t,providedIn:"root"}),t})();const kL={},L_="print",CS={alias:L_,mediaQuery:L_,priority:1e3};let uM=(()=>{class t{constructor(e,i,o){this.breakpoints=e,this.layoutConfig=i,this._document=o,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.isPrinting=!1,this.queue=new wx,this.deactivations=[]}withPrintQuery(e){return[...e,L_]}isPrintEvent(e){return e.mediaQuery.startsWith(L_)}get printAlias(){return this.layoutConfig.printWithBreakpoints||[]}get printBreakPoints(){return this.printAlias.map(e=>this.breakpoints.findByAlias(e)).filter(e=>null!==e)}getEventBreakpoints({mediaQuery:e}){const i=this.breakpoints.findByQuery(e);return(i?[...this.printBreakPoints,i]:this.printBreakPoints).sort(Dw)}updateEvent(e){let i=this.breakpoints.findByQuery(e.mediaQuery);return this.isPrintEvent(e)&&(i=this.getEventBreakpoints(e)[0],e.mediaQuery=i?i.mediaQuery:""),Nt(e,i)}registerBeforeAfterPrintHooks(e){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const i=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(e,this.getEventBreakpoints(new C(!0,L_))),e.updateStyles())},o=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(e),e.updateStyles())};this._document.defaultView.addEventListener("beforeprint",i),this._document.defaultView.addEventListener("afterprint",o),this.beforePrintEventListeners.push(i),this.afterPrintEventListeners.push(o)}interceptEvents(e){return this.registerBeforeAfterPrintHooks(e),i=>{this.isPrintEvent(i)?i.matches&&!this.isPrinting?(this.startPrinting(e,this.getEventBreakpoints(i)),e.updateStyles()):!i.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(e),e.updateStyles()):this.collectActivations(i)}}blockPropagation(){return e=>!(this.isPrinting||this.isPrintEvent(e))}startPrinting(e,i){this.isPrinting=!0,e.activatedBreakpoints=this.queue.addPrintBreakpoints(i)}stopPrinting(e){e.activatedBreakpoints=this.deactivations,this.deactivations=[],this.queue.clear(),this.isPrinting=!1}collectActivations(e){if(!this.isPrinting||this.isPrintingBeforeAfterEvent)if(e.matches)this.isPrintingBeforeAfterEvent||(this.deactivations=[]);else{const i=this.breakpoints.findByQuery(e.mediaQuery);i&&(this.deactivations.push(i),this.deactivations.sort(Dw))}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("beforeprint",e)),this.afterPrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("afterprint",e)))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(ib),r.LFG(K),r.LFG(et))},t.\u0275prov=(0,r.Yz7)({factory:function(){return new t((0,r.LFG)(ib),(0,r.LFG)(K),(0,r.LFG)(et))},token:t,providedIn:"root"}),t})();class wx{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(n){return n.push(CS),n.sort(Dw),n.forEach(e=>this.addBreakpoint(e)),this.printBreakpoints}addBreakpoint(n){n&&void 0===this.printBreakpoints.find(i=>i.mediaQuery===n.mediaQuery)&&(this.printBreakpoints=function Cx(t){return!!t&&t.mediaQuery.startsWith(L_)}(n)?[n,...this.printBreakpoints]:[...this.printBreakpoints,n])}clear(){this.printBreakpoints=[]}}function xx(t){for(let n in t){let e=t[n]||"";switch(n){case"display":t.display="flex"===e?["-webkit-flex","flex"]:"inline-flex"===e?["-webkit-inline-flex","inline-flex"]:e;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":t["-webkit-"+n]=e;break;case"flex-direction":e=e||"row",t["-webkit-flex-direction"]=e,t["flex-direction"]=e;break;case"order":t.order=t["-webkit-"+n]=isNaN(+e)?"0":e}}return t}let ds=(()=>{class t{constructor(e,i,o,s){this._serverStylesheet=e,this._serverModuleLoaded=i,this._platformId=o,this.layoutConfig=s}applyStyleToElement(e,i,o=null){let s={};"string"==typeof i&&(s[i]=o,i=s),s=this.layoutConfig.disableVendorPrefixes?i:xx(i),this._applyMultiValueStyleToElement(s,e)}applyStyleToElements(e,i=[]){const o=this.layoutConfig.disableVendorPrefixes?e:xx(e);i.forEach(s=>{this._applyMultiValueStyleToElement(o,s)})}getFlowDirection(e){const i="flex-direction";let o=this.lookupStyle(e,i);return[o||"row",this.lookupInlineStyle(e,i)||qs(this._platformId)&&this._serverModuleLoaded?o:""]}hasWrap(e){return"wrap"===this.lookupStyle(e,"flex-wrap")}lookupAttributeValue(e,i){return e.getAttribute(i)||""}lookupInlineStyle(e,i){return as(this._platformId)?e.style.getPropertyValue(i):this._getServerStyle(e,i)}lookupStyle(e,i,o=!1){let s="";return e&&((s=this.lookupInlineStyle(e,i))||(as(this._platformId)?o||(s=getComputedStyle(e).getPropertyValue(i)):this._serverModuleLoaded&&(s=this._serverStylesheet.getStyleForElement(e,i)))),s?s.trim():""}_applyMultiValueStyleToElement(e,i){Object.keys(e).sort().forEach(o=>{const s=e[o],a=Array.isArray(s)?s:[s];a.sort();for(let d of a)d=d?d+"":"",as(this._platformId)||!this._serverModuleLoaded?as(this._platformId)?i.style.setProperty(o,d):this._setServerStyle(i,o,d):this._serverStylesheet.addStyleToElement(i,o,d)})}_setServerStyle(e,i,o){i=i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const s=this._readStyleAttribute(e);s[i]=o||"",this._writeStyleAttribute(e,s)}_getServerStyle(e,i){return this._readStyleAttribute(e)[i]||""}_readStyleAttribute(e){const i={},o=e.getAttribute("style");if(o){const s=o.split(/;+/g);for(let a=0;a<s.length;a++){const d=s[a].trim();if(d.length>0){const f=d.indexOf(":");if(-1===f)throw new Error(`Invalid CSS style: ${d}`);i[d.substr(0,f).trim()]=d.substr(f+1).trim()}}}return i}_writeStyleAttribute(e,i){let o="";for(const s in i)i[s]&&(o+=s+":"+i[s]+";");e.setAttribute("style",o)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(k),r.LFG(se),r.LFG(r.Lbi),r.LFG(K))},t.\u0275prov=(0,r.Yz7)({factory:function(){return new t((0,r.LFG)(k),(0,r.LFG)(se),(0,r.LFG)(r.Lbi),(0,r.LFG)(K))},token:t,providedIn:"root"}),t})();class Ws{constructor(){this.shouldCache=!0}sideEffect(n,e,i){}}function AS(t,n="1",e="1"){let i=[n,e,t],o=t.indexOf("calc");if(o>0){i[2]=SS(t.substring(o).trim());let s=t.substr(0,o).trim().split(" ");2==s.length&&(i[0]=s[0],i[1]=s[1])}else if(0==o)i[2]=SS(t.trim());else{let s=t.split(" ");i=3===s.length?s:[n,e,t]}return i}function SS(t){return t.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}let Ts=(()=>{class t{constructor(e,i,o){this.matchMedia=e,this.breakpoints=i,this.hook=o,this.activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new Ht.x,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?this.activatedBreakpoints[0].alias:""}onMediaChange(e){const i=this.findByQuery(e.mediaQuery);i&&((e=Nt(e,i)).matches&&-1===this.activatedBreakpoints.indexOf(i)?(this.activatedBreakpoints.push(i),this.activatedBreakpoints.sort(Dw),this.updateStyles()):!e.matches&&-1!==this.activatedBreakpoints.indexOf(i)&&(this.activatedBreakpoints.splice(this.activatedBreakpoints.indexOf(i),1),this.activatedBreakpoints.sort(Dw),this.updateStyles()))}init(e,i,o,s,a=[]){Tx(this.updateMap,e,i,o),Tx(this.clearMap,e,i,s),this.buildElementKeyMap(e,i),this.watchExtraTriggers(e,i,a)}getValue(e,i,o){const s=this.elementMap.get(e);if(s){const a=void 0!==o?s.get(o):this.getActivatedValues(s,i);if(a)return a.get(i)}}hasValue(e,i){const o=this.elementMap.get(e);if(o){const s=this.getActivatedValues(o,i);if(s)return void 0!==s.get(i)||!1}return!1}setValue(e,i,o,s){let a=this.elementMap.get(e);if(a){const f=(a.get(s)||new Map).set(i,o);a.set(s,f),this.elementMap.set(e,a)}else a=(new Map).set(s,(new Map).set(i,o)),this.elementMap.set(e,a);const d=this.getValue(e,i);void 0!==d&&this.updateElement(e,i,d)}trackValue(e,i){return this.subject.asObservable().pipe(hr(o=>o.element===e&&o.key===i))}updateStyles(){this.elementMap.forEach((e,i)=>{const o=new Set(this.elementKeyMap.get(i));let s=this.getActivatedValues(e);s&&s.forEach((a,d)=>{this.updateElement(i,d,a),o.delete(d)}),o.forEach(a=>{if(s=this.getActivatedValues(e,a),s){const d=s.get(a);this.updateElement(i,a,d)}else this.clearElement(i,a)})})}clearElement(e,i){const o=this.clearMap.get(e);if(o){const s=o.get(i);s&&(s(),this.subject.next({element:e,key:i,value:""}))}}updateElement(e,i,o){const s=this.updateMap.get(e);if(s){const a=s.get(i);a&&(a(o),this.subject.next({element:e,key:i,value:o}))}}releaseElement(e){const i=this.watcherMap.get(e);i&&(i.forEach(s=>s.unsubscribe()),this.watcherMap.delete(e));const o=this.elementMap.get(e);o&&(o.forEach((s,a)=>o.delete(a)),this.elementMap.delete(e))}triggerUpdate(e,i){const o=this.elementMap.get(e);if(o){const s=this.getActivatedValues(o,i);s&&(i?this.updateElement(e,i,s.get(i)):s.forEach((a,d)=>this.updateElement(e,d,a)))}}buildElementKeyMap(e,i){let o=this.elementKeyMap.get(e);o||(o=new Set,this.elementKeyMap.set(e,o)),o.add(i)}watchExtraTriggers(e,i,o){if(o&&o.length){let s=this.watcherMap.get(e);if(s||(s=new Map,this.watcherMap.set(e,s)),!s.get(i)){const d=(0,co.T)(...o).subscribe(()=>{const f=this.getValue(e,i);this.updateElement(e,i,f)});s.set(i,d)}}}findByQuery(e){return this.breakpoints.findByQuery(e)}getActivatedValues(e,i){for(let s=0;s<this.activatedBreakpoints.length;s++){const d=e.get(this.activatedBreakpoints[s].alias);if(d&&(void 0===i||d.has(i)&&null!=d.get(i)))return d}const o=e.get("");return void 0===i||o&&o.has(i)?o:void 0}observeActivations(){const i=this.breakpoints.items.map(o=>o.mediaQuery);this.matchMedia.observe(this.hook.withPrintQuery(i)).pipe((0,Wo.b)(this.hook.interceptEvents(this)),hr(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(rb),r.LFG(ib),r.LFG(uM))},t.\u0275prov=(0,r.Yz7)({factory:function(){return new t((0,r.LFG)(rb),(0,r.LFG)(ib),(0,r.LFG)(uM))},token:t,providedIn:"root"}),t})();function Tx(t,n,e,i){if(void 0!==i){let o=t.get(n);o||(o=new Map,t.set(n,o)),o.set(e,i)}}const LL=new r.OlP("cdk-dir-doc",{providedIn:"root",factory:function hM(){return(0,r.f3M)(et)}}),fM=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Us=(()=>{class t{constructor(e){if(this.value="ltr",this.change=new r.vpe,e){const o=e.documentElement?e.documentElement.dir:null;this.value=function DS(t){const n=(null==t?void 0:t.toLowerCase())||"";return"auto"===n&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?fM.test(navigator.language)?"rtl":"ltr":"rtl"===n?"rtl":"ltr"}((e.body?e.body.dir:null)||o||"ltr")}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(LL,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),hy=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();var ES=me(5032);function ai(t){return(0,An.e)((n,e)=>{(0,$i.Xf)(t).subscribe((0,L.x)(e,()=>e.complete(),ES.Z)),!e.closed&&n.subscribe(e)})}const Mw="inline",kw=["row","column","row-reverse","column-reverse"];function MS(t){t=t?t.toLowerCase():"";let[n,e,i]=t.split(" ");return kw.find(o=>o===n)||(n=kw[0]),e===Mw&&(e=i!==Mw?i:"",i=Mw),[n,mM(e),!!i]}function ob(t){let[n]=MS(t);return n.indexOf("row")>-1}function mM(t){if(t)switch(t.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":t="wrap-reverse";break;case"no":case"none":case"nowrap":t="nowrap";break;default:t="wrap"}return t}let _M=(()=>{class t extends Ws{buildStyles(e){return function pM(t){let[n,e,i]=MS(t);return function gM(t,n=null,e=!1){return{display:e?"inline-flex":"flex","box-sizing":"border-box","flex-direction":t,"flex-wrap":n||null}}(n,e,i)}(e)}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=r.n5z(t)))(i||t)}}(),t.\u0275prov=(0,r.Yz7)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const vM=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let FL=(()=>{class t extends Bo{constructor(e,i,o,s){super(e,o,i,s),this.DIRECTIVE_KEY="layout",this.styleCache=yM,this.init()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(ds),r.Y36(_M),r.Y36(Ts))},t.\u0275dir=r.lG2({type:t,features:[r.qOj]}),t})(),zr=(()=>{class t extends FL{constructor(){super(...arguments),this.inputs=vM}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=r.n5z(t)))(i||t)}}(),t.\u0275dir=r.lG2({type:t,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[r.qOj]}),t})();const yM=new Map,bM={"margin-left":null,"margin-right":null,"margin-top":null,"margin-bottom":null};let sl=(()=>{class t extends Ws{constructor(e){super(),this._styler=e}buildStyles(e,i){return e.endsWith(Ax)?function TM(t,n){const[e,i]=t.split(" "),s=v=>`-${v}`;let a="0px",d=s(i||e),f="0px";return"rtl"===n?f=s(e):a=s(e),{margin:`0px ${a} ${d} ${f}`}}(e=e.slice(0,e.indexOf(Ax)),i.directionality):{}}sideEffect(e,i,o){const s=o.items;if(e.endsWith(Ax)){const a=function PL(t,n){const[e,i]=t.split(" ");let s="0px",d="0px";return"rtl"===n?d=e:s=e,{padding:`0px ${s} ${i||e} ${d}`}}(e=e.slice(0,e.indexOf(Ax)),o.directionality);this._styler.applyStyleToElements(a,o.items)}else{const a=s.pop(),d=function SM(t,n){const e=AM(n.directionality,n.layout),i=Object.assign({},bM);return i[e]=t,i}(e,o);this._styler.applyStyleToElements(d,s),this._styler.applyStyleToElements(bM,[a])}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(ds))},t.\u0275prov=(0,r.Yz7)({factory:function(){return new t((0,r.LFG)(ds))},token:t,providedIn:"root"}),t})();const wM=["fxLayoutGap","fxLayoutGap.xs","fxLayoutGap.sm","fxLayoutGap.md","fxLayoutGap.lg","fxLayoutGap.xl","fxLayoutGap.lt-sm","fxLayoutGap.lt-md","fxLayoutGap.lt-lg","fxLayoutGap.lt-xl","fxLayoutGap.gt-xs","fxLayoutGap.gt-sm","fxLayoutGap.gt-md","fxLayoutGap.gt-lg"];let NL=(()=>{class t extends Bo{constructor(e,i,o,s,a,d){super(e,a,s,d),this.zone=i,this.directionality=o,this.styleUtils=s,this.layout="row",this.DIRECTIVE_KEY="layout-gap",this.observerSubject=new Ht.x;const f=[this.directionality.change,this.observerSubject.asObservable()];this.init(f),this.marshal.trackValue(this.nativeElement,"layout").pipe(ai(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}get childrenNodes(){const e=this.nativeElement.children,i=[];for(let o=e.length;o--;)i[o]=e[o];return i}ngAfterContentInit(){this.buildChildObservable(),this.triggerUpdate()}ngOnDestroy(){super.ngOnDestroy(),this.observer&&this.observer.disconnect()}onLayoutChange(e){const o=e.value.split(" ");this.layout=o[0],kw.find(s=>s===this.layout)||(this.layout="row"),this.triggerUpdate()}updateWithValue(e){const i=this.childrenNodes.filter(o=>1===o.nodeType&&this.willDisplay(o)).sort((o,s)=>{const a=+this.styler.lookupStyle(o,"order"),d=+this.styler.lookupStyle(s,"order");return isNaN(a)||isNaN(d)||a===d?0:a>d?1:-1});if(i.length>0){const o=this.directionality.value,s=this.layout;"row"===s&&"rtl"===o?this.styleCache=RL:"row"===s&&"rtl"!==o?this.styleCache=xM:"column"===s&&"rtl"===o?this.styleCache=CM:"column"===s&&"rtl"!==o&&(this.styleCache=sb),this.addStyles(e,{directionality:o,items:i,layout:s})}}clearStyles(){const e=Object.keys(this.mru).length>0,i=e?"padding":AM(this.directionality.value,this.layout);e&&super.clearStyles(),this.styleUtils.applyStyleToElements({[i]:""},this.childrenNodes)}willDisplay(e){const i=this.marshal.getValue(e,"show-hide");return!0===i||void 0===i&&"none"!==this.styleUtils.lookupStyle(e,"display")}buildChildObservable(){this.zone.runOutsideAngular(()=>{"undefined"!=typeof MutationObserver&&(this.observer=new MutationObserver(e=>{e.some(o=>o.addedNodes&&o.addedNodes.length>0||o.removedNodes&&o.removedNodes.length>0)&&this.observerSubject.next()}),this.observer.observe(this.nativeElement,{childList:!0}))})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.R0b),r.Y36(Us),r.Y36(ds),r.Y36(sl),r.Y36(Ts))},t.\u0275dir=r.lG2({type:t,features:[r.qOj]}),t})(),$s=(()=>{class t extends NL{constructor(){super(...arguments),this.inputs=wM}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=r.n5z(t)))(i||t)}}(),t.\u0275dir=r.lG2({type:t,selectors:[["","fxLayoutGap",""],["","fxLayoutGap.xs",""],["","fxLayoutGap.sm",""],["","fxLayoutGap.md",""],["","fxLayoutGap.lg",""],["","fxLayoutGap.xl",""],["","fxLayoutGap.lt-sm",""],["","fxLayoutGap.lt-md",""],["","fxLayoutGap.lt-lg",""],["","fxLayoutGap.lt-xl",""],["","fxLayoutGap.gt-xs",""],["","fxLayoutGap.gt-sm",""],["","fxLayoutGap.gt-md",""],["","fxLayoutGap.gt-lg",""]],inputs:{fxLayoutGap:"fxLayoutGap","fxLayoutGap.xs":"fxLayoutGap.xs","fxLayoutGap.sm":"fxLayoutGap.sm","fxLayoutGap.md":"fxLayoutGap.md","fxLayoutGap.lg":"fxLayoutGap.lg","fxLayoutGap.xl":"fxLayoutGap.xl","fxLayoutGap.lt-sm":"fxLayoutGap.lt-sm","fxLayoutGap.lt-md":"fxLayoutGap.lt-md","fxLayoutGap.lt-lg":"fxLayoutGap.lt-lg","fxLayoutGap.lt-xl":"fxLayoutGap.lt-xl","fxLayoutGap.gt-xs":"fxLayoutGap.gt-xs","fxLayoutGap.gt-sm":"fxLayoutGap.gt-sm","fxLayoutGap.gt-md":"fxLayoutGap.gt-md","fxLayoutGap.gt-lg":"fxLayoutGap.gt-lg"},features:[r.qOj]}),t})();const RL=new Map,CM=new Map,xM=new Map,sb=new Map,Ax=" grid";function AM(t,n){switch(n){case"column":return"margin-bottom";case"column-reverse":return"margin-top";case"row":default:return"rtl"===t?"margin-left":"margin-right";case"row-reverse":return"rtl"===t?"margin-right":"margin-left"}}function fy(t,...n){if(null==t)throw TypeError("Cannot convert undefined or null to object");for(let e of n)if(null!=e)for(let i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}let kS=(()=>{class t extends Ws{constructor(e){super(),this.layoutConfig=e}buildStyles(e,i){let[o,s,...a]=e.split(" "),d=a.join(" ");const f=i.direction.indexOf("column")>-1?"column":"row",v=ob(f)?"max-width":"max-height",w=ob(f)?"min-width":"min-height",x=String(d).indexOf("calc")>-1,S=x||"auto"===d,E=String(d).indexOf("%")>-1&&!x,q=String(d).indexOf("px")>-1||String(d).indexOf("rem")>-1||String(d).indexOf("em")>-1||String(d).indexOf("vw")>-1||String(d).indexOf("vh")>-1;let H=x||q;o="0"==o?0:o,s="0"==s?0:s;const ee=!o&&!s;let $={};const oe={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(d||""){case"":const ve=!1!==this.layoutConfig.useColumnBasisZero;d="row"===f?"0%":ve?"0.000000001px":"auto";break;case"initial":case"nogrow":o=0,d="auto";break;case"grow":d="100%";break;case"noshrink":s=0,d="auto";break;case"auto":break;case"none":o=0,s=0,d="auto";break;default:!H&&!E&&!isNaN(d)&&(d+="%"),"0%"===d&&(H=!0),"0px"===d&&(d="0%"),$=fy(oe,x?{"flex-grow":o,"flex-shrink":s,"flex-basis":H?d:"100%"}:{flex:`${o} ${s} ${H?d:"100%"}`})}return $.flex||$["flex-grow"]||($=fy(oe,x?{"flex-grow":o,"flex-shrink":s,"flex-basis":d}:{flex:`${o} ${s} ${d}`})),"0%"!==d&&"0px"!==d&&"0.000000001px"!==d&&"auto"!==d&&($[w]=ee||H&&o?d:null,$[v]=ee||!S&&s?d:null),$[w]||$[v]?i.hasWrap&&($[x?"flex-basis":"flex"]=$[v]?x?$[v]:`${o} ${s} ${$[v]}`:x?$[w]:`${o} ${s} ${$[w]}`):$=fy(oe,x?{"flex-grow":o,"flex-shrink":s,"flex-basis":d}:{flex:`${o} ${s} ${d}`}),fy($,{"box-sizing":"border-box"})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(K))},t.\u0275prov=(0,r.Yz7)({factory:function(){return new t((0,r.LFG)(K))},token:t,providedIn:"root"}),t})();const IS=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let BL=(()=>{class t extends Bo{constructor(e,i,o,s,a){super(e,s,i,a),this.layoutConfig=o,this.marshal=a,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(e){this.flexShrink=e||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(e){this.flexGrow=e||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe(ai(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe(ai(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(e){const o=e.value.split(" ");this.direction=o[0],this.wrap=void 0!==o[1]&&"wrap"===o[1],this.triggerUpdate()}updateWithValue(e){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const o=this.direction,s=o.startsWith("row"),a=this.wrap;s&&a?this.styleCache=Pf:s&&!a?this.styleCache=qp:!s&&a?this.styleCache=DM:!s&&!a&&(this.styleCache=Rf);const f=AS(String(e).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(f.join(" "),{direction:o,hasWrap:a})}triggerReflow(){const e=this.activatedValue;if(void 0!==e){const i=AS(e+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,i.join(" "))}}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(ds),r.Y36(K),r.Y36(kS),r.Y36(Ts))},t.\u0275dir=r.lG2({type:t,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[r.qOj]}),t})(),Yd=(()=>{class t extends BL{constructor(){super(...arguments),this.inputs=IS}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=r.n5z(t)))(i||t)}}(),t.\u0275dir=r.lG2({type:t,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[r.qOj]}),t})();const qp=new Map,Rf=new Map,Pf=new Map,DM=new Map,RM={margin:0,width:"100%",height:"100%","min-width":"100%","min-height":"100%"};let PM=(()=>{class t extends Ws{buildStyles(e){return RM}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=r.n5z(t)))(i||t)}}(),t.\u0275prov=(0,r.Yz7)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),F_=(()=>{class t extends Bo{constructor(e,i,o,s){super(e,o,i,s),this.styleCache=BM,this.addStyles("")}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(ds),r.Y36(PM),r.Y36(Ts))},t.\u0275dir=r.lG2({type:t,selectors:[["","fxFill",""],["","fxFlexFill",""]],features:[r.qOj]}),t})();const BM=new Map;let UM=(()=>{class t extends Ws{buildStyles(e,i){const o={},[s,a]=e.split(" ");switch(s){case"center":o["justify-content"]="center";break;case"space-around":o["justify-content"]="space-around";break;case"space-between":o["justify-content"]="space-between";break;case"space-evenly":o["justify-content"]="space-evenly";break;case"end":case"flex-end":o["justify-content"]="flex-end";break;default:o["justify-content"]="flex-start"}switch(a){case"start":case"flex-start":o["align-items"]=o["align-content"]="flex-start";break;case"center":o["align-items"]=o["align-content"]="center";break;case"end":case"flex-end":o["align-items"]=o["align-content"]="flex-end";break;case"space-between":o["align-content"]="space-between",o["align-items"]="stretch";break;case"space-around":o["align-content"]="space-around",o["align-items"]="stretch";break;case"baseline":o["align-content"]="stretch",o["align-items"]="baseline";break;default:o["align-items"]=o["align-content"]="stretch"}return fy(o,{display:i.inline?"inline-flex":"flex","flex-direction":i.layout,"box-sizing":"border-box","max-width":"stretch"===a?ob(i.layout)?null:"100%":null,"max-height":"stretch"===a&&ob(i.layout)?"100%":null})}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=r.n5z(t)))(i||t)}}(),t.\u0275prov=(0,r.Yz7)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const jM=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let YL=(()=>{class t extends Bo{constructor(e,i,o,s){super(e,o,i,s),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe(ai(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(e){const i=this.layout||"row",o=this.inline;"row"===i&&o?this.styleCache=JL:"row"!==i||o?"row-reverse"===i&&o?this.styleCache=XL:"row-reverse"!==i||o?"column"===i&&o?this.styleCache=KL:"column"!==i||o?"column-reverse"===i&&o?this.styleCache=eF:"column-reverse"===i&&!o&&(this.styleCache=QL):this.styleCache=WL:this.styleCache=$L:this.styleCache=zL,this.addStyles(e,{layout:i,inline:o})}onLayoutChange(e){const i=e.value.split(" ");this.layout=i[0],this.inline=e.value.includes("inline"),kw.find(o=>o===this.layout)||(this.layout="row"),this.triggerUpdate()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(ds),r.Y36(UM),r.Y36(Ts))},t.\u0275dir=r.lG2({type:t,features:[r.qOj]}),t})(),uo=(()=>{class t extends YL{constructor(){super(...arguments),this.inputs=jM}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=r.n5z(t)))(i||t)}}(),t.\u0275dir=r.lG2({type:t,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[r.qOj]}),t})();const zL=new Map,WL=new Map,$L=new Map,QL=new Map,JL=new Map,KL=new Map,XL=new Map,eF=new Map;let VM=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[p,hy]]}),t})();function Rn(t){return null!=t&&"false"!=`${t}`}function ac(t,n=0){return qM(t)?Number(t):n}function qM(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function Dx(t){return Array.isArray(t)?t:[t]}function wa(t){return null==t?"":"string"==typeof t?t:`${t}px`}function Hp(t){return t instanceof r.SBq?t.nativeElement:t}var ab=me(4986);function Ow(t,n=ab.z){return(0,An.e)((e,i)=>{let o=null,s=null,a=null;const d=()=>{if(o){o.unsubscribe(),o=null;const v=s;s=null,i.next(v)}};function f(){const v=a+t,w=n.now();if(w<v)return o=this.schedule(void 0,v-w),void i.add(o);d()}e.subscribe((0,L.x)(i,v=>{s=v,a=n.now(),o||(o=n.schedule(f,t),i.add(o))},()=>{d(),i.complete()},void 0,()=>{s=o=null}))})}let Fw,NS=(()=>{class t{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),GM=(()=>{class t{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Hp(e);return new Co.y(o=>{const a=this._observeElement(i).subscribe(o);return()=>{a.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new Ht.x,o=this._mutationObserverFactory.create(s=>i.next(s));o&&o.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:o,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:o}=this._observedElements.get(e);i&&i.disconnect(),o.complete(),this._observedElements.delete(e)}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(NS))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Lw=(()=>{class t{constructor(e,i,o){this._contentObserver=e,this._elementRef=i,this._ngZone=o,this.event=new r.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Rn(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=ac(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Ow(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(GM),r.Y36(r.SBq),r.Y36(r.R0b))},t.\u0275dir=r.lG2({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),lb=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[NS]}),t})();try{Fw="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(t){Fw=!1}let cb,ho=(()=>{class t{constructor(e){this._platformId=e,this.isBrowser=this._platformId?as(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Fw)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.Lbi))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const py=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function tF(){if(cb)return cb;if("object"!=typeof document||!document)return cb=new Set(py),cb;let t=document.createElement("input");return cb=new Set(py.filter(n=>(t.setAttribute("type",n),t.type===n))),cb}let my,Nw,ub,RS;function N_(t){return function gB(){if(null==my&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>my=!0}))}finally{my=my||!1}return my}()?t:!!t.capture}function Ei(){if(null==ub){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ub=!1,ub;if("scrollBehavior"in document.documentElement.style)ub=!0;else{const t=Element.prototype.scrollTo;ub=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return ub}function Rw(){if("object"!=typeof document||!document)return 0;if(null==Nw){const t=document.createElement("div"),n=t.style;t.dir="rtl",n.width="1px",n.overflow="auto",n.visibility="hidden",n.pointerEvents="none",n.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",t.appendChild(e),document.body.appendChild(t),Nw=0,0===t.scrollLeft&&(t.scrollLeft=1,Nw=0===t.scrollLeft?1:2),t.remove()}return Nw}function Pw(t){if(function nF(){if(null==RS){const t="undefined"!=typeof document?document.head:null;RS=!(!t||!t.createShadowRoot&&!t.attachShadow)}return RS}()){const n=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}function Bw(){let t="undefined"!=typeof document&&document?document.activeElement:null;for(;t&&t.shadowRoot;){const n=t.shadowRoot.activeElement;if(n===t)break;t=n}return t}function Gp(t){return t.composedPath?t.composedPath()[0]:t.target}function db(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}function lc(t,...n){return n.length?n.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}function nk(t){return hr((n,e)=>t<=e)}function P_(t,n=Yl.y){return t=null!=t?t:OF,(0,An.e)((e,i)=>{let o,s=!0;e.subscribe((0,L.x)(i,a=>{const d=n(a);(s||!t(o,d))&&(s=!1,o=d,i.next(a))}))})}function OF(t,n){return t===n}function lg(t,n){return(t.getAttribute(n)||"").match(/\S+/g)||[]}const vy="cdk-describedby-message",qS="cdk-describedby-host";let HS=0,GS=(()=>{class t{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+HS++,this._document=e}describe(e,i,o){if(!this._canBeDescribed(e,i))return;const s=ik(i,o);"string"!=typeof i?(ZS(i),this._messageRegistry.set(s,{messageElement:i,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(i,o),this._isElementDescribedByMessage(e,s)||this._addMessageReference(e,s)}removeDescription(e,i,o){var s;if(!i||!this._isElementNode(e))return;const a=ik(i,o);if(this._isElementDescribedByMessage(e,a)&&this._removeMessageReference(e,a),"string"==typeof i){const d=this._messageRegistry.get(a);d&&0===d.referenceCount&&this._deleteMessageElement(a)}0===(null===(s=this._messagesContainer)||void 0===s?void 0:s.childNodes.length)&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){var e;const i=this._document.querySelectorAll(`[${qS}="${this._id}"]`);for(let o=0;o<i.length;o++)this._removeCdkDescribedByReferenceIds(i[o]),i[o].removeAttribute(qS);null===(e=this._messagesContainer)||void 0===e||e.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const o=this._document.createElement("div");ZS(o),o.textContent=e,i&&o.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(o),this._messageRegistry.set(ik(e,i),{messageElement:o,referenceCount:0})}_deleteMessageElement(e){var i,o;null===(o=null===(i=this._messageRegistry.get(e))||void 0===i?void 0:i.messageElement)||void 0===o||o.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let s=0;s<i.length;s++)i[s].remove();const o=this._document.createElement("div");o.style.visibility="hidden",o.classList.add(e),o.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&o.setAttribute("platform","server"),this._document.body.appendChild(o),this._messagesContainer=o}_removeCdkDescribedByReferenceIds(e){const i=lg(e,"aria-describedby").filter(o=>0!=o.indexOf(vy));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const o=this._messageRegistry.get(i);(function FF(t,n,e){const i=lg(t,n);i.some(o=>o.trim()==e.trim())||(i.push(e.trim()),t.setAttribute(n,i.join(" ")))})(e,"aria-describedby",o.messageElement.id),e.setAttribute(qS,this._id),o.referenceCount++}_removeMessageReference(e,i){const o=this._messageRegistry.get(i);o.referenceCount--,function NF(t,n,e){const o=lg(t,n).filter(s=>s!=e.trim());o.length?t.setAttribute(n,o.join(" ")):t.removeAttribute(n)}(e,"aria-describedby",o.messageElement.id),e.removeAttribute(qS)}_isElementDescribedByMessage(e,i){const o=lg(e,"aria-describedby"),s=this._messageRegistry.get(i),a=s&&s.messageElement.id;return!!a&&-1!=o.indexOf(a)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const o=null==i?"":`${i}`.trim(),s=e.getAttribute("aria-label");return!(!o||s&&s.trim()===o)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(et),r.LFG(ho))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ik(t,n){return"string"==typeof t?`${n||""}/${t}`:t}function ZS(t){t.id||(t.id=`${vy}-${HS++}`)}class PF{constructor(n){this._items=n,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Ht.x,this._typeaheadSubscription=Di.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new Ht.x,this.change=new Ht.x,n instanceof r.n_E&&n.changes.subscribe(e=>{if(this._activeItem){const o=e.toArray().indexOf(this._activeItem);o>-1&&o!==this._activeItemIndex&&(this._activeItemIndex=o)}})}skipPredicate(n){return this._skipPredicateFn=n,this}withWrap(n=!0){return this._wrap=n,this}withVerticalOrientation(n=!0){return this._vertical=n,this}withHorizontalOrientation(n){return this._horizontal=n,this}withAllowedModifierKeys(n){return this._allowedModifierKeys=n,this}withTypeAhead(n=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Wo.b)(e=>this._pressedLetters.push(e)),Ow(n),hr(()=>this._pressedLetters.length>0),(0,un.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let o=1;o<i.length+1;o++){const s=(this._activeItemIndex+o)%i.length,a=i[s];if(!this._skipPredicateFn(a)&&0===a.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(n=!0){return this._homeAndEnd=n,this}setActiveItem(n){const e=this._activeItem;this.updateActiveItem(n),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(n){const e=n.keyCode,o=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!n[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&o){this.setNextItemActive();break}return;case 38:if(this._vertical&&o){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&o){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&o){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&o){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&o){this.setLastItemActive();break}return;default:return void((o||lc(n,"shiftKey"))&&(n.key&&1===n.key.length?this._letterKeyStream.next(n.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],n.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(n){const e=this._getItemsArray(),i="number"==typeof n?n:e.indexOf(n),o=e[i];this._activeItem=null==o?null:o,this._activeItemIndex=i}_setActiveItemByDelta(n){this._wrap?this._setActiveInWrapMode(n):this._setActiveInDefaultMode(n)}_setActiveInWrapMode(n){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const o=(this._activeItemIndex+n*i+e.length)%e.length;if(!this._skipPredicateFn(e[o]))return void this.setActiveItem(o)}}_setActiveInDefaultMode(n){this._setActiveItemByIndex(this._activeItemIndex+n,n)}_setActiveItemByIndex(n,e){const i=this._getItemsArray();if(i[n]){for(;this._skipPredicateFn(i[n]);)if(!i[n+=e])return;this.setActiveItem(n)}}_getItemsArray(){return this._items instanceof r.n_E?this._items.toArray():this._items}}class rk extends PF{setActiveItem(n){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(n),this.activeItem&&this.activeItem.setActiveStyles()}}class fb extends PF{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(n){return this._origin=n,this}setActiveItem(n){super.setActiveItem(n),this.activeItem&&this.activeItem.focus(this._origin)}}let Rx=(()=>{class t{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function UF(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function ok(t){try{return t.frameElement}catch(n){return null}}(function ck(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}(e));if(i&&(-1===pb(i)||!this.isVisible(i)))return!1;let o=e.nodeName.toLowerCase(),s=pb(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===o||"object"===o||this._platform.WEBKIT&&this._platform.IOS&&!function ak(t){let n=t.nodeName.toLowerCase(),e="input"===n&&t.type;return"text"===e||"password"===e||"select"===n||"textarea"===n}(e))&&("audio"===o?!!e.hasAttribute("controls")&&-1!==s:"video"===o?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function lk(t){return!function VF(t){return function HF(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function jF(t){let n=t.nodeName.toLowerCase();return"input"===n||"select"===n||"button"===n||"textarea"===n}(t)||function qF(t){return function GF(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||sk(t))}(e)&&!this.isDisabled(e)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(e))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(ho))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function sk(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let n=t.getAttribute("tabindex");return!(!n||isNaN(parseInt(n,10)))}function pb(t){if(!sk(t))return null;const n=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(n)?-1:n}class uk{constructor(n,e,i,o,s=!1){this._element=n,this._checker=e,this._ngZone=i,this._document=o,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(n){this._enabled=n,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}destroy(){const n=this._startAnchor,e=this._endAnchor;n&&(n.removeEventListener("focus",this.startAnchorListener),n.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(n)))})}focusFirstTabbableElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(n)))})}focusLastTabbableElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(n)))})}_getRegionBoundary(n){const e=this._element.querySelectorAll(`[cdk-focus-region-${n}], [cdkFocusRegion${n}], [cdk-focus-${n}]`);return"start"==n?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(n){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return null==i||i.focus(n),!!i}return e.focus(n),!0}return this.focusFirstTabbableElement(n)}focusFirstTabbableElement(n){const e=this._getRegionBoundary("start");return e&&e.focus(n),!!e}focusLastTabbableElement(n){const e=this._getRegionBoundary("end");return e&&e.focus(n),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;const e=n.children;for(let i=0;i<e.length;i++){const o=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(o)return o}return null}_getLastTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;const e=n.children;for(let i=e.length-1;i>=0;i--){const o=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(o)return o}return null}_createAnchor(){const n=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,n),n.classList.add("cdk-visually-hidden"),n.classList.add("cdk-focus-trap-anchor"),n.setAttribute("aria-hidden","true"),n}_toggleAnchorTabIndex(n,e){n?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(n){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}_executeOnStable(n){this._ngZone.isStable?n():this._ngZone.onStable.pipe((0,Er.q)(1)).subscribe(n)}}let Px=(()=>{class t{constructor(e,i,o){this._checker=e,this._ngZone=i,this._document=o}create(e,i=!1){return new uk(e,this._checker,this._ngZone,this._document,i)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Rx),r.LFG(r.R0b),r.LFG(et))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),dk=(()=>{class t{constructor(e,i,o){this._elementRef=e,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=Rn(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=Rn(e)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const i=e.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=Bw(),this.focusTrap.focusInitialElementWhenReady()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(Px),r.Y36(et))},t.\u0275dir=r.lG2({type:t,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[r.TTD]}),t})();function YS(t){return 0===t.buttons||0===t.offsetX&&0===t.offsetY}function yy(t){const n=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!n||-1!==n.identifier||null!=n.radiusX&&1!==n.radiusX||null!=n.radiusY&&1!==n.radiusY)}const $F=new r.OlP("cdk-input-modality-detector-options"),zS={ignoreKeys:[18,17,224,91,16]},mb=N_({passive:!0,capture:!0});let Bx=(()=>{class t{constructor(e,i,o,s){this._platform=e,this._mostRecentTarget=null,this._modality=new Io(null),this._lastTouchMs=0,this._onKeydown=a=>{var d,f;(null===(f=null===(d=this._options)||void 0===d?void 0:d.ignoreKeys)||void 0===f?void 0:f.some(v=>v===a.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Gp(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<650||(this._modality.next(YS(a)?"keyboard":"mouse"),this._mostRecentTarget=Gp(a))},this._onTouchstart=a=>{yy(a)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Gp(a))},this._options=Object.assign(Object.assign({},zS),s),this.modalityDetected=this._modality.pipe(nk(1)),this.modalityChanged=this.modalityDetected.pipe(P_()),e.isBrowser&&i.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,mb),o.addEventListener("mousedown",this._onMousedown,mb),o.addEventListener("touchstart",this._onTouchstart,mb)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,mb),document.removeEventListener("mousedown",this._onMousedown,mb),document.removeEventListener("touchstart",this._onTouchstart,mb))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(ho),r.LFG(r.R0b),r.LFG(et),r.LFG($F,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Vw=new r.OlP("liveAnnouncerElement",{providedIn:"root",factory:function QF(){return null}}),JF=new r.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let WS=(()=>{class t{constructor(e,i,o,s){this._ngZone=i,this._defaultOptions=s,this._document=o,this._liveElement=e||this._createLiveElement()}announce(e,...i){const o=this._defaultOptions;let s,a;return 1===i.length&&"number"==typeof i[0]?a=i[0]:[s,a]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=o&&o.politeness?o.politeness:"polite"),null==a&&o&&(a=o.duration),this._liveElement.setAttribute("aria-live",s),this._ngZone.runOutsideAngular(()=>new Promise(d=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,d(),"number"==typeof a&&(this._previousTimeout=setTimeout(()=>this.clear(),a))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var e;clearTimeout(this._previousTimeout),null===(e=this._liveElement)||void 0===e||e.remove(),this._liveElement=null}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),o=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return o.classList.add(e),o.classList.add("cdk-visually-hidden"),o.setAttribute("aria-atomic","true"),o.setAttribute("aria-live","polite"),this._document.body.appendChild(o),o}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Vw,8),r.LFG(r.R0b),r.LFG(et),r.LFG(JF,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Ux=new r.OlP("cdk-focus-monitor-default-options"),jx=N_({passive:!0,capture:!0});let Bh=(()=>{class t{constructor(e,i,o,s,a){this._ngZone=e,this._platform=i,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ht.x,this._rootNodeFocusAndBlurListener=d=>{const f=Gp(d),v="focus"===d.type?this._onFocus:this._onBlur;for(let w=f;w;w=w.parentElement)v.call(this,d,w)},this._document=s,this._detectionMode=(null==a?void 0:a.detectionMode)||0}monitor(e,i=!1){const o=Hp(e);if(!this._platform.isBrowser||1!==o.nodeType)return Dn(null);const s=Pw(o)||this._getDocument(),a=this._elementInfo.get(o);if(a)return i&&(a.checkChildren=!0),a.subject;const d={checkChildren:i,subject:new Ht.x,rootNode:s};return this._elementInfo.set(o,d),this._registerGlobalListeners(d),d.subject}stopMonitoring(e){const i=Hp(e),o=this._elementInfo.get(i);o&&(o.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(o))}focusVia(e,i,o){const s=Hp(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([d,f])=>this._originChanged(d,i,f)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(o))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const o=this._elementInfo.get(i),s=Gp(e);!o||!o.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),o)}_onBlur(e,i){const o=this._elementInfo.get(i);!o||o.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(o.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,o=this._rootNodeFocusListenerCount.get(i)||0;o||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,jx),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,jx)}),this._rootNodeFocusListenerCount.set(i,o+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ai(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const o=this._rootNodeFocusListenerCount.get(i);o>1?this._rootNodeFocusListenerCount.set(i,o-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,jx),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,jx),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,o){this._setClasses(e,i),this._emitOrigin(o.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((o,s)=>{(s===e||o.checkChildren&&s.contains(e))&&i.push([s,o])}),i}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.R0b),r.LFG(ho),r.LFG(Bx),r.LFG(et,8),r.LFG(Ux,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Vx=(()=>{class t{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this.cdkFocusChange=new r.vpe}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>this.cdkFocusChange.emit(i))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(Bh))},t.\u0275dir=r.lG2({type:t,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),t})();const QS="cdk-high-contrast-black-on-white",qx="cdk-high-contrast-white-on-black",Hx="cdk-high-contrast-active";let hk=(()=>{class t{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,o=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(o&&o.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Hx),e.remove(QS),e.remove(qx),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(Hx),e.add(QS)):2===i&&(e.add(Hx),e.add(qx))}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(ho),r.LFG(et))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Gx=(()=>{class t{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(hk))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[lb]]}),t})();const jr=!1;function Zx(t){return new r.vHH(3e3,jr)}function n2(){return"undefined"!=typeof window&&void 0!==window.document}function Tk(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function cg(t){switch(t.length){case 0:return new Bp;case 1:return t[0];default:return new eb(t)}}function Ak(t,n,e,i,o={},s={}){const a=[],d=[];let f=-1,v=null;if(i.forEach(w=>{const x=w.offset,S=x==f,E=S&&v||{};Object.keys(w).forEach(q=>{let H=q,ee=w[q];if("offset"!==q)switch(H=n.normalizePropertyName(H,a),ee){case"!":ee=o[q];break;case ba:ee=s[q];break;default:ee=n.normalizeStyleValue(q,H,ee,a)}E[H]=ee}),S||d.push(E),v=E,f=x}),a.length)throw function pU(t){return new r.vHH(3502,jr)}();return d}function zx(t,n,e,i){switch(n){case"start":t.onStart(()=>i(e&&vb(e,"start",t)));break;case"done":t.onDone(()=>i(e&&vb(e,"done",t)));break;case"destroy":t.onDestroy(()=>i(e&&vb(e,"destroy",t)))}}function vb(t,n,e){const i=e.totalTime,s=Wx(t.element,t.triggerName,t.fromState,t.toState,n||t.phaseName,null==i?t.totalTime:i,!!e.disabled),a=t._data;return null!=a&&(s._data=a),s}function Wx(t,n,e,i,o="",s=0,a){return{element:t,triggerName:n,fromState:e,toState:i,phaseName:o,totalTime:s,disabled:!!a}}function zd(t,n,e){let i;return t instanceof Map?(i=t.get(n),i||t.set(n,i=e)):(i=t[n],i||(i=t[n]=e)),i}function $x(t){const n=t.indexOf(":");return[t.substring(1,n),t.substr(n+1)]}let Hw=(t,n)=>!1,hN=(t,n,e)=>[],Sk=null;function r2(t){const n=t.parentNode||t.host;return n===Sk?null:n}(Tk()||"undefined"!=typeof Element)&&(n2()?(Sk=(()=>document.documentElement)(),Hw=(t,n)=>{for(;n;){if(n===t)return!0;n=r2(n)}return!1}):Hw=(t,n)=>t.contains(n),hN=(t,n,e)=>{if(e)return Array.from(t.querySelectorAll(n));const i=t.querySelector(n);return i?[i]:[]});let by=null,o2=!1;function s2(t){by||(by=function pN(){return"undefined"!=typeof document?document.body:null}()||{},o2=!!by.style&&"WebkitAppearance"in by.style);let n=!0;return by.style&&!function Dk(t){return"ebkit"==t.substring(1,6)}(t)&&(n=t in by.style,!n&&o2&&(n="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in by.style)),n}const Ek=Hw,a2=hN;let l2=(()=>{class t{validateStyleProperty(e){return s2(e)}matchesElement(e,i){return!1}containsElement(e,i){return Ek(e,i)}getParentElement(e){return r2(e)}query(e,i,o){return a2(e,i,o)}computeStyle(e,i,o){return o||""}animate(e,i,o,s,a,d=[],f){return new Bp(o,s)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),Qx=(()=>{class t{}return t.NOOP=new l2,t})();const u2="ng-enter",d2="ng-leave",Gw="ng-trigger",h2=".ng-trigger",gN="ng-animating",kk=".ng-animating";function wy(t){if("number"==typeof t)return t;const n=t.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:f2(parseFloat(n[1]),n[2])}function f2(t,n){return"s"===n?1e3*t:t}function p2(t,n,e){return t.hasOwnProperty("duration")?t:function _N(t,n,e){let o,s=0,a="";if("string"==typeof t){const d=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===d)return n.push(Zx()),{duration:0,delay:0,easing:""};o=f2(parseFloat(d[1]),d[2]);const f=d[3];null!=f&&(s=f2(parseFloat(f),d[4]));const v=d[5];v&&(a=v)}else o=t;if(!e){let d=!1,f=n.length;o<0&&(n.push(function fk(){return new r.vHH(3100,jr)}()),d=!0),s<0&&(n.push(function JS(){return new r.vHH(3101,jr)}()),d=!0),d&&n.splice(f,0,Zx())}return{duration:o,delay:s,easing:a}}(t,n,e)}function Zw(t,n={}){return Object.keys(t).forEach(e=>{n[e]=t[e]}),n}function Cy(t,n,e={}){if(n)for(let i in t)e[i]=t[i];else Zw(t,e);return e}function m2(t,n,e){return e?n+":"+e+";":""}function Jx(t){let n="";for(let e=0;e<t.style.length;e++){const i=t.style.item(e);n+=m2(0,i,t.style.getPropertyValue(i))}for(const e in t.style)t.style.hasOwnProperty(e)&&!e.startsWith("_")&&(n+=m2(0,b2(e),t.style[e]));t.setAttribute("style",n)}function Uf(t,n,e){t.style&&(Object.keys(n).forEach(i=>{const o=y2(i);e&&!e.hasOwnProperty(i)&&(e[i]=t.style[o]),t.style[o]=n[i]}),Tk()&&Jx(t))}function B_(t,n){t.style&&(Object.keys(n).forEach(e=>{const i=y2(e);t.style[i]=""}),Tk()&&Jx(t))}function Kx(t){return Array.isArray(t)?1==t.length?t[0]:io(t):t}const Xx=new RegExp("{{\\s*(.+?)\\s*}}","g");function _2(t){let n=[];if("string"==typeof t){let e;for(;e=Xx.exec(t);)n.push(e[1]);Xx.lastIndex=0}return n}function zw(t,n,e){const i=t.toString(),o=i.replace(Xx,(s,a)=>{let d=n[a];return n.hasOwnProperty(a)||(e.push(function KF(t){return new r.vHH(3003,jr)}()),d=""),d.toString()});return o==i?t:o}function v2(t){const n=[];let e=t.next();for(;!e.done;)n.push(e.value),e=t.next();return n}const Ik=/-+([a-z0-9])/g;function y2(t){return t.replace(Ik,(...n)=>n[1].toUpperCase())}function b2(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Uh(t,n,e){switch(n.type){case 7:return t.visitTrigger(n,e);case 0:return t.visitState(n,e);case 1:return t.visitTransition(n,e);case 2:return t.visitSequence(n,e);case 3:return t.visitGroup(n,e);case 4:return t.visitAnimate(n,e);case 5:return t.visitKeyframes(n,e);case 6:return t.visitStyle(n,e);case 8:return t.visitReference(n,e);case 9:return t.visitAnimateChild(n,e);case 10:return t.visitAnimateRef(n,e);case 11:return t.visitQuery(n,e);case 12:return t.visitStagger(n,e);default:throw function XF(t){return new r.vHH(3004,jr)}()}}function yN(t,n){return window.getComputedStyle(t)[n]}function CN(t,n){const e=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(i=>function w2(t,n,e){if(":"==t[0]){const f=function xN(t,n){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return n.push(function bu(t){return new r.vHH(3016,jr)}()),"* => *"}}(t,e);if("function"==typeof f)return void n.push(f);t=f}const i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function wk(t){return new r.vHH(3015,jr)}()),n;const o=i[1],s=i[2],a=i[3];n.push(C2(o,a));"<"==s[0]&&!("*"==o&&"*"==a)&&n.push(C2(a,o))}(i,e,n)):e.push(t),e}const nT=new Set(["true","1"]),yb=new Set(["false","0"]);function C2(t,n){const e=nT.has(t)||yb.has(t),i=nT.has(n)||yb.has(n);return(o,s)=>{let a="*"==t||t==o,d="*"==n||n==s;return!a&&e&&"boolean"==typeof o&&(a=o?nT.has(t):yb.has(t)),!d&&i&&"boolean"==typeof s&&(d=s?nT.has(n):yb.has(n)),a&&d}}const TN=new RegExp("s*:selfs*,?","g");function iT(t,n,e,i){return new AN(t).build(n,e,i)}class AN{constructor(n){this._driver=n}build(n,e,i){const o=new jf(e);this._resetContextStyleTimingState(o);const s=Uh(this,Kx(n),o);return o.unsupportedCSSPropertiesFound.size&&o.unsupportedCSSPropertiesFound.keys(),s}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles={},n.collectedStyles[""]={},n.currentTime=0}visitTrigger(n,e){let i=e.queryCount=0,o=e.depCount=0;const s=[],a=[];return"@"==n.name.charAt(0)&&e.errors.push(function tN(){return new r.vHH(3006,jr)}()),n.definitions.forEach(d=>{if(this._resetContextStyleTimingState(e),0==d.type){const f=d,v=f.name;v.toString().split(/\s*,\s*/).forEach(w=>{f.name=w,s.push(this.visitState(f,e))}),f.name=v}else if(1==d.type){const f=this.visitTransition(d,e);i+=f.queryCount,o+=f.depCount,a.push(f)}else e.errors.push(function pk(){return new r.vHH(3007,jr)}())}),{type:7,name:n.name,states:s,transitions:a,queryCount:i,depCount:o,options:null}}visitState(n,e){const i=this.visitStyle(n.styles,e),o=n.options&&n.options.params||null;if(i.containsDynamicStyles){const s=new Set,a=o||{};i.styles.forEach(d=>{if(S2(d)){const f=d;Object.keys(f).forEach(v=>{_2(f[v]).forEach(w=>{a.hasOwnProperty(w)||s.add(w)})})}}),s.size&&(v2(s.values()),e.errors.push(function XS(t,n){return new r.vHH(3008,jr)}()))}return{type:0,name:n.name,style:i,options:o?{params:o}:null}}visitTransition(n,e){e.queryCount=0,e.depCount=0;const i=Uh(this,Kx(n.animation),e);return{type:1,matchers:CN(n.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:U_(n.options)}}visitSequence(n,e){return{type:2,steps:n.steps.map(i=>Uh(this,i,e)),options:U_(n.options)}}visitGroup(n,e){const i=e.currentTime;let o=0;const s=n.steps.map(a=>{e.currentTime=i;const d=Uh(this,a,e);return o=Math.max(o,e.currentTime),d});return e.currentTime=o,{type:3,steps:s,options:U_(n.options)}}visitAnimate(n,e){const i=function EN(t,n){let e=null;if(t.hasOwnProperty("duration"))e=t;else if("number"==typeof t)return D2(p2(t,n).duration,0,"");const i=t;if(i.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=D2(0,0,"");return s.dynamic=!0,s.strValue=i,s}return e=e||p2(i,n),D2(e.duration,e.delay,e.easing)}(n.timings,e.errors);e.currentAnimateTimings=i;let o,s=n.styles?n.styles:Qt({});if(5==s.type)o=this.visitKeyframes(s,e);else{let a=n.styles,d=!1;if(!a){d=!0;const v={};i.easing&&(v.easing=i.easing),a=Qt(v)}e.currentTime+=i.duration+i.delay;const f=this.visitStyle(a,e);f.isEmptyStep=d,o=f}return e.currentAnimateTimings=null,{type:4,timings:i,style:o,options:null}}visitStyle(n,e){const i=this._makeStyleAst(n,e);return this._validateStyleAst(i,e),i}_makeStyleAst(n,e){const i=[];Array.isArray(n.styles)?n.styles.forEach(a=>{"string"==typeof a?a==ba?i.push(a):e.errors.push(function mk(t){return new r.vHH(3002,jr)}()):i.push(a)}):i.push(n.styles);let o=!1,s=null;return i.forEach(a=>{if(S2(a)){const d=a,f=d.easing;if(f&&(s=f,delete d.easing),!o)for(let v in d)if(d[v].toString().indexOf("{{")>=0){o=!0;break}}}),{type:6,styles:i,easing:s,offset:n.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(n,e){const i=e.currentAnimateTimings;let o=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),n.styles.forEach(a=>{"string"!=typeof a&&Object.keys(a).forEach(d=>{if(!this._driver.validateStyleProperty(d))return delete a[d],void e.unsupportedCSSPropertiesFound.add(d);const f=e.collectedStyles[e.currentQuerySelector],v=f[d];let w=!0;v&&(s!=o&&s>=v.startTime&&o<=v.endTime&&(e.errors.push(function gk(t,n,e,i,o){return new r.vHH(3010,jr)}()),w=!1),s=v.startTime),w&&(f[d]={startTime:s,endTime:o}),e.options&&function g2(t,n,e){const i=n.params||{},o=_2(t);o.length&&o.forEach(s=>{i.hasOwnProperty(s)||e.push(function KS(t){return new r.vHH(3001,jr)}())})}(a[d],e.options,e.errors)})})}visitKeyframes(n,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function _k(){return new r.vHH(3011,jr)}()),i;let s=0;const a=[];let d=!1,f=!1,v=0;const w=n.steps.map($=>{const oe=this._makeStyleAst($,e);let ve=null!=oe.offset?oe.offset:function DN(t){if("string"==typeof t)return null;let n=null;if(Array.isArray(t))t.forEach(e=>{if(S2(e)&&e.hasOwnProperty("offset")){const i=e;n=parseFloat(i.offset),delete i.offset}});else if(S2(t)&&t.hasOwnProperty("offset")){const e=t;n=parseFloat(e.offset),delete e.offset}return n}(oe.styles),Fe=0;return null!=ve&&(s++,Fe=oe.offset=ve),f=f||Fe<0||Fe>1,d=d||Fe<v,v=Fe,a.push(Fe),oe});f&&e.errors.push(function iN(){return new r.vHH(3012,jr)}()),d&&e.errors.push(function vk(){return new r.vHH(3200,jr)}());const x=n.steps.length;let S=0;s>0&&s<x?e.errors.push(function yk(){return new r.vHH(3202,jr)}()):0==s&&(S=1/(x-1));const E=x-1,q=e.currentTime,H=e.currentAnimateTimings,ee=H.duration;return w.forEach(($,oe)=>{const ve=S>0?oe==E?1:S*oe:a[oe],Fe=ve*ee;e.currentTime=q+H.delay+Fe,H.duration=Fe,this._validateStyleAst($,e),$.offset=ve,i.styles.push($)}),i}visitReference(n,e){return{type:8,animation:Uh(this,Kx(n.animation),e),options:U_(n.options)}}visitAnimateChild(n,e){return e.depCount++,{type:9,options:U_(n.options)}}visitAnimateRef(n,e){return{type:10,animation:this.visitReference(n.animation,e),options:U_(n.options)}}visitQuery(n,e){const i=e.currentQuerySelector,o=n.options||{};e.queryCount++,e.currentQuery=n;const[s,a]=function SN(t){const n=!!t.split(/\s*,\s*/).find(e=>":self"==e);return n&&(t=t.replace(TN,"")),t=t.replace(/@\*/g,h2).replace(/@\w+/g,e=>h2+"-"+e.substr(1)).replace(/:animating/g,kk),[t,n]}(n.selector);e.currentQuerySelector=i.length?i+" "+s:s,zd(e.collectedStyles,e.currentQuerySelector,{});const d=Uh(this,Kx(n.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:o.limit||0,optional:!!o.optional,includeSelf:a,animation:d,originalSelector:n.selector,options:U_(n.options)}}visitStagger(n,e){e.currentQuery||e.errors.push(function rN(){return new r.vHH(3013,jr)}());const i="full"===n.timings?{duration:0,delay:0,easing:"full"}:p2(n.timings,e.errors,!0);return{type:12,animation:Uh(this,Kx(n.animation),e),timings:i,options:null}}}class jf{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function S2(t){return!Array.isArray(t)&&"object"==typeof t}function U_(t){return t?(t=Zw(t)).params&&(t.params=function A2(t){return t?Zw(t):null}(t.params)):t={},t}function D2(t,n,e){return{duration:t,delay:n,easing:e}}function E2(t,n,e,i,o,s,a=null,d=!1){return{type:1,element:t,keyframes:n,preStyleProps:e,postStyleProps:i,duration:o,delay:s,totalTime:o+s,easing:a,subTimeline:d}}class Ww{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,e){let i=this._map.get(n);i||this._map.set(n,i=[]),i.push(...e)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const Lk=new RegExp(":enter","g"),kN=new RegExp(":leave","g");function M2(t,n,e,i,o,s={},a={},d,f,v=[]){return(new Nk).buildKeyframes(t,n,e,i,o,s,a,d,f,v)}class Nk{buildKeyframes(n,e,i,o,s,a,d,f,v,w=[]){v=v||new Ww;const x=new $w(n,e,v,o,s,w,[]);x.options=f,x.currentTimeline.setStyles([a],null,x.errors,f),Uh(this,i,x);const S=x.timelines.filter(E=>E.containsAnimation());if(Object.keys(d).length){let E;for(let q=S.length-1;q>=0;q--){const H=S[q];if(H.element===e){E=H;break}}E&&!E.allowOnlyTimelineStyles()&&E.setStyles([d],null,x.errors,f)}return S.length?S.map(E=>E.buildKeyframes()):[E2(e,[],[],[],0,0,"",!1)]}visitTrigger(n,e){}visitState(n,e){}visitTransition(n,e){}visitAnimateChild(n,e){const i=e.subInstructions.get(e.element);if(i){const o=e.createSubContext(n.options),s=e.currentTimeline.currentTime,a=this._visitSubInstructions(i,o,o.options);s!=a&&e.transformIntoNewTimeline(a)}e.previousNode=n}visitAnimateRef(n,e){const i=e.createSubContext(n.options);i.transformIntoNewTimeline(),this.visitReference(n.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=n}_visitSubInstructions(n,e,i){let s=e.currentTimeline.currentTime;const a=null!=i.duration?wy(i.duration):null,d=null!=i.delay?wy(i.delay):null;return 0!==a&&n.forEach(f=>{const v=e.appendInstructionToTimeline(f,a,d);s=Math.max(s,v.duration+v.delay)}),s}visitReference(n,e){e.updateOptions(n.options,!0),Uh(this,n.animation,e),e.previousNode=n}visitSequence(n,e){const i=e.subContextCount;let o=e;const s=n.options;if(s&&(s.params||s.delay)&&(o=e.createSubContext(s),o.transformIntoNewTimeline(),null!=s.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=bb);const a=wy(s.delay);o.delayNextStep(a)}n.steps.length&&(n.steps.forEach(a=>Uh(this,a,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>i&&o.transformIntoNewTimeline()),e.previousNode=n}visitGroup(n,e){const i=[];let o=e.currentTimeline.currentTime;const s=n.options&&n.options.delay?wy(n.options.delay):0;n.steps.forEach(a=>{const d=e.createSubContext(n.options);s&&d.delayNextStep(s),Uh(this,a,d),o=Math.max(o,d.currentTimeline.currentTime),i.push(d.currentTimeline)}),i.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(o),e.previousNode=n}_visitTiming(n,e){if(n.dynamic){const i=n.strValue;return p2(e.params?zw(i,e.params,e.errors):i,e.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,e){const i=e.currentAnimateTimings=this._visitTiming(n.timings,e),o=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),o.snapshotCurrentStyles());const s=n.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),o.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=n}visitStyle(n,e){const i=e.currentTimeline,o=e.currentAnimateTimings;!o&&i.getCurrentStyleProperties().length&&i.forwardFrame();const s=o&&o.easing||n.easing;n.isEmptyStep?i.applyEmptyStep(s):i.setStyles(n.styles,s,e.errors,e.options),e.previousNode=n}visitKeyframes(n,e){const i=e.currentAnimateTimings,o=e.currentTimeline.duration,s=i.duration,d=e.createSubContext().currentTimeline;d.easing=i.easing,n.styles.forEach(f=>{d.forwardTime((f.offset||0)*s),d.setStyles(f.styles,f.easing,e.errors,e.options),d.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(d),e.transformIntoNewTimeline(o+s),e.previousNode=n}visitQuery(n,e){const i=e.currentTimeline.currentTime,o=n.options||{},s=o.delay?wy(o.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=bb);let a=i;const d=e.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!o.optional,e.errors);e.currentQueryTotal=d.length;let f=null;d.forEach((v,w)=>{e.currentQueryIndex=w;const x=e.createSubContext(n.options,v);s&&x.delayNextStep(s),v===e.element&&(f=x.currentTimeline),Uh(this,n.animation,x),x.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,x.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),f&&(e.currentTimeline.mergeTimelineCollectedStyles(f),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=n}visitStagger(n,e){const i=e.parentContext,o=e.currentTimeline,s=n.timings,a=Math.abs(s.duration),d=a*(e.currentQueryTotal-1);let f=a*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":f=d-f;break;case"full":f=i.currentStaggerTime}const w=e.currentTimeline;f&&w.delayNextStep(f);const x=w.currentTime;Uh(this,n.animation,e),e.previousNode=n,i.currentStaggerTime=o.currentTime-x+(o.startTime-i.currentTimeline.startTime)}}const bb={};class $w{constructor(n,e,i,o,s,a,d,f){this._driver=n,this.element=e,this.subInstructions=i,this._enterClassName=o,this._leaveClassName=s,this.errors=a,this.timelines=d,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=bb,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=f||new Qw(this._driver,e,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,e){if(!n)return;const i=n;let o=this.options;null!=i.duration&&(o.duration=wy(i.duration)),null!=i.delay&&(o.delay=wy(i.delay));const s=i.params;if(s){let a=o.params;a||(a=this.options.params={}),Object.keys(s).forEach(d=>{(!e||!a.hasOwnProperty(d))&&(a[d]=zw(s[d],a,this.errors))})}}_copyOptions(){const n={};if(this.options){const e=this.options.params;if(e){const i=n.params={};Object.keys(e).forEach(o=>{i[o]=e[o]})}}return n}createSubContext(n=null,e,i){const o=e||this.element,s=new $w(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(n),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(n){return this.previousNode=bb,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,e,i){const o={duration:null!=e?e:n.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+n.delay,easing:""},s=new IN(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,o,n.stretchStartingKeyframe);return this.timelines.push(s),o}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,e,i,o,s,a){let d=[];if(o&&d.push(this.element),n.length>0){n=(n=n.replace(Lk,"."+this._enterClassName)).replace(kN,"."+this._leaveClassName);let v=this._driver.query(this.element,n,1!=i);0!==i&&(v=i<0?v.slice(v.length+i,v.length):v.slice(0,i)),d.push(...v)}return!s&&0==d.length&&a.push(function bk(t){return new r.vHH(3014,jr)}()),d}}class Qw{constructor(n,e,i,o){this._driver=n,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=o,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+n),e&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,e){return this.applyStylesToKeyframe(),new Qw(this._driver,n,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,e){this._localTimelineStyles[n]=e,this._globalTimelineStyles[n]=e,this._styleSummary[n]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&(this._previousKeyframe.easing=n),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||ba,this._currentKeyframe[e]=ba}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,e,i,o){e&&(this._previousKeyframe.easing=e);const s=o&&o.params||{},a=function Rk(t,n){const e={};let i;return t.forEach(o=>{"*"===o?(i=i||Object.keys(n),i.forEach(s=>{e[s]=ba})):Cy(o,!1,e)}),e}(n,this._globalTimelineStyles);Object.keys(a).forEach(d=>{const f=zw(a[d],s,i);this._pendingStyles[d]=f,this._localTimelineStyles.hasOwnProperty(d)||(this._backFill[d]=this._globalTimelineStyles.hasOwnProperty(d)?this._globalTimelineStyles[d]:ba),this._updateStyle(d,f)})}applyStylesToKeyframe(){const n=this._pendingStyles,e=Object.keys(n);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=n[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(n=>{const e=this._localTimelineStyles[n];this._pendingStyles[n]=e,this._updateStyle(n,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let e in this._currentKeyframe)n.push(e);return n}mergeTimelineCollectedStyles(n){Object.keys(n._styleSummary).forEach(e=>{const i=this._styleSummary[e],o=n._styleSummary[e];(!i||o.time>i.time)&&this._updateStyle(e,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((d,f)=>{const v=Cy(d,!0);Object.keys(v).forEach(w=>{const x=v[w];"!"==x?n.add(w):x==ba&&e.add(w)}),i||(v.offset=f/this.duration),o.push(v)});const s=n.size?v2(n.values()):[],a=e.size?v2(e.values()):[];if(i){const d=o[0],f=Zw(d);d.offset=0,f.offset=1,o=[d,f]}return E2(this.element,o,s,a,this.duration,this.startTime,this.easing,!1)}}class IN extends Qw{constructor(n,e,i,o,s,a,d=!1){super(n,e,a.delay),this.keyframes=i,this.preStyleProps=o,this.postStyleProps=s,this._stretchStartingKeyframe=d,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:e,duration:i,easing:o}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],a=i+e,d=e/a,f=Cy(n[0],!1);f.offset=0,s.push(f);const v=Cy(n[0],!1);v.offset=k2(d),s.push(v);const w=n.length-1;for(let x=1;x<=w;x++){let S=Cy(n[x],!1);S.offset=k2((e+S.offset*i)/a),s.push(S)}i=a,e=0,o="",n=s}return E2(this.element,n,this.preStyleProps,this.postStyleProps,i,e,o,!0)}}function k2(t,n=3){const e=Math.pow(10,n-1);return Math.round(t*e)/e}class I2{}class wU extends I2{normalizePropertyName(n,e){return y2(n)}normalizeStyleValue(n,e,i,o){let s="";const a=i.toString().trim();if(Pk[e]&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const d=i.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&0==d[1].length&&o.push(function eN(t,n){return new r.vHH(3005,jr)}())}return a+s}}const Pk=(()=>function ON(t){const n={};return t.forEach(e=>n[e]=!0),n}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Bk(t,n,e,i,o,s,a,d,f,v,w,x,S){return{type:0,element:t,triggerName:n,isRemovalTransition:o,fromState:e,fromStyles:s,toState:i,toStyles:a,timelines:d,queriedElements:f,preStyleProps:v,postStyleProps:w,totalTime:x,errors:S}}const O2={};class LN{constructor(n,e,i){this._triggerName=n,this.ast=e,this._stateStyles=i}match(n,e,i,o){return function CU(t,n,e,i,o){return t.some(s=>s(n,e,i,o))}(this.ast.matchers,n,e,i,o)}buildStyles(n,e,i){const o=this._stateStyles["*"],s=this._stateStyles[n],a=o?o.buildStyles(e,i):{};return s?s.buildStyles(e,i):a}build(n,e,i,o,s,a,d,f,v,w){const x=[],S=this.ast.options&&this.ast.options.params||O2,q=this.buildStyles(i,d&&d.params||O2,x),H=f&&f.params||O2,ee=this.buildStyles(o,H,x),$=new Set,oe=new Map,ve=new Map,Fe="void"===o,Be={params:Object.assign(Object.assign({},S),H)},gt=w?[]:M2(n,e,this.ast.animation,s,a,q,ee,Be,v,x);let tt=0;if(gt.forEach(St=>{tt=Math.max(St.duration+St.delay,tt)}),x.length)return Bk(e,this._triggerName,i,o,Fe,q,ee,[],[],oe,ve,tt,x);gt.forEach(St=>{const Bt=St.element,Ce=zd(oe,Bt,{});St.preStyleProps.forEach(He=>Ce[He]=!0);const we=zd(ve,Bt,{});St.postStyleProps.forEach(He=>we[He]=!0),Bt!==e&&$.add(Bt)});const Le=v2($.values());return Bk(e,this._triggerName,i,o,Fe,q,ee,gt,Le,oe,ve,tt)}}class xU{constructor(n,e,i){this.styles=n,this.defaultParams=e,this.normalizer=i}buildStyles(n,e){const i={},o=Zw(this.defaultParams);return Object.keys(n).forEach(s=>{const a=n[s];null!=a&&(o[s]=a)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const a=s;Object.keys(a).forEach(d=>{let f=a[d];f.length>1&&(f=zw(f,o,e));const v=this.normalizer.normalizePropertyName(d,e);f=this.normalizer.normalizeStyleValue(d,v,f,e),i[v]=f})}}),i}}class AU{constructor(n,e,i){this.name=n,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(o=>{this.states[o.name]=new xU(o.style,o.options&&o.options.params||{},i)}),Jw(this.states,"true","1"),Jw(this.states,"false","0"),e.transitions.forEach(o=>{this.transitionFactories.push(new LN(n,o,this.states))}),this.fallbackTransition=function FN(t,n,e){return new LN(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,d)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,e,i,o){return this.transitionFactories.find(a=>a.match(n,e,i,o))||null}matchStyles(n,e,i){return this.fallbackTransition.buildStyles(n,e,i)}}function Jw(t,n,e){t.hasOwnProperty(n)?t.hasOwnProperty(e)||(t[e]=t[n]):t.hasOwnProperty(e)&&(t[n]=t[e])}const NN=new Ww;class RN{constructor(n,e,i){this.bodyNode=n,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(n,e){const i=[],s=iT(this._driver,e,i,[]);if(i.length)throw function qw(t){return new r.vHH(3503,jr)}();this._animations[n]=s}_buildPlayer(n,e,i){const o=n.element,s=Ak(0,this._normalizer,0,n.keyframes,e,i);return this._driver.animate(o,s,n.duration,n.delay,n.easing,[],!0)}create(n,e,i={}){const o=[],s=this._animations[n];let a;const d=new Map;if(s?(a=M2(this._driver,e,s,u2,d2,{},{},i,NN,o),a.forEach(w=>{const x=zd(d,w.element,{});w.postStyleProps.forEach(S=>x[S]=null)})):(o.push(function aN(){return new r.vHH(3300,jr)}()),a=[]),o.length)throw function e2(t){return new r.vHH(3504,jr)}();d.forEach((w,x)=>{Object.keys(w).forEach(S=>{w[S]=this._driver.computeStyle(x,S,ba)})});const v=cg(a.map(w=>{const x=d.get(w.element);return this._buildPlayer(w,{},x)}));return this._playersById[n]=v,v.onDestroy(()=>this.destroy(n)),this.players.push(v),v}destroy(n){const e=this._getPlayer(n);e.destroy(),delete this._playersById[n];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(n){const e=this._playersById[n];if(!e)throw function lN(t){return new r.vHH(3301,jr)}();return e}listen(n,e,i,o){const s=Wx(e,"","","");return zx(this._getPlayer(n),i,s,o),()=>{}}command(n,e,i,o){if("register"==i)return void this.register(n,o[0]);if("create"==i)return void this.create(n,e,o[0]||{});const s=this._getPlayer(n);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(n)}}}const L2="ng-animate-queued",rT="ng-animate-disabled",R2=[],oT={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},sT={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Vf="__ng_removed";class Uk{constructor(n,e=""){this.namespaceId=e;const i=n&&n.hasOwnProperty("value");if(this.value=function jN(t){return null!=t?t:null}(i?n.value:n),i){const s=Zw(n);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(n){const e=n.params;if(e){const i=this.options.params;Object.keys(e).forEach(o=>{null==i[o]&&(i[o]=e[o])})}}}const aT="void",jk=new Uk(aT);class Vk{constructor(n,e,i){this.id=n,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,Wd(e,this._hostClassName)}listen(n,e,i,o){if(!this._triggers.hasOwnProperty(e))throw function Ck(t,n){return new r.vHH(3302,jr)}();if(null==i||0==i.length)throw function cN(t){return new r.vHH(3303,jr)}();if(!function qk(t){return"start"==t||"done"==t}(i))throw function uN(t,n){return new r.vHH(3400,jr)}();const s=zd(this._elementListeners,n,[]),a={name:e,phase:i,callback:o};s.push(a);const d=zd(this._engine.statesByElement,n,{});return d.hasOwnProperty(e)||(Wd(n,Gw),Wd(n,Gw+"-"+e),d[e]=jk),()=>{this._engine.afterFlush(()=>{const f=s.indexOf(a);f>=0&&s.splice(f,1),this._triggers[e]||delete d[e]})}}register(n,e){return!this._triggers[n]&&(this._triggers[n]=e,!0)}_getTrigger(n){const e=this._triggers[n];if(!e)throw function t2(t){return new r.vHH(3401,jr)}();return e}trigger(n,e,i,o=!0){const s=this._getTrigger(e),a=new P2(this.id,e,n);let d=this._engine.statesByElement.get(n);d||(Wd(n,Gw),Wd(n,Gw+"-"+e),this._engine.statesByElement.set(n,d={}));let f=d[e];const v=new Uk(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&f&&v.absorbOptions(f.options),d[e]=v,f||(f=jk),v.value!==aT&&f.value===v.value){if(!function VN(t,n){const e=Object.keys(t),i=Object.keys(n);if(e.length!=i.length)return!1;for(let o=0;o<e.length;o++){const s=e[o];if(!n.hasOwnProperty(s)||t[s]!==n[s])return!1}return!0}(f.params,v.params)){const H=[],ee=s.matchStyles(f.value,f.params,H),$=s.matchStyles(v.value,v.params,H);H.length?this._engine.reportError(H):this._engine.afterFlush(()=>{B_(n,ee),Uf(n,$)})}return}const S=zd(this._engine.playersByElement,n,[]);S.forEach(H=>{H.namespaceId==this.id&&H.triggerName==e&&H.queued&&H.destroy()});let E=s.matchTransition(f.value,v.value,n,v.params),q=!1;if(!E){if(!o)return;E=s.fallbackTransition,q=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:e,transition:E,fromState:f,toState:v,player:a,isFallbackTransition:q}),q||(Wd(n,L2),a.onStart(()=>{j_(n,L2)})),a.onDone(()=>{let H=this.players.indexOf(a);H>=0&&this.players.splice(H,1);const ee=this._engine.playersByElement.get(n);if(ee){let $=ee.indexOf(a);$>=0&&ee.splice($,1)}}),this.players.push(a),S.push(a),a}deregister(n){delete this._triggers[n],this._engine.statesByElement.forEach((e,i)=>{delete e[n]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(o=>o.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const e=this._engine.playersByElement.get(n);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,e){const i=this._engine.driver.query(n,h2,!0);i.forEach(o=>{if(o[Vf])return;const s=this._engine.fetchNamespacesByElement(o);s.size?s.forEach(a=>a.triggerLeaveAnimation(o,e,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(n,e,i,o){const s=this._engine.statesByElement.get(n),a=new Map;if(s){const d=[];if(Object.keys(s).forEach(f=>{if(a.set(f,s[f].value),this._triggers[f]){const v=this.trigger(n,f,aT,o);v&&d.push(v)}}),d.length)return this._engine.markElementAsRemoved(this.id,n,!0,e,a),i&&cg(d).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const e=this._elementListeners.get(n),i=this._engine.statesByElement.get(n);if(e&&i){const o=new Set;e.forEach(s=>{const a=s.name;if(o.has(a))return;o.add(a);const f=this._triggers[a].fallbackTransition,v=i[a]||jk,w=new Uk(aT),x=new P2(this.id,a,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:a,transition:f,fromState:v,toState:w,player:x,isFallbackTransition:!0})})}}removeNode(n,e){const i=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,e),this.triggerLeaveAnimation(n,e,!0))return;let o=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(n):[];if(s&&s.length)o=!0;else{let a=n;for(;a=a.parentNode;)if(i.statesByElement.get(a)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(n),o)i.markElementAsRemoved(this.id,n,!1,e);else{const s=n[Vf];(!s||s===oT)&&(i.afterFlush(()=>this.clearElementCache(n)),i.destroyInnerAnimations(n),i._onRemovalComplete(n,e))}}insertNode(n,e){Wd(n,this._hostClassName)}drainQueuedTransitions(n){const e=[];return this._queue.forEach(i=>{const o=i.player;if(o.destroyed)return;const s=i.element,a=this._elementListeners.get(s);a&&a.forEach(d=>{if(d.name==i.triggerName){const f=Wx(s,i.triggerName,i.fromState.value,i.toState.value);f._data=n,zx(i.player,d.phase,f,d.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):e.push(i)}),this._queue=[],e.sort((i,o)=>{const s=i.transition.ast.depCount,a=o.transition.ast.depCount;return 0==s||0==a?s-a:this._engine.driver.containsElement(i.element,o.element)?1:-1})}destroy(n){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}elementContainsData(n){let e=!1;return this._elementListeners.has(n)&&(e=!0),e=!!this._queue.find(i=>i.element===n)||e,e}}class BN{constructor(n,e,i){this.bodyNode=n,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,s)=>{}}_onRemovalComplete(n,e){this.onRemovalComplete(n,e)}get queuedPlayers(){const n=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&n.push(i)})}),n}createNamespace(n,e){const i=new Vk(n,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[n]=i}_balanceNamespaceList(n,e){const i=this._namespaceList,o=this.namespacesByHostElement,s=i.length-1;if(s>=0){let a=!1;if(void 0!==this.driver.getParentElement){let d=this.driver.getParentElement(e);for(;d;){const f=o.get(d);if(f){const v=i.indexOf(f);i.splice(v+1,0,n),a=!0;break}d=this.driver.getParentElement(d)}}else for(let d=s;d>=0;d--)if(this.driver.containsElement(i[d].hostElement,e)){i.splice(d+1,0,n),a=!0;break}a||i.unshift(n)}else i.push(n);return o.set(e,n),n}register(n,e){let i=this._namespaceLookup[n];return i||(i=this.createNamespace(n,e)),i}registerTrigger(n,e,i){let o=this._namespaceLookup[n];o&&o.register(e,i)&&this.totalAnimations++}destroy(n,e){if(!n)return;const i=this._fetchNamespace(n);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[n];const o=this._namespaceList.indexOf(i);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const e=new Set,i=this.statesByElement.get(n);if(i){const o=Object.keys(i);for(let s=0;s<o.length;s++){const a=i[o[s]].namespaceId;if(a){const d=this._fetchNamespace(a);d&&e.add(d)}}}return e}trigger(n,e,i,o){if(Kw(e)){const s=this._fetchNamespace(n);if(s)return s.trigger(e,i,o),!0}return!1}insertNode(n,e,i,o){if(!Kw(e))return;const s=e[Vf];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(n){const a=this._fetchNamespace(n);a&&a.insertNode(e,i)}o&&this.collectEnterElement(e)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,e){e?this.disabledNodes.has(n)||(this.disabledNodes.add(n),Wd(n,rT)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),j_(n,rT))}removeNode(n,e,i,o){if(Kw(e)){const s=n?this._fetchNamespace(n):null;if(s?s.removeNode(e,o):this.markElementAsRemoved(n,e,!1,o),i){const a=this.namespacesByHostElement.get(e);a&&a.id!==n&&a.removeNode(e,o)}}else this._onRemovalComplete(e,o)}markElementAsRemoved(n,e,i,o,s){this.collectedLeaveElements.push(e),e[Vf]={namespaceId:n,setForRemoval:o,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(n,e,i,o,s){return Kw(e)?this._fetchNamespace(n).listen(e,i,o,s):()=>{}}_buildInstruction(n,e,i,o,s){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,i,o,n.fromState.options,n.toState.options,e,s)}destroyInnerAnimations(n){let e=this.driver.query(n,h2,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(n,kk,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(n){const e=this.playersByElement.get(n);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(n){const e=this.playersByQueriedElement.get(n);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return cg(this.players).onDone(()=>n());n()})}processLeaveNode(n){var e;const i=n[Vf];if(i&&i.setForRemoval){if(n[Vf]=oT,i.namespaceId){this.destroyInnerAnimations(n);const o=this._fetchNamespace(i.namespaceId);o&&o.clearElementCache(n)}this._onRemovalComplete(n,i.setForRemoval)}(null===(e=n.classList)||void 0===e?void 0:e.contains(rT))&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(o=>{this.markElementAsDisabled(o,!1)})}flush(n=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,o)=>this._balanceNamespaceList(i,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Wd(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,n)}finally{for(let o=0;o<i.length;o++)i[o]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?cg(e).onDone(()=>{i.forEach(o=>o())}):i.forEach(o=>o())}}reportError(n){throw function xk(t){return new r.vHH(3402,jr)}()}_flushAnimations(n,e){const i=new Ww,o=[],s=new Map,a=[],d=new Map,f=new Map,v=new Map,w=new Set;this.disabledNodes.forEach(ze=>{w.add(ze);const ct=this.driver.query(ze,".ng-animate-queued",!0);for(let Ke=0;Ke<ct.length;Ke++)w.add(ct[Ke])});const x=this.bodyNode,S=Array.from(this.statesByElement.keys()),E=Gk(S,this.collectedEnterElements),q=new Map;let H=0;E.forEach((ze,ct)=>{const Ke=u2+H++;q.set(ct,Ke),ze.forEach(bt=>Wd(bt,Ke))});const ee=[],$=new Set,oe=new Set;for(let ze=0;ze<this.collectedLeaveElements.length;ze++){const ct=this.collectedLeaveElements[ze],Ke=ct[Vf];Ke&&Ke.setForRemoval&&(ee.push(ct),$.add(ct),Ke.hasAnimation?this.driver.query(ct,".ng-star-inserted",!0).forEach(bt=>$.add(bt)):oe.add(ct))}const ve=new Map,Fe=Gk(S,Array.from($));Fe.forEach((ze,ct)=>{const Ke=d2+H++;ve.set(ct,Ke),ze.forEach(bt=>Wd(bt,Ke))}),n.push(()=>{E.forEach((ze,ct)=>{const Ke=q.get(ct);ze.forEach(bt=>j_(bt,Ke))}),Fe.forEach((ze,ct)=>{const Ke=ve.get(ct);ze.forEach(bt=>j_(bt,Ke))}),ee.forEach(ze=>{this.processLeaveNode(ze)})});const Be=[],gt=[];for(let ze=this._namespaceList.length-1;ze>=0;ze--)this._namespaceList[ze].drainQueuedTransitions(e).forEach(Ke=>{const bt=Ke.player,Et=Ke.element;if(Be.push(bt),this.collectedEnterElements.length){const pt=Et[Vf];if(pt&&pt.setForMove){if(pt.previousTriggersValues&&pt.previousTriggersValues.has(Ke.triggerName)){const Ct=pt.previousTriggersValues.get(Ke.triggerName),Tt=this.statesByElement.get(Ke.element);Tt&&Tt[Ke.triggerName]&&(Tt[Ke.triggerName].value=Ct)}return void bt.destroy()}}const Fn=!x||!this.driver.containsElement(x,Et),ae=ve.get(Et),De=q.get(Et),Ee=this._buildInstruction(Ke,i,De,ae,Fn);if(Ee.errors&&Ee.errors.length)return void gt.push(Ee);if(Fn)return bt.onStart(()=>B_(Et,Ee.fromStyles)),bt.onDestroy(()=>Uf(Et,Ee.toStyles)),void o.push(bt);if(Ke.isFallbackTransition)return bt.onStart(()=>B_(Et,Ee.fromStyles)),bt.onDestroy(()=>Uf(Et,Ee.toStyles)),void o.push(bt);const Qe=[];Ee.timelines.forEach(pt=>{pt.stretchStartingKeyframe=!0,this.disabledNodes.has(pt.element)||Qe.push(pt)}),Ee.timelines=Qe,i.append(Et,Ee.timelines),a.push({instruction:Ee,player:bt,element:Et}),Ee.queriedElements.forEach(pt=>zd(d,pt,[]).push(bt)),Ee.preStyleProps.forEach((pt,Ct)=>{const Tt=Object.keys(pt);if(Tt.length){let wn=f.get(Ct);wn||f.set(Ct,wn=new Set),Tt.forEach(Cn=>wn.add(Cn))}}),Ee.postStyleProps.forEach((pt,Ct)=>{const Tt=Object.keys(pt);let wn=v.get(Ct);wn||v.set(Ct,wn=new Set),Tt.forEach(Cn=>wn.add(Cn))})});if(gt.length){const ze=[];gt.forEach(ct=>{ze.push(function Yx(t,n){return new r.vHH(3505,jr)}())}),Be.forEach(ct=>ct.destroy()),this.reportError(ze)}const tt=new Map,Le=new Map;a.forEach(ze=>{const ct=ze.element;i.has(ct)&&(Le.set(ct,ct),this._beforeAnimationBuild(ze.player.namespaceId,ze.instruction,tt))}),o.forEach(ze=>{const ct=ze.element;this._getPreviousPlayers(ct,!1,ze.namespaceId,ze.triggerName,null).forEach(bt=>{zd(tt,ct,[]).push(bt),bt.destroy()})});const St=ee.filter(ze=>Yk(ze,f,v)),Bt=new Map;Hk(Bt,this.driver,oe,v,ba).forEach(ze=>{Yk(ze,f,v)&&St.push(ze)});const we=new Map;E.forEach((ze,ct)=>{Hk(we,this.driver,new Set(ze),f,"!")}),St.forEach(ze=>{const ct=Bt.get(ze),Ke=we.get(ze);Bt.set(ze,Object.assign(Object.assign({},ct),Ke))});const He=[],je=[],Rt={};a.forEach(ze=>{const{element:ct,player:Ke,instruction:bt}=ze;if(i.has(ct)){if(w.has(ct))return Ke.onDestroy(()=>Uf(ct,bt.toStyles)),Ke.disabled=!0,Ke.overrideTotalTime(bt.totalTime),void o.push(Ke);let Et=Rt;if(Le.size>1){let ae=ct;const De=[];for(;ae=ae.parentNode;){const Ee=Le.get(ae);if(Ee){Et=Ee;break}De.push(ae)}De.forEach(Ee=>Le.set(Ee,Et))}const Fn=this._buildAnimation(Ke.namespaceId,bt,tt,s,we,Bt);if(Ke.setRealPlayer(Fn),Et===Rt)He.push(Ke);else{const ae=this.playersByElement.get(Et);ae&&ae.length&&(Ke.parentPlayer=cg(ae)),o.push(Ke)}}else B_(ct,bt.fromStyles),Ke.onDestroy(()=>Uf(ct,bt.toStyles)),je.push(Ke),w.has(ct)&&o.push(Ke)}),je.forEach(ze=>{const ct=s.get(ze.element);if(ct&&ct.length){const Ke=cg(ct);ze.setRealPlayer(Ke)}}),o.forEach(ze=>{ze.parentPlayer?ze.syncPlayerEvents(ze.parentPlayer):ze.destroy()});for(let ze=0;ze<ee.length;ze++){const ct=ee[ze],Ke=ct[Vf];if(j_(ct,d2),Ke&&Ke.hasAnimation)continue;let bt=[];if(d.size){let Fn=d.get(ct);Fn&&Fn.length&&bt.push(...Fn);let ae=this.driver.query(ct,kk,!0);for(let De=0;De<ae.length;De++){let Ee=d.get(ae[De]);Ee&&Ee.length&&bt.push(...Ee)}}const Et=bt.filter(Fn=>!Fn.destroyed);Et.length?SU(this,ct,Et):this.processLeaveNode(ct)}return ee.length=0,He.forEach(ze=>{this.players.push(ze),ze.onDone(()=>{ze.destroy();const ct=this.players.indexOf(ze);this.players.splice(ct,1)}),ze.play()}),He}elementContainsData(n,e){let i=!1;const o=e[Vf];return o&&o.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(n).elementContainsData(e)||i}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,e,i,o,s){let a=[];if(e){const d=this.playersByQueriedElement.get(n);d&&(a=d)}else{const d=this.playersByElement.get(n);if(d){const f=!s||s==aT;d.forEach(v=>{v.queued||!f&&v.triggerName!=o||a.push(v)})}}return(i||o)&&(a=a.filter(d=>!(i&&i!=d.namespaceId||o&&o!=d.triggerName))),a}_beforeAnimationBuild(n,e,i){const s=e.element,a=e.isRemovalTransition?void 0:n,d=e.isRemovalTransition?void 0:e.triggerName;for(const f of e.timelines){const v=f.element,w=v!==s,x=zd(i,v,[]);this._getPreviousPlayers(v,w,a,d,e.toState).forEach(E=>{const q=E.getRealPlayer();q.beforeDestroy&&q.beforeDestroy(),E.destroy(),x.push(E)})}B_(s,e.fromStyles)}_buildAnimation(n,e,i,o,s,a){const d=e.triggerName,f=e.element,v=[],w=new Set,x=new Set,S=e.timelines.map(q=>{const H=q.element;w.add(H);const ee=H[Vf];if(ee&&ee.removedBeforeQueried)return new Bp(q.duration,q.delay);const $=H!==f,oe=function Zk(t){const n=[];return lT(t,n),n}((i.get(H)||R2).map(tt=>tt.getRealPlayer())).filter(tt=>!!tt.element&&tt.element===H),ve=s.get(H),Fe=a.get(H),Be=Ak(0,this._normalizer,0,q.keyframes,ve,Fe),gt=this._buildPlayer(q,Be,oe);if(q.subTimeline&&o&&x.add(H),$){const tt=new P2(n,d,H);tt.setRealPlayer(gt),v.push(tt)}return gt});v.forEach(q=>{zd(this.playersByQueriedElement,q.element,[]).push(q),q.onDone(()=>function UN(t,n,e){let i;if(t instanceof Map){if(i=t.get(n),i){if(i.length){const o=i.indexOf(e);i.splice(o,1)}0==i.length&&t.delete(n)}}else if(i=t[n],i){if(i.length){const o=i.indexOf(e);i.splice(o,1)}0==i.length&&delete t[n]}return i}(this.playersByQueriedElement,q.element,q))}),w.forEach(q=>Wd(q,gN));const E=cg(S);return E.onDestroy(()=>{w.forEach(q=>j_(q,gN)),Uf(f,e.toStyles)}),x.forEach(q=>{zd(o,q,[]).push(E)}),E}_buildPlayer(n,e,i){return e.length>0?this.driver.animate(n.element,e,n.duration,n.delay,n.easing,i):new Bp(n.duration,n.delay)}}class P2{constructor(n,e,i){this.namespaceId=n,this.triggerName=e,this.element=i,this._player=new Bp,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>zx(n,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const e=this._player;e.triggerCallback&&n.onStart(()=>e.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,e){zd(this._queuedCallbacks,n,[]).push(e)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const e=this._player;e.triggerCallback&&e.triggerCallback(n)}}function Kw(t){return t&&1===t.nodeType}function B2(t,n){const e=t.style.display;return t.style.display=null!=n?n:"none",e}function Hk(t,n,e,i,o){const s=[];e.forEach(f=>s.push(B2(f)));const a=[];i.forEach((f,v)=>{const w={};f.forEach(x=>{const S=w[x]=n.computeStyle(v,x,o);(!S||0==S.length)&&(v[Vf]=sT,a.push(v))}),t.set(v,w)});let d=0;return e.forEach(f=>B2(f,s[d++])),a}function Gk(t,n){const e=new Map;if(t.forEach(d=>e.set(d,[])),0==n.length)return e;const o=new Set(n),s=new Map;function a(d){if(!d)return 1;let f=s.get(d);if(f)return f;const v=d.parentNode;return f=e.has(v)?v:o.has(v)?1:a(v),s.set(d,f),f}return n.forEach(d=>{const f=a(d);1!==f&&e.get(f).push(d)}),e}function Wd(t,n){var e;null===(e=t.classList)||void 0===e||e.add(n)}function j_(t,n){var e;null===(e=t.classList)||void 0===e||e.remove(n)}function SU(t,n,e){cg(e).onDone(()=>t.processLeaveNode(n))}function lT(t,n){for(let e=0;e<t.length;e++){const i=t[e];i instanceof eb?lT(i.players,n):n.push(i)}}function Yk(t,n,e){const i=e.get(t);if(!i)return!1;let o=n.get(t);return o?i.forEach(s=>o.add(s)):n.set(t,i),e.delete(t),!0}class U2{constructor(n,e,i){this.bodyNode=n,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(o,s)=>{},this._transitionEngine=new BN(n,e,i),this._timelineEngine=new RN(n,e,i),this._transitionEngine.onRemovalComplete=(o,s)=>this.onRemovalComplete(o,s)}registerTrigger(n,e,i,o,s){const a=n+"-"+o;let d=this._triggerCache[a];if(!d){const f=[],w=iT(this._driver,s,f,[]);if(f.length)throw function sN(t,n){return new r.vHH(3404,jr)}();d=function TU(t,n,e){return new AU(t,n,e)}(o,w,this._normalizer),this._triggerCache[a]=d}this._transitionEngine.registerTrigger(e,o,d)}register(n,e){this._transitionEngine.register(n,e)}destroy(n,e){this._transitionEngine.destroy(n,e)}onInsert(n,e,i,o){this._transitionEngine.insertNode(n,e,i,o)}onRemove(n,e,i,o){this._transitionEngine.removeNode(n,e,o||!1,i)}disableAnimations(n,e){this._transitionEngine.markElementAsDisabled(n,e)}process(n,e,i,o){if("@"==i.charAt(0)){const[s,a]=$x(i);this._timelineEngine.command(s,e,a,o)}else this._transitionEngine.trigger(n,e,i,o)}listen(n,e,i,o,s){if("@"==i.charAt(0)){const[a,d]=$x(i);return this._timelineEngine.listen(a,e,d,s)}return this._transitionEngine.listen(n,e,i,o,s)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let EU=(()=>{class t{constructor(e,i,o){this._element=e,this._startStyles=i,this._endStyles=o,this._state=0;let s=t.initialStylesByElement.get(e);s||t.initialStylesByElement.set(e,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Uf(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Uf(this._element,this._initialStyles),this._endStyles&&(Uf(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(B_(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(B_(this._element,this._endStyles),this._endStyles=null),Uf(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function j2(t){let n=null;const e=Object.keys(t);for(let i=0;i<e.length;i++){const o=e[i];qN(o)&&(n=n||{},n[o]=t[o])}return n}function qN(t){return"display"===t||"position"===t}class HN{constructor(n,e,i,o){this.element=n,this.keyframes=e,this.options=i,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(n,e,i){return n.animate(e,i)}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(n[i]=this._finished?e[i]:yN(this.element,i))})}this.currentSnapshot=n}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class MU{validateStyleProperty(n){return s2(n)}matchesElement(n,e){return!1}containsElement(n,e){return Ek(n,e)}getParentElement(n){return r2(n)}query(n,e,i){return a2(n,e,i)}computeStyle(n,e,i){return window.getComputedStyle(n)[e]}animate(n,e,i,o,s,a=[]){const f={duration:i,delay:o,fill:0==o?"both":"forwards"};s&&(f.easing=s);const v={},w=a.filter(S=>S instanceof HN);(function vN(t,n){return 0===t||0===n})(i,o)&&w.forEach(S=>{let E=S.currentSnapshot;Object.keys(E).forEach(q=>v[q]=E[q])}),e=function gU(t,n,e){const i=Object.keys(e);if(i.length&&n.length){let s=n[0],a=[];if(i.forEach(d=>{s.hasOwnProperty(d)||a.push(d),s[d]=e[d]}),a.length)for(var o=1;o<n.length;o++){let d=n[o];a.forEach(function(f){d[f]=yN(t,f)})}}return n}(n,e=e.map(S=>Cy(S,!1)),v);const x=function DU(t,n){let e=null,i=null;return Array.isArray(n)&&n.length?(e=j2(n[0]),n.length>1&&(i=j2(n[n.length-1]))):n&&(e=j2(n)),e||i?new EU(t,e,i):null}(n,e);return new HN(n,e,f,x)}}let kU=(()=>{class t extends ww{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:r.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(e)?io(e):e;return zk(this._renderer,null,i,"register",[o]),new IU(i,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.FYo),r.LFG(et))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class IU extends class oy{}{constructor(n,e){super(),this._id=n,this._renderer=e}create(n,e){return new OU(this._id,n,e||{},this._renderer)}}class OU{constructor(n,e,i,o){this.id=n,this.element=e,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(n,e){return this._renderer.listen(this.element,`@@${this.id}:${n}`,e)}_command(n,...e){return zk(this._renderer,this.element,this.id,n,e)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){var n,e;return null!==(e=null===(n=this._renderer.engine.players[+this.id])||void 0===n?void 0:n.getPosition())&&void 0!==e?e:0}}function zk(t,n,e,i,o){return t.setProperty(n,`@@${e}:${i}`,o)}const GN="@.disabled";let LU=(()=>{class t{constructor(e,i,o){this.delegate=e,this.engine=i,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,a)=>{const d=null==a?void 0:a.parentNode(s);d&&a.removeChild(d,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let w=this._rendererCache.get(s);return w||(w=new ZN("",s,this.engine),this._rendererCache.set(s,w)),w}const a=i.id,d=i.id+"-"+this._currentId;this._currentId++,this.engine.register(d,e);const f=w=>{Array.isArray(w)?w.forEach(f):this.engine.registerTrigger(a,d,e,w.name,w)};return i.data.animation.forEach(f),new c(this,d,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,o){e>=0&&e<this._microtaskId?this._zone.run(()=>i(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[a,d]=s;a(d)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.FYo),r.LFG(U2),r.LFG(r.R0b))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class ZN{constructor(n,e,i){this.namespaceId=n,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,e){this.delegate.appendChild(n,e),this.engine.onInsert(this.namespaceId,e,n,!1)}insertBefore(n,e,i,o=!0){this.delegate.insertBefore(n,e,i),this.engine.onInsert(this.namespaceId,e,n,o)}removeChild(n,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,i,o){this.delegate.setAttribute(n,e,i,o)}removeAttribute(n,e,i){this.delegate.removeAttribute(n,e,i)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,i,o){this.delegate.setStyle(n,e,i,o)}removeStyle(n,e,i){this.delegate.removeStyle(n,e,i)}setProperty(n,e,i){"@"==e.charAt(0)&&e==GN?this.disableAnimations(n,!!i):this.delegate.setProperty(n,e,i)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,i){return this.delegate.listen(n,e,i)}disableAnimations(n,e){this.engine.disableAnimations(n,e)}}class c extends ZN{constructor(n,e,i,o){super(e,i,o),this.factory=n,this.namespaceId=e}setProperty(n,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==GN?this.disableAnimations(n,i=void 0===i||!!i):this.engine.process(this.namespaceId,n,e.substr(1),i):this.delegate.setProperty(n,e,i)}listen(n,e,i){if("@"==e.charAt(0)){const o=function u(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(n);let s=e.substr(1),a="";return"@"!=s.charAt(0)&&([s,a]=function h(t){const n=t.indexOf(".");return[t.substring(0,n),t.substr(n+1)]}(s)),this.engine.listen(this.namespaceId,o,s,a,d=>{this.factory.scheduleListenerCallback(d._data||-1,i,d)})}return this.delegate.listen(n,e,i)}}let _=(()=>{class t extends U2{constructor(e,i,o){super(e.body,i,o)}ngOnDestroy(){this.flush()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(et),r.LFG(Qx),r.LFG(I2))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const O=new r.OlP("AnimationModuleType"),R=[{provide:ww,useClass:kU},{provide:I2,useFactory:function b(){return new wU}},{provide:U2,useClass:_},{provide:r.FYo,useFactory:function D(t,n,e){return new LU(t,n,e)},deps:[Wi,U2,r.R0b]}],V=[{provide:Qx,useFactory:()=>new MU},{provide:O,useValue:"BrowserAnimations"},...R],J=[{provide:Qx,useClass:l2},{provide:O,useValue:"NoopAnimations"},...R];let re=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?J:V}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:V,imports:[cs]}),t})();function Zt(t,n){if(1&t&&r._UZ(0,"mat-pseudo-checkbox",4),2&t){const e=r.oxw();r.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function yn(t,n){if(1&t&&(r.TgZ(0,"span",5),r._uU(1),r.qZA()),2&t){const e=r.oxw();r.xp6(1),r.hij("(",e.group.label,")")}}const Pn=["*"];let Xt=(()=>{class t{}return t.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",t.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",t.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",t.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",t})(),Ti=(()=>{class t{}return t.COMPLEX="375ms",t.ENTERING="225ms",t.EXITING="195ms",t})();const Ao=new r.OlP("mat-sanity-checks",{providedIn:"root",factory:function Fr(){return!0}});let ci=(()=>{class t{constructor(e,i,o){this._sanityChecks=i,this._document=o,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!db()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(hk),r.LFG(Ao,8),r.LFG(et))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[hy],hy]}),t})();function td(t){return class extends t{constructor(...n){super(...n),this._disabled=!1}get disabled(){return this._disabled}set disabled(n){this._disabled=Rn(n)}}}function jh(t,n){return class extends t{constructor(...e){super(...e),this.defaultColor=n,this.color=n}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function nd(t){return class extends t{constructor(...n){super(...n),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=Rn(n)}}}function Cb(t,n=0){return class extends t{constructor(...e){super(...e),this._tabIndex=n,this.defaultTabIndex=n}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?ac(e):this.defaultTabIndex}}}function xb(t){return class extends t{constructor(...n){super(...n),this.stateChanges=new Ht.x,this.errorState=!1}updateErrorState(){const n=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==n&&(this.errorState=s,this.stateChanges.next())}}}function cT(t){return class extends t{constructor(...n){super(...n),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new Co.y(e=>{this._isInitialized?this._notifySubscriber(e):this._pendingSubscribers.push(e)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(n){n.next(),n.complete()}}}const q2=new r.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function oW(){return(0,r.f3M)(r.soG)}});class al{constructor(){this._localeChanges=new Ht.x,this.localeChanges=this._localeChanges}getValidDateOrNull(n){return this.isDateInstance(n)&&this.isValid(n)?n:null}deserialize(n){return null==n||this.isDateInstance(n)&&this.isValid(n)?n:this.invalid()}setLocale(n){this.locale=n,this._localeChanges.next()}compareDate(n,e){return this.getYear(n)-this.getYear(e)||this.getMonth(n)-this.getMonth(e)||this.getDate(n)-this.getDate(e)}sameDate(n,e){if(n&&e){let i=this.isValid(n),o=this.isValid(e);return i&&o?!this.compareDate(n,e):i==o}return n==e}clampDate(n,e,i){return e&&this.compareDate(n,e)<0?e:i&&this.compareDate(n,i)>0?i:n}}const V_=new r.OlP("mat-date-formats"),sW=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function YN(t,n){const e=Array(t);for(let i=0;i<t;i++)e[i]=n(i);return e}let aW=(()=>{class t extends al{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return YN(12,o=>this._format(i,new Date(2017,o,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return YN(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return YN(7,o=>this._format(i,new Date(2017,0,o+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,o){let s=this._createDateWithOverflow(e,i,o);return s.getMonth(),s}today(){return new Date}parse(e){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const o=new Intl.DateTimeFormat(this.locale,Object.assign(Object.assign({},i),{timeZone:"utc"}));return this._format(o,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let o=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(o)!=((this.getMonth(e)+i)%12+12)%12&&(o=this._createDateWithOverflow(this.getYear(o),this.getMonth(o),0)),o}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(sW.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,o){const s=new Date;return s.setFullYear(e,i,o),s.setHours(0,0,0,0),s}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const o=new Date;return o.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),o.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(o)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(q2,8),r.LFG(ho))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const lW={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let cW=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[{provide:al,useClass:aW}]}),t})(),FU=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[{provide:V_,useValue:lW}],imports:[[cW]]}),t})(),Tb=(()=>{class t{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),NU=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),t})();function H2(t,n,e){t.nativeElement.classList.toggle(n,e)}let PU=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[ci],ci]}),t})();class uW{constructor(n,e,i){this._renderer=n,this.element=e,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const BU={enterDuration:225,exitDuration:150},zN=N_({passive:!0}),UU=["mousedown","touchstart"],jU=["mouseup","mouseleave","touchend","touchcancel"];class VU{constructor(n,e,i,o){this._target=n,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,o.isBrowser&&(this._containerElement=Hp(i))}fadeInRipple(n,e,i={}){const o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=Object.assign(Object.assign({},BU),i.animation);i.centered&&(n=o.left+o.width/2,e=o.top+o.height/2);const a=i.radius||function fW(t,n,e){const i=Math.max(Math.abs(t-e.left),Math.abs(t-e.right)),o=Math.max(Math.abs(n-e.top),Math.abs(n-e.bottom));return Math.sqrt(i*i+o*o)}(n,e,o),d=n-o.left,f=e-o.top,v=s.enterDuration,w=document.createElement("div");w.classList.add("mat-ripple-element"),w.style.left=d-a+"px",w.style.top=f-a+"px",w.style.height=2*a+"px",w.style.width=2*a+"px",null!=i.color&&(w.style.backgroundColor=i.color),w.style.transitionDuration=`${v}ms`,this._containerElement.appendChild(w),function hW(t){window.getComputedStyle(t).getPropertyValue("opacity")}(w),w.style.transform="scale(1)";const x=new uW(this,w,i);return x.state=0,this._activeRipples.add(x),i.persistent||(this._mostRecentTransientRipple=x),this._runTimeoutOutsideZone(()=>{const S=x===this._mostRecentTransientRipple;x.state=1,!i.persistent&&(!S||!this._isPointerDown)&&x.fadeOut()},v),x}fadeOutRipple(n){const e=this._activeRipples.delete(n);if(n===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const i=n.element,o=Object.assign(Object.assign({},BU),n.config.animation);i.style.transitionDuration=`${o.exitDuration}ms`,i.style.opacity="0",n.state=2,this._runTimeoutOutsideZone(()=>{n.state=3,i.remove()},o.exitDuration)}fadeOutAll(){this._activeRipples.forEach(n=>n.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(n=>{n.config.persistent||n.fadeOut()})}setupTriggerEvents(n){const e=Hp(n);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(UU))}handleEvent(n){"mousedown"===n.type?this._onMousedown(n):"touchstart"===n.type?this._onTouchStart(n):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(jU),this._pointerUpEventsRegistered=!0)}_onMousedown(n){const e=YS(n),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(n.clientX,n.clientY,this._target.rippleConfig))}_onTouchStart(n){if(!this._target.rippleDisabled&&!yy(n)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=n.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(n=>{!n.config.persistent&&(1===n.state||n.config.terminateOnPointerUp&&0===n.state)&&n.fadeOut()}))}_runTimeoutOutsideZone(n,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(n,e))}_registerEvents(n){this._ngZone.runOutsideAngular(()=>{n.forEach(e=>{this._triggerElement.addEventListener(e,this,zN)})})}_removeTriggerEvents(){this._triggerElement&&(UU.forEach(n=>{this._triggerElement.removeEventListener(n,this,zN)}),this._pointerUpEventsRegistered&&jU.forEach(n=>{this._triggerElement.removeEventListener(n,this,zN)}))}}const qU=new r.OlP("mat-ripple-global-options");let Wp=(()=>{class t{constructor(e,i,o,s,a){this._elementRef=e,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new VU(this,i,e,o)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,o){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,Object.assign(Object.assign({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.R0b),r.Y36(ho),r.Y36(qU,8),r.Y36(O,8))},t.\u0275dir=r.lG2({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&r.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),t})(),Ab=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[ci],ci]}),t})(),HU=(()=>{class t{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(O,8))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,i){2&e&&r.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),t})(),WN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[ci]]}),t})();const GU=new r.OlP("MAT_OPTION_PARENT_COMPONENT"),ZU=new r.OlP("MatOptgroup");let pW=0;class mW{constructor(n,e=!1){this.source=n,this.isUserInput=e}}let gW=(()=>{class t{constructor(e,i,o,s){this._element=e,this._changeDetectorRef=i,this._parent=o,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+pW++,this.onSelectionChange=new r.vpe,this._stateChanges=new Ht.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=Rn(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const o=this._getHostElement();"function"==typeof o.focus&&o.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!lc(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new mW(this,e))}}return t.\u0275fac=function(e){r.$Z()},t.\u0275dir=r.lG2({type:t,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),t})(),ug=(()=>{class t extends gW{constructor(e,i,o,s){super(e,i,o,s)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(GU,8),r.Y36(ZU,8))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,i){1&e&&r.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(s){return i._handleKeydown(s)}),2&e&&(r.Ikx("id",i.id),r.uIk("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),r.ekj("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[r.qOj],ngContentSelectors:Pn,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(r.F$t(),r.YNc(0,Zt,1,2,"mat-pseudo-checkbox",0),r.TgZ(1,"span",1),r.Hsn(2),r.qZA(),r.YNc(3,yn,2,1,"span",2),r._UZ(4,"div",3)),2&e&&(r.Q6J("ngIf",i.multiple),r.xp6(3),r.Q6J("ngIf",i.group&&i.group._inert),r.xp6(1),r.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},directives:[HU,Sn,Wp],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),t})();function YU(t,n,e){if(e.length){let i=n.toArray(),o=e.toArray(),s=0;for(let a=0;a<t+1;a++)i[a].group&&i[a].group===o[s]&&s++;return s}return 0}let zU=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[Ab,wo,ci,WN]]}),t})();var vW=me(1144);const yW=["addListener","removeListener"],bW=["addEventListener","removeEventListener"],wW=["on","off"];function Ty(t,n,e,i){if((0,Ye.m)(e)&&(i=e,e=void 0),i)return Ty(t,n,e).pipe(G(i));const[o,s]=function TW(t){return(0,Ye.m)(t.addEventListener)&&(0,Ye.m)(t.removeEventListener)}(t)?bW.map(a=>d=>t[a](n,d,e)):function CW(t){return(0,Ye.m)(t.addListener)&&(0,Ye.m)(t.removeListener)}(t)?yW.map(WU(t,n)):function xW(t){return(0,Ye.m)(t.on)&&(0,Ye.m)(t.off)}(t)?wW.map(WU(t,n)):[];if(!o&&(0,vW.z)(t))return(0,no.z)(a=>Ty(a,n,e))((0,$i.Xf)(t));if(!o)throw new TypeError("Invalid event target");return new Co.y(a=>{const d=(...f)=>a.next(1<f.length?f:f[0]);return o(d),()=>s(d)})}function WU(t,n){return e=>i=>t[e](n,i)}const AW=["connectionContainer"],SW=["inputContainer"],DW=["label"];function EW(t,n){1&t&&(r.ynx(0),r.TgZ(1,"div",14),r._UZ(2,"div",15)(3,"div",16)(4,"div",17),r.qZA(),r.TgZ(5,"div",18),r._UZ(6,"div",15)(7,"div",16)(8,"div",17),r.qZA(),r.BQk())}function MW(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"div",19),r.NdJ("cdkObserveContent",function(){return r.CHM(e),r.oxw().updateOutlineGap()}),r.Hsn(1,1),r.qZA()}if(2&t){const e=r.oxw();r.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function kW(t,n){if(1&t&&(r.ynx(0),r.Hsn(1,2),r.TgZ(2,"span"),r._uU(3),r.qZA(),r.BQk()),2&t){const e=r.oxw(2);r.xp6(3),r.Oqu(e._control.placeholder)}}function IW(t,n){1&t&&r.Hsn(0,3,["*ngSwitchCase","true"])}function OW(t,n){1&t&&(r.TgZ(0,"span",23),r._uU(1," *"),r.qZA())}function LW(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"label",20,21),r.NdJ("cdkObserveContent",function(){return r.CHM(e),r.oxw().updateOutlineGap()}),r.YNc(2,kW,4,1,"ng-container",12),r.YNc(3,IW,1,0,"ng-content",12),r.YNc(4,OW,2,0,"span",22),r.qZA()}if(2&t){const e=r.oxw();r.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),r.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),r.uIk("for",e._control.id)("aria-owns",e._control.id),r.xp6(2),r.Q6J("ngSwitchCase",!1),r.xp6(1),r.Q6J("ngSwitchCase",!0),r.xp6(1),r.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function FW(t,n){1&t&&(r.TgZ(0,"div",24),r.Hsn(1,4),r.qZA())}function NW(t,n){if(1&t&&(r.TgZ(0,"div",25),r._UZ(1,"span",26),r.qZA()),2&t){const e=r.oxw();r.xp6(1),r.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function RW(t,n){if(1&t&&(r.TgZ(0,"div"),r.Hsn(1,5),r.qZA()),2&t){const e=r.oxw();r.Q6J("@transitionMessages",e._subscriptAnimationState)}}function PW(t,n){if(1&t&&(r.TgZ(0,"div",30),r._uU(1),r.qZA()),2&t){const e=r.oxw(2);r.Q6J("id",e._hintLabelId),r.xp6(1),r.Oqu(e.hintLabel)}}function BW(t,n){if(1&t&&(r.TgZ(0,"div",27),r.YNc(1,PW,2,2,"div",28),r.Hsn(2,6),r._UZ(3,"div",29),r.Hsn(4,7),r.qZA()),2&t){const e=r.oxw();r.Q6J("@transitionMessages",e._subscriptAnimationState),r.xp6(1),r.Q6J("ngIf",e.hintLabel)}}const UW=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],jW=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let VW=0;const $U=new r.OlP("MatError");let Xw=(()=>{class t{constructor(e,i){this.id="mat-error-"+VW++,e||i.nativeElement.setAttribute("aria-live","polite")}}return t.\u0275fac=function(e){return new(e||t)(r.$8M("aria-live"),r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(e,i){2&e&&r.uIk("id",i.id)},inputs:{id:"id"},features:[r._Bn([{provide:$U,useExisting:t}])]}),t})();const qW={transitionMessages:zs("transitionMessages",[Mr("enter",Qt({opacity:1,transform:"translateY(0%)"})),pr("void => enter",[Qt({opacity:0,transform:"translateY(-5px)"}),Ar("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let uT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t}),t})(),HW=0;const QU=new r.OlP("MatHint");let GW=(()=>{class t{constructor(){this.align="start",this.id="mat-hint-"+HW++}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(e,i){2&e&&(r.uIk("id",i.id)("align",null),r.ekj("mat-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"},features:[r._Bn([{provide:QU,useExisting:t}])]}),t})(),id=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["mat-label"]]}),t})(),ZW=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["mat-placeholder"]]}),t})();const YW=new r.OlP("MatPrefix"),JU=new r.OlP("MatSuffix");let G2=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["","matSuffix",""]],features:[r._Bn([{provide:JU,useExisting:t}])]}),t})(),KU=0;const WW=jh(class{constructor(t){this._elementRef=t}},"primary"),$W=new r.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Z2=new r.OlP("MatFormField");let $d=(()=>{class t extends WW{constructor(e,i,o,s,a,d,f){super(e),this._changeDetectorRef=i,this._dir=o,this._defaults=s,this._platform=a,this._ngZone=d,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Ht.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+KU++,this._labelId="mat-form-field-label-"+KU++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==f,this.appearance=s&&s.appearance?s.appearance:"legacy",this._hideRequiredMarker=!(!s||null==s.hideRequiredMarker)&&s.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Rn(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(Ir(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(ai(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(ai(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,co.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Ir(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Ir(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(ai(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Ty(this._label.nativeElement,"transitionend").pipe((0,Er.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,o=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),o&&e.push(o.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,o=".mat-form-field-outline-start",s=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const w=i.querySelectorAll(`${o}, ${s}`);for(let x=0;x<w.length;x++)w[x].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let a=0,d=0;const f=i.querySelectorAll(o),v=i.querySelectorAll(s);if(this._label&&this._label.nativeElement.children.length){const w=i.getBoundingClientRect();if(0===w.width&&0===w.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const x=this._getStartEnd(w),S=e.children,E=this._getStartEnd(S[0].getBoundingClientRect());let q=0;for(let H=0;H<S.length;H++)q+=S[H].offsetWidth;a=Math.abs(E-x)-5,d=q>0?.75*q+10:0}for(let w=0;w<f.length;w++)f[w].style.width=`${a}px`;for(let w=0;w<v.length;w++)v[w].style.width=`${d}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(Us,8),r.Y36($W,8),r.Y36(ho),r.Y36(r.R0b),r.Y36(O,8))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-form-field"]],contentQueries:function(e,i,o){if(1&e&&(r.Suo(o,uT,5),r.Suo(o,uT,7),r.Suo(o,id,5),r.Suo(o,id,7),r.Suo(o,ZW,5),r.Suo(o,$U,5),r.Suo(o,QU,5),r.Suo(o,YW,5),r.Suo(o,JU,5)),2&e){let s;r.iGM(s=r.CRH())&&(i._controlNonStatic=s.first),r.iGM(s=r.CRH())&&(i._controlStatic=s.first),r.iGM(s=r.CRH())&&(i._labelChildNonStatic=s.first),r.iGM(s=r.CRH())&&(i._labelChildStatic=s.first),r.iGM(s=r.CRH())&&(i._placeholderChild=s.first),r.iGM(s=r.CRH())&&(i._errorChildren=s),r.iGM(s=r.CRH())&&(i._hintChildren=s),r.iGM(s=r.CRH())&&(i._prefixChildren=s),r.iGM(s=r.CRH())&&(i._suffixChildren=s)}},viewQuery:function(e,i){if(1&e&&(r.Gf(AW,7),r.Gf(SW,5),r.Gf(DW,5)),2&e){let o;r.iGM(o=r.CRH())&&(i._connectionContainerRef=o.first),r.iGM(o=r.CRH())&&(i._inputContainerRef=o.first),r.iGM(o=r.CRH())&&(i._label=o.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&r.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[r._Bn([{provide:Z2,useExisting:t}]),r.qOj],ngContentSelectors:jW,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(r.F$t(UW),r.TgZ(0,"div",0)(1,"div",1,2),r.NdJ("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),r.YNc(3,EW,9,0,"ng-container",3),r.YNc(4,MW,2,1,"div",4),r.TgZ(5,"div",5,6),r.Hsn(7),r.TgZ(8,"span",7),r.YNc(9,LW,5,16,"label",8),r.qZA()(),r.YNc(10,FW,2,0,"div",9),r.qZA(),r.YNc(11,NW,2,4,"div",10),r.TgZ(12,"div",11),r.YNc(13,RW,2,1,"div",12),r.YNc(14,BW,5,2,"div",13),r.qZA()()),2&e&&(r.xp6(3),r.Q6J("ngIf","outline"==i.appearance),r.xp6(1),r.Q6J("ngIf",i._prefixChildren.length),r.xp6(5),r.Q6J("ngIf",i._hasFloatingLabel()),r.xp6(1),r.Q6J("ngIf",i._suffixChildren.length),r.xp6(1),r.Q6J("ngIf","outline"!=i.appearance),r.xp6(1),r.Q6J("ngSwitch",i._getDisplayedMessages()),r.xp6(1),r.Q6J("ngSwitchCase","error"),r.xp6(1),r.Q6J("ngSwitchCase","hint"))},directives:[Sn,Lw,Xr,Yi],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[qW.transitionMessages]},changeDetection:0}),t})(),Y2=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[wo,ci,lb],ci]}),t})();const e8=N_({passive:!0});let QW=(()=>{class t{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return fi.E;const i=Hp(e),o=this._monitoredElements.get(i);if(o)return o.subject;const s=new Ht.x,a="cdk-text-field-autofilled",d=f=>{"cdk-text-field-autofill-start"!==f.animationName||i.classList.contains(a)?"cdk-text-field-autofill-end"===f.animationName&&i.classList.contains(a)&&(i.classList.remove(a),this._ngZone.run(()=>s.next({target:f.target,isAutofilled:!1}))):(i.classList.add(a),this._ngZone.run(()=>s.next({target:f.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",d,e8),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",d,e8)}}),s}stopMonitoring(e){const i=Hp(e),o=this._monitoredElements.get(i);o&&(o.unlisten(),o.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(ho),r.LFG(r.R0b))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),t8=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();const n8=new r.OlP("MAT_INPUT_VALUE_ACCESSOR"),JW=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let KW=0;const XW=xb(class{constructor(t,n,e,i){this._defaultErrorStateMatcher=t,this._parentForm=n,this._parentFormGroup=e,this.ngControl=i}});let Ay=(()=>{class t extends XW{constructor(e,i,o,s,a,d,f,v,w,x){super(d,s,a,o),this._elementRef=e,this._platform=i,this._autofillMonitor=v,this._formField=x,this._uid="mat-input-"+KW++,this.focused=!1,this.stateChanges=new Ht.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(q=>tF().has(q)),this._iOSKeyupListener=q=>{const H=q.target;!H.value&&0===H.selectionStart&&0===H.selectionEnd&&(H.setSelectionRange(1,1),H.setSelectionRange(0,0))};const S=this._elementRef.nativeElement,E=S.nodeName.toLowerCase();this._inputValueAccessor=f||S,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&w.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===E,this._isTextarea="textarea"===E,this._isInFormField=!!x,this._isNativeSelect&&(this.controlType=S.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Rn(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){var e,i,o,s;return null!==(s=null!==(e=this._required)&&void 0!==e?e:null===(o=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===o?void 0:o.hasValidator(sn.required))&&void 0!==s&&s}set required(e){this._required=Rn(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&tF().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Rn(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,i;const o=(null===(i=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===i?void 0:i.call(e))?null:this.placeholder;if(o!==this._previousPlaceholder){const s=this._elementRef.nativeElement;this._previousPlaceholder=o,o?s.setAttribute("placeholder",o):s.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){JW.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(ho),r.Y36(Hc,10),r.Y36(Mf,8),r.Y36(ya,8),r.Y36(Tb),r.Y36(n8,10),r.Y36(QW),r.Y36(r.R0b),r.Y36(Z2,8))},t.\u0275dir=r.lG2({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&r.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(r.Ikx("disabled",i.disabled)("required",i.required),r.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),r.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[r._Bn([{provide:uT,useExisting:t}]),r.qOj,r.TTD]}),t})(),i8=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[Tb],imports:[[t8,Y2,ci],t8,Y2]}),t})();const e$=["mat-button",""],t$=["*"],i$=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],r$=jh(td(nd(class{constructor(t){this._elementRef=t}})));let Uo=(()=>{class t extends r${constructor(e,i,o){super(e),this._focusMonitor=i,this._animationMode=o,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of i$)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(Bh),r.Y36(O,8))},t.\u0275cmp=r.Xpm({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&r.Gf(Wp,5),2&e){let o;r.iGM(o=r.CRH())&&(i.ripple=o.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(r.uIk("disabled",i.disabled||null),r.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[r.qOj],attrs:e$,ngContentSelectors:t$,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(r.F$t(),r.TgZ(0,"span",0),r.Hsn(1),r.qZA(),r._UZ(2,"span",1)(3,"span",2)),2&e&&(r.xp6(2),r.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),r.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[Wp],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),t})(),z2=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[Ab,ci],ci]}),t})(),o$=(()=>{class t{constructor(e){this.authService=e}ngOnInit(){this.loginForm=new Il({email:new mn("",{validators:[sn.required,sn.email]}),password:new mn("",{validators:[sn.required]})})}onSubmit(){localStorage.setItem("activeLink","dashboard"),localStorage.setItem("activeUserEmail",this.loginForm.value.email),this.authService.login({email:this.loginForm.value.email,password:this.loginForm.value.password})}onForgotPassword(){this.authService.onForgotPassword(this.loginForm.value.email)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Po))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-login"]],decls:31,vars:2,consts:[["src","../../../assets/login-top-bg.png","alt","",1,"top-bg"],["src","../../../assets/login-bottom-bg.png","alt","",1,"bottom-bg"],["src","../../../assets/plv-logo.png","alt","",1,"logo-img"],["fxLayout","row","fxLayoutAlign","space-around center","fxFlexFill",""],[1,"form-animation"],[3,"formGroup","ngSubmit"],["fxLayout","column","fxLayoutGap","25px","fxFlex","300px",1,"login-div"],[1,"login-text"],["type","email","matInput","","placeholder","Ex. admin@example.com","formControlName","email"],["type","password","matInput","","placeholder","Ex. admin@example.com","formControlName","password"],["align","end",2,"cursor","pointer",3,"click"],["mat-raised-button","","type","sumit","color","primary",1,"login-button",3,"disabled"],["src","../../../assets/login-img.png","alt","",1,"login-img"],[2,"font-family","var(--incon)","color","var(--primary)","position","fixed","bottom","0","left","15px","font-size","13px","letter-spacing","0.2em"]],template:function(e,i){1&e&&(r._UZ(0,"img",0)(1,"img",1)(2,"img",2),r.TgZ(3,"section",3)(4,"div",4)(5,"form",5),r.NdJ("ngSubmit",function(){return i.onSubmit()}),r.TgZ(6,"div",6)(7,"p",7),r._uU(8,"Login"),r.qZA(),r.TgZ(9,"mat-form-field")(10,"mat-label"),r._uU(11,"Email"),r.qZA(),r._UZ(12,"input",8),r.TgZ(13,"mat-hint"),r._uU(14,"Please enter a valid email."),r.qZA(),r.TgZ(15,"mat-error"),r._uU(16,"Invalid or missing email."),r.qZA()(),r.TgZ(17,"mat-form-field")(18,"mat-label"),r._uU(19,"Password"),r.qZA(),r._UZ(20,"input",9),r.TgZ(21,"mat-hint",10),r.NdJ("click",function(){return i.onForgotPassword()}),r._uU(22,"Forgot password"),r.qZA(),r.TgZ(23,"mat-error"),r._uU(24,"Missing password."),r.qZA()(),r.TgZ(25,"button",11),r._uU(26," Login "),r.qZA()()()(),r.TgZ(27,"div"),r._UZ(28,"img",12),r.qZA()(),r.TgZ(29,"p",13),r._uU(30,"CEIT FACULTY LOADING APP V.1.0"),r.qZA()),2&e&&(r.xp6(5),r.Q6J("formGroup",i.loginForm),r.xp6(20),r.Q6J("disabled",i.loginForm.invalid))},directives:[zr,uo,F_,qd,Ud,ya,$s,Yd,$d,id,Ay,_i,Gc,Zc,GW,Xw,Uo],styles:[".top-bg[_ngcontent-%COMP%]{position:fixed;top:0;right:0;animation:2s ease-in-out 0s 1 slideInFromRight}.bottom-bg[_ngcontent-%COMP%]{position:fixed;bottom:0;right:0;animation:1s ease-in-out 0s 1 slideInFromRight}.logo-img[_ngcontent-%COMP%]{position:fixed;top:2vh;left:8vh;animation:2s ease-in-out 0s 1 slideInFromLeft}.login-img[_ngcontent-%COMP%]{height:40vh;animation:2s ease-in-out imageAnimation 0s 1}.login-button[_ngcontent-%COMP%]{margin-top:25px;border-radius:10px}.login-text[_ngcontent-%COMP%]{font-family:var(--mont);text-transform:uppercase;font-size:35px;color:var(--primary)}.form-animation[_ngcontent-%COMP%]{animation:2s ease-in-out imageAnimation 0s 1}.login-div[_ngcontent-%COMP%]{margin-left:100px}@keyframes slideInFromRight{0%{transform:translate(150%)}to{transform:translate(0)}}@keyframes slideInFromLeft{0%{transform:translate(-250%)}to{transform:translate(0)}}@keyframes imageAnimation{0%{transform:scale(1.2)}to{transform:scale(1)}}"]}),t})();var r8=me(4408);const W2={schedule(t){let n=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=W2;i&&(n=i.requestAnimationFrame,e=i.cancelAnimationFrame);const o=n(s=>{e=void 0,t(s)});return new Di.w0(()=>null==e?void 0:e(o))},requestAnimationFrame(...t){const{delegate:n}=W2;return((null==n?void 0:n.requestAnimationFrame)||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){const{delegate:n}=W2;return((null==n?void 0:n.cancelAnimationFrame)||cancelAnimationFrame)(...t)},delegate:void 0};var o8=me(7565);new class a$ extends o8.v{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let o;n=n||i.shift();do{if(o=n.execute(n.state,n.delay))break}while((n=i[0])&&n.id===e&&i.shift());if(this._active=!1,o){for(;(n=i[0])&&n.id===e&&i.shift();)n.unsubscribe();throw o}}}(class s$ extends r8.o{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,i=0){return null!==i&&i>0?super.requestAsyncId(n,e,i):(n.actions.push(this),n._scheduled||(n._scheduled=W2.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(n,e,i);n.actions.some(o=>o.id===e)||(W2.cancelAnimationFrame(e),n._scheduled=void 0)}});let $N,c$=1;const Qk={};function s8(t){return t in Qk&&(delete Qk[t],!0)}const u$={setImmediate(t){const n=c$++;return Qk[n]=!0,$N||($N=Promise.resolve()),$N.then(()=>s8(n)&&t()),n},clearImmediate(t){s8(t)}},{setImmediate:d$,clearImmediate:h$}=u$,Jk={setImmediate(...t){const{delegate:n}=Jk;return((null==n?void 0:n.setImmediate)||d$)(...t)},clearImmediate(t){const{delegate:n}=Jk;return((null==n?void 0:n.clearImmediate)||h$)(t)},delegate:void 0},QN=new class p$ extends o8.v{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let o;n=n||i.shift();do{if(o=n.execute(n.state,n.delay))break}while((n=i[0])&&n.id===e&&i.shift());if(this._active=!1,o){for(;(n=i[0])&&n.id===e&&i.shift();)n.unsubscribe();throw o}}}(class f$ extends r8.o{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,i=0){return null!==i&&i>0?super.requestAsyncId(n,e,i):(n.actions.push(this),n._scheduled||(n._scheduled=Jk.setImmediate(n.flush.bind(n,void 0))))}recycleAsyncId(n,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(n,e,i);n.actions.some(o=>o.id===e)||(Jk.clearImmediate(e),n._scheduled=void 0)}});var g$=me(3532);function JN(t=0,n,e=ab.P){let i=-1;return null!=n&&((0,g$.K)(n)?e=n:i=n),new Co.y(o=>{let s=function _$(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;s<0&&(s=0);let a=0;return e.schedule(function(){o.closed||(o.next(a++),0<=i?this.schedule(void 0,i):o.complete())},s)})}function a8(t,n=ab.z){return function m$(t){return(0,An.e)((n,e)=>{let i=!1,o=null,s=null,a=!1;const d=()=>{if(null==s||s.unsubscribe(),s=null,i){i=!1;const v=o;o=null,e.next(v)}a&&e.complete()},f=()=>{s=null,a&&e.complete()};n.subscribe((0,L.x)(e,v=>{i=!0,o=v,s||(0,$i.Xf)(t(v)).subscribe(s=(0,L.x)(e,d,f))},()=>{a=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>JN(t,n))}let $2=(()=>{class t{constructor(e,i,o){this._ngZone=e,this._platform=i,this._scrolled=new Ht.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Co.y(i=>{this._globalSubscription||this._addGlobalListener();const o=e>0?this._scrolled.pipe(a8(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Dn()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const o=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(hr(s=>!s||o.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((o,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let o=Hp(i),s=e.getElementRef().nativeElement;do{if(o==s)return!0}while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Ty(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.R0b),r.LFG(ho),r.LFG(et,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Q2=(()=>{class t{constructor(e,i,o,s){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=o,this.dir=s,this._destroyed=new Ht.x,this._elementScrolled=new Co.y(a=>this.ngZone.runOutsideAngular(()=>Ty(this.elementRef.nativeElement,"scroll").pipe(ai(this._destroyed)).subscribe(a)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,o=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=o?e.end:e.start),null==e.right&&(e.right=o?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),o&&0!=Rw()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==Rw()?e.left=e.right:1==Rw()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;Ei()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",o="right",s=this.elementRef.nativeElement;if("top"==e)return s.scrollTop;if("bottom"==e)return s.scrollHeight-s.clientHeight-s.scrollTop;const a=this.dir&&"rtl"==this.dir.value;return"start"==e?e=a?o:i:"end"==e&&(e=a?i:o),a&&2==Rw()?e==i?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:a&&1==Rw()?e==i?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:e==i?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36($2),r.Y36(r.R0b),r.Y36(Us,8))},t.\u0275dir=r.lG2({type:t,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),t})(),Sy=(()=>{class t{constructor(e,i,o){this._platform=e,this._change=new Ht.x,this._changeListener=s=>{this._change.next(s)},this._document=o,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:o}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+o,right:e.left+i,height:o,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),o=e.documentElement,s=o.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||o.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||o.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(a8(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(ho),r.LFG(r.R0b),r.LFG(et,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Sb=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})(),KN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[hy,Sb],hy,Sb]}),t})();class XN{attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;null!=n&&(this._attachedHost=null,n.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class Db extends XN{constructor(n,e,i,o){super(),this.component=n,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=o}}class dT extends XN{constructor(n,e,i){super(),this.templateRef=n,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(n,e=this.context){return this.context=e,super.attach(n)}detach(){return this.context=void 0,super.detach()}}class b$ extends XN{constructor(n){super(),this.element=n instanceof r.SBq?n.nativeElement:n}}class Kk{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(n){return n instanceof Db?(this._attachedPortal=n,this.attachComponentPortal(n)):n instanceof dT?(this._attachedPortal=n,this.attachTemplatePortal(n)):this.attachDomPortal&&n instanceof b$?(this._attachedPortal=n,this.attachDomPortal(n)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class w$ extends Kk{constructor(n,e,i,o,s){super(),this.outletElement=n,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=o,this.attachDomPortal=a=>{const d=a.element,f=this._document.createComment("dom-portal");d.parentNode.insertBefore(f,d),this.outletElement.appendChild(d),this._attachedPortal=a,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(d,f)})},this._document=s}attachComponentPortal(n){const i=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component);let o;return n.viewContainerRef?(o=n.viewContainerRef.createComponent(i,n.viewContainerRef.length,n.injector||n.viewContainerRef.injector),this.setDisposeFn(()=>o.destroy())):(o=i.create(n.injector||this._defaultInjector),this._appRef.attachView(o.hostView),this.setDisposeFn(()=>{this._appRef.detachView(o.hostView),o.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(o)),this._attachedPortal=n,o}attachTemplatePortal(n){let e=n.viewContainerRef,i=e.createEmbeddedView(n.templateRef,n.context);return i.rootNodes.forEach(o=>this.outletElement.appendChild(o)),i.detectChanges(),this.setDisposeFn(()=>{let o=e.indexOf(i);-1!==o&&e.remove(o)}),this._attachedPortal=n,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(n){return n.hostView.rootNodes[0]}}let Dy=(()=>{class t extends Kk{constructor(e,i,o){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new r.vpe,this.attachDomPortal=s=>{const a=s.element,d=this._document.createComment("dom-portal");s.setAttachedHost(this),a.parentNode.insertBefore(d,a),this._getRootNode().appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(a,d)})},this._document=o}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),a=i.createComponent(s,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=e,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r._Vd),r.Y36(r.s_b),r.Y36(et))},t.\u0275dir=r.lG2({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[r.qOj]}),t})(),J2=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();const l8=Ei();class x${constructor(n,e){this._viewportRuler=n,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const n=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=n.style.left||"",this._previousHTMLStyles.top=n.style.top||"",n.style.left=wa(-this._previousScrollPosition.left),n.style.top=wa(-this._previousScrollPosition.top),n.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const n=this._document.documentElement,i=n.style,o=this._document.body.style,s=i.scrollBehavior||"",a=o.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,n.classList.remove("cdk-global-scrollblock"),l8&&(i.scrollBehavior=o.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),l8&&(i.scrollBehavior=s,o.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class T${constructor(n,e,i,o){this._scrollDispatcher=n,this._ngZone=e,this._viewportRuler=i,this._config=o,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(n){this._overlayRef=n}enable(){if(this._scrollSubscription)return;const n=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=n.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=n.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class c8{enable(){}disable(){}attach(){}}function eR(t,n){return n.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function u8(t,n){return n.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class A${constructor(n,e,i,o){this._scrollDispatcher=n,this._viewportRuler=e,this._ngZone=i,this._config=o,this._scrollSubscription=null}attach(n){this._overlayRef=n}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:o}=this._viewportRuler.getViewportSize();eR(e,[{width:i,height:o,bottom:o,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let S$=(()=>{class t{constructor(e,i,o,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=o,this.noop=()=>new c8,this.close=a=>new T$(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new x$(this._viewportRuler,this._document),this.reposition=a=>new A$(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=s}}return t.\u0275fac=function(e){return new(e||t)(r.LFG($2),r.LFG(Sy),r.LFG(r.R0b),r.LFG(et))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class hT{constructor(n){if(this.scrollStrategy=new c8,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,n){const e=Object.keys(n);for(const i of e)void 0!==n[i]&&(this[i]=n[i])}}}class D${constructor(n,e){this.connectionPair=n,this.scrollableViewProperties=e}}class E${constructor(n,e,i,o,s,a,d,f,v){this._portalOutlet=n,this._host=e,this._pane=i,this._config=o,this._ngZone=s,this._keyboardDispatcher=a,this._document=d,this._location=f,this._outsideClickDispatcher=v,this._backdropElement=null,this._backdropClick=new Ht.x,this._attachments=new Ht.x,this._detachments=new Ht.x,this._locationChanges=Di.w0.EMPTY,this._backdropClickHandler=w=>this._backdropClick.next(w),this._backdropTransitionendHandler=w=>{this._disposeBackdrop(w.target)},this._keydownEvents=new Ht.x,this._outsidePointerEvents=new Ht.x,o.scrollStrategy&&(this._scrollStrategy=o.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(n){let e=this._portalOutlet.attach(n);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Er.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const n=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),n}dispose(){var n;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(n=this._host)||void 0===n||n.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(n){n!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=n,this.hasAttached()&&(n.attach(this),this.updatePosition()))}updateSize(n){this._config=Object.assign(Object.assign({},this._config),n),this._updateElementSize()}setDirection(n){this._config=Object.assign(Object.assign({},this._config),{direction:n}),this._updateElementDirection()}addPanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!0)}removePanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!1)}getDirection(){const n=this._config.direction;return n?"string"==typeof n?n:n.value:"ltr"}updateScrollStrategy(n){n!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=n,this.hasAttached()&&(n.attach(this),n.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const n=this._pane.style;n.width=wa(this._config.width),n.height=wa(this._config.height),n.minWidth=wa(this._config.minWidth),n.minHeight=wa(this._config.minHeight),n.maxWidth=wa(this._config.maxWidth),n.maxHeight=wa(this._config.maxHeight)}_togglePointerEvents(n){this._pane.style.pointerEvents=n?"":"none"}_attachBackdrop(){const n="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(n)})}):this._backdropElement.classList.add(n)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const n=this._backdropElement;!n||(n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{n.addEventListener("transitionend",this._backdropTransitionendHandler)}),n.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(n)},500)))}_toggleClasses(n,e,i){const o=Dx(e||[]).filter(s=>!!s);o.length&&(i?n.classList.add(...o):n.classList.remove(...o))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const n=this._ngZone.onStable.pipe(ai((0,co.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),n.unsubscribe())})})}_disposeScrollStrategy(){const n=this._scrollStrategy;n&&(n.disable(),n.detach&&n.detach())}_disposeBackdrop(n){n&&(n.removeEventListener("click",this._backdropClickHandler),n.removeEventListener("transitionend",this._backdropTransitionendHandler),n.remove(),this._backdropElement===n&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let tR=(()=>{class t{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){var e;null===(e=this._containerElement)||void 0===e||e.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||db()){const o=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<o.length;s++)o[s].remove()}const i=this._document.createElement("div");i.classList.add(e),db()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(et),r.LFG(ho))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const d8="cdk-overlay-connected-position-bounding-box",M$=/([A-Za-z%]+)$/;class h8{constructor(n,e,i,o,s){this._viewportRuler=e,this._document=i,this._platform=o,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ht.x,this._resizeSubscription=Di.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(n)}get positions(){return this._preferredPositions}attach(n){this._validatePositions(),n.hostElement.classList.add(d8),this._overlayRef=n,this._boundingBox=n.hostElement,this._pane=n.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const n=this._originRect,e=this._overlayRect,i=this._viewportRect,o=this._containerRect,s=[];let a;for(let d of this._preferredPositions){let f=this._getOriginPoint(n,o,d),v=this._getOverlayPoint(f,e,d),w=this._getOverlayFit(v,e,i,d);if(w.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(d,f);this._canFitWithFlexibleDimensions(w,v,i)?s.push({position:d,origin:f,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(f,d)}):(!a||a.overlayFit.visibleArea<w.visibleArea)&&(a={overlayFit:w,overlayPoint:v,originPoint:f,position:d,overlayRect:e})}if(s.length){let d=null,f=-1;for(const v of s){const w=v.boundingBoxRect.width*v.boundingBoxRect.height*(v.position.weight||1);w>f&&(f=w,d=v)}return this._isPushed=!1,void this._applyPosition(d.position,d.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&eC(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(d8),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const n=this._lastPosition;if(n){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,n);this._applyPosition(n,e)}else this.apply()}withScrollableContainers(n){return this._scrollables=n,this}withPositions(n){return this._preferredPositions=n,-1===n.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(n){return this._viewportMargin=n,this}withFlexibleDimensions(n=!0){return this._hasFlexibleDimensions=n,this}withGrowAfterOpen(n=!0){return this._growAfterOpen=n,this}withPush(n=!0){return this._canPush=n,this}withLockedPosition(n=!0){return this._positionLocked=n,this}setOrigin(n){return this._origin=n,this}withDefaultOffsetX(n){return this._offsetX=n,this}withDefaultOffsetY(n){return this._offsetY=n,this}withTransformOriginOn(n){return this._transformOriginSelector=n,this}_getOriginPoint(n,e,i){let o,s;if("center"==i.originX)o=n.left+n.width/2;else{const a=this._isRtl()?n.right:n.left,d=this._isRtl()?n.left:n.right;o="start"==i.originX?a:d}return e.left<0&&(o-=e.left),s="center"==i.originY?n.top+n.height/2:"top"==i.originY?n.top:n.bottom,e.top<0&&(s-=e.top),{x:o,y:s}}_getOverlayPoint(n,e,i){let o,s;return o="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:n.x+o,y:n.y+s}}_getOverlayFit(n,e,i,o){const s=p8(e);let{x:a,y:d}=n,f=this._getOffset(o,"x"),v=this._getOffset(o,"y");f&&(a+=f),v&&(d+=v);let S=0-d,E=d+s.height-i.height,q=this._subtractOverflows(s.width,0-a,a+s.width-i.width),H=this._subtractOverflows(s.height,S,E),ee=q*H;return{visibleArea:ee,isCompletelyWithinViewport:s.width*s.height===ee,fitsInViewportVertically:H===s.height,fitsInViewportHorizontally:q==s.width}}_canFitWithFlexibleDimensions(n,e,i){if(this._hasFlexibleDimensions){const o=i.bottom-e.y,s=i.right-e.x,a=f8(this._overlayRef.getConfig().minHeight),d=f8(this._overlayRef.getConfig().minWidth),v=n.fitsInViewportHorizontally||null!=d&&d<=s;return(n.fitsInViewportVertically||null!=a&&a<=o)&&v}return!1}_pushOverlayOnScreen(n,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:n.x+this._previousPushAmount.x,y:n.y+this._previousPushAmount.y};const o=p8(e),s=this._viewportRect,a=Math.max(n.x+o.width-s.width,0),d=Math.max(n.y+o.height-s.height,0),f=Math.max(s.top-i.top-n.y,0),v=Math.max(s.left-i.left-n.x,0);let w=0,x=0;return w=o.width<=s.width?v||-a:n.x<this._viewportMargin?s.left-i.left-n.x:0,x=o.height<=s.height?f||-d:n.y<this._viewportMargin?s.top-i.top-n.y:0,this._previousPushAmount={x:w,y:x},{x:n.x+w,y:n.y+x}}_applyPosition(n,e){if(this._setTransformOrigin(n),this._setOverlayElementStyles(e,n),this._setBoundingBoxStyles(e,n),n.panelClass&&this._addPanelClasses(n.panelClass),this._lastPosition=n,this._positionChanges.observers.length){const i=this._getScrollVisibility(),o=new D$(n,i);this._positionChanges.next(o)}this._isInitialRender=!1}_setTransformOrigin(n){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,o=n.overlayY;i="center"===n.overlayX?"center":this._isRtl()?"start"===n.overlayX?"right":"left":"start"===n.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${o}`}_calculateBoundingBoxRect(n,e){const i=this._viewportRect,o=this._isRtl();let s,a,d,w,x,S;if("top"===e.overlayY)a=n.y,s=i.height-a+this._viewportMargin;else if("bottom"===e.overlayY)d=i.height-n.y+2*this._viewportMargin,s=i.height-d+this._viewportMargin;else{const E=Math.min(i.bottom-n.y+i.top,n.y),q=this._lastBoundingBoxSize.height;s=2*E,a=n.y-E,s>q&&!this._isInitialRender&&!this._growAfterOpen&&(a=n.y-q/2)}if("end"===e.overlayX&&!o||"start"===e.overlayX&&o)S=i.width-n.x+this._viewportMargin,w=n.x-this._viewportMargin;else if("start"===e.overlayX&&!o||"end"===e.overlayX&&o)x=n.x,w=i.right-n.x;else{const E=Math.min(i.right-n.x+i.left,n.x),q=this._lastBoundingBoxSize.width;w=2*E,x=n.x-E,w>q&&!this._isInitialRender&&!this._growAfterOpen&&(x=n.x-q/2)}return{top:a,left:x,bottom:d,right:S,width:w,height:s}}_setBoundingBoxStyles(n,e){const i=this._calculateBoundingBoxRect(n,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const o={};if(this._hasExactPosition())o.top=o.left="0",o.bottom=o.right=o.maxHeight=o.maxWidth="",o.width=o.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;o.height=wa(i.height),o.top=wa(i.top),o.bottom=wa(i.bottom),o.width=wa(i.width),o.left=wa(i.left),o.right=wa(i.right),o.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",o.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(o.maxHeight=wa(s)),a&&(o.maxWidth=wa(a))}this._lastBoundingBoxSize=i,eC(this._boundingBox.style,o)}_resetBoundingBoxStyles(){eC(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){eC(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(n,e){const i={},o=this._hasExactPosition(),s=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(o){const w=this._viewportRuler.getViewportScrollPosition();eC(i,this._getExactOverlayY(e,n,w)),eC(i,this._getExactOverlayX(e,n,w))}else i.position="static";let d="",f=this._getOffset(e,"x"),v=this._getOffset(e,"y");f&&(d+=`translateX(${f}px) `),v&&(d+=`translateY(${v}px)`),i.transform=d.trim(),a.maxHeight&&(o?i.maxHeight=wa(a.maxHeight):s&&(i.maxHeight="")),a.maxWidth&&(o?i.maxWidth=wa(a.maxWidth):s&&(i.maxWidth="")),eC(this._pane.style,i)}_getExactOverlayY(n,e,i){let o={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,n);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===n.overlayY?o.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":o.top=wa(s.y),o}_getExactOverlayX(n,e,i){let a,o={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,n);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),a=this._isRtl()?"end"===n.overlayX?"left":"right":"end"===n.overlayX?"right":"left","right"===a?o.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":o.left=wa(s.x),o}_getScrollVisibility(){const n=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(o=>o.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:u8(n,i),isOriginOutsideView:eR(n,i),isOverlayClipped:u8(e,i),isOverlayOutsideView:eR(e,i)}}_subtractOverflows(n,...e){return e.reduce((i,o)=>i-Math.max(o,0),n)}_getNarrowedViewportRect(){const n=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+n-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:n-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(n,e){return"x"===e?null==n.offsetX?this._offsetX:n.offsetX:null==n.offsetY?this._offsetY:n.offsetY}_validatePositions(){}_addPanelClasses(n){this._pane&&Dx(n).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(n=>{this._pane.classList.remove(n)}),this._appliedPanelClasses=[])}_getOriginRect(){const n=this._origin;if(n instanceof r.SBq)return n.nativeElement.getBoundingClientRect();if(n instanceof Element)return n.getBoundingClientRect();const e=n.width||0,i=n.height||0;return{top:n.y,bottom:n.y+i,left:n.x,right:n.x+e,height:i,width:e}}}function eC(t,n){for(let e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t}function f8(t){if("number"!=typeof t&&null!=t){const[n,e]=t.split(M$);return e&&"px"!==e?null:parseFloat(n)}return t||null}function p8(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}const m8="cdk-global-overlay-wrapper";class k${constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(n){const e=n.getConfig();this._overlayRef=n,this._width&&!e.width&&n.updateSize({width:this._width}),this._height&&!e.height&&n.updateSize({height:this._height}),n.hostElement.classList.add(m8),this._isDisposed=!1}top(n=""){return this._bottomOffset="",this._topOffset=n,this._alignItems="flex-start",this}left(n=""){return this._rightOffset="",this._leftOffset=n,this._justifyContent="flex-start",this}bottom(n=""){return this._topOffset="",this._bottomOffset=n,this._alignItems="flex-end",this}right(n=""){return this._leftOffset="",this._rightOffset=n,this._justifyContent="flex-end",this}width(n=""){return this._overlayRef?this._overlayRef.updateSize({width:n}):this._width=n,this}height(n=""){return this._overlayRef?this._overlayRef.updateSize({height:n}):this._height=n,this}centerHorizontally(n=""){return this.left(n),this._justifyContent="center",this}centerVertically(n=""){return this.top(n),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:o,height:s,maxWidth:a,maxHeight:d}=i,f=!("100%"!==o&&"100vw"!==o||a&&"100%"!==a&&"100vw"!==a),v=!("100%"!==s&&"100vh"!==s||d&&"100%"!==d&&"100vh"!==d);n.position=this._cssPosition,n.marginLeft=f?"0":this._leftOffset,n.marginTop=v?"0":this._topOffset,n.marginBottom=this._bottomOffset,n.marginRight=this._rightOffset,f?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=v?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(m8),i.justifyContent=i.alignItems=n.marginTop=n.marginBottom=n.marginLeft=n.marginRight=n.position="",this._overlayRef=null,this._isDisposed=!0}}let I$=(()=>{class t{constructor(e,i,o,s){this._viewportRuler=e,this._document=i,this._platform=o,this._overlayContainer=s}global(){return new k$}flexibleConnectedTo(e){return new h8(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Sy),r.LFG(et),r.LFG(ho),r.LFG(tR))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),g8=(()=>{class t{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(et))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),O$=(()=>{class t extends g8{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=o=>{const s=this._attachedOverlays;for(let a=s.length-1;a>-1;a--)if(s[a]._keydownEvents.observers.length>0){const d=s[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>d.next(o)):d.next(o);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(et),r.LFG(r.R0b,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),L$=(()=>{class t extends g8{constructor(e,i,o){super(e),this._platform=i,this._ngZone=o,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Gp(s)},this._clickListener=s=>{const a=Gp(s),d="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const f=this._attachedOverlays.slice();for(let v=f.length-1;v>-1;v--){const w=f[v];if(w._outsidePointerEvents.observers.length<1||!w.hasAttached())continue;if(w.overlayElement.contains(a)||w.overlayElement.contains(d))break;const x=w._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>x.next(s)):x.next(s)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(et),r.LFG(ho),r.LFG(r.R0b,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),F$=0,Vh=(()=>{class t{constructor(e,i,o,s,a,d,f,v,w,x,S){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=o,this._positionBuilder=s,this._keyboardDispatcher=a,this._injector=d,this._ngZone=f,this._document=v,this._directionality=w,this._location=x,this._outsideClickDispatcher=S}create(e){const i=this._createHostElement(),o=this._createPaneElement(i),s=this._createPortalOutlet(o),a=new hT(e);return a.direction=a.direction||this._directionality.value,new E$(s,i,o,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+F$++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(r.z2F)),new w$(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(S$),r.LFG(tR),r.LFG(r._Vd),r.LFG(I$),r.LFG(O$),r.LFG(r.zs3),r.LFG(r.R0b),r.LFG(et),r.LFG(Us),r.LFG(Re),r.LFG(L$))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const N$=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],_8=new r.OlP("cdk-connected-overlay-scroll-strategy");let v8=(()=>{class t{constructor(e){this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),t})(),y8=(()=>{class t{constructor(e,i,o,s,a){this._overlay=e,this._dir=a,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Di.w0.EMPTY,this._attachSubscription=Di.w0.EMPTY,this._detachSubscription=Di.w0.EMPTY,this._positionSubscription=Di.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new r.vpe,this.positionChange=new r.vpe,this.attach=new r.vpe,this.detach=new r.vpe,this.overlayKeydown=new r.vpe,this.overlayOutsideClick=new r.vpe,this._templatePortal=new dT(i,o),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Rn(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=Rn(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=Rn(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=Rn(e)}get push(){return this._push}set push(e){this._push=Rn(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=N$);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!lc(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new hT({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(o=>({originX:o.originX,originY:o.originY,overlayX:o.overlayX,overlayY:o.overlayY,offsetX:o.offsetX||this.offsetX,offsetY:o.offsetY||this.offsetY,panelClass:o.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof v8?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function C$(t,n=!1){return(0,An.e)((e,i)=>{let o=0;e.subscribe((0,L.x)(i,s=>{const a=t(s,o++);(a||n)&&i.next(s),!a&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Vh),r.Y36(r.Rgc),r.Y36(r.s_b),r.Y36(_8),r.Y36(Us,8))},t.\u0275dir=r.lG2({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[r.TTD]}),t})();const P$={provide:_8,deps:[Vh],useFactory:function R$(t){return()=>t.scrollStrategies.reposition()}};let tC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[Vh,P$],imports:[[hy,J2,KN],KN]}),t})();function B$(t,n){}class nR{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const U$={dialogContainer:zs("dialogContainer",[Mr("void, exit",Qt({opacity:0,transform:"scale(0.7)"})),Mr("enter",Qt({transform:"none"})),pr("* => enter",Lf([Ar("150ms cubic-bezier(0, 0, 0.2, 1)",Qt({transform:"none",opacity:1})),I_("@*",Pp(),{optional:!0})])),pr("* => void, * => exit",Lf([Ar("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Qt({opacity:0})),I_("@*",Pp(),{optional:!0})]))])};let j$=(()=>{class t extends Kk{constructor(e,i,o,s,a,d,f,v){super(),this._elementRef=e,this._focusTrapFactory=i,this._changeDetectorRef=o,this._config=a,this._interactivityChecker=d,this._ngZone=f,this._focusMonitor=v,this._animationStateChanged=new r.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=w=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(w)),this._ariaLabelledBy=a.ariaLabelledBy||null,this._document=s}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Bw())}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const o=()=>{e.removeEventListener("blur",o),e.removeEventListener("mousedown",o),e.removeAttribute("tabindex")};e.addEventListener("blur",o),e.addEventListener("mousedown",o)})),e.focus(i)}_focusByCssSelector(e,i){let o=this._elementRef.nativeElement.querySelector(e);o&&this._forceFocus(o,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const i=Bw(),o=this._elementRef.nativeElement;(!i||i===this._document.body||i===o||o.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=Bw();return e===i||e.contains(i)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(Px),r.Y36(r.sBO),r.Y36(et,8),r.Y36(nR),r.Y36(Rx),r.Y36(r.R0b),r.Y36(Bh))},t.\u0275dir=r.lG2({type:t,viewQuery:function(e,i){if(1&e&&r.Gf(Dy,7),2&e){let o;r.iGM(o=r.CRH())&&(i._portalOutlet=o.first)}},features:[r.qOj]}),t})(),V$=(()=>{class t extends j${constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=r.n5z(t)))(i||t)}}(),t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,i){1&e&&r.WFA("@dialogContainer.start",function(s){return i._onAnimationStart(s)})("@dialogContainer.done",function(s){return i._onAnimationDone(s)}),2&e&&(r.Ikx("id",i._id),r.uIk("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),r.d8E("@dialogContainer",i._state))},features:[r.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&r.YNc(0,B$,0,0,"ng-template",0)},directives:[Dy],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[U$.dialogContainer]}}),t})(),q$=0;class K2{constructor(n,e,i="mat-dialog-"+q$++){this._overlayRef=n,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new Ht.x,this._afterClosed=new Ht.x,this._beforeClosed=new Ht.x,this._state=0,e._id=i,e._animationStateChanged.pipe(hr(o=>"opened"===o.state),(0,Er.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(hr(o=>"closed"===o.state),(0,Er.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),n.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),n.keydownEvents().pipe(hr(o=>27===o.keyCode&&!this.disableClose&&!lc(o))).subscribe(o=>{o.preventDefault(),iR(this,"keyboard")}),n.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():iR(this,"mouse")})}close(n){this._result=n,this._containerInstance._animationStateChanged.pipe(hr(e=>"closing"===e.state),(0,Er.q)(1)).subscribe(e=>{this._beforeClosed.next(n),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(n){let e=this._getPositionStrategy();return n&&(n.left||n.right)?n.left?e.left(n.left):e.right(n.right):e.centerHorizontally(),n&&(n.top||n.bottom)?n.top?e.top(n.top):e.bottom(n.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(n="",e=""){return this._overlayRef.updateSize({width:n,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(n){return this._overlayRef.addPanelClass(n),this}removePanelClass(n){return this._overlayRef.removePanelClass(n),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function iR(t,n,e){return void 0!==t._containerInstance&&(t._containerInstance._closeInteractionType=n),t.close(e)}const $p=new r.OlP("MatDialogData"),H$=new r.OlP("mat-dialog-default-options"),b8=new r.OlP("mat-dialog-scroll-strategy"),Z$={provide:b8,deps:[Vh],useFactory:function G$(t){return()=>t.scrollStrategies.block()}};let Y$=(()=>{class t{constructor(e,i,o,s,a,d,f,v,w,x){this._overlay=e,this._injector=i,this._defaultOptions=o,this._parentDialog=s,this._overlayContainer=a,this._dialogRefConstructor=f,this._dialogContainerType=v,this._dialogDataToken=w,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ht.x,this._afterOpenedAtThisLevel=new Ht.x,this._ariaHiddenElements=new Map,this.afterAllClosed=Ui(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ir(void 0))),this._scrollStrategy=d}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){i=function z$(t,n){return Object.assign(Object.assign({},n),t)}(i,this._defaultOptions||new nR),i.id&&this.getDialogById(i.id);const o=this._createOverlay(i),s=this._attachDialogContainer(o,i),a=this._attachDialogContent(e,s,o,i);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.afterClosed().subscribe(()=>this._removeOpenDialog(a)),this.afterOpened.next(a),s._initializeWithAttachedContent(),a}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const i=this._getOverlayConfig(e);return this._overlay.create(i)}_getOverlayConfig(e){const i=new hT({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachDialogContainer(e,i){const s=r.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:nR,useValue:i}]}),a=new Db(this._dialogContainerType,i.viewContainerRef,s,i.componentFactoryResolver);return e.attach(a).instance}_attachDialogContent(e,i,o,s){const a=new this._dialogRefConstructor(o,i,s.id);if(e instanceof r.Rgc)i.attachTemplatePortal(new dT(e,null,{$implicit:s.data,dialogRef:a}));else{const d=this._createInjector(s,a,i),f=i.attachComponentPortal(new Db(e,s.viewContainerRef,d,s.componentFactoryResolver));a.componentInstance=f.instance}return a.updateSize(s.width,s.height).updatePosition(s.position),a}_createInjector(e,i,o){const s=e&&e.viewContainerRef&&e.viewContainerRef.injector,a=[{provide:this._dialogContainerType,useValue:o},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:i}];return e.direction&&(!s||!s.get(Us,null,r.XFs.Optional))&&a.push({provide:Us,useValue:{value:e.direction,change:Dn()}}),r.zs3.create({parent:s||this._injector,providers:a})}_removeOpenDialog(e){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let o=i.length-1;o>-1;o--){let s=i[o];s!==e&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return t.\u0275fac=function(e){r.$Z()},t.\u0275dir=r.lG2({type:t}),t})(),Eb=(()=>{class t extends Y${constructor(e,i,o,s,a,d,f,v){super(e,i,s,d,f,a,K2,V$,$p,v)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Vh),r.LFG(r.zs3),r.LFG(Re,8),r.LFG(H$,8),r.LFG(b8),r.LFG(t,12),r.LFG(tR),r.LFG(O,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),Ey=(()=>{class t{constructor(e,i,o){this.dialogRef=e,this._elementRef=i,this._dialog=o,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=function W$(t,n){let e=t.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?n.find(i=>i.id===e.id):null}(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const i=e._matDialogClose||e._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(e){iR(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(K2,8),r.Y36(r.SBq),r.Y36(Eb))},t.\u0275dir=r.lG2({type:t,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,i){1&e&&r.NdJ("click",function(s){return i._onButtonClick(s)}),2&e&&r.uIk("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[r.TTD]}),t})(),w8=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[Eb,Z$],imports:[[tC,J2,ci],ci]}),t})();var cc=me(8367),W=(me(5880),me(6089),me(655)),pi=me(492),Qd=me(4003),rR=function(t,n){return(rR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])})(t,n)};function C8(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],i=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}var li,Q$="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},oR=oR||{},ur=Q$||self;function Xk(){}function sR(t){var n=typeof t;return"array"==(n="object"!=n?n:t?Array.isArray(t)?"array":n:"null")||"object"==n&&"number"==typeof t.length}function X2(t){var n=typeof t;return"object"==n&&null!=t||"function"==n}var aR="closure_uid_"+(1e9*Math.random()>>>0),K$=0;function X$(t,n,e){return t.call.apply(t.bind,arguments)}function eQ(t,n,e){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,i),t.apply(n,o)}}return function(){return t.apply(n,arguments)}}function wu(t,n,e){return(wu=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?X$:eQ).apply(null,arguments)}function eI(t,n){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function Cu(t,n){function e(){}e.prototype=n.prototype,t.Z=n.prototype,t.prototype=new e,t.prototype.constructor=t,t.Vb=function(i,o,s){for(var a=Array(arguments.length-2),d=2;d<arguments.length;d++)a[d-2]=arguments[d];return n.prototype[o].apply(i,a)}}function Mb(){this.s=this.s,this.o=this.o}var nQ={};Mb.prototype.s=!1,Mb.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function J$(t){return Object.prototype.hasOwnProperty.call(t,aR)&&t[aR]||(t[aR]=++K$)}(this);delete nQ[t]}},Mb.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var x8=Array.prototype.indexOf?function(t,n){return Array.prototype.indexOf.call(t,n,void 0)}:function(t,n){if("string"==typeof t)return"string"!=typeof n||1!=n.length?-1:t.indexOf(n,0);for(var e=0;e<t.length;e++)if(e in t&&t[e]===n)return e;return-1},T8=Array.prototype.forEach?function(t,n,e){Array.prototype.forEach.call(t,n,e)}:function(t,n,e){for(var i=t.length,o="string"==typeof t?t.split(""):t,s=0;s<i;s++)s in o&&n.call(e,o[s],s,t)};function A8(t){return Array.prototype.concat.apply([],arguments)}function lR(t){var n=t.length;if(0<n){for(var e=Array(n),i=0;i<n;i++)e[i]=t[i];return e}return[]}function tI(t){return/^[\s\xa0]*$/.test(t)}var Kd,S8=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Jd(t,n){return-1!=t.indexOf(n)}function cR(t,n){return t<n?-1:t>n?1:0}e:{var D8=ur.navigator;if(D8){var E8=D8.userAgent;if(E8){Kd=E8;break e}}Kd=""}function uR(t,n,e){for(var i in t)n.call(e,t[i],i,t)}function M8(t){var n={};for(var e in t)n[e]=t[e];return n}var k8="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I8(t,n){for(var e,i,o=1;o<arguments.length;o++){for(e in i=arguments[o])t[e]=i[e];for(var s=0;s<k8.length;s++)e=k8[s],Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}}function dR(t){return dR[" "](t),t}dR[" "]=Xk;var nI,t,oQ=Jd(Kd,"Opera"),fT=Jd(Kd,"Trident")||Jd(Kd,"MSIE"),O8=Jd(Kd,"Edge"),hR=O8||fT,L8=Jd(Kd,"Gecko")&&!(Jd(Kd.toLowerCase(),"webkit")&&!Jd(Kd,"Edge"))&&!(Jd(Kd,"Trident")||Jd(Kd,"MSIE"))&&!Jd(Kd,"Edge"),sQ=Jd(Kd.toLowerCase(),"webkit")&&!Jd(Kd,"Edge");function F8(){var t=ur.document;return t?t.documentMode:void 0}e:{var fR="",pR=(t=Kd,L8?/rv:([^\);]+)(\)|;)/.exec(t):O8?/Edge\/([\d\.]+)/.exec(t):fT?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):sQ?/WebKit\/(\S+)/.exec(t):oQ?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(pR&&(fR=pR?pR[1]:""),fT){var mR=F8();if(null!=mR&&mR>parseFloat(fR)){nI=String(mR);break e}}nI=fR}var aQ={};var cQ=ur.document&&fT&&(F8()||parseInt(nI,10))||void 0,uQ=function(){if(!ur.addEventListener||!Object.defineProperty)return!1;var t=!1,n=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ur.addEventListener("test",Xk,n),ur.removeEventListener("test",Xk,n)}catch(e){}return t}();function rd(t,n){this.type=t,this.g=this.target=n,this.defaultPrevented=!1}function eD(t,n){if(rd.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var e=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=n,n=t.relatedTarget){if(L8){e:{try{dR(n.nodeName);var o=!0;break e}catch(s){}o=!1}o||(n=null)}}else"mouseover"==e?n=t.fromElement:"mouseout"==e&&(n=t.toElement);this.relatedTarget=n,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:dQ[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&eD.Z.h.call(this)}}rd.prototype.h=function(){this.defaultPrevented=!0},Cu(eD,rd);var dQ={2:"touch",3:"pen",4:"mouse"};eD.prototype.h=function(){eD.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var tD="closure_listenable_"+(1e6*Math.random()|0),hQ=0;function fQ(t,n,e,i,o){this.listener=t,this.proxy=null,this.src=n,this.type=e,this.capture=!!i,this.ia=o,this.key=++hQ,this.ca=this.fa=!1}function iI(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function rI(t){this.src=t,this.g={},this.h=0}function _R(t,n){var e=n.type;if(e in t.g){var s,i=t.g[e],o=x8(i,n);(s=0<=o)&&Array.prototype.splice.call(i,o,1),s&&(iI(n),0==t.g[e].length&&(delete t.g[e],t.h--))}}function vR(t,n,e,i){for(var o=0;o<t.length;++o){var s=t[o];if(!s.ca&&s.listener==n&&s.capture==!!e&&s.ia==i)return o}return-1}rI.prototype.add=function(t,n,e,i,o){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var a=vR(t,n,i,o);return-1<a?(n=t[a],e||(n.fa=!1)):((n=new fQ(n,this.src,s,!!i,o)).fa=e,t.push(n)),n};var yR="closure_lm_"+(1e6*Math.random()|0),bR={};function R8(t,n,e,i,o){if(i&&i.once)return B8(t,n,e,i,o);if(Array.isArray(n)){for(var s=0;s<n.length;s++)R8(t,n[s],e,i,o);return null}return e=TR(e),t&&t[tD]?t.N(n,e,X2(i)?!!i.capture:!!i,o):P8(t,n,e,!1,i,o)}function P8(t,n,e,i,o,s){if(!n)throw Error("Invalid event type");var a=X2(o)?!!o.capture:!!o,d=CR(t);if(d||(t[yR]=d=new rI(t)),(e=d.add(n,e,i,a,s)).proxy)return e;if(i=function pQ(){var n=mQ;return function t(e){return n.call(t.src,t.listener,e)}}(),e.proxy=i,i.src=t,i.listener=e,t.addEventListener)uQ||(o=a),void 0===o&&(o=!1),t.addEventListener(n.toString(),i,o);else if(t.attachEvent)t.attachEvent(j8(n.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}return e}function B8(t,n,e,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)B8(t,n[s],e,i,o);return null}return e=TR(e),t&&t[tD]?t.O(n,e,X2(i)?!!i.capture:!!i,o):P8(t,n,e,!0,i,o)}function U8(t,n,e,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)U8(t,n[s],e,i,o);else i=X2(i)?!!i.capture:!!i,e=TR(e),t&&t[tD]?(t=t.i,(n=String(n).toString())in t.g&&-1<(e=vR(s=t.g[n],e,i,o))&&(iI(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete t.g[n],t.h--))):t&&(t=CR(t))&&(n=t.g[n.toString()],t=-1,n&&(t=vR(n,e,i,o)),(e=-1<t?n[t]:null)&&wR(e))}function wR(t){if("number"!=typeof t&&t&&!t.ca){var n=t.src;if(n&&n[tD])_R(n.i,t);else{var e=t.type,i=t.proxy;n.removeEventListener?n.removeEventListener(e,i,t.capture):n.detachEvent?n.detachEvent(j8(e),i):n.addListener&&n.removeListener&&n.removeListener(i),(e=CR(n))?(_R(e,t),0==e.h&&(e.src=null,n[yR]=null)):iI(t)}}}function j8(t){return t in bR?bR[t]:bR[t]="on"+t}function mQ(t,n){if(t.ca)t=!0;else{n=new eD(n,this);var e=t.listener,i=t.ia||t.src;t.fa&&wR(t),t=e.call(i,n)}return t}function CR(t){return(t=t[yR])instanceof rI?t:null}var xR="__closure_events_fn_"+(1e9*Math.random()>>>0);function TR(t){return"function"==typeof t?t:(t[xR]||(t[xR]=function(n){return t.handleEvent(n)}),t[xR])}function zc(){Mb.call(this),this.i=new rI(this),this.P=this,this.I=null}function xu(t,n){var e,i=t.I;if(i)for(e=[];i;i=i.I)e.push(i);if(t=t.P,i=n.type||n,"string"==typeof n)n=new rd(n,t);else if(n instanceof rd)n.target=n.target||t;else{var o=n;I8(n=new rd(i,t),o)}if(o=!0,e)for(var s=e.length-1;0<=s;s--){var a=n.g=e[s];o=oI(a,i,!0,n)&&o}if(o=oI(a=n.g=t,i,!0,n)&&o,o=oI(a,i,!1,n)&&o,e)for(s=0;s<e.length;s++)o=oI(a=n.g=e[s],i,!1,n)&&o}function oI(t,n,e,i){if(!(n=t.i.g[String(n)]))return!0;n=n.concat();for(var o=!0,s=0;s<n.length;++s){var a=n[s];if(a&&!a.ca&&a.capture==e){var d=a.listener,f=a.ia||a.src;a.fa&&_R(t.i,a),o=!1!==d.call(f,i)&&o}}return o&&!i.defaultPrevented}Cu(zc,Mb),zc.prototype[tD]=!0,zc.prototype.removeEventListener=function(t,n,e,i){U8(this,t,n,e,i)},zc.prototype.M=function(){if(zc.Z.M.call(this),this.i){var n,t=this.i;for(n in t.g){for(var e=t.g[n],i=0;i<e.length;i++)iI(e[i]);delete t.g[n],t.h--}}this.I=null},zc.prototype.N=function(t,n,e,i){return this.i.add(String(t),n,!1,e,i)},zc.prototype.O=function(t,n,e,i){return this.i.add(String(t),n,!0,e,i)};var AR=ur.JSON.stringify;function gQ(){var t=q8,n=null;return t.g&&(n=t.g,t.g=t.g.next,t.g||(t.h=null),n.next=null),n}var DR,_Q=function(){function t(){this.h=this.g=null}return t.prototype.add=function(n,e){var i=V8.get();i.set(n,e),this.h?this.h.next=i:this.g=i,this.h=i},t}(),V8=new(function(){function t(n,e){this.i=n,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var n;return 0<this.h?(this.h--,this.g=(n=this.g).next,n.next=null):n=this.i(),n},t}())(function(){return new vQ},function(t){return t.reset()}),vQ=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(n,e){this.h=n,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function yQ(t){ur.setTimeout(function(){throw t},0)}function SR(t,n){DR||function bQ(){var t=ur.Promise.resolve(void 0);DR=function(){t.then(wQ)}}(),ER||(DR(),ER=!0),q8.add(t,n)}var ER=!1,q8=new _Q;function wQ(){for(var t;t=gQ();){try{t.h.call(t.g)}catch(e){yQ(e)}var n=V8;n.j(t),100>n.h&&(n.h++,t.next=n.g,n.g=t)}ER=!1}function sI(t,n){zc.call(this),this.h=t||1,this.g=n||ur,this.j=wu(this.kb,this),this.l=Date.now()}function MR(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function kR(t,n,e){if("function"==typeof t)e&&(t=wu(t,e));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=wu(t.handleEvent,t)}return 2147483647<Number(n)?-1:ur.setTimeout(t,n||0)}function H8(t){t.g=kR(function(){t.g=null,t.i&&(t.i=!1,H8(t))},t.j);var n=t.h;t.h=null,t.m.apply(null,n)}Cu(sI,zc),(li=sI.prototype).da=!1,li.S=null,li.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),xu(this,"tick"),this.da&&(MR(this),this.start()))}},li.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},li.M=function(){sI.Z.M.call(this),MR(this),delete this.g};var CQ=function(t){function n(e,i){var o=t.call(this)||this;return o.m=e,o.j=i,o.h=null,o.i=!1,o.g=null,o}return function $$(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function e(){this.constructor=t}rR(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}(n,t),n.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:H8(this)},n.prototype.M=function(){t.prototype.M.call(this),this.g&&(ur.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},n}(Mb);function nD(t){Mb.call(this),this.h=t,this.g={}}Cu(nD,Mb);var G8=[];function Z8(t,n,e,i){Array.isArray(e)||(e&&(G8[0]=e.toString()),e=G8);for(var o=0;o<e.length;o++){var s=R8(n,e[o],i||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Y8(t){uR(t.g,function(n,e){this.g.hasOwnProperty(e)&&wR(n)},t),t.g={}}function aI(){this.g=!0}function pT(t,n,e,i){t.info(function(){return"XMLHTTP TEXT ("+n+"): "+function SQ(t,n){if(!t.g)return n;if(!n)return null;try{var e=JSON.parse(n);if(e)for(t=0;t<e.length;t++)if(Array.isArray(e[t])){var i=e[t];if(!(2>i.length)){var o=i[1];if(Array.isArray(o)&&!(1>o.length)){var s=o[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<o.length;a++)o[a]=""}}}return AR(e)}catch(d){return n}}(t,e)+(i?" "+i:"")})}nD.prototype.M=function(){nD.Z.M.call(this),Y8(this)},nD.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},aI.prototype.Aa=function(){this.g=!1},aI.prototype.info=function(){};var nC={},z8=null;function lI(){return z8=z8||new zc}function W8(t){rd.call(this,nC.Ma,t)}function iD(t){var n=lI();xu(n,new W8(n,t))}function $8(t,n){rd.call(this,nC.STAT_EVENT,t),this.stat=n}function Xd(t){var n=lI();xu(n,new $8(n,t))}function Q8(t,n){rd.call(this,nC.Na,t),this.size=n}function rD(t,n){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ur.setTimeout(function(){t()},n)}nC.Ma="serverreachability",Cu(W8,rd),nC.STAT_EVENT="statevent",Cu($8,rd),nC.Na="timingevent",Cu(Q8,rd);var cI={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},J8={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function IR(){}function X8(){}IR.prototype.h=null;var FR,oD={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function OR(){rd.call(this,"d")}function LR(){rd.call(this,"c")}function uI(){}function sD(t,n,e,i){this.l=t,this.j=n,this.m=e,this.X=i||1,this.V=new nD(this),this.P=DQ,this.W=new sI(t=hR?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ej}function ej(){this.i=null,this.g="",this.h=!1}Cu(OR,rd),Cu(LR,rd),Cu(uI,IR),uI.prototype.g=function(){return new XMLHttpRequest},uI.prototype.i=function(){return{}},FR=new uI;var DQ=45e3,NR={},dI={};function RR(t,n,e){t.K=1,t.v=gI(My(n)),t.s=e,t.U=!0,tj(t,null)}function tj(t,n){t.F=Date.now(),aD(t),t.A=My(t.v);var e=t.A,i=t.X;Array.isArray(i)||(i=[String(i)]),uj(e.h,"t",i),t.C=0,e=t.l.H,t.h=new ej,t.g=Lj(t.l,e?n:null,!t.s),0<t.O&&(t.L=new CQ(wu(t.Ia,t,t.g),t.O)),Z8(t.V,t.g,"readystatechange",t.gb),n=t.H?M8(t.H):{},t.s?(t.u||(t.u="POST"),n["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,n)):(t.u="GET",t.g.ea(t.A,t.u,null,n)),iD(1),function xQ(t,n,e,i,o,s){t.info(function(){if(t.g)if(s)for(var a="",d=s.split("&"),f=0;f<d.length;f++){var v=d[f].split("=");if(1<v.length){var w=v[0];v=v[1];var x=w.split("_");a=2<=x.length&&"type"==x[1]?a+(w+"=")+v+"&":a+(w+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+i+") [attempt "+o+"]: "+n+"\n"+e+"\n"+a})}(t.j,t.u,t.A,t.m,t.X,t.s)}function nj(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function ij(t,n,e){for(var o,i=!0;!t.I&&t.C<e.length;){if((o=EQ(t,e))==dI){4==n&&(t.o=4,Xd(14),i=!1),pT(t.j,t.m,null,"[Incomplete Response]");break}if(o==NR){t.o=4,Xd(15),pT(t.j,t.m,e,"[Invalid Chunk]"),i=!1;break}pT(t.j,t.m,o,null),PR(t,o)}nj(t)&&o!=dI&&o!=NR&&(t.h.g="",t.C=0),4!=n||0!=e.length||t.h.h||(t.o=1,Xd(16),i=!1),t.i=t.i&&i,i?0<e.length&&!t.aa&&(t.aa=!0,(n=t.l).g==t&&n.$&&!n.L&&(n.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),WR(n),n.L=!0,Xd(11))):(pT(t.j,t.m,e,"[Invalid Chunked Response]"),iC(t),lD(t))}function EQ(t,n){var e=t.C,i=n.indexOf("\n",e);return-1==i?dI:(e=Number(n.substring(e,i)),isNaN(e)?NR:(i+=1)+e>n.length?dI:(n=n.substr(i,e),t.C=i+e,n))}function aD(t){t.Y=Date.now()+t.P,rj(t,t.P)}function rj(t,n){if(null!=t.B)throw Error("WatchDog timer not null");t.B=rD(wu(t.eb,t),n)}function hI(t){t.B&&(ur.clearTimeout(t.B),t.B=null)}function lD(t){0==t.l.G||t.I||Mj(t.l,t)}function iC(t){hI(t);var n=t.L;n&&"function"==typeof n.na&&n.na(),t.L=null,MR(t.W),Y8(t.V),t.g&&(n=t.g,t.g=null,n.abort(),n.na())}function PR(t,n){try{var e=t.l;if(0!=e.G&&(e.g==t||jR(e.i,t)))if(e.I=t.N,!t.J&&jR(e.i,t)&&3==e.G){try{var i=e.Ca.g.parse(n)}catch(ee){i=null}if(Array.isArray(i)&&3==i.length){var o=i;if(0==o[0])e:if(e.u)e.ta=o[1],0<e.ta-e.U&&37500>o[2]&&e.N&&0==e.A&&!e.v&&(e.v=rD(wu(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<t.F))break e;CI(e),bI(e)}zR(e),Xd(18)}if(1>=fj(e.i)&&e.ka){try{e.ka()}catch(ee){}e.ka=void 0}}else sC(e,11)}else if((t.J||e.g==t)&&CI(e),!tI(n))for(o=e.Ca.g.parse(n),n=0;n<o.length;n++){var s=o[n];if(e.U=s[0],s=s[1],2==e.G)if("c"==s[0]){e.J=s[1],e.la=s[2];var a=s[3];null!=a&&(e.ma=a,e.h.info("VER="+e.ma));var d=s[4];null!=d&&(e.za=d,e.h.info("SVER="+e.za));var f=s[5];null!=f&&"number"==typeof f&&0<f&&(e.K=i=1.5*f,e.h.info("backChannelRequestTimeoutMs_="+i)),i=e;var v=t.g;if(v){var w=v.g?v.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(w){var x=i.i;!x.g&&(Jd(w,"spdy")||Jd(w,"quic")||Jd(w,"h2"))&&(x.j=x.l,x.g=new Set,x.h&&(VR(x,x.h),x.h=null))}if(i.D){var S=v.g?v.g.getResponseHeader("X-HTTP-Session-Id"):null;S&&(i.sa=S,la(i.F,i.D,S))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-t.F,e.h.info("Handshake RTT: "+e.O+"ms"));var E=t;if((i=e).oa=Oj(i,i.H?i.la:null,i.W),E.J){pj(i.i,E);var q=E,H=i.K;H&&q.setTimeout(H),q.B&&(hI(q),aD(q)),i.g=E}else Dj(i);0<e.l.length&&wI(e)}else"stop"!=s[0]&&"close"!=s[0]||sC(e,7);else 3==e.G&&("stop"==s[0]||"close"==s[0]?"stop"==s[0]?sC(e,7):ZR(e):"noop"!=s[0]&&e.j&&e.j.wa(s),e.A=0)}iD(4)}catch(ee){}}function BR(t,n){if(t.forEach&&"function"==typeof t.forEach)t.forEach(n,void 0);else if(sR(t)||"string"==typeof t)T8(t,n,void 0);else{if(t.T&&"function"==typeof t.T)var e=t.T();else if(t.R&&"function"==typeof t.R)e=void 0;else if(sR(t)||"string"==typeof t){e=[];for(var i=t.length,o=0;o<i;o++)e.push(o)}else for(o in e=[],i=0,t)e[i++]=o;i=function MQ(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(sR(t)){for(var n=[],e=t.length,i=0;i<e;i++)n.push(t[i]);return n}for(i in n=[],e=0,t)n[e++]=t[i];return n}(t),o=i.length;for(var s=0;s<o;s++)n.call(void 0,i[s],e&&e[s],t)}}function mT(t,n){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var i=0;i<e;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof mT)for(e=t.T(),i=0;i<e.length;i++)this.set(e[i],t.get(e[i]));else for(i in t)this.set(i,t[i])}function UR(t){if(t.i!=t.g.length){for(var n=0,e=0;n<t.g.length;){var i=t.g[n];rC(t.h,i)&&(t.g[e++]=i),n++}t.g.length=e}if(t.i!=t.g.length){var o={};for(e=n=0;n<t.g.length;)rC(o,i=t.g[n])||(t.g[e++]=i,o[i]=1),n++;t.g.length=e}}function rC(t,n){return Object.prototype.hasOwnProperty.call(t,n)}(li=sD.prototype).setTimeout=function(t){this.P=t},li.gb=function(t){t=t.target;var n=this.L;n&&3==ky(t)?n.l():this.Ia(t)},li.Ia=function(t){try{if(t==this.g)e:{var n=ky(this.g),e=this.g.Da(),i=this.g.ba();if(!(3>n)&&(3!=n||hR||this.g&&(this.h.h||this.g.ga()||Cj(this.g)))){this.I||4!=n||7==e||iD(8==e||0>=i?3:2),hI(this);var o=this.g.ba();this.N=o;t:if(nj(this)){var s=Cj(this.g);t="";var a=s.length,d=4==ky(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){iC(this),lD(this);var f="";break t}this.h.i=new ur.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,t+=this.h.i.decode(s[e],{stream:d&&e==a-1});s.splice(0,a),this.h.g+=t,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=200==o,function TQ(t,n,e,i,o,s,a){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+o+"]: "+n+"\n"+e+"\n"+s+" "+a})}(this.j,this.u,this.A,this.m,this.X,n,o),this.i){if(this.$&&!this.J){t:{if(this.g){var v,w=this.g;if((v=w.g?w.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tI(v)){var x=v;break t}}x=null}if(!(o=x)){this.i=!1,this.o=3,Xd(12),iC(this),lD(this);break e}pT(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,PR(this,o)}this.U?(ij(this,n,f),hR&&this.i&&3==n&&(Z8(this.V,this.W,"tick",this.fb),this.W.start())):(pT(this.j,this.m,f,null),PR(this,f)),4==n&&iC(this),this.i&&!this.I&&(4==n?Mj(this.l,this):(this.i=!1,aD(this)))}else 400==o&&0<f.indexOf("Unknown SID")?(this.o=3,Xd(12)):(this.o=0,Xd(13)),iC(this),lD(this)}}}catch(S){}},li.fb=function(){if(this.g){var t=ky(this.g),n=this.g.ga();this.C<n.length&&(hI(this),ij(this,t,n),this.i&&4!=t&&aD(this))}},li.cancel=function(){this.I=!0,iC(this)},li.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function AQ(t,n){t.info(function(){return"TIMEOUT: "+n})}(this.j,this.A),2!=this.K&&(iD(3),Xd(17)),iC(this),this.o=2,lD(this)):rj(this,this.Y-t)},(li=mT.prototype).R=function(){UR(this);for(var t=[],n=0;n<this.g.length;n++)t.push(this.h[this.g[n]]);return t},li.T=function(){return UR(this),this.g.concat()},li.get=function(t,n){return rC(this.h,t)?this.h[t]:n},li.set=function(t,n){rC(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=n},li.forEach=function(t,n){for(var e=this.T(),i=0;i<e.length;i++){var o=e[i],s=this.get(o);t.call(n,s,o,this)}};var oj=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function oC(t,n){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof oC){this.g=void 0!==n?n:t.g,fI(this,t.j),this.s=t.s,pI(this,t.i),mI(this,t.m),this.l=t.l,n=t.h;var e=new dD;e.i=n.i,n.g&&(e.g=new mT(n.g),e.h=n.h),sj(this,e),this.o=t.o}else t&&(e=String(t).match(oj))?(this.g=!!n,fI(this,e[1]||"",!0),this.s=cD(e[2]||""),pI(this,e[3]||"",!0),mI(this,e[4]),this.l=cD(e[5]||"",!0),sj(this,e[6]||"",!0),this.o=cD(e[7]||"")):(this.g=!!n,this.h=new dD(null,this.g))}function My(t){return new oC(t)}function fI(t,n,e){t.j=e?cD(n,!0):n,t.j&&(t.j=t.j.replace(/:$/,""))}function pI(t,n,e){t.i=e?cD(n,!0):n}function mI(t,n){if(n){if(n=Number(n),isNaN(n)||0>n)throw Error("Bad port number "+n);t.m=n}else t.m=null}function sj(t,n,e){n instanceof dD?(t.h=n,function BQ(t,n){n&&!t.j&&(kb(t),t.i=null,t.g.forEach(function(e,i){var o=i.toLowerCase();i!=o&&(lj(this,i),uj(this,o,e))},t)),t.j=n}(t.h,t.g)):(e||(n=uD(n,RQ)),t.h=new dD(n,t.g))}function la(t,n,e){t.h.set(n,e)}function gI(t){return la(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function cD(t,n){return t?n?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function uD(t,n,e){return"string"==typeof t?(t=encodeURI(t).replace(n,LQ),e&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function LQ(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}oC.prototype.toString=function(){var t=[],n=this.j;n&&t.push(uD(n,aj,!0),":");var e=this.i;return(e||"file"==n)&&(t.push("//"),(n=this.s)&&t.push(uD(n,aj,!0),"@"),t.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&t.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&t.push("/"),t.push(uD(e,"/"==e.charAt(0)?NQ:FQ,!0))),(e=this.h.toString())&&t.push("?",e),(e=this.o)&&t.push("#",uD(e,PQ)),t.join("")};var aj=/[#\/\?@]/g,FQ=/[#\?:]/g,NQ=/[#\?]/g,RQ=/[#\?@]/g,PQ=/#/g;function dD(t,n){this.h=this.g=null,this.i=t||null,this.j=!!n}function kb(t){t.g||(t.g=new mT,t.h=0,t.i&&function kQ(t,n){if(t){t=t.split("&");for(var e=0;e<t.length;e++){var i=t[e].indexOf("="),o=null;if(0<=i){var s=t[e].substring(0,i);o=t[e].substring(i+1)}else s=t[e];n(s,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(t.i,function(n,e){t.add(decodeURIComponent(n.replace(/\+/g," ")),e)}))}function lj(t,n){kb(t),n=gT(t,n),rC(t.g.h,n)&&(t.i=null,t.h-=t.g.get(n).length,rC((t=t.g).h,n)&&(delete t.h[n],t.i--,t.g.length>2*t.i&&UR(t)))}function cj(t,n){return kb(t),n=gT(t,n),rC(t.g.h,n)}function uj(t,n,e){lj(t,n),0<e.length&&(t.i=null,t.g.set(gT(t,n),lR(e)),t.h+=e.length)}function gT(t,n){return n=String(n),t.j&&(n=n.toLowerCase()),n}(li=dD.prototype).add=function(t,n){kb(this),this.i=null,t=gT(this,t);var e=this.g.get(t);return e||this.g.set(t,e=[]),e.push(n),this.h+=1,this},li.forEach=function(t,n){kb(this),this.g.forEach(function(e,i){T8(e,function(o){t.call(n,o,i,this)},this)},this)},li.T=function(){kb(this);for(var t=this.g.R(),n=this.g.T(),e=[],i=0;i<n.length;i++)for(var o=t[i],s=0;s<o.length;s++)e.push(n[i]);return e},li.R=function(t){kb(this);var n=[];if("string"==typeof t)cj(this,t)&&(n=A8(n,this.g.get(gT(this,t))));else{t=this.g.R();for(var e=0;e<t.length;e++)n=A8(n,t[e])}return n},li.set=function(t,n){return kb(this),this.i=null,cj(this,t=gT(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[n]),this.h+=1,this},li.get=function(t,n){return t&&0<(t=this.R(t)).length?String(t[0]):n},li.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],n=this.g.T(),e=0;e<n.length;e++){var i=n[e],o=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var a=o;""!==i[s]&&(a+="="+encodeURIComponent(String(i[s]))),t.push(a)}}return this.i=t.join("&")};var UQ=function t(n,e){this.h=n,this.g=e};function dj(t){this.l=t||jQ,t=ur.PerformanceNavigationTiming?0<(t=ur.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ur.g&&ur.g.Ea&&ur.g.Ea()&&ur.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var jQ=10;function hj(t){return!!t.h||!!t.g&&t.g.size>=t.j}function fj(t){return t.h?1:t.g?t.g.size:0}function jR(t,n){return t.h?t.h==n:!!t.g&&t.g.has(n)}function VR(t,n){t.g?t.g.add(n):t.h=n}function pj(t,n){t.h&&t.h==n?t.h=null:t.g&&t.g.has(n)&&t.g.delete(n)}function mj(t){var n,e;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var i=t.i;try{for(var o=C8(t.g.values()),s=o.next();!s.done;s=o.next())i=i.concat(s.value.D)}catch(d){n={error:d}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(n)throw n.error}}return i}return lR(t.i)}function qR(){}function VQ(){this.g=new qR}function qQ(t,n,e){var i=e||"";try{BR(t,function(o,s){var a=o;X2(o)&&(a=AR(o)),n.push(i+s+"="+encodeURIComponent(a))})}catch(o){throw n.push(i+"type="+encodeURIComponent("_badmap")),o}}function _I(t,n,e,i,o){try{n.onload=null,n.onerror=null,n.onabort=null,n.ontimeout=null,o(i)}catch(s){}}function hD(t){this.l=t.$b||null,this.j=t.ib||!1}function vI(t,n){zc.call(this),this.D=t,this.u=n,this.m=void 0,this.readyState=HR,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}dj.prototype.cancel=function(){var t,n;if(this.i=mj(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var e=C8(this.g.values()),i=e.next();!i.done;i=e.next())i.value.cancel()}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=e.return)&&n.call(e)}finally{if(t)throw t.error}}this.g.clear()}},qR.prototype.stringify=function(t){return ur.JSON.stringify(t,void 0)},qR.prototype.parse=function(t){return ur.JSON.parse(t,void 0)},Cu(hD,IR),hD.prototype.g=function(){return new vI(this.l,this.j)},hD.prototype.i=function(t){return function(){return t}}({}),Cu(vI,zc);var HR=0;function gj(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function fD(t){t.readyState=4,t.l=null,t.j=null,t.A=null,pD(t)}function pD(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(li=vI.prototype).open=function(t,n){if(this.readyState!=HR)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=n,this.readyState=1,pD(this)},li.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var n={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(n.body=t),(this.D||ur).fetch(new Request(this.B,n)).then(this.Va.bind(this),this.ha.bind(this))},li.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,fD(this)),this.readyState=HR},li.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,pD(this)),this.g&&(this.readyState=3,pD(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==ur.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;gj(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},li.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var n=t.value?t.value:new Uint8Array(0);(n=this.A.decode(n,{stream:!t.done}))&&(this.response=this.responseText+=n)}t.done?fD(this):pD(this),3==this.readyState&&gj(this)}},li.Ua=function(t){this.g&&(this.response=this.responseText=t,fD(this))},li.Ta=function(t){this.g&&(this.response=t,fD(this))},li.ha=function(){this.g&&fD(this)},li.setRequestHeader=function(t,n){this.v.append(t,n)},li.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},li.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],n=this.h.entries(),e=n.next();!e.done;)t.push((e=e.value)[0]+": "+e[1]),e=n.next();return t.join("\r\n")},Object.defineProperty(vI.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var GQ=ur.JSON.parse;function Ol(t){zc.call(this),this.headers=new mT,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=_j,this.K=this.L=!1}Cu(Ol,zc);var _j="",ZQ=/^https?$/i,YQ=["POST","PUT"];function WQ(t){return"content-type"==t.toLowerCase()}function vj(t,n){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=n,t.m=5,yj(t),yI(t)}function yj(t){t.D||(t.D=!0,xu(t,"complete"),xu(t,"error"))}function bj(t){if(t.h&&void 0!==oR&&(!t.C[1]||4!=ky(t)||2!=t.ba()))if(t.v&&4==ky(t))kR(t.Fa,0,t);else if(xu(t,"readystatechange"),4==ky(t)){t.h=!1;try{var i,n=t.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}if(!(i=e)){var o;if(o=0===n){var s=String(t.H).match(oj)[1]||null;if(!s&&ur.self&&ur.self.location){var a=ur.self.location.protocol;s=a.substr(0,a.length-1)}o=!ZQ.test(s?s.toLowerCase():"")}i=o}if(i)xu(t,"complete"),xu(t,"success");else{t.m=6;try{var d=2<ky(t)?t.g.statusText:""}catch(f){d=""}t.j=d+" ["+t.ba()+"]",yj(t)}}finally{yI(t)}}}function yI(t,n){if(t.g){wj(t);var e=t.g,i=t.C[0]?Xk:null;t.g=null,t.C=null,n||xu(t,"ready");try{e.onreadystatechange=i}catch(o){}}}function wj(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(ur.clearTimeout(t.A),t.A=null)}function ky(t){return t.g?t.g.readyState:0}function Cj(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case _j:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(n){return null}}function GR(t,n,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=function $Q(t){var n="";return uR(t,function(e,i){n+=i,n+=":",n+=e,n+="\r\n"}),n}(e),"string"==typeof t?null!=e&&encodeURIComponent(String(e)):la(t,n,e))}function mD(t,n,e){return e&&e.internalChannelParams&&e.internalChannelParams[t]||n}function xj(t){this.za=0,this.l=[],this.h=new aI,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=mD("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=mD("baseRetryDelayMs",5e3,t),this.$a=mD("retryDelaySeedMs",1e4,t),this.Ya=mD("forwardChannelMaxRetries",2,t),this.ra=mD("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new dj(t&&t.concurrentRequestLimit),this.Ca=new VQ,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function ZR(t){if(Tj(t),3==t.G){var n=t.V++,e=My(t.F);la(e,"SID",t.J),la(e,"RID",n),la(e,"TYPE","terminate"),gD(t,e),(n=new sD(t,t.h,n,void 0)).K=2,n.v=gI(My(e)),e=!1,ur.navigator&&ur.navigator.sendBeacon&&(e=ur.navigator.sendBeacon(n.v.toString(),"")),!e&&ur.Image&&((new Image).src=n.v,e=!0),e||(n.g=Lj(n.l,null),n.g.ea(n.v)),n.F=Date.now(),aD(n)}Ij(t)}function bI(t){t.g&&(WR(t),t.g.cancel(),t.g=null)}function Tj(t){bI(t),t.u&&(ur.clearTimeout(t.u),t.u=null),CI(t),t.i.cancel(),t.m&&("number"==typeof t.m&&ur.clearTimeout(t.m),t.m=null)}function YR(t,n){t.l.push(new UQ(t.Za++,n)),3==t.G&&wI(t)}function wI(t){hj(t.i)||t.m||(t.m=!0,SR(t.Ha,t),t.C=0)}function Aj(t,n){var e;e=n?n.m:t.V++;var i=My(t.F);la(i,"SID",t.J),la(i,"RID",e),la(i,"AID",t.U),gD(t,i),t.o&&t.s&&GR(i,t.o,t.s),e=new sD(t,t.h,e,t.C+1),null===t.o&&(e.H=t.s),n&&(t.l=n.D.concat(t.l)),n=Sj(t,e,1e3),e.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),VR(t.i,e),RR(e,i,n)}function gD(t,n){t.j&&BR({},function(e,i){la(n,i,e)})}function Sj(t,n,e){e=Math.min(t.l.length,e);var i=t.j?wu(t.j.Oa,t.j,t):null;e:for(var o=t.l,s=-1;;){var a=["count="+e];-1==s?0<e?a.push("ofs="+(s=o[0].h)):s=0:a.push("ofs="+s);for(var d=!0,f=0;f<e;f++){var v=o[f].h,w=o[f].g;if(0>(v-=s))s=Math.max(0,o[f].h-100),d=!1;else try{qQ(w,a,"req"+v+"_")}catch(x){i&&i(w)}}if(d){i=a.join("&");break e}}return t=t.l.splice(0,e),n.D=t,i}function Dj(t){t.g||t.u||(t.Y=1,SR(t.Ga,t),t.A=0)}function zR(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=rD(wu(t.Ga,t),kj(t,t.A)),t.A++,0))}function WR(t){null!=t.B&&(ur.clearTimeout(t.B),t.B=null)}function Ej(t){t.g=new sD(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var n=My(t.oa);la(n,"RID","rpc"),la(n,"SID",t.J),la(n,"CI",t.N?"0":"1"),la(n,"AID",t.U),gD(t,n),la(n,"TYPE","xmlhttp"),t.o&&t.s&&GR(n,t.o,t.s),t.K&&t.g.setTimeout(t.K);var e=t.g;t=t.la,e.K=1,e.v=gI(My(n)),e.s=null,e.U=!0,tj(e,t)}function CI(t){null!=t.v&&(ur.clearTimeout(t.v),t.v=null)}function Mj(t,n){var e=null;if(t.g==n){CI(t),WR(t),t.g=null;var i=2}else{if(!jR(t.i,n))return;e=n.D,pj(t.i,n),i=1}if(t.I=n.N,0!=t.G)if(n.i)if(1==i){e=n.s?n.s.length:0,n=Date.now()-n.F;var o=t.C;xu(i=lI(),new Q8(i,e,n,o)),wI(t)}else Dj(t);else if(3==(o=n.o)||0==o&&0<t.I||!(1==i&&function QQ(t,n){return!(fj(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=n.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=rD(wu(t.Ha,t,n),kj(t,t.C)),t.C++,0)))}(t,n)||2==i&&zR(t)))switch(e&&0<e.length&&(n=t.i,n.i=n.i.concat(e)),o){case 1:sC(t,5);break;case 4:sC(t,10);break;case 3:sC(t,6);break;default:sC(t,2)}}function kj(t,n){var e=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(e*=2),e*n}function sC(t,n){if(t.h.info("Error code "+n),2==n){var e=null;t.j&&(e=null);var i=wu(t.jb,t);e||(e=new oC("//www.google.com/images/cleardot.gif"),ur.location&&"http"==ur.location.protocol||fI(e,"https"),gI(e)),function HQ(t,n){var e=new aI;if(ur.Image){var i=new Image;i.onload=eI(_I,e,i,"TestLoadImage: loaded",!0,n),i.onerror=eI(_I,e,i,"TestLoadImage: error",!1,n),i.onabort=eI(_I,e,i,"TestLoadImage: abort",!1,n),i.ontimeout=eI(_I,e,i,"TestLoadImage: timeout",!1,n),ur.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else n(!1)}(e.toString(),i)}else Xd(2);t.G=0,t.j&&t.j.va(n),Ij(t),Tj(t)}function Ij(t){t.G=0,t.I=-1,t.j&&((0!=mj(t.i).length||0!=t.l.length)&&(t.i.i.length=0,lR(t.l),t.l.length=0),t.j.ua())}function Oj(t,n,e){var i=function IQ(t){return t instanceof oC?My(t):new oC(t,void 0)}(e);if(""!=i.i)n&&pI(i,n+"."+i.i),mI(i,i.m);else{var o=ur.location;i=function OQ(t,n,e,i){var o=new oC(null,void 0);return t&&fI(o,t),n&&pI(o,n),e&&mI(o,e),i&&(o.l=i),o}(o.protocol,n?n+"."+o.hostname:o.hostname,+o.port,e)}return t.aa&&uR(t.aa,function(s,a){la(i,a,s)}),e=t.sa,(n=t.D)&&e&&la(i,n,e),la(i,"VER",t.ma),gD(t,i),i}function Lj(t,n,e){if(n&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(n=new Ol(e&&t.Ba&&!t.qa?new hD({ib:!0}):t.qa)).L=t.H,n}function Fj(){}function xI(){if(fT&&!(10<=Number(cQ)))throw Error("Environmental error: no available transport.")}function qf(t,n){zc.call(this),this.g=new xj(n),this.l=t,this.h=n&&n.messageUrlParams||null,t=n&&n.messageHeaders||null,n&&n.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=n&&n.initMessageHeaders||null,n&&n.messageContentType&&(t?t["X-WebChannel-Content-Type"]=n.messageContentType:t={"X-WebChannel-Content-Type":n.messageContentType}),n&&n.ya&&(t?t["X-WebChannel-Client-Profile"]=n.ya:t={"X-WebChannel-Client-Profile":n.ya}),this.g.P=t,(t=n&&n.httpHeadersOverwriteParam)&&!tI(t)&&(this.g.o=t),this.A=n&&n.supportsCrossDomainXhr||!1,this.v=n&&n.sendRawJson||!1,(n=n&&n.httpSessionIdParam)&&!tI(n)&&(this.g.D=n,null!==(t=this.h)&&n in t&&n in(t=this.h)&&delete t[n]),this.j=new _T(this)}function Nj(t){OR.call(this);var n=t.__sm__;if(n){e:{for(var e in n){t=e;break e}t=void 0}(this.i=t)&&(t=this.i,n=null!==n&&t in n?n[t]:void 0),this.data=n}else this.data=t}function Rj(){LR.call(this),this.status=1}function _T(t){this.g=t}(li=Ol.prototype).ea=function(t,n,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);n=n?n.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():FR.g(),this.C=function K8(t){return t.h||(t.h=t.i())}(this.u?this.u:FR),this.g.onreadystatechange=wu(this.Fa,this);try{this.F=!0,this.g.open(n,String(t),!0),this.F=!1}catch(s){return void vj(this,s)}t=e||"";var o=new mT(this.headers);i&&BR(i,function(s,a){o.set(a,s)}),i=function iQ(t){e:{for(var n=WQ,e=t.length,i="string"==typeof t?t.split(""):t,o=0;o<e;o++)if(o in i&&n.call(void 0,i[o],o,t)){n=o;break e}n=-1}return 0>n?null:"string"==typeof t?t.charAt(n):t[n]}(o.T()),e=ur.FormData&&t instanceof ur.FormData,!(0<=x8(YQ,n))||i||e||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(s,a){this.g.setRequestHeader(a,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{wj(this),0<this.B&&((this.K=function zQ(t){return fT&&function lQ(){return function rQ(t){var n=aQ;return Object.prototype.hasOwnProperty.call(n,9)?n[9]:n[9]=t(9)}(function(){for(var t=0,n=S8(String(nI)).split("."),e=S8("9").split("."),i=Math.max(n.length,e.length),o=0;0==t&&o<i;o++){var s=n[o]||"",a=e[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;t=cR(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||cR(0==s[2].length,0==a[2].length)||cR(s[2],a[2]),s=s[3],a=a[3]}while(0==t)}return 0<=t})}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=wu(this.pa,this)):this.A=kR(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){vj(this,s)}},li.pa=function(){void 0!==oR&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,xu(this,"timeout"),this.abort(8))},li.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,xu(this,"complete"),xu(this,"abort"),yI(this))},li.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),yI(this,!0)),Ol.Z.M.call(this)},li.Fa=function(){this.s||(this.F||this.v||this.l?bj(this):this.cb())},li.cb=function(){bj(this)},li.ba=function(){try{return 2<ky(this)?this.g.status:-1}catch(t){return-1}},li.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},li.Qa=function(t){if(this.g){var n=this.g.responseText;return t&&0==n.indexOf(t)&&(n=n.substring(t.length)),GQ(n)}},li.Da=function(){return this.m},li.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(li=xj.prototype).ma=8,li.G=1,li.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(n){}},li.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var n=new sD(this,this.h,t,void 0),e=this.s;if(this.P&&(e?I8(e=M8(e),this.P):e=this.P),null===this.o&&(n.H=e),this.ja)e:{for(var i=0,o=0;o<this.l.length;o++){var s=this.l[o];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(i+=s)){i=o;break e}if(4096===i||o===this.l.length-1){i=o+1;break e}}i=1e3}else i=1e3;i=Sj(this,n,i),la(o=My(this.F),"RID",t),la(o,"CVER",22),this.D&&la(o,"X-HTTP-Session-Id",this.D),gD(this,o),this.o&&e&&GR(o,this.o,e),VR(this.i,n),this.Ra&&la(o,"TYPE","init"),this.ja?(la(o,"$req",i),la(o,"SID","null"),n.$=!0,RR(n,o,null)):RR(n,o,i),this.G=2}}else 3==this.G&&(t?Aj(this,t):0==this.l.length||hj(this.i)||Aj(this))},li.Ga=function(){if(this.u=null,Ej(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=rD(wu(this.bb,this),t)}},li.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Xd(10),bI(this),Ej(this))},li.ab=function(){null!=this.v&&(this.v=null,bI(this),zR(this),Xd(19))},li.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Xd(2)):(this.h.info("Failed to ping google.com"),Xd(1))},(li=Fj.prototype).xa=function(){},li.wa=function(){},li.va=function(){},li.ua=function(){},li.Oa=function(){},xI.prototype.g=function(t,n){return new qf(t,n)},Cu(qf,zc),qf.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,n=this.l,e=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),SR(wu(t.hb,t,n))),Xd(0),t.W=n,t.aa=e||{},t.N=t.X,t.F=Oj(t,null,t.W),wI(t)},qf.prototype.close=function(){ZR(this.g)},qf.prototype.u=function(t){if("string"==typeof t){var n={};n.__data__=t,YR(this.g,n)}else this.v?((n={}).__data__=AR(t),YR(this.g,n)):YR(this.g,t)},qf.prototype.M=function(){this.g.j=null,delete this.j,ZR(this.g),delete this.g,qf.Z.M.call(this)},Cu(Nj,OR),Cu(Rj,LR),Cu(_T,Fj),_T.prototype.xa=function(){xu(this.g,"a")},_T.prototype.wa=function(t){xu(this.g,new Nj(t))},_T.prototype.va=function(t){xu(this.g,new Rj(t))},_T.prototype.ua=function(){xu(this.g,"b")},xI.prototype.createWebChannel=xI.prototype.g,qf.prototype.send=qf.prototype.u,qf.prototype.open=qf.prototype.m,qf.prototype.close=qf.prototype.close,cI.NO_ERROR=0,cI.TIMEOUT=8,cI.HTTP_ERROR=6,J8.COMPLETE="complete",X8.EventType=oD,oD.OPEN="a",oD.CLOSE="b",oD.ERROR="c",oD.MESSAGE="d",zc.prototype.listen=zc.prototype.N,Ol.prototype.listenOnce=Ol.prototype.O,Ol.prototype.getLastError=Ol.prototype.La,Ol.prototype.getLastErrorCode=Ol.prototype.Da,Ol.prototype.getStatus=Ol.prototype.ba,Ol.prototype.getResponseJson=Ol.prototype.Qa,Ol.prototype.getResponseText=Ol.prototype.ga,Ol.prototype.send=Ol.prototype.ea;var TI=cI,Uj=J8,jj=nC,$R_PROXY=10,$R_NOPROXY=11,Vj=hD,_D=X8,qj=Ol,Hf=function(){function t(n,e){var i=this;this.previousValue=n,e&&(e.sequenceNumberHandler=function(o){return i.t(o)},this.i=function(o){return e.writeSequenceNumber(o)})}return t.prototype.t=function(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue},t.prototype.next=function(){var n=++this.previousValue;return this.i&&this.i(n),n},t}();Hf.o=-1;var Dt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},hn=function(t){function n(e,i){var o=this;return(o=t.call(this,i)||this).code=e,o.message=i,o.name="FirebaseError",o.toString=function(){return o.name+": [code="+o.code+"]: "+o.message},o}return(0,W.__extends)(n,t),n}(Error),dg=new Qd.Logger("@firebase/firestore");function QR(){return dg.logLevel}function On(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];if(dg.logLevel<=Qd.LogLevel.DEBUG){var i=n.map(JR);dg.debug.apply(dg,(0,W.__spreadArray)(["Firestore (8.10.1): "+t],i))}}function Ll(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];if(dg.logLevel<=Qd.LogLevel.ERROR){var i=n.map(JR);dg.error.apply(dg,(0,W.__spreadArray)(["Firestore (8.10.1): "+t],i))}}function vD(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];if(dg.logLevel<=Qd.LogLevel.WARN){var i=n.map(JR);dg.warn.apply(dg,(0,W.__spreadArray)(["Firestore (8.10.1): "+t],i))}}function JR(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function xi(t){void 0===t&&(t="Unexpected state");var n="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+t;throw Ll(n),new Error(n)}function tr(t,n){t||xi()}function Hn(t,n){return t}function JQ(t){var n="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(t);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(e);else for(var i=0;i<t;i++)e[i]=Math.floor(256*Math.random());return e}var Hj=function(){function t(){}return t.u=function(){for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/n.length)*n.length,i="";i.length<20;)for(var o=JQ(40),s=0;s<o.length;++s)i.length<20&&o[s]<e&&(i+=n.charAt(o[s]%n.length));return i},t}();function Wr(t,n){return t<n?-1:t>n?1:0}function vT(t,n,e){return t.length===n.length&&t.every(function(i,o){return e(i,n[o])})}function Gj(t){return t+"\0"}var qh=function(){function t(n,e){if(this.seconds=n,this.nanoseconds=e,e<0)throw new hn(Dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new hn(Dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(n<-62135596800)throw new hn(Dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new hn(Dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(n){return t.fromMillis(n.getTime())},t.fromMillis=function(n){var e=Math.floor(n/1e3);return new t(e,Math.floor(1e6*(n-1e3*e)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(n){return this.seconds===n.seconds?Wr(this.nanoseconds,n.nanoseconds):Wr(this.seconds,n.seconds)},t.prototype.isEqual=function(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Nr=function(){function t(n){this.timestamp=n}return t.fromTimestamp=function(n){return new t(n)},t.min=function(){return new t(new qh(0,0))},t.prototype.compareTo=function(n){return this.timestamp._compareTo(n.timestamp)},t.prototype.isEqual=function(n){return this.timestamp.isEqual(n.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Zj(t){var n=0;for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&n++;return n}function aC(t,n){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&n(e,t[e])}function Yj(t){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n))return!1;return!0}var zj=function(){function t(n,e,i){void 0===e?e=0:e>n.length&&xi(),void 0===i?i=n.length-e:i>n.length-e&&xi(),this.segments=n,this.offset=e,this.len=i}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(n){return 0===t.comparator(this,n)},t.prototype.child=function(n){var e=this.segments.slice(this.offset,this.limit());return n instanceof t?n.forEach(function(i){e.push(i)}):e.push(n),this.construct(e)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(n){return this.segments[this.offset+n]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(n){if(n.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==n.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(n){if(this.length+1!==n.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==n.get(e))return!1;return!0},t.prototype.forEach=function(n){for(var e=this.offset,i=this.limit();e<i;e++)n(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(n,e){for(var i=Math.min(n.length,e.length),o=0;o<i;o++){var s=n.get(o),a=e.get(o);if(s<a)return-1;if(s>a)return 1}return n.length<e.length?-1:n.length>e.length?1:0},t}(),So=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return(0,W.__extends)(n,t),n.prototype.construct=function(e,i,o){return new n(e,i,o)},n.prototype.canonicalString=function(){return this.toArray().join("/")},n.prototype.toString=function(){return this.canonicalString()},n.fromString=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];for(var o=[],s=0,a=e;s<a.length;s++){var d=a[s];if(d.indexOf("//")>=0)throw new hn(Dt.INVALID_ARGUMENT,"Invalid segment ("+d+"). Paths must not contain // in them.");o.push.apply(o,d.split("/").filter(function(f){return f.length>0}))}return new n(o)},n.emptyPath=function(){return new n([])},n}(zj),KQ=/^[_a-zA-Z][_a-zA-Z0-9]*$/,hg=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return(0,W.__extends)(n,t),n.prototype.construct=function(e,i,o){return new n(e,i,o)},n.isValidIdentifier=function(e){return KQ.test(e)},n.prototype.canonicalString=function(){return this.toArray().map(function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e}).join(".")},n.prototype.toString=function(){return this.canonicalString()},n.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},n.keyField=function(){return new n(["__name__"])},n.fromServerFormat=function(e){for(var i=[],o="",s=0,a=function(){if(0===o.length)throw new hn(Dt.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");i.push(o),o=""},d=!1;s<e.length;){var f=e[s];if("\\"===f){if(s+1===e.length)throw new hn(Dt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var v=e[s+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new hn(Dt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=v,s+=2}else"`"===f?(d=!d,s++):"."!==f||d?(o+=f,s++):(a(),s++)}if(a(),d)throw new hn(Dt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(i)},n.emptyPath=function(){return new n([])},n}(zj),yT=function(){function t(n){this.fields=n,n.sort(hg.comparator)}return t.prototype.covers=function(n){for(var e=0,i=this.fields;e<i.length;e++)if(i[e].isPrefixOf(n))return!0;return!1},t.prototype.isEqual=function(n){return vT(this.fields,n.fields,function(e,i){return e.isEqual(i)})},t}(),eh=function(){function t(n){this.binaryString=n}return t.fromBase64String=function(n){return new t(atob(n))},t.fromUint8Array=function(n){return new t(function(e){for(var i="",o=0;o<e.length;++o)i+=String.fromCharCode(e[o]);return i}(n))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(n){for(var e=new Uint8Array(n.length),i=0;i<n.length;i++)e[i]=n.charCodeAt(i);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(n){return Wr(this.binaryString,n.binaryString)},t.prototype.isEqual=function(n){return this.binaryString===n.binaryString},t}();eh.EMPTY_BYTE_STRING=new eh("");var XQ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ib(t){if(tr(!!t),"string"==typeof t){var n=0,e=XQ.exec(t);if(tr(!!e),e[1]){var i=e[1];i=(i+"000000000").substr(0,9),n=Number(i)}var o=new Date(t);return{seconds:Math.floor(o.getTime()/1e3),nanos:n}}return{seconds:Fl(t.seconds),nanos:Fl(t.nanos)}}function Fl(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function bT(t){return"string"==typeof t?eh.fromBase64String(t):eh.fromUint8Array(t)}function KR(t){var n,e;return"server_timestamp"===(null===(e=((null===(n=null==t?void 0:t.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function Wj(t){var n=t.mapValue.fields.__previous_value__;return KR(n)?Wj(n):n}function yD(t){var n=Ib(t.mapValue.fields.__local_write_time__.timestampValue);return new qh(n.seconds,n.nanos)}function lC(t){return null==t}function AI(t){return 0===t&&1/t==-1/0}function $j(t){return"number"==typeof t&&Number.isInteger(t)&&!AI(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Ai=function(){function t(n){this.path=n}return t.fromPath=function(n){return new t(So.fromString(n))},t.fromName=function(n){return new t(So.fromString(n).popFirst(5))},t.prototype.hasCollectionId=function(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n},t.prototype.isEqual=function(n){return null!==n&&0===So.comparator(this.path,n.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(n,e){return So.comparator(n.path,e.path)},t.isDocumentKey=function(n){return n.length%2==0},t.fromSegments=function(n){return new t(new So(n.slice()))},t}();function cC(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?KR(t)?4:10:xi()}function q_(t,n){var o,e=cC(t);if(e!==cC(n))return!1;switch(e){case 0:return!0;case 1:return t.booleanValue===n.booleanValue;case 4:return yD(t).isEqual(yD(n));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;var s=Ib(i.timestampValue),a=Ib(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,n);case 5:return t.stringValue===n.stringValue;case 6:return o=n,bT(t.bytesValue).isEqual(bT(o.bytesValue));case 7:return t.referenceValue===n.referenceValue;case 8:return function(i,o){return Fl(i.geoPointValue.latitude)===Fl(o.geoPointValue.latitude)&&Fl(i.geoPointValue.longitude)===Fl(o.geoPointValue.longitude)}(t,n);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Fl(i.integerValue)===Fl(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){var s=Fl(i.doubleValue),a=Fl(o.doubleValue);return s===a?AI(s)===AI(a):isNaN(s)&&isNaN(a)}return!1}(t,n);case 9:return vT(t.arrayValue.values||[],n.arrayValue.values||[],q_);case 10:return function(i,o){var s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Zj(s)!==Zj(a))return!1;for(var d in s)if(s.hasOwnProperty(d)&&(void 0===a[d]||!q_(s[d],a[d])))return!1;return!0}(t,n);default:return xi()}}function bD(t,n){return void 0!==(t.values||[]).find(function(e){return q_(e,n)})}function wT(t,n){var o,s,a,d,e=cC(t),i=cC(n);if(e!==i)return Wr(e,i);switch(e){case 0:return 0;case 1:return Wr(t.booleanValue,n.booleanValue);case 2:return s=n,(a=Fl((o=t).integerValue||o.doubleValue))<(d=Fl(s.integerValue||s.doubleValue))?-1:a>d?1:a===d?0:isNaN(a)?isNaN(d)?0:-1:1;case 3:return Qj(t.timestampValue,n.timestampValue);case 4:return Qj(yD(t),yD(n));case 5:return Wr(t.stringValue,n.stringValue);case 6:return function(o,s){var a=bT(o),d=bT(s);return a.compareTo(d)}(t.bytesValue,n.bytesValue);case 7:return function(o,s){for(var a=o.split("/"),d=s.split("/"),f=0;f<a.length&&f<d.length;f++){var v=Wr(a[f],d[f]);if(0!==v)return v}return Wr(a.length,d.length)}(t.referenceValue,n.referenceValue);case 8:return function(o,s){var a=Wr(Fl(o.latitude),Fl(s.latitude));return 0!==a?a:Wr(Fl(o.longitude),Fl(s.longitude))}(t.geoPointValue,n.geoPointValue);case 9:return function(o,s){for(var a=o.values||[],d=s.values||[],f=0;f<a.length&&f<d.length;++f){var v=wT(a[f],d[f]);if(v)return v}return Wr(a.length,d.length)}(t.arrayValue,n.arrayValue);case 10:return function(o,s){var a=o.fields||{},d=Object.keys(a),f=s.fields||{},v=Object.keys(f);d.sort(),v.sort();for(var w=0;w<d.length&&w<v.length;++w){var x=Wr(d[w],v[w]);if(0!==x)return x;var S=wT(a[d[w]],f[v[w]]);if(0!==S)return S}return Wr(d.length,v.length)}(t.mapValue,n.mapValue);default:throw xi()}}function Qj(t,n){if("string"==typeof t&&"string"==typeof n&&t.length===n.length)return Wr(t,n);var e=Ib(t),i=Ib(n),o=Wr(e.seconds,i.seconds);return 0!==o?o:Wr(e.nanos,i.nanos)}function XR(t){return e3(t)}function e3(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?"time("+(o=Ib(t.timestampValue)).seconds+","+o.nanos+")":"stringValue"in t?t.stringValue:"bytesValue"in t?bT(t.bytesValue).toBase64():"referenceValue"in t?Ai.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(n=t.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in t?function(i){for(var o="[",s=!0,a=0,d=i.values||[];a<d.length;a++)s?s=!1:o+=",",o+=e3(d[a]);return o+"]"}(t.arrayValue):"mapValue"in t?function(i){for(var o="{",s=!0,a=0,d=Object.keys(i.fields||{}).sort();a<d.length;a++){var f=d[a];s?s=!1:o+=",",o+=f+":"+e3(i.fields[f])}return o+"}"}(t.mapValue):xi();var o,n}function SI(t,n){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+n.path.canonicalString()}}function t3(t){return!!t&&"integerValue"in t}function n3(t){return!!t&&"arrayValue"in t}function Jj(t){return!!t&&"nullValue"in t}function Kj(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function DI(t){return!!t&&"mapValue"in t}function wD(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var n={mapValue:{fields:{}}};return aC(t.mapValue.fields,function(o,s){return n.mapValue.fields[o]=wD(s)}),n}if(t.arrayValue){for(var e={arrayValue:{values:[]}},i=0;i<(t.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=wD(t.arrayValue.values[i]);return e}return Object.assign({},t)}var Gf=function(){function t(n){this.value=n}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(n){if(n.isEmpty())return this.value;for(var e=this.value,i=0;i<n.length-1;++i)if(!DI(e=(e.mapValue.fields||{})[n.get(i)]))return null;return(e=(e.mapValue.fields||{})[n.lastSegment()])||null},t.prototype.set=function(n,e){this.getFieldsMap(n.popLast())[n.lastSegment()]=wD(e)},t.prototype.setAll=function(n){var e=this,i=hg.emptyPath(),o={},s=[];n.forEach(function(d,f){if(!i.isImmediateParentOf(f)){var v=e.getFieldsMap(i);e.applyChanges(v,o,s),o={},s=[],i=f.popLast()}d?o[f.lastSegment()]=wD(d):s.push(f.lastSegment())});var a=this.getFieldsMap(i);this.applyChanges(a,o,s)},t.prototype.delete=function(n){var e=this.field(n.popLast());DI(e)&&e.mapValue.fields&&delete e.mapValue.fields[n.lastSegment()]},t.prototype.isEqual=function(n){return q_(this.value,n.value)},t.prototype.getFieldsMap=function(n){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var i=0;i<n.length;++i){var o=e.mapValue.fields[n.get(i)];DI(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[n.get(i)]=o),e=o}return e.mapValue.fields},t.prototype.applyChanges=function(n,e,i){aC(e,function(d,f){return n[d]=f});for(var o=0,s=i;o<s.length;o++)delete n[s[o]]},t.prototype.clone=function(){return new t(wD(this.value))},t}();function Xj(t){var n=[];return aC(t.fields,function(e,i){var o=new hg([e]);if(DI(i)){var s=Xj(i.mapValue).fields;if(0===s.length)n.push(o);else for(var a=0,d=s;a<d.length;a++)n.push(o.child(d[a]))}else n.push(o)}),new yT(n)}var Tu=function(){function t(n,e,i,o,s){this.key=n,this.documentType=e,this.version=i,this.data=o,this.documentState=s}return t.newInvalidDocument=function(n){return new t(n,0,Nr.min(),Gf.empty(),0)},t.newFoundDocument=function(n,e,i){return new t(n,1,e,i,0)},t.newNoDocument=function(n,e){return new t(n,2,e,Gf.empty(),0)},t.newUnknownDocument=function(n,e){return new t(n,3,e,Gf.empty(),2)},t.prototype.convertToFoundDocument=function(n,e){return this.version=n,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(n){return this.version=n,this.documentType=2,this.data=Gf.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(n){return this.version=n,this.documentType=3,this.data=Gf.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(n){return n instanceof t&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),eJ=function(t,n,e,i,o,s,a){void 0===n&&(n=null),void 0===e&&(e=[]),void 0===i&&(i=[]),void 0===o&&(o=null),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=n,this.orderBy=e,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.h=null};function eV(t,n,e,i,o,s,a){return void 0===n&&(n=null),void 0===e&&(e=[]),void 0===i&&(i=[]),void 0===o&&(o=null),void 0===s&&(s=null),void 0===a&&(a=null),new eJ(t,n,e,i,o,s,a)}function CD(t){var n=Hn(t);if(null===n.h){var e=n.path.canonicalString();null!==n.collectionGroup&&(e+="|cg:"+n.collectionGroup),e+="|f:",e+=n.filters.map(function(i){return(o=i).field.canonicalString()+o.op.toString()+XR(o.value);var o}).join(","),e+="|ob:",e+=n.orderBy.map(function(i){return(o=i).field.canonicalString()+o.dir;var o}).join(","),lC(n.limit)||(e+="|l:",e+=n.limit),n.startAt&&(e+="|lb:",e+=kI(n.startAt)),n.endAt&&(e+="|ub:",e+=kI(n.endAt)),n.h=e}return n.h}function EI(t,n){if(t.limit!==n.limit||t.orderBy.length!==n.orderBy.length)return!1;for(var e=0;e<t.orderBy.length;e++)if(!lJ(t.orderBy[e],n.orderBy[e]))return!1;if(t.filters.length!==n.filters.length)return!1;for(var i=0;i<t.filters.length;i++)if((o=t.filters[i]).op!==(s=n.filters[i]).op||!o.field.isEqual(s.field)||!q_(o.value,s.value))return!1;var o,s;return t.collectionGroup===n.collectionGroup&&!!t.path.isEqual(n.path)&&!!iV(t.startAt,n.startAt)&&iV(t.endAt,n.endAt)}function MI(t){return Ai.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Zf=function(t){function n(e,i,o){var s=this;return(s=t.call(this)||this).field=e,s.op=i,s.value=o,s}return(0,W.__extends)(n,t),n.create=function(e,i,o){return e.isKeyField()?"in"===i||"not-in"===i?this.l(e,i,o):new tJ(e,i,o):"array-contains"===i?new rJ(e,o):"in"===i?new oJ(e,o):"not-in"===i?new sJ(e,o):"array-contains-any"===i?new aJ(e,o):new n(e,i,o)},n.l=function(e,i,o){return"in"===i?new nJ(e,o):new iJ(e,o)},n.prototype.matches=function(e){var i=e.data.field(this.field);return"!="===this.op?null!==i&&this.m(wT(i,this.value)):null!==i&&cC(this.value)===cC(i)&&this.m(wT(i,this.value))},n.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return xi()}},n.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},n}(function(){}),tJ=function(t){function n(e,i,o){var s=this;return(s=t.call(this,e,i,o)||this).key=Ai.fromName(o.referenceValue),s}return(0,W.__extends)(n,t),n.prototype.matches=function(e){var i=Ai.comparator(e.key,this.key);return this.m(i)},n}(Zf),nJ=function(t){function n(e,i){var o=this;return(o=t.call(this,e,"in",i)||this).keys=tV(0,i),o}return(0,W.__extends)(n,t),n.prototype.matches=function(e){return this.keys.some(function(i){return i.isEqual(e.key)})},n}(Zf),iJ=function(t){function n(e,i){var o=this;return(o=t.call(this,e,"not-in",i)||this).keys=tV(0,i),o}return(0,W.__extends)(n,t),n.prototype.matches=function(e){return!this.keys.some(function(i){return i.isEqual(e.key)})},n}(Zf);function tV(t,n){var e;return((null===(e=n.arrayValue)||void 0===e?void 0:e.values)||[]).map(function(i){return Ai.fromName(i.referenceValue)})}var rJ=function(t){function n(e,i){return t.call(this,e,"array-contains",i)||this}return(0,W.__extends)(n,t),n.prototype.matches=function(e){var i=e.data.field(this.field);return n3(i)&&bD(i.arrayValue,this.value)},n}(Zf),oJ=function(t){function n(e,i){return t.call(this,e,"in",i)||this}return(0,W.__extends)(n,t),n.prototype.matches=function(e){var i=e.data.field(this.field);return null!==i&&bD(this.value.arrayValue,i)},n}(Zf),sJ=function(t){function n(e,i){return t.call(this,e,"not-in",i)||this}return(0,W.__extends)(n,t),n.prototype.matches=function(e){if(bD(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var i=e.data.field(this.field);return null!==i&&!bD(this.value.arrayValue,i)},n}(Zf),aJ=function(t){function n(e,i){return t.call(this,e,"array-contains-any",i)||this}return(0,W.__extends)(n,t),n.prototype.matches=function(e){var i=this,o=e.data.field(this.field);return!(!n3(o)||!o.arrayValue.values)&&o.arrayValue.values.some(function(s){return bD(i.value.arrayValue,s)})},n}(Zf),xD=function(t,n){this.position=t,this.before=n};function kI(t){return(t.before?"b":"a")+":"+t.position.map(function(n){return XR(n)}).join(",")}var CT=function(t,n){void 0===n&&(n="asc"),this.field=t,this.dir=n};function lJ(t,n){return t.dir===n.dir&&t.field.isEqual(n.field)}function nV(t,n,e){for(var i=0,o=0;o<t.position.length;o++){var s=n[o],a=t.position[o];if(i=s.field.isKeyField()?Ai.comparator(Ai.fromName(a.referenceValue),e.key):wT(a,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return t.before?i<=0:i<0}function iV(t,n){if(null===t)return null===n;if(null===n||t.before!==n.before||t.position.length!==n.position.length)return!1;for(var e=0;e<t.position.length;e++)if(!q_(t.position[e],n.position[e]))return!1;return!0}var Iy=function(t,n,e,i,o,s,a,d){void 0===n&&(n=null),void 0===e&&(e=[]),void 0===i&&(i=[]),void 0===o&&(o=null),void 0===s&&(s="F"),void 0===a&&(a=null),void 0===d&&(d=null),this.path=t,this.collectionGroup=n,this.explicitOrderBy=e,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=d,this.p=null,this.T=null};function rV(t,n,e,i,o,s,a,d){return new Iy(t,n,e,i,o,s,a,d)}function xT(t){return new Iy(t)}function II(t){return!lC(t.limit)&&"F"===t.limitType}function OI(t){return!lC(t.limit)&&"L"===t.limitType}function r3(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function o3(t){for(var n=0,e=t.filters;n<e.length;n++){var i=e[n];if(i.g())return i.field}return null}function s3(t){return null!==t.collectionGroup}function TT(t){var n=Hn(t);if(null===n.p){n.p=[];var e=o3(n),i=r3(n);if(null!==e&&null===i)e.isKeyField()||n.p.push(new CT(e)),n.p.push(new CT(hg.keyField(),"asc"));else{for(var o=!1,s=0,a=n.explicitOrderBy;s<a.length;s++){var d=a[s];n.p.push(d),d.field.isKeyField()&&(o=!0)}if(!o){var f=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";n.p.push(new CT(hg.keyField(),f))}}}return n.p}function Qp(t){var n=Hn(t);if(!n.T)if("F"===n.limitType)n.T=eV(n.path,n.collectionGroup,TT(n),n.filters,n.limit,n.startAt,n.endAt);else{for(var e=[],i=0,o=TT(n);i<o.length;i++){var s=o[i];e.push(new CT(s.field,"desc"===s.dir?"asc":"desc"))}var d=n.endAt?new xD(n.endAt.position,!n.endAt.before):null,f=n.startAt?new xD(n.startAt.position,!n.startAt.before):null;n.T=eV(n.path,n.collectionGroup,e,n.filters,n.limit,d,f)}return n.T}function oV(t,n,e){return new Iy(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),n,e,t.startAt,t.endAt)}function TD(t,n){return EI(Qp(t),Qp(n))&&t.limitType===n.limitType}function sV(t){return CD(Qp(t))+"|lt:"+t.limitType}function a3(t){return"Query(target="+(e=(n=Qp(t)).path.canonicalString(),null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=", filters: ["+n.filters.map(function(i){return(o=i).field.canonicalString()+" "+o.op+" "+XR(o.value);var o}).join(", ")+"]"),lC(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=", orderBy: ["+n.orderBy.map(function(i){return(o=i).field.canonicalString()+" ("+o.dir+")";var o}).join(", ")+"]"),n.startAt&&(e+=", startAt: "+kI(n.startAt)),n.endAt&&(e+=", endAt: "+kI(n.endAt)),"Target("+e+"); limitType=")+t.limitType+")";var n,e}function AD(t,n){return n.isFoundDocument()&&(o=(i=n).key.path,null!==(e=t).collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(o):Ai.isDocumentKey(e.path)?e.path.isEqual(o):e.path.isImmediateParentOf(o))&&function(e,i){for(var o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];if(!a.field.isKeyField()&&null===i.data.field(a.field))return!1}return!0}(t,n)&&function(e,i){for(var o=0,s=e.filters;o<s.length;o++)if(!s[o].matches(i))return!1;return!0}(t,n)&&function(e,i){return!(e.startAt&&!nV(e.startAt,TT(e),i)||e.endAt&&nV(e.endAt,TT(e),i))}(t,n);var e,i,o}function aV(t){return function(n,e){for(var i=!1,o=0,s=TT(t);o<s.length;o++){var a=s[o],d=cJ(a,n,e);if(0!==d)return d;i=i||a.field.isKeyField()}return 0}}function cJ(t,n,e){var o,a,d,f,i=t.field.isKeyField()?Ai.comparator(n.key,e.key):(a=e,d=n.data.field(o=t.field),f=a.data.field(o),null!==d&&null!==f?wT(d,f):xi());switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return xi()}}function lV(t,n){if(t.I){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:AI(n)?"-0":n}}function cV(t){return{integerValue:""+t}}function uV(t,n){return $j(n)?cV(n):lV(t,n)}var LI=function(){this._=void 0};function uJ(t,n,e){return t instanceof AT?(s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(i=e).seconds,nanos:i.nanoseconds}}}},(o=n)&&(s.fields.__previous_value__=o),{mapValue:s}):t instanceof uC?hV(t,n):t instanceof dC?fV(t,n):function(i,o){var s=dV(i,o),a=pV(s)+pV(i.A);return t3(s)&&t3(i.A)?cV(a):lV(i.R,a)}(t,n);var i,o,s}function dJ(t,n,e){return t instanceof uC?hV(t,n):t instanceof dC?fV(t,n):e}function dV(t,n){return t instanceof ST?t3(e=n)||(i=e)&&"doubleValue"in i?n:{integerValue:0}:null;var i,e}var AT=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return(0,W.__extends)(n,t),n}(LI),uC=function(t){function n(e){var i=this;return(i=t.call(this)||this).elements=e,i}return(0,W.__extends)(n,t),n}(LI);function hV(t,n){for(var e=mV(n),i=function(a){e.some(function(d){return q_(d,a)})||e.push(a)},o=0,s=t.elements;o<s.length;o++)i(s[o]);return{arrayValue:{values:e}}}var dC=function(t){function n(e){var i=this;return(i=t.call(this)||this).elements=e,i}return(0,W.__extends)(n,t),n}(LI);function fV(t,n){for(var e=mV(n),i=function(a){e=e.filter(function(d){return!q_(d,a)})},o=0,s=t.elements;o<s.length;o++)i(s[o]);return{arrayValue:{values:e}}}var ST=function(t){function n(e,i){var o=this;return(o=t.call(this)||this).R=e,o.A=i,o}return(0,W.__extends)(n,t),n}(LI);function pV(t){return Fl(t.integerValue||t.doubleValue)}function mV(t){return n3(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var SD=function(t,n){this.field=t,this.transform=n},hJ=function(t,n){this.version=t,this.transformResults=n},od=function(){function t(n,e){this.updateTime=n,this.exists=e}return t.none=function(){return new t},t.exists=function(n){return new t(void 0,n)},t.updateTime=function(n){return new t(n)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)},t}();function FI(t,n){return void 0!==t.updateTime?n.isFoundDocument()&&n.version.isEqual(t.updateTime):void 0===t.exists||t.exists===n.isFoundDocument()}var NI=function(){};function fJ(t,n,e){var i,o,s,a,d;t instanceof DD?(o=n,s=e,a=(i=t).value.clone(),d=yV(i.fieldTransforms,o,s.transformResults),a.setAll(d),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()):t instanceof Ob?function(i,o,s){if(FI(i.precondition,o)){var a=yV(i.fieldTransforms,o,s.transformResults),d=o.data;d.setAll(vV(i)),d.setAll(a),o.convertToFoundDocument(s.version,d).setHasCommittedMutations()}else o.convertToUnknownDocument(s.version)}(t,n,e):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,n,e)}function l3(t,n,e){var o;t instanceof DD?function(i,o,s){if(FI(i.precondition,o)){var a=i.value.clone(),d=bV(i.fieldTransforms,s,o);a.setAll(d),o.convertToFoundDocument(_V(o),a).setHasLocalMutations()}}(t,n,e):t instanceof Ob?function(i,o,s){if(FI(i.precondition,o)){var a=bV(i.fieldTransforms,s,o),d=o.data;d.setAll(vV(i)),d.setAll(a),o.convertToFoundDocument(_V(o),d).setHasLocalMutations()}}(t,n,e):FI(t.precondition,o=n)&&o.convertToNoDocument(Nr.min())}function pJ(t,n){for(var e=null,i=0,o=t.fieldTransforms;i<o.length;i++){var s=o[i],a=n.data.field(s.field),d=dV(s.transform,a||null);null!=d&&(null==e&&(e=Gf.empty()),e.set(s.field,d))}return e||null}function gV(t,n){return t.type===n.type&&!!t.key.isEqual(n.key)&&!!t.precondition.isEqual(n.precondition)&&(i=n.fieldTransforms,!!(void 0===(e=t.fieldTransforms)&&void 0===i||e&&i&&vT(e,i,function(o,s){return(a=o).field.isEqual((d=s).field)&&(v=d.transform,(f=a.transform)instanceof uC&&v instanceof uC||f instanceof dC&&v instanceof dC?vT(f.elements,v.elements,q_):f instanceof ST&&v instanceof ST?q_(f.A,v.A):f instanceof AT&&v instanceof AT);var a,d,f,v})))&&(0===t.type?t.value.isEqual(n.value):1!==t.type||t.data.isEqual(n.data)&&t.fieldMask.isEqual(n.fieldMask));var e,i}function _V(t){return t.isFoundDocument()?t.version:Nr.min()}var DD=function(t){function n(e,i,o,s){void 0===s&&(s=[]);var a=this;return(a=t.call(this)||this).key=e,a.value=i,a.precondition=o,a.fieldTransforms=s,a.type=0,a}return(0,W.__extends)(n,t),n}(NI),Ob=function(t){function n(e,i,o,s,a){void 0===a&&(a=[]);var d=this;return(d=t.call(this)||this).key=e,d.data=i,d.fieldMask=o,d.precondition=s,d.fieldTransforms=a,d.type=1,d}return(0,W.__extends)(n,t),n}(NI);function vV(t){var n=new Map;return t.fieldMask.fields.forEach(function(e){if(!e.isEmpty()){var i=t.data.field(e);n.set(e,i)}}),n}function yV(t,n,e){var i=new Map;tr(t.length===e.length);for(var o=0;o<e.length;o++){var s=t[o],a=s.transform,d=n.data.field(s.field);i.set(s.field,dJ(a,d,e[o]))}return i}function bV(t,n,e){for(var i=new Map,o=0,s=t;o<s.length;o++){var a=s[o],d=a.transform,f=e.data.field(a.field);i.set(a.field,uJ(d,f,n))}return i}var Nl,fo,ED=function(t){function n(e,i){var o=this;return(o=t.call(this)||this).key=e,o.precondition=i,o.type=2,o.fieldTransforms=[],o}return(0,W.__extends)(n,t),n}(NI),c3=function(t){function n(e,i){var o=this;return(o=t.call(this)||this).key=e,o.precondition=i,o.type=3,o.fieldTransforms=[],o}return(0,W.__extends)(n,t),n}(NI),mJ=function(t){this.count=t};function wV(t){switch(t){case Dt.OK:return xi();case Dt.CANCELLED:case Dt.UNKNOWN:case Dt.DEADLINE_EXCEEDED:case Dt.RESOURCE_EXHAUSTED:case Dt.INTERNAL:case Dt.UNAVAILABLE:case Dt.UNAUTHENTICATED:return!1;case Dt.INVALID_ARGUMENT:case Dt.NOT_FOUND:case Dt.ALREADY_EXISTS:case Dt.PERMISSION_DENIED:case Dt.FAILED_PRECONDITION:case Dt.ABORTED:case Dt.OUT_OF_RANGE:case Dt.UNIMPLEMENTED:case Dt.DATA_LOSS:return!0;default:return xi()}}function CV(t){if(void 0===t)return Ll("GRPC error has no .code"),Dt.UNKNOWN;switch(t){case Nl.OK:return Dt.OK;case Nl.CANCELLED:return Dt.CANCELLED;case Nl.UNKNOWN:return Dt.UNKNOWN;case Nl.DEADLINE_EXCEEDED:return Dt.DEADLINE_EXCEEDED;case Nl.RESOURCE_EXHAUSTED:return Dt.RESOURCE_EXHAUSTED;case Nl.INTERNAL:return Dt.INTERNAL;case Nl.UNAVAILABLE:return Dt.UNAVAILABLE;case Nl.UNAUTHENTICATED:return Dt.UNAUTHENTICATED;case Nl.INVALID_ARGUMENT:return Dt.INVALID_ARGUMENT;case Nl.NOT_FOUND:return Dt.NOT_FOUND;case Nl.ALREADY_EXISTS:return Dt.ALREADY_EXISTS;case Nl.PERMISSION_DENIED:return Dt.PERMISSION_DENIED;case Nl.FAILED_PRECONDITION:return Dt.FAILED_PRECONDITION;case Nl.ABORTED:return Dt.ABORTED;case Nl.OUT_OF_RANGE:return Dt.OUT_OF_RANGE;case Nl.UNIMPLEMENTED:return Dt.UNIMPLEMENTED;case Nl.DATA_LOSS:return Dt.DATA_LOSS;default:return xi()}}(fo=Nl||(Nl={}))[fo.OK=0]="OK",fo[fo.CANCELLED=1]="CANCELLED",fo[fo.UNKNOWN=2]="UNKNOWN",fo[fo.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fo[fo.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fo[fo.NOT_FOUND=5]="NOT_FOUND",fo[fo.ALREADY_EXISTS=6]="ALREADY_EXISTS",fo[fo.PERMISSION_DENIED=7]="PERMISSION_DENIED",fo[fo.UNAUTHENTICATED=16]="UNAUTHENTICATED",fo[fo.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fo[fo.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fo[fo.ABORTED=10]="ABORTED",fo[fo.OUT_OF_RANGE=11]="OUT_OF_RANGE",fo[fo.UNIMPLEMENTED=12]="UNIMPLEMENTED",fo[fo.INTERNAL=13]="INTERNAL",fo[fo.UNAVAILABLE=14]="UNAVAILABLE",fo[fo.DATA_LOSS=15]="DATA_LOSS";var sd=function(){function t(n,e){this.comparator=n,this.root=e||Lb.EMPTY}return t.prototype.insert=function(n,e){return new t(this.comparator,this.root.insert(n,e,this.comparator).copy(null,null,Lb.BLACK,null,null))},t.prototype.remove=function(n){return new t(this.comparator,this.root.remove(n,this.comparator).copy(null,null,Lb.BLACK,null,null))},t.prototype.get=function(n){for(var e=this.root;!e.isEmpty();){var i=this.comparator(n,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null},t.prototype.indexOf=function(n){for(var e=0,i=this.root;!i.isEmpty();){var o=this.comparator(n,i.key);if(0===o)return e+i.left.size;o<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(n){return this.root.inorderTraversal(n)},t.prototype.forEach=function(n){this.inorderTraversal(function(e,i){return n(e,i),!1})},t.prototype.toString=function(){var n=[];return this.inorderTraversal(function(e,i){return n.push(e+":"+i),!1}),"{"+n.join(", ")+"}"},t.prototype.reverseTraversal=function(n){return this.root.reverseTraversal(n)},t.prototype.getIterator=function(){return new RI(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(n){return new RI(this.root,n,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new RI(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(n){return new RI(this.root,n,this.comparator,!0)},t}(),RI=function(){function t(n,e,i,o){this.isReverse=o,this.nodeStack=[];for(var s=1;!n.isEmpty();)if(s=e?i(n.key,e):1,o&&(s*=-1),s<0)n=this.isReverse?n.left:n.right;else{if(0===s){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}return t.prototype.getNext=function(){var n=this.nodeStack.pop(),e={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}},t}(),Lb=function(){function t(n,e,i,o,s){this.key=n,this.value=e,this.color=null!=i?i:t.RED,this.left=null!=o?o:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(n,e,i,o,s){return new t(null!=n?n:this.key,null!=e?e:this.value,null!=i?i:this.color,null!=o?o:this.left,null!=s?s:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)},t.prototype.reverseTraversal=function(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(n,e,i){var o=this,s=i(n,o.key);return(o=s<0?o.copy(null,null,null,o.left.insert(n,e,i),null):0===s?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(n,e,i))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),(n=n.copy(null,null,null,n.left.removeMin(),null)).fixUp()},t.prototype.remove=function(n,e){var i,o=this;if(e(n,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(n,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===e(n,o.key)){if(o.right.isEmpty())return t.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(n,e))}return o.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n},t.prototype.moveRedLeft=function(){var n=this.colorFlip();return n.right.left.isRed()&&(n=(n=(n=n.copy(null,null,null,null,n.right.rotateRight())).rotateLeft()).colorFlip()),n},t.prototype.moveRedRight=function(){var n=this.colorFlip();return n.left.left.isRed()&&(n=(n=n.rotateRight()).colorFlip()),n},t.prototype.rotateLeft=function(){var n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)},t.prototype.rotateRight=function(){var n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)},t.prototype.colorFlip=function(){var n=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,e)},t.prototype.checkMaxDepth=function(){var n=this.check();return Math.pow(2,n)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xi();var n=this.left.check();if(n!==this.right.check())throw xi();return n+(this.isRed()?0:1)},t}();Lb.EMPTY=null,Lb.RED=!0,Lb.BLACK=!1,Lb.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw xi()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw xi()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw xi()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw xi()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw xi()},enumerable:!1,configurable:!0}),t.prototype.copy=function(n,e,i,o,s){return this},t.prototype.insert=function(n,e,i){return new Lb(n,e)},t.prototype.remove=function(n,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(n){return!1},t.prototype.reverseTraversal=function(n){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var uc=function(){function t(n){this.comparator=n,this.data=new sd(this.comparator)}return t.prototype.has=function(n){return null!==this.data.get(n)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(n){return this.data.indexOf(n)},t.prototype.forEach=function(n){this.data.inorderTraversal(function(e,i){return n(e),!1})},t.prototype.forEachInRange=function(n,e){for(var i=this.data.getIteratorFrom(n[0]);i.hasNext();){var o=i.getNext();if(this.comparator(o.key,n[1])>=0)return;e(o.key)}},t.prototype.forEachWhile=function(n,e){var i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!n(i.getNext().key))return},t.prototype.firstAfterOrEqual=function(n){var e=this.data.getIteratorFrom(n);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new xV(this.data.getIterator())},t.prototype.getIteratorFrom=function(n){return new xV(this.data.getIteratorFrom(n))},t.prototype.add=function(n){return this.copy(this.data.remove(n).insert(n,!0))},t.prototype.delete=function(n){return this.has(n)?this.copy(this.data.remove(n)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(n){var e=this;return e.size<n.size&&(e=n,n=this),n.forEach(function(i){e=e.add(i)}),e},t.prototype.isEqual=function(n){if(!(n instanceof t)||this.size!==n.size)return!1;for(var e=this.data.getIterator(),i=n.data.getIterator();e.hasNext();){var o=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(o,s))return!1}return!0},t.prototype.toArray=function(){var n=[];return this.forEach(function(e){n.push(e)}),n},t.prototype.toString=function(){var n=[];return this.forEach(function(e){return n.push(e)}),"SortedSet("+n.toString()+")"},t.prototype.copy=function(n){var e=new t(this.comparator);return e.data=n,e},t}(),xV=function(){function t(n){this.iter=n}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),gJ=new sd(Ai.comparator);function Jp(){return gJ}var _J=new sd(Ai.comparator);function u3(){return _J}var vJ=new sd(Ai.comparator);function TV(){return vJ}var yJ=new uc(Ai.comparator);function Xo(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var e=yJ,i=0,o=t;i<o.length;i++){var s=o[i];e=e.add(s)}return e}var bJ=new uc(Wr);function PI(){return bJ}var d3=function(){function t(n,e,i,o,s){this.snapshotVersion=n,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=s}return t.createSynthesizedRemoteEventForCurrentChange=function(n,e){var i=new Map;return i.set(n,h3.createSynthesizedTargetChangeForCurrentChange(n,e)),new t(Nr.min(),i,PI(),Jp(),Xo())},t}(),h3=function(){function t(n,e,i,o,s){this.resumeToken=n,this.current=e,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=s}return t.createSynthesizedTargetChangeForCurrentChange=function(n,e){return new t(eh.EMPTY_BYTE_STRING,e,Xo(),Xo(),Xo())},t}(),BI=function(t,n,e,i){this.v=t,this.removedTargetIds=n,this.key=e,this.P=i},AV=function(t,n){this.targetId=t,this.V=n},SV=function(t,n,e,i){void 0===e&&(e=eh.EMPTY_BYTE_STRING),void 0===i&&(i=null),this.state=t,this.targetIds=n,this.resumeToken=e,this.cause=i},DV=function(){function t(){this.S=0,this.D=MV(),this.C=eh.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(n){n.approximateByteSize()>0&&(this.k=!0,this.C=n)},t.prototype.M=function(){var n=Xo(),e=Xo(),i=Xo();return this.D.forEach(function(o,s){switch(s){case 0:n=n.add(o);break;case 2:e=e.add(o);break;case 1:i=i.add(o);break;default:xi()}}),new h3(this.C,this.N,n,e,i)},t.prototype.L=function(){this.k=!1,this.D=MV()},t.prototype.B=function(n,e){this.k=!0,this.D=this.D.insert(n,e)},t.prototype.q=function(n){this.k=!0,this.D=this.D.remove(n)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),wJ=function(){function t(n){this.W=n,this.G=new Map,this.H=Jp(),this.J=EV(),this.Y=new uc(Wr)}return t.prototype.X=function(n){for(var e=0,i=n.v;e<i.length;e++){var o=i[e];n.P&&n.P.isFoundDocument()?this.Z(o,n.P):this.tt(o,n.key,n.P)}for(var s=0,a=n.removedTargetIds;s<a.length;s++)this.tt(o=a[s],n.key,n.P)},t.prototype.et=function(n){var e=this;this.forEachTarget(n,function(i){var o=e.nt(i);switch(n.state){case 0:e.st(i)&&o.O(n.resumeToken);break;case 1:o.K(),o.F||o.L(),o.O(n.resumeToken);break;case 2:o.K(),o.F||e.removeTarget(i);break;case 3:e.st(i)&&(o.j(),o.O(n.resumeToken));break;case 4:e.st(i)&&(e.it(i),o.O(n.resumeToken));break;default:xi()}})},t.prototype.forEachTarget=function(n,e){var i=this;n.targetIds.length>0?n.targetIds.forEach(e):this.G.forEach(function(o,s){i.st(s)&&e(s)})},t.prototype.rt=function(n){var e=n.targetId,i=n.V.count,o=this.ot(e);if(o){var s=o.target;if(MI(s))if(0===i){var a=new Ai(s.path);this.tt(e,a,Tu.newNoDocument(a,Nr.min()))}else tr(1===i);else this.ct(e)!==i&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(n){var e=this,i=new Map;this.G.forEach(function(a,d){var f=e.ot(d);if(f){if(a.current&&MI(f.target)){var v=new Ai(f.target.path);null!==e.H.get(v)||e.at(d,v)||e.tt(d,v,Tu.newNoDocument(v,n))}a.$&&(i.set(d,a.M()),a.L())}});var o=Xo();this.J.forEach(function(a,d){var f=!0;d.forEachWhile(function(v){var w=e.ot(v);return!w||2===w.purpose||(f=!1,!1)}),f&&(o=o.add(a))});var s=new d3(n,i,this.Y,this.H,o);return this.H=Jp(),this.J=EV(),this.Y=new uc(Wr),s},t.prototype.Z=function(n,e){if(this.st(n)){var i=this.at(n,e.key)?2:0;this.nt(n).B(e.key,i),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(n))}},t.prototype.tt=function(n,e,i){if(this.st(n)){var o=this.nt(n);this.at(n,e)?o.B(e,1):o.q(e),this.J=this.J.insert(e,this.ht(e).delete(n)),i&&(this.H=this.H.insert(e,i))}},t.prototype.removeTarget=function(n){this.G.delete(n)},t.prototype.ct=function(n){var e=this.nt(n).M();return this.W.getRemoteKeysForTarget(n).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(n){this.nt(n).U()},t.prototype.nt=function(n){var e=this.G.get(n);return e||(e=new DV,this.G.set(n,e)),e},t.prototype.ht=function(n){var e=this.J.get(n);return e||(e=new uc(Wr),this.J=this.J.insert(n,e)),e},t.prototype.st=function(n){var e=null!==this.ot(n);return e||On("WatchChangeAggregator","Detected inactive target",n),e},t.prototype.ot=function(n){var e=this.G.get(n);return e&&e.F?null:this.W.lt(n)},t.prototype.it=function(n){var e=this;this.G.set(n,new DV),this.W.getRemoteKeysForTarget(n).forEach(function(i){e.tt(n,i,null)})},t.prototype.at=function(n,e){return this.W.getRemoteKeysForTarget(n).has(e)},t}();function EV(){return new sd(Ai.comparator)}function MV(){return new sd(Ai.comparator)}var CJ={asc:"ASCENDING",desc:"DESCENDING"},xJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TJ=function(t,n){this.databaseId=t,this.I=n};function MD(t,n){return t.I?new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+n.nanoseconds).slice(-9)+"Z":{seconds:""+n.seconds,nanos:n.nanoseconds}}function kV(t,n){return t.I?n.toBase64():n.toUint8Array()}function AJ(t,n){return MD(t,n.toTimestamp())}function Wc(t){return tr(!!t),Nr.fromTimestamp((e=Ib(t),new qh(e.seconds,e.nanos)));var e}function f3(t,n){return(e=t,new So(["projects",e.projectId,"databases",e.database])).child("documents").child(n).canonicalString();var e}function IV(t){var n=So.fromString(t);return tr(HV(n)),n}function kD(t,n){return f3(t.databaseId,n.path)}function H_(t,n){var e=IV(n);if(e.get(1)!==t.databaseId.projectId)throw new hn(Dt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+t.databaseId.projectId);if(e.get(3)!==t.databaseId.database)throw new hn(Dt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+t.databaseId.database);return new Ai(LV(e))}function p3(t,n){return f3(t.databaseId,n)}function OV(t){var n=IV(t);return 4===n.length?So.emptyPath():LV(n)}function ID(t){return new So(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function LV(t){return tr(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function FV(t,n,e){return{name:kD(t,n),fields:e.value.mapValue.fields}}function NV(t,n,e){var i=H_(t,n.name),o=Wc(n.updateTime),s=new Gf({mapValue:{fields:n.fields}}),a=Tu.newFoundDocument(i,o,s);return e&&a.setHasCommittedMutations(),e?a.setHasCommittedMutations():a}function UI(t,n){var e,o;if(n instanceof DD)e={update:FV(t,n.key,n.value)};else if(n instanceof ED)e={delete:kD(t,n.key)};else if(n instanceof Ob)e={update:FV(t,n.key,n.data),updateMask:kJ(n.fieldMask)};else{if(!(n instanceof c3))return xi();e={verify:kD(t,n.key)}}return n.fieldTransforms.length>0&&(e.updateTransforms=n.fieldTransforms.map(function(i){return function(o,s){var a=s.transform;if(a instanceof AT)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof uC)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof dC)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ST)return{fieldPath:s.field.canonicalString(),increment:a.A};throw xi()}(0,i)})),n.precondition.isNone||(e.currentDocument=void 0!==(o=n.precondition).updateTime?{updateTime:AJ(t,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:xi()),e}function RV(t,n){var v,e=n.currentDocument?void 0!==(v=n.currentDocument).updateTime?od.updateTime(Wc(v.updateTime)):void 0!==v.exists?od.exists(v.exists):od.none():od.none(),i=n.updateTransforms?n.updateTransforms.map(function(v){return function(w,x){var S=null;"setToServerValue"in x?(tr("REQUEST_TIME"===x.setToServerValue),S=new AT):"appendMissingElements"in x?S=new uC(x.appendMissingElements.values||[]):"removeAllFromArray"in x?S=new dC(x.removeAllFromArray.values||[]):"increment"in x?S=new ST(w,x.increment):xi();var H=hg.fromServerFormat(x.fieldPath);return new SD(H,S)}(t,v)}):[];if(n.update){var o=H_(t,n.update.name),s=new Gf({mapValue:{fields:n.update.fields}});if(n.updateMask){var a=function(v){return new yT((v.fieldPaths||[]).map(function(x){return hg.fromServerFormat(x)}))}(n.updateMask);return new Ob(o,s,a,e,i)}return new DD(o,s,e,i)}if(n.delete){var d=H_(t,n.delete);return new ED(d,e)}if(n.verify){var f=H_(t,n.verify);return new c3(f,e)}return xi()}function PV(t,n){return{documents:[p3(t,n.path)]}}function BV(t,n){var e={structuredQuery:{}},i=n.path;null!==n.collectionGroup?(e.parent=p3(t,i),e.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(e.parent=p3(t,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);var o=function(d){if(0!==d.length){var f=d.map(function(v){return function(w){if("=="===w.op){if(Kj(w.value))return{unaryFilter:{field:DT(w.field),op:"IS_NAN"}};if(Jj(w.value))return{unaryFilter:{field:DT(w.field),op:"IS_NULL"}}}else if("!="===w.op){if(Kj(w.value))return{unaryFilter:{field:DT(w.field),op:"IS_NOT_NAN"}};if(Jj(w.value))return{unaryFilter:{field:DT(w.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:DT(w.field),op:DJ(w.op),value:w.value}}}(v)});return 1===f.length?f[0]:{compositeFilter:{op:"AND",filters:f}}}}(n.filters);o&&(e.structuredQuery.where=o);var s=function(d){if(0!==d.length)return d.map(function(f){return{field:DT((v=f).field),direction:SJ(v.dir)};var v})}(n.orderBy);s&&(e.structuredQuery.orderBy=s);var f,a=(f=n.limit,t.I||lC(f)?f:{value:f});return null!==a&&(e.structuredQuery.limit=a),n.startAt&&(e.structuredQuery.startAt=VV(n.startAt)),n.endAt&&(e.structuredQuery.endAt=VV(n.endAt)),e}function UV(t){var n=OV(t.parent),e=t.structuredQuery,i=e.from?e.from.length:0,o=null;if(i>0){tr(1===i);var s=e.from[0];s.allDescendants?o=s.collectionId:n=n.child(s.collectionId)}var a=[];e.where&&(a=jV(e.where));var d=[];e.orderBy&&(d=e.orderBy.map(function(x){return new CT(ET((S=x).field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));var x,S,f=null;e.limit&&(f=lC(S="object"==typeof(x=e.limit)?x.value:x)?null:S);var v=null;e.startAt&&(v=qV(e.startAt));var w=null;return e.endAt&&(w=qV(e.endAt)),rV(n,o,d,a,f,"F",v,w)}function jV(t){return t?void 0!==t.unaryFilter?[MJ(t)]:void 0!==t.fieldFilter?[EJ(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(n){return jV(n)}).reduce(function(n,e){return n.concat(e)}):xi():[]}function VV(t){return{before:t.before,values:t.position}}function qV(t){return new xD(t.values||[],!!t.before)}function SJ(t){return CJ[t]}function DJ(t){return xJ[t]}function DT(t){return{fieldPath:t.canonicalString()}}function ET(t){return hg.fromServerFormat(t.fieldPath)}function EJ(t){return Zf.create(ET(t.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xi()}}(t.fieldFilter.op),t.fieldFilter.value)}function MJ(t){switch(t.unaryFilter.op){case"IS_NAN":var n=ET(t.unaryFilter.field);return Zf.create(n,"==",{doubleValue:NaN});case"IS_NULL":var e=ET(t.unaryFilter.field);return Zf.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var i=ET(t.unaryFilter.field);return Zf.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=ET(t.unaryFilter.field);return Zf.create(o,"!=",{nullValue:"NULL_VALUE"});default:return xi()}}function kJ(t){var n=[];return t.fields.forEach(function(e){return n.push(e.canonicalString())}),{fieldPaths:n}}function HV(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function fg(t){for(var n="",e=0;e<t.length;e++)n.length>0&&(n=GV(n)),n=IJ(t.get(e),n);return GV(n)}function IJ(t,n){for(var e=n,i=t.length,o=0;o<i;o++){var s=t.charAt(o);switch(s){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=s}}return e}function GV(t){return t+"\x01\x01"}function Oy(t){var n=t.length;if(tr(n>=2),2===n)return tr("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),So.emptyPath();for(var e=n-2,i=[],o="",s=0;s<n;){var a=t.indexOf("\x01",s);switch((a<0||a>e)&&xi(),t.charAt(a+1)){case"\x01":var d=t.substring(s,a),f=void 0;0===o.length?f=d:(f=o+=d,o=""),i.push(f);break;case"\x10":o+=t.substring(s,a),o+="\0";break;case"\x11":o+=t.substring(s,a+1);break;default:xi()}s=a+2}return new So(i)}var OJ=function(t,n){this.seconds=t,this.nanoseconds=n},Yf=function(t,n,e){this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=e};Yf.store="owner",Yf.key="owner";var Fb=function(t,n,e){this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=e};Fb.store="mutationQueues",Fb.keyPath="userId";var Qs=function(t,n,e,i,o){this.userId=t,this.batchId=n,this.localWriteTimeMs=e,this.baseMutations=i,this.mutations=o};Qs.store="mutations",Qs.keyPath="batchId",Qs.userMutationsIndex="userMutationsIndex",Qs.userMutationsKeyPath=["userId","batchId"];var ad=function(){function t(){}return t.prefixForUser=function(n){return[n]},t.prefixForPath=function(n,e){return[n,fg(e)]},t.key=function(n,e,i){return[n,fg(e),i]},t}();ad.store="documentMutations",ad.PLACEHOLDER=new ad;var LJ=function(t,n){this.path=t,this.readTime=n},FJ=function(t,n){this.path=t,this.version=n},Ha=function(t,n,e,i,o,s){this.unknownDocument=t,this.noDocument=n,this.document=e,this.hasCommittedMutations=i,this.readTime=o,this.parentPath=s};Ha.store="remoteDocuments",Ha.readTimeIndex="readTimeIndex",Ha.readTimeIndexPath="readTime",Ha.collectionReadTimeIndex="collectionReadTimeIndex",Ha.collectionReadTimeIndexPath=["parentPath","readTime"];var G_=function(t){this.byteSize=t};G_.store="remoteDocumentGlobal",G_.key="remoteDocumentGlobalKey";var Hh=function(t,n,e,i,o,s,a){this.targetId=t,this.canonicalId=n,this.readTime=e,this.resumeToken=i,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=s,this.query=a};Hh.store="targets",Hh.keyPath="targetId",Hh.queryTargetsIndexName="queryTargetsIndex",Hh.queryTargetsKeyPath=["canonicalId","targetId"];var Au=function(t,n,e){this.targetId=t,this.path=n,this.sequenceNumber=e};Au.store="targetDocuments",Au.keyPath=["targetId","path"],Au.documentTargetsIndex="documentTargetsIndex",Au.documentTargetsKeyPath=["path","targetId"];var zf=function(t,n,e,i){this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=e,this.targetCount=i};zf.key="targetGlobalKey",zf.store="targetGlobal";var hC=function(t,n){this.collectionId=t,this.parent=n};hC.store="collectionParents",hC.keyPath=["collectionId","parent"];var Ly=function(t,n,e,i){this.clientId=t,this.updateTimeMs=n,this.networkEnabled=e,this.inForeground=i};Ly.store="clientMetadata",Ly.keyPath="clientId";var MT=function(t,n,e){this.bundleId=t,this.createTime=n,this.version=e};MT.store="bundles",MT.keyPath="bundleId";var kT=function(t,n,e){this.name=t,this.readTime=n,this.bundledQuery=e};kT.store="namedQueries",kT.keyPath="name";var NJ=(0,W.__spreadArray)((0,W.__spreadArray)([],(0,W.__spreadArray)((0,W.__spreadArray)([],(0,W.__spreadArray)((0,W.__spreadArray)([],(0,W.__spreadArray)((0,W.__spreadArray)([],[Fb.store,Qs.store,ad.store,Ha.store,Hh.store,Yf.store,zf.store,Au.store]),[Ly.store])),[G_.store])),[hC.store])),[MT.store,kT.store]),ZV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",YV=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(n){this.onCommittedListeners.push(n)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(n){return n()})},t}(),ld=function(){var t=this;this.promise=new Promise(function(n,e){t.resolve=n,t.reject=e})},bn=function(){function t(n){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(function(i){e.isDone=!0,e.result=i,e.nextCallback&&e.nextCallback(i)},function(i){e.isDone=!0,e.error=i,e.catchCallback&&e.catchCallback(i)})}return t.prototype.catch=function(n){return this.next(void 0,n)},t.prototype.next=function(n,e){var i=this;return this.callbackAttached&&xi(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(n,this.result):new t(function(o,s){i.nextCallback=function(a){i.wrapSuccess(n,a).next(o,s)},i.catchCallback=function(a){i.wrapFailure(e,a).next(o,s)}})},t.prototype.toPromise=function(){var n=this;return new Promise(function(e,i){n.next(e,i)})},t.prototype.wrapUserFunction=function(n){try{var e=n();return e instanceof t?e:t.resolve(e)}catch(i){return t.reject(i)}},t.prototype.wrapSuccess=function(n,e){return n?this.wrapUserFunction(function(){return n(e)}):t.resolve(e)},t.prototype.wrapFailure=function(n,e){return n?this.wrapUserFunction(function(){return n(e)}):t.reject(e)},t.resolve=function(n){return new t(function(e,i){e(n)})},t.reject=function(n){return new t(function(e,i){i(n)})},t.waitFor=function(n){return new t(function(e,i){var o=0,s=0,a=!1;n.forEach(function(d){++o,d.next(function(){++s,a&&s===o&&e()},function(f){return i(f)})}),a=!0,s===o&&e()})},t.or=function(n){for(var e=t.resolve(!1),i=function(a){e=e.next(function(d){return d?t.resolve(d):a()})},o=0,s=n;o<s.length;o++)i(s[o]);return e},t.forEach=function(n,e){var i=this,o=[];return n.forEach(function(s,a){o.push(e.call(i,s,a))}),this.waitFor(o)},t}(),zV=function(){function t(n,e){var i=this;this.action=n,this.transaction=e,this.aborted=!1,this.ft=new ld,this.transaction.oncomplete=function(){i.ft.resolve()},this.transaction.onabort=function(){e.error?i.ft.reject(new OD(n,e.error)):i.ft.resolve()},this.transaction.onerror=function(o){var s=m3(o.target.error);i.ft.reject(new OD(n,s))}}return t.open=function(n,e,i,o){try{return new t(e,n.transaction(o,i))}catch(s){throw new OD(e,s)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(n){n&&this.ft.reject(n),this.aborted||(On("SimpleDb","Aborting transaction:",n?n.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(n){var e=this.transaction.objectStore(n);return new PJ(e)},t}(),IT=function(){function t(n,e,i){this.name=n,this.version=e,this.wt=i,12.2===t._t((0,pi.getUA)())&&Ll("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(n){return On("SimpleDb","Removing database:",n),pC(window.indexedDB.deleteDatabase(n)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var n=(0,pi.getUA)(),e=t._t(n),i=0<e&&e<10,o=t.Et(n),s=0<o&&o<4.5;return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||i||s)},t.gt=function(){var n;return"undefined"!=typeof process&&"YES"===(null===(n=process.env)||void 0===n?void 0:n.Tt)},t.It=function(n,e){return n.store(e)},t._t=function(n){var e=n.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)},t.Et=function(n){var e=n.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)},t.prototype.At=function(n){return(0,W.__awaiter)(this,void 0,void 0,function(){var e,i=this;return(0,W.__generator)(this,function(o){switch(o.label){case 0:return this.db?[3,2]:(On("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(s,a){var d=indexedDB.open(i.name,i.version);d.onsuccess=function(f){s(f.target.result)},d.onblocked=function(){a(new OD(n,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=function(f){var v=f.target.error;a("VersionError"===v.name?new hn(Dt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new OD(n,v))},d.onupgradeneeded=function(f){On("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',f.oldVersion),i.wt.Rt(f.target.result,d.transaction,f.oldVersion,i.version).next(function(){On("SimpleDb","Database upgrade to version "+i.version+" complete")})}})]);case 1:e.db=o.sent(),o.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(s){return i.bt(s)}),this.db)]}})})},t.prototype.vt=function(n){this.bt=n,this.db&&(this.db.onversionchange=function(e){return n(e)})},t.prototype.runTransaction=function(n,e,i,o){return(0,W.__awaiter)(this,void 0,void 0,function(){var s,a,d,f,v;return(0,W.__generator)(this,function(w){switch(w.label){case 0:s="readonly"===e,a=0,d=function(){var x,S,E,q,H;return(0,W.__generator)(this,function(ee){switch(ee.label){case 0:++a,ee.label=1;case 1:return ee.trys.push([1,4,,5]),[4,f.At(n)];case 2:return f.db=ee.sent(),x=zV.open(f.db,n,s?"readonly":"readwrite",i),S=o(x).catch(function($){return x.abort($),bn.reject($)}).toPromise(),E={},S.catch(function(){}),[4,x.dt];case 3:return[2,(E.value=(ee.sent(),S),E)];case 4:return On("SimpleDb","Transaction failed with error:",(q=ee.sent()).message,"Retrying:",H="FirebaseError"!==q.name&&a<3),f.close(),H?[3,5]:[2,{value:Promise.reject(q)}];case 5:return[2]}})},f=this,w.label=1;case 1:return[5,d()];case 2:if("object"==typeof(v=w.sent()))return[2,v.value];w.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),RJ=function(){function t(n){this.Pt=n,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(n){this.Pt=n},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(n){this.St=n},t.prototype.delete=function(){return pC(this.Pt.delete())},t}(),OD=function(t){function n(e,i){var o=this;return(o=t.call(this,Dt.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+i)||this).name="IndexedDbTransactionError",o}return(0,W.__extends)(n,t),n}(hn);function fC(t){return"IndexedDbTransactionError"===t.name}var PJ=function(){function t(n){this.store=n}return t.prototype.put=function(n,e){var i;return void 0!==e?(On("SimpleDb","PUT",this.store.name,n,e),i=this.store.put(e,n)):(On("SimpleDb","PUT",this.store.name,"<auto-key>",n),i=this.store.put(n)),pC(i)},t.prototype.add=function(n){return On("SimpleDb","ADD",this.store.name,n,n),pC(this.store.add(n))},t.prototype.get=function(n){var e=this;return pC(this.store.get(n)).next(function(i){return void 0===i&&(i=null),On("SimpleDb","GET",e.store.name,n,i),i})},t.prototype.delete=function(n){return On("SimpleDb","DELETE",this.store.name,n),pC(this.store.delete(n))},t.prototype.count=function(){return On("SimpleDb","COUNT",this.store.name),pC(this.store.count())},t.prototype.Nt=function(n,e){var i=this.cursor(this.options(n,e)),o=[];return this.xt(i,function(s,a){o.push(a)}).next(function(){return o})},t.prototype.kt=function(n,e){On("SimpleDb","DELETE ALL",this.store.name);var i=this.options(n,e);i.Ft=!1;var o=this.cursor(i);return this.xt(o,function(s,a,d){return d.delete()})},t.prototype.$t=function(n,e){var i;e?i=n:(i={},e=n);var o=this.cursor(i);return this.xt(o,e)},t.prototype.Ot=function(n){var e=this.cursor({});return new bn(function(i,o){e.onerror=function(s){var a=m3(s.target.error);o(a)},e.onsuccess=function(s){var a=s.target.result;a?n(a.primaryKey,a.value).next(function(d){d?a.continue():i()}):i()}})},t.prototype.xt=function(n,e){var i=[];return new bn(function(o,s){n.onerror=function(a){s(a.target.error)},n.onsuccess=function(a){var d=a.target.result;if(d){var f=new RJ(d),v=e(d.primaryKey,d.value,f);if(v instanceof bn){var w=v.catch(function(x){return f.done(),bn.reject(x)});i.push(w)}f.isDone?o():null===f.Dt?d.continue():d.continue(f.Dt)}else o()}}).next(function(){return bn.waitFor(i)})},t.prototype.options=function(n,e){var i;return void 0!==n&&("string"==typeof n?i=n:e=n),{index:i,range:e}},t.prototype.cursor=function(n){var e="next";if(n.reverse&&(e="prev"),n.index){var i=this.store.index(n.index);return n.Ft?i.openKeyCursor(n.range,e):i.openCursor(n.range,e)}return this.store.openCursor(n.range,e)},t}();function pC(t){return new bn(function(n,e){t.onsuccess=function(i){n(i.target.result)},t.onerror=function(i){var o=m3(i.target.error);e(o)}})}var WV=!1;function m3(t){var n=IT._t((0,pi.getUA)());if(n>=12.2&&n<13){var e="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(e)>=0){var i=new hn("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+e+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return WV||(WV=!0,setTimeout(function(){throw i},0)),i}}return t}var $V=function(t){function n(e,i){var o=this;return(o=t.call(this)||this).Mt=e,o.currentSequenceNumber=i,o}return(0,W.__extends)(n,t),n}(YV);function Gh(t,n){var e=Hn(t);return IT.It(e.Mt,n)}var g3=function(){function t(n,e,i,o){this.batchId=n,this.localWriteTime=e,this.baseMutations=i,this.mutations=o}return t.prototype.applyToRemoteDocument=function(n,e){for(var i=e.mutationResults,o=0;o<this.mutations.length;o++){var s=this.mutations[o];s.key.isEqual(n.key)&&fJ(s,n,i[o])}},t.prototype.applyToLocalView=function(n){for(var e=0,i=this.baseMutations;e<i.length;e++)(a=i[e]).key.isEqual(n.key)&&l3(a,n,this.localWriteTime);for(var o=0,s=this.mutations;o<s.length;o++){var a;(a=s[o]).key.isEqual(n.key)&&l3(a,n,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(n){var e=this;this.mutations.forEach(function(i){var o=n.get(i.key),s=o;e.applyToLocalView(s),o.isValidDocument()||s.convertToNoDocument(Nr.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(n,e){return n.add(e.key)},Xo())},t.prototype.isEqual=function(n){return this.batchId===n.batchId&&vT(this.mutations,n.mutations,function(e,i){return gV(e,i)})&&vT(this.baseMutations,n.baseMutations,function(e,i){return gV(e,i)})},t}(),BJ=function(){function t(n,e,i,o){this.batch=n,this.commitVersion=e,this.mutationResults=i,this.docVersions=o}return t.from=function(n,e,i){tr(n.mutations.length===i.length);for(var o=TV(),s=n.mutations,a=0;a<s.length;a++)o=o.insert(s[a].key,i[a].version);return new t(n,e,i,o)},t}(),jI=function(){function t(n,e,i,o,s,a,d){void 0===s&&(s=Nr.min()),void 0===a&&(a=Nr.min()),void 0===d&&(d=eh.EMPTY_BYTE_STRING),this.target=n,this.targetId=e,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=d}return t.prototype.withSequenceNumber=function(n){return new t(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(n,e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,n)},t.prototype.withLastLimboFreeSnapshotVersion=function(n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken)},t}(),QV=function(t){this.Lt=t};function _3(t,n){if(n.document)return NV(t.Lt,n.document,!!n.hasCommittedMutations);if(n.noDocument){var e=Ai.fromSegments(n.noDocument.path),i=LT(n.noDocument.readTime),o=Tu.newNoDocument(e,i);return n.hasCommittedMutations?o.setHasCommittedMutations():o}if(n.unknownDocument){var s=Ai.fromSegments(n.unknownDocument.path);return i=LT(n.unknownDocument.version),Tu.newUnknownDocument(s,i)}return xi()}function JV(t,n,e){var x,S,i=v3(e),o=n.key.path.popLast().toArray();if(n.isFoundDocument()){var s={name:kD(x=t.Lt,(S=n).key),fields:S.data.value.mapValue.fields,updateTime:MD(x,S.version.toTimestamp())},a=n.hasCommittedMutations;return new Ha(null,null,s,a,i,o)}if(n.isNoDocument()){var d=n.key.path.toArray(),f=OT(n.version);return a=n.hasCommittedMutations,new Ha(null,new LJ(d,f),null,a,i,o)}if(n.isUnknownDocument()){var v=n.key.path.toArray(),w=OT(n.version);return new Ha(new FJ(v,w),null,null,!0,i,o)}return xi()}function v3(t){var n=t.toTimestamp();return[n.seconds,n.nanoseconds]}function KV(t){var n=new qh(t[0],t[1]);return Nr.fromTimestamp(n)}function OT(t){var n=t.toTimestamp();return new OJ(n.seconds,n.nanoseconds)}function LT(t){var n=new qh(t.seconds,t.nanoseconds);return Nr.fromTimestamp(n)}function FT(t,n){for(var e=(n.baseMutations||[]).map(function(f){return RV(t.Lt,f)}),i=0;i<n.mutations.length-1;++i)i+1<n.mutations.length&&void 0!==n.mutations[i+1].transform&&(n.mutations[i].updateTransforms=n.mutations[i+1].transform.fieldTransforms,n.mutations.splice(i+1,1),++i);var a=n.mutations.map(function(f){return RV(t.Lt,f)}),d=qh.fromMillis(n.localWriteTimeMs);return new g3(n.batchId,d,e,a)}function LD(t){var n,e,i=LT(t.readTime),o=void 0!==t.lastLimboFreeSnapshotVersion?LT(t.lastLimboFreeSnapshotVersion):Nr.min();return void 0!==t.query.documents?(tr(1===(e=t.query).documents.length),n=Qp(xT(OV(e.documents[0])))):n=Qp(UV(t.query)),new jI(n,t.targetId,0,t.lastListenSequenceNumber,i,o,eh.fromBase64String(t.resumeToken))}function XV(t,n){var e,i=OT(n.snapshotVersion),o=OT(n.lastLimboFreeSnapshotVersion);e=MI(n.target)?PV(t.Lt,n.target):BV(t.Lt,n.target);var s=n.resumeToken.toBase64();return new Hh(n.targetId,CD(n.target),i,s,n.sequenceNumber,o,e)}function y3(t){var n=UV({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?oV(n,n.limit,"L"):n}var UJ=function(){function t(){}return t.prototype.getBundleMetadata=function(n,e){return eq(n).get(e).next(function(i){if(i)return{id:(o=i).bundleId,createTime:LT(o.createTime),version:o.version};var o})},t.prototype.saveBundleMetadata=function(n,e){return eq(n).put({bundleId:(i=e).id,createTime:OT(Wc(i.createTime)),version:i.version});var i},t.prototype.getNamedQuery=function(n,e){return tq(n).get(e).next(function(i){if(i)return{name:(o=i).name,query:y3(o.bundledQuery),readTime:LT(o.readTime)};var o})},t.prototype.saveNamedQuery=function(n,e){return tq(n).put({name:(i=e).name,readTime:OT(Wc(i.readTime)),bundledQuery:i.bundledQuery});var i},t}();function eq(t){return Gh(t,MT.store)}function tq(t){return Gh(t,kT.store)}var jJ=function(){function t(){this.Bt=new b3}return t.prototype.addToCollectionParentIndex=function(n,e){return this.Bt.add(e),bn.resolve()},t.prototype.getCollectionParents=function(n,e){return bn.resolve(this.Bt.getEntries(e))},t}(),b3=function(){function t(){this.index={}}return t.prototype.add=function(n){var e=n.lastSegment(),i=n.popLast(),o=this.index[e]||new uc(So.comparator),s=!o.has(i);return this.index[e]=o.add(i),s},t.prototype.has=function(n){var e=n.lastSegment(),i=n.popLast(),o=this.index[e];return o&&o.has(i)},t.prototype.getEntries=function(n){return(this.index[n]||new uc(So.comparator)).toArray()},t}(),VJ=function(){function t(){this.qt=new b3}return t.prototype.addToCollectionParentIndex=function(n,e){var i=this;if(!this.qt.has(e)){var o=e.lastSegment(),s=e.popLast();n.addOnCommittedListener(function(){i.qt.add(e)});var a={collectionId:o,parent:fg(s)};return nq(n).put(a)}return bn.resolve()},t.prototype.getCollectionParents=function(n,e){var i=[],o=IDBKeyRange.bound([e,""],[Gj(e),""],!1,!0);return nq(n).Nt(o).next(function(s){for(var a=0,d=s;a<d.length;a++){var f=d[a];if(f.collectionId!==e)break;i.push(Oy(f.parent))}return i})},t}();function nq(t){return Gh(t,hC.store)}var iq={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Z_=function(){function t(n,e,i){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}return t.withCacheSize=function(n){return new t(n,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function rq(t,n,e){var i=t.store(Qs.store),o=t.store(ad.store),s=[],a=IDBKeyRange.only(e.batchId),d=0,f=i.$t({range:a},function(q,H,ee){return d++,ee.delete()});s.push(f.next(function(){tr(1===d)}));for(var v=[],w=0,x=e.mutations;w<x.length;w++){var S=x[w],E=ad.key(n,S.key.path,e.batchId);s.push(o.delete(E)),v.push(S.key)}return bn.waitFor(s).next(function(){return v})}function VI(t){if(!t)return 0;var n;if(t.document)n=t.document;else if(t.unknownDocument)n=t.unknownDocument;else{if(!t.noDocument)throw xi();n=t.noDocument}return JSON.stringify(n).length}Z_.DEFAULT_COLLECTION_PERCENTILE=10,Z_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Z_.DEFAULT=new Z_(41943040,Z_.DEFAULT_COLLECTION_PERCENTILE,Z_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Z_.DISABLED=new Z_(-1,0,0);var qJ=function(){function t(n,e,i,o){this.userId=n,this.R=e,this.Ut=i,this.referenceDelegate=o,this.Kt={}}return t.Qt=function(n,e,i,o){return tr(""!==n.uid),new t(n.isAuthenticated()?n.uid:"",e,i,o)},t.prototype.checkEmpty=function(n){var e=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Nb(n).$t({index:Qs.userMutationsIndex,range:i},function(o,s,a){e=!1,a.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(n,e,i,o){var s=this,a=NT(n),d=Nb(n);return d.add({}).next(function(f){tr("number"==typeof f);for(var v=new g3(f,e,i,o),w=function($,oe,ve){var Fe=ve.baseMutations.map(function(gt){return UI($.Lt,gt)}),Be=ve.mutations.map(function(gt){return UI($.Lt,gt)});return new Qs(oe,ve.batchId,ve.localWriteTime.toMillis(),Fe,Be)}(s.R,s.userId,v),x=[],S=new uc(function($,oe){return Wr($.canonicalString(),oe.canonicalString())}),E=0,q=o;E<q.length;E++){var H=q[E],ee=ad.key(s.userId,H.key.path,f);S=S.add(H.key.path.popLast()),x.push(d.put(w)),x.push(a.put(ee,ad.PLACEHOLDER))}return S.forEach(function($){x.push(s.Ut.addToCollectionParentIndex(n,$))}),n.addOnCommittedListener(function(){s.Kt[f]=v.keys()}),bn.waitFor(x).next(function(){return v})})},t.prototype.lookupMutationBatch=function(n,e){var i=this;return Nb(n).get(e).next(function(o){return o?(tr(o.userId===i.userId),FT(i.R,o)):null})},t.prototype.jt=function(n,e){var i=this;return this.Kt[e]?bn.resolve(this.Kt[e]):this.lookupMutationBatch(n,e).next(function(o){if(o){var s=o.keys();return i.Kt[e]=s,s}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(n,e){var i=this,o=e+1,s=IDBKeyRange.lowerBound([this.userId,o]),a=null;return Nb(n).$t({index:Qs.userMutationsIndex,range:s},function(d,f,v){f.userId===i.userId&&(tr(f.batchId>=o),a=FT(i.R,f)),v.done()}).next(function(){return a})},t.prototype.getHighestUnacknowledgedBatchId=function(n){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return Nb(n).$t({index:Qs.userMutationsIndex,range:e,reverse:!0},function(o,s,a){i=s.batchId,a.done()}).next(function(){return i})},t.prototype.getAllMutationBatches=function(n){var e=this,i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Nb(n).Nt(Qs.userMutationsIndex,i).next(function(o){return o.map(function(s){return FT(e.R,s)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(n,e){var i=this,o=ad.prefixForPath(this.userId,e.path),s=IDBKeyRange.lowerBound(o),a=[];return NT(n).$t({range:s},function(d,f,v){var w=d[0],S=d[2],E=Oy(d[1]);if(w===i.userId&&e.path.isEqual(E))return Nb(n).get(S).next(function(q){if(!q)throw xi();tr(q.userId===i.userId),a.push(FT(i.R,q))});v.done()}).next(function(){return a})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(n,e){var i=this,o=new uc(Wr),s=[];return e.forEach(function(a){var d=ad.prefixForPath(i.userId,a.path),f=IDBKeyRange.lowerBound(d),v=NT(n).$t({range:f},function(w,x,S){var E=w[0],H=w[2],ee=Oy(w[1]);E===i.userId&&a.path.isEqual(ee)?o=o.add(H):S.done()});s.push(v)}),bn.waitFor(s).next(function(){return i.Wt(n,o)})},t.prototype.getAllMutationBatchesAffectingQuery=function(n,e){var i=this,o=e.path,s=o.length+1,a=ad.prefixForPath(this.userId,o),d=IDBKeyRange.lowerBound(a),f=new uc(Wr);return NT(n).$t({range:d},function(v,w,x){var S=v[0],q=v[2],H=Oy(v[1]);S===i.userId&&o.isPrefixOf(H)?H.length===s&&(f=f.add(q)):x.done()}).next(function(){return i.Wt(n,f)})},t.prototype.Wt=function(n,e){var i=this,o=[],s=[];return e.forEach(function(a){s.push(Nb(n).get(a).next(function(d){if(null===d)throw xi();tr(d.userId===i.userId),o.push(FT(i.R,d))}))}),bn.waitFor(s).next(function(){return o})},t.prototype.removeMutationBatch=function(n,e){var i=this;return rq(n.Mt,this.userId,e).next(function(o){return n.addOnCommittedListener(function(){i.Gt(e.batchId)}),bn.forEach(o,function(s){return i.referenceDelegate.markPotentiallyOrphaned(n,s)})})},t.prototype.Gt=function(n){delete this.Kt[n]},t.prototype.performConsistencyCheck=function(n){var e=this;return this.checkEmpty(n).next(function(i){if(!i)return bn.resolve();var o=IDBKeyRange.lowerBound(ad.prefixForUser(e.userId)),s=[];return NT(n).$t({range:o},function(a,d,f){if(a[0]===e.userId){var v=Oy(a[1]);s.push(v)}else f.done()}).next(function(){tr(0===s.length)})})},t.prototype.containsKey=function(n,e){return oq(n,this.userId,e)},t.prototype.zt=function(n){var e=this;return sq(n).get(this.userId).next(function(i){return i||new Fb(e.userId,-1,"")})},t}();function oq(t,n,e){var i=ad.prefixForPath(n,e.path),o=i[1],s=IDBKeyRange.lowerBound(i),a=!1;return NT(t).$t({range:s,Ft:!0},function(d,f,v){d[0]===n&&d[1]===o&&(a=!0),v.done()}).next(function(){return a})}function Nb(t){return Gh(t,Qs.store)}function NT(t){return Gh(t,ad.store)}function sq(t){return Gh(t,Fb.store)}var qI=function(){function t(n){this.Ht=n}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),HJ=function(){function t(n,e){this.referenceDelegate=n,this.R=e}return t.prototype.allocateTargetId=function(n){var e=this;return this.Xt(n).next(function(i){var o=new qI(i.highestTargetId);return i.highestTargetId=o.next(),e.Zt(n,i).next(function(){return i.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(n){return this.Xt(n).next(function(e){return Nr.fromTimestamp(new qh(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(n){return this.Xt(n).next(function(e){return e.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(n,e,i){var o=this;return this.Xt(n).next(function(s){return s.highestListenSequenceNumber=e,i&&(s.lastRemoteSnapshotVersion=i.toTimestamp()),e>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=e),o.Zt(n,s)})},t.prototype.addTargetData=function(n,e){var i=this;return this.te(n,e).next(function(){return i.Xt(n).next(function(o){return o.targetCount+=1,i.ee(e,o),i.Zt(n,o)})})},t.prototype.updateTargetData=function(n,e){return this.te(n,e)},t.prototype.removeTargetData=function(n,e){var i=this;return this.removeMatchingKeysForTargetId(n,e.targetId).next(function(){return RT(n).delete(e.targetId)}).next(function(){return i.Xt(n)}).next(function(o){return tr(o.targetCount>0),o.targetCount-=1,i.Zt(n,o)})},t.prototype.removeTargets=function(n,e,i){var o=this,s=0,a=[];return RT(n).$t(function(d,f){var v=LD(f);v.sequenceNumber<=e&&null===i.get(v.targetId)&&(s++,a.push(o.removeTargetData(n,v)))}).next(function(){return bn.waitFor(a)}).next(function(){return s})},t.prototype.forEachTarget=function(n,e){return RT(n).$t(function(i,o){var s=LD(o);e(s)})},t.prototype.Xt=function(n){return aq(n).get(zf.key).next(function(e){return tr(null!==e),e})},t.prototype.Zt=function(n,e){return aq(n).put(zf.key,e)},t.prototype.te=function(n,e){return RT(n).put(XV(this.R,e))},t.prototype.ee=function(n,e){var i=!1;return n.targetId>e.highestTargetId&&(e.highestTargetId=n.targetId,i=!0),n.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=n.sequenceNumber,i=!0),i},t.prototype.getTargetCount=function(n){return this.Xt(n).next(function(e){return e.targetCount})},t.prototype.getTargetData=function(n,e){var i=CD(e),o=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),s=null;return RT(n).$t({range:o,index:Hh.queryTargetsIndexName},function(a,d,f){var v=LD(d);EI(e,v.target)&&(s=v,f.done())}).next(function(){return s})},t.prototype.addMatchingKeys=function(n,e,i){var o=this,s=[],a=Rb(n);return e.forEach(function(d){var f=fg(d.path);s.push(a.put(new Au(i,f))),s.push(o.referenceDelegate.addReference(n,i,d))}),bn.waitFor(s)},t.prototype.removeMatchingKeys=function(n,e,i){var o=this,s=Rb(n);return bn.forEach(e,function(a){var d=fg(a.path);return bn.waitFor([s.delete([i,d]),o.referenceDelegate.removeReference(n,i,a)])})},t.prototype.removeMatchingKeysForTargetId=function(n,e){var i=Rb(n),o=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(o)},t.prototype.getMatchingKeysForTargetId=function(n,e){var i=IDBKeyRange.bound([e],[e+1],!1,!0),o=Rb(n),s=Xo();return o.$t({range:i,Ft:!0},function(a,d,f){var v=Oy(a[1]),w=new Ai(v);s=s.add(w)}).next(function(){return s})},t.prototype.containsKey=function(n,e){var i=fg(e.path),o=IDBKeyRange.bound([i],[Gj(i)],!1,!0),s=0;return Rb(n).$t({index:Au.documentTargetsIndex,Ft:!0,range:o},function(a,d,f){0!==a[0]&&(s++,f.done())}).next(function(){return s>0})},t.prototype.lt=function(n,e){return RT(n).get(e).next(function(i){return i?LD(i):null})},t}();function RT(t){return Gh(t,Hh.store)}function aq(t){return Gh(t,zf.store)}function Rb(t){return Gh(t,Au.store)}function mC(t){return(0,W.__awaiter)(this,void 0,void 0,function(){return(0,W.__generator)(this,function(n){if(t.code!==Dt.FAILED_PRECONDITION||t.message!==ZV)throw t;return On("LocalStore","Unexpectedly lost primary lease"),[2]})})}function lq(t,n){var i=t[1],s=n[1],a=Wr(t[0],n[0]);return 0===a?Wr(i,s):a}var GJ=function(){function t(n){this.ne=n,this.buffer=new uc(lq),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(n){var e=[n,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var i=this.buffer.last();lq(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),ZJ=function(){function t(n,e){this.garbageCollector=n,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(n){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(n)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(n){var e=this,i=this.oe?3e5:6e4;On("LruGarbageCollector","Garbage collection scheduled in "+i+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,function(){return(0,W.__awaiter)(e,void 0,void 0,function(){var o;return(0,W.__generator)(this,function(s){switch(s.label){case 0:this.ce=null,this.oe=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,n.collectGarbage(this.garbageCollector)];case 2:return s.sent(),[3,7];case 3:return fC(o=s.sent())?(On("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o),[3,6]):[3,4];case 4:return[4,mC(o)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.ue(n)];case 8:return s.sent(),[2]}})})})},t}(),YJ=function(){function t(n,e){this.ae=n,this.params=e}return t.prototype.calculateTargetCount=function(n,e){return this.ae.he(n).next(function(i){return Math.floor(e/100*i)})},t.prototype.nthSequenceNumber=function(n,e){var i=this;if(0===e)return bn.resolve(Hf.o);var o=new GJ(e);return this.ae.forEachTarget(n,function(s){return o.re(s.sequenceNumber)}).next(function(){return i.ae.le(n,function(s){return o.re(s)})}).next(function(){return o.maxValue})},t.prototype.removeTargets=function(n,e,i){return this.ae.removeTargets(n,e,i)},t.prototype.removeOrphanedDocuments=function(n,e){return this.ae.removeOrphanedDocuments(n,e)},t.prototype.collect=function(n,e){var i=this;return-1===this.params.cacheSizeCollectionThreshold?(On("LruGarbageCollector","Garbage collection skipped; disabled"),bn.resolve(iq)):this.getCacheSize(n).next(function(o){return o<i.params.cacheSizeCollectionThreshold?(On("LruGarbageCollector","Garbage collection skipped; Cache size "+o+" is lower than threshold "+i.params.cacheSizeCollectionThreshold),iq):i.fe(n,e)})},t.prototype.getCacheSize=function(n){return this.ae.getCacheSize(n)},t.prototype.fe=function(n,e){var i,o,s,a,d,f,v,w=this,x=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(function(S){return S>w.params.maximumSequenceNumbersToCollect?(On("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+w.params.maximumSequenceNumbersToCollect+" from "+S),o=w.params.maximumSequenceNumbersToCollect):o=S,a=Date.now(),w.nthSequenceNumber(n,o)}).next(function(S){return i=S,d=Date.now(),w.removeTargets(n,i,e)}).next(function(S){return s=S,f=Date.now(),w.removeOrphanedDocuments(n,i)}).next(function(S){return v=Date.now(),QR()<=Qd.LogLevel.DEBUG&&On("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(a-x)+"ms\n\tDetermined least recently used "+o+" in "+(d-a)+"ms\n\tRemoved "+s+" targets in "+(f-d)+"ms\n\tRemoved "+S+" documents in "+(v-f)+"ms\nTotal Duration: "+(v-x)+"ms"),bn.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:s,documentsRemoved:S})})},t}(),zJ=function(){function t(n,e){this.db=n,this.garbageCollector=new YJ(this,e)}return t.prototype.he=function(n){var e=this.de(n);return this.db.getTargetCache().getTargetCount(n).next(function(i){return e.next(function(o){return i+o})})},t.prototype.de=function(n){var e=0;return this.le(n,function(i){e++}).next(function(){return e})},t.prototype.forEachTarget=function(n,e){return this.db.getTargetCache().forEachTarget(n,e)},t.prototype.le=function(n,e){return this.we(n,function(i,o){return e(o)})},t.prototype.addReference=function(n,e,i){return HI(n,i)},t.prototype.removeReference=function(n,e,i){return HI(n,i)},t.prototype.removeTargets=function(n,e,i){return this.db.getTargetCache().removeTargets(n,e,i)},t.prototype.markPotentiallyOrphaned=function(n,e){return HI(n,e)},t.prototype._e=function(n,e){return o=e,s=!1,sq(i=n).Ot(function(a){return oq(i,a,o).next(function(d){return d&&(s=!0),bn.resolve(!d)})}).next(function(){return s});var i,o,s},t.prototype.removeOrphanedDocuments=function(n,e){var i=this,o=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],a=0;return this.we(n,function(d,f){if(f<=e){var v=i._e(n,d).next(function(w){if(!w)return a++,o.getEntry(n,d).next(function(){return o.removeEntry(d),Rb(n).delete([0,fg(d.path)])})});s.push(v)}}).next(function(){return bn.waitFor(s)}).next(function(){return o.apply(n)}).next(function(){return a})},t.prototype.removeTarget=function(n,e){var i=e.withSequenceNumber(n.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(n,i)},t.prototype.updateLimboDocument=function(n,e){return HI(n,e)},t.prototype.we=function(n,e){var i,o=Rb(n),s=Hf.o;return o.$t({index:Au.documentTargetsIndex},function(a,d){var v=d.path,w=d.sequenceNumber;0===a[0]?(s!==Hf.o&&e(new Ai(Oy(i)),s),s=w,i=v):s=Hf.o}).next(function(){s!==Hf.o&&e(new Ai(Oy(i)),s)})},t.prototype.getCacheSize=function(n){return this.db.getRemoteDocumentCache().getSize(n)},t}();function HI(t,n){return Rb(t).put((i=t.currentSequenceNumber,new Au(0,fg(n.path),i)));var i}var PT=function(){function t(n,e){this.mapKeyFn=n,this.equalsFn=e,this.inner={}}return t.prototype.get=function(n){var e=this.mapKeyFn(n),i=this.inner[e];if(void 0!==i)for(var o=0,s=i;o<s.length;o++){var a=s[o],f=a[1];if(this.equalsFn(a[0],n))return f}},t.prototype.has=function(n){return void 0!==this.get(n)},t.prototype.set=function(n,e){var i=this.mapKeyFn(n),o=this.inner[i];if(void 0!==o){for(var s=0;s<o.length;s++)if(this.equalsFn(o[s][0],n))return void(o[s]=[n,e]);o.push([n,e])}else this.inner[i]=[[n,e]]},t.prototype.delete=function(n){var e=this.mapKeyFn(n),i=this.inner[e];if(void 0===i)return!1;for(var o=0;o<i.length;o++)if(this.equalsFn(i[o][0],n))return 1===i.length?delete this.inner[e]:i.splice(o,1),!0;return!1},t.prototype.forEach=function(n){aC(this.inner,function(e,i){for(var o=0,s=i;o<s.length;o++){var a=s[o];n(a[0],a[1])}})},t.prototype.isEmpty=function(){return Yj(this.inner)},t}(),cq=function(){function t(){this.changes=new PT(function(n){return n.toString()},function(n,e){return n.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(n){var e=this.changes.get(n);return e?e.readTime:Nr.min()},t.prototype.addEntry=function(n,e){this.assertNotApplied(),this.changes.set(n.key,{document:n,readTime:e})},t.prototype.removeEntry=function(n,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(n,{document:Tu.newInvalidDocument(n),readTime:e})},t.prototype.getEntry=function(n,e){this.assertNotApplied();var i=this.changes.get(e);return void 0!==i?bn.resolve(i.document):this.getFromCache(n,e)},t.prototype.getEntries=function(n,e){return this.getAllFromCache(n,e)},t.prototype.apply=function(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)},t.prototype.assertNotApplied=function(){},t}(),WJ=function(){function t(n,e){this.R=n,this.Ut=e}return t.prototype.addEntry=function(n,e,i){return Pb(n).put(GI(e),i)},t.prototype.removeEntry=function(n,e){var i=Pb(n),o=GI(e);return i.delete(o)},t.prototype.updateMetadata=function(n,e){var i=this;return this.getMetadata(n).next(function(o){return o.byteSize+=e,i.me(n,o)})},t.prototype.getEntry=function(n,e){var i=this;return Pb(n).get(GI(e)).next(function(o){return i.ye(e,o)})},t.prototype.ge=function(n,e){var i=this;return Pb(n).get(GI(e)).next(function(o){return{document:i.ye(e,o),size:VI(o)}})},t.prototype.getEntries=function(n,e){var i=this,o=Jp();return this.pe(n,e,function(s,a){var d=i.ye(s,a);o=o.insert(s,d)}).next(function(){return o})},t.prototype.Ee=function(n,e){var i=this,o=Jp(),s=new sd(Ai.comparator);return this.pe(n,e,function(a,d){var f=i.ye(a,d);o=o.insert(a,f),s=s.insert(a,VI(d))}).next(function(){return{documents:o,Te:s}})},t.prototype.pe=function(n,e,i){if(e.isEmpty())return bn.resolve();var o=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),s=e.getIterator(),a=s.getNext();return Pb(n).$t({range:o},function(d,f,v){for(var w=Ai.fromSegments(d);a&&Ai.comparator(a,w)<0;)i(a,null),a=s.getNext();a&&a.isEqual(w)&&(i(a,f),a=s.hasNext()?s.getNext():null),a?v.Ct(a.path.toArray()):v.done()}).next(function(){for(;a;)i(a,null),a=s.hasNext()?s.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(n,e,i){var o=this,s=Jp(),a=e.path.length+1,d={};if(i.isEqual(Nr.min())){var f=e.path.toArray();d.range=IDBKeyRange.lowerBound(f)}else{var v=e.path.toArray(),w=v3(i);d.range=IDBKeyRange.lowerBound([v,w],!0),d.index=Ha.collectionReadTimeIndex}return Pb(n).$t(d,function(x,S,E){if(x.length===a){var q=_3(o.R,S);e.path.isPrefixOf(q.key.path)?AD(e,q)&&(s=s.insert(q.key,q)):E.done()}}).next(function(){return s})},t.prototype.newChangeBuffer=function(n){return new $J(this,!!n&&n.trackRemovals)},t.prototype.getSize=function(n){return this.getMetadata(n).next(function(e){return e.byteSize})},t.prototype.getMetadata=function(n){return uq(n).get(G_.key).next(function(e){return tr(!!e),e})},t.prototype.me=function(n,e){return uq(n).put(G_.key,e)},t.prototype.ye=function(n,e){if(e){var i=_3(this.R,e);if(!i.isNoDocument()||!i.version.isEqual(Nr.min()))return i}return Tu.newInvalidDocument(n)},t}(),$J=function(t){function n(e,i){var o=this;return(o=t.call(this)||this).Ie=e,o.trackRemovals=i,o.Ae=new PT(function(s){return s.toString()},function(s,a){return s.isEqual(a)}),o}return(0,W.__extends)(n,t),n.prototype.applyChanges=function(e){var i=this,o=[],s=0,a=new uc(function(d,f){return Wr(d.canonicalString(),f.canonicalString())});return this.changes.forEach(function(d,f){var v=i.Ae.get(d);if(f.document.isValidDocument()){var w=JV(i.Ie.R,f.document,i.getReadTime(d));a=a.add(d.path.popLast());var x=VI(w);s+=x-v,o.push(i.Ie.addEntry(e,d,w))}else if(s-=v,i.trackRemovals){var S=JV(i.Ie.R,Tu.newNoDocument(d,Nr.min()),i.getReadTime(d));o.push(i.Ie.addEntry(e,d,S))}else o.push(i.Ie.removeEntry(e,d))}),a.forEach(function(d){o.push(i.Ie.Ut.addToCollectionParentIndex(e,d))}),o.push(this.Ie.updateMetadata(e,s)),bn.waitFor(o)},n.prototype.getFromCache=function(e,i){var o=this;return this.Ie.ge(e,i).next(function(s){return o.Ae.set(i,s.size),s.document})},n.prototype.getAllFromCache=function(e,i){var o=this;return this.Ie.Ee(e,i).next(function(s){var a=s.documents;return s.Te.forEach(function(d,f){o.Ae.set(d,f)}),a})},n}(cq);function uq(t){return Gh(t,G_.store)}function Pb(t){return Gh(t,Ha.store)}function GI(t){return t.path.toArray()}var QJ=function(){function t(n){this.R=n}return t.prototype.Rt=function(n,e,i,o){var s=this;tr(i<o&&i>=0&&o<=11);var f,a=new zV("createOrUpgrade",e);i<1&&o>=1&&(n.createObjectStore(Yf.store),(f=n).createObjectStore(Fb.store,{keyPath:Fb.keyPath}),f.createObjectStore(Qs.store,{keyPath:Qs.keyPath,autoIncrement:!0}).createIndex(Qs.userMutationsIndex,Qs.userMutationsKeyPath,{unique:!0}),f.createObjectStore(ad.store),dq(n),function(f){f.createObjectStore(Ha.store)}(n));var d=bn.resolve();return i<3&&o>=3&&(0!==i&&(function(f){f.deleteObjectStore(Au.store),f.deleteObjectStore(Hh.store),f.deleteObjectStore(zf.store)}(n),dq(n)),d=d.next(function(){return function(f){var v=f.store(zf.store),w=new zf(0,0,Nr.min().toTimestamp(),0);return v.put(zf.key,w)}(a)})),i<4&&o>=4&&(0!==i&&(d=d.next(function(){return function(f,v){return v.store(Qs.store).Nt().next(function(w){f.deleteObjectStore(Qs.store),f.createObjectStore(Qs.store,{keyPath:Qs.keyPath,autoIncrement:!0}).createIndex(Qs.userMutationsIndex,Qs.userMutationsKeyPath,{unique:!0});var x=v.store(Qs.store),S=w.map(function(E){return x.put(E)});return bn.waitFor(S)})}(n,a)})),d=d.next(function(){!function(f){f.createObjectStore(Ly.store,{keyPath:Ly.keyPath})}(n)})),i<5&&o>=5&&(d=d.next(function(){return s.Re(a)})),i<6&&o>=6&&(d=d.next(function(){return function(f){f.createObjectStore(G_.store)}(n),s.be(a)})),i<7&&o>=7&&(d=d.next(function(){return s.ve(a)})),i<8&&o>=8&&(d=d.next(function(){return s.Pe(n,a)})),i<9&&o>=9&&(d=d.next(function(){(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(n),function(f){var v=f.objectStore(Ha.store);v.createIndex(Ha.readTimeIndex,Ha.readTimeIndexPath,{unique:!1}),v.createIndex(Ha.collectionReadTimeIndex,Ha.collectionReadTimeIndexPath,{unique:!1})}(e)})),i<10&&o>=10&&(d=d.next(function(){return s.Ve(a)})),i<11&&o>=11&&(d=d.next(function(){(function(f){f.createObjectStore(MT.store,{keyPath:MT.keyPath})})(n),function(f){f.createObjectStore(kT.store,{keyPath:kT.keyPath})}(n)})),d},t.prototype.be=function(n){var e=0;return n.store(Ha.store).$t(function(i,o){e+=VI(o)}).next(function(){var i=new G_(e);return n.store(G_.store).put(G_.key,i)})},t.prototype.Re=function(n){var e=this,i=n.store(Fb.store),o=n.store(Qs.store);return i.Nt().next(function(s){return bn.forEach(s,function(a){var d=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return o.Nt(Qs.userMutationsIndex,d).next(function(f){return bn.forEach(f,function(v){tr(v.userId===a.userId);var w=FT(e.R,v);return rq(n,a.userId,w).next(function(){})})})})})},t.prototype.ve=function(n){var e=n.store(Au.store),i=n.store(Ha.store);return n.store(zf.store).get(zf.key).next(function(o){var s=[];return i.$t(function(a,d){var f=new So(a),v=[0,fg(f)];s.push(e.get(v).next(function(w){return w?bn.resolve():e.put(new Au(0,fg(f),o.highestListenSequenceNumber))}))}).next(function(){return bn.waitFor(s)})})},t.prototype.Pe=function(n,e){n.createObjectStore(hC.store,{keyPath:hC.keyPath});var i=e.store(hC.store),o=new b3,s=function(a){if(o.add(a)){var d=a.lastSegment(),f=a.popLast();return i.put({collectionId:d,parent:fg(f)})}};return e.store(Ha.store).$t({Ft:!0},function(a,d){var f=new So(a);return s(f.popLast())}).next(function(){return e.store(ad.store).$t({Ft:!0},function(a,d){var v=Oy(a[1]);return s(v.popLast())})})},t.prototype.Ve=function(n){var e=this,i=n.store(Hh.store);return i.$t(function(o,s){var a=LD(s),d=XV(e.R,a);return i.put(d)})},t}();function dq(t){t.createObjectStore(Au.store,{keyPath:Au.keyPath}).createIndex(Au.documentTargetsIndex,Au.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Hh.store,{keyPath:Hh.keyPath}).createIndex(Hh.queryTargetsIndexName,Hh.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(zf.store)}var w3="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",JJ=function(){function t(n,e,i,o,s,a,d,f,v,w){if(this.allowTabSynchronization=n,this.persistenceKey=e,this.clientId=i,this.Se=s,this.window=a,this.document=d,this.De=v,this.Ce=w,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(x){return Promise.resolve()},!t.yt())throw new hn(Dt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new zJ(this,o),this.Le=e+"main",this.R=new QV(f),this.Be=new IT(this.Le,11,new QJ(this.R)),this.qe=new HJ(this.referenceDelegate,this.R),this.Ut=new VJ,this.Ue=new WJ(this.R,this.Ut),this.Ke=new UJ,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===w&&Ll("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var n=this;return this.je().then(function(){if(!n.isPrimary&&!n.allowTabSynchronization)throw new hn(Dt.FAILED_PRECONDITION,w3);return n.We(),n.Ge(),n.ze(),n.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return n.qe.getHighestSequenceNumber(e)})}).then(function(e){n.Ne=new Hf(e,n.De)}).then(function(){n.xe=!0}).catch(function(e){return n.Be&&n.Be.close(),Promise.reject(e)})},t.prototype.He=function(n){var e=this;return this.Me=function(i){return(0,W.__awaiter)(e,void 0,void 0,function(){return(0,W.__generator)(this,function(o){return this.started?[2,n(i)]:[2]})})},n(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(n){var e=this;this.Be.vt(function(i){return(0,W.__awaiter)(e,void 0,void 0,function(){return(0,W.__generator)(this,function(o){switch(o.label){case 0:return null===i.newVersion?[4,n()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(n){var e=this;this.networkEnabled!==n&&(this.networkEnabled=n,this.Se.enqueueAndForget(function(){return(0,W.__awaiter)(e,void 0,void 0,function(){return(0,W.__generator)(this,function(i){switch(i.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var n=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return ZI(e).put(new Ly(n.clientId,Date.now(),n.networkEnabled,n.inForeground)).next(function(){if(n.isPrimary)return n.Je(e).next(function(i){i||(n.isPrimary=!1,n.Se.enqueueRetryable(function(){return n.Me(!1)}))})}).next(function(){return n.Ye(e)}).next(function(i){return n.isPrimary&&!i?n.Xe(e).next(function(){return!1}):!!i&&n.Ze(e).next(function(){return!0})})}).catch(function(e){if(fC(e))return On("IndexedDbPersistence","Failed to extend owner lease: ",e),n.isPrimary;if(!n.allowTabSynchronization)throw e;return On("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){n.isPrimary!==e&&n.Se.enqueueRetryable(function(){return n.Me(e)}),n.isPrimary=e})},t.prototype.Je=function(n){var e=this;return FD(n).get(Yf.key).next(function(i){return bn.resolve(e.tn(i))})},t.prototype.en=function(n){return ZI(n).delete(this.clientId)},t.prototype.nn=function(){return(0,W.__awaiter)(this,void 0,void 0,function(){var n,e,i,s=this;return(0,W.__generator)(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(d){var f=Gh(d,Ly.store);return f.Nt().next(function(v){var w=s.rn(v,18e5),x=v.filter(function(S){return-1===w.indexOf(S)});return bn.forEach(x,function(S){return f.delete(S.clientId)}).next(function(){return x})})}).catch(function(){return[]})]);case 1:if(n=a.sent(),this.Qe)for(e=0,i=n;e<i.length;e++)this.Qe.removeItem(this.on(i[e].clientId));a.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var n=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return n.je().then(function(){return n.nn()}).then(function(){return n.ze()})})},t.prototype.tn=function(n){return!!n&&n.ownerId===this.clientId},t.prototype.Ye=function(n){var e=this;return this.Ce?bn.resolve(!0):FD(n).get(Yf.key).next(function(i){if(null!==i&&e.sn(i.leaseTimestampMs,5e3)&&!e.cn(i.ownerId)){if(e.tn(i)&&e.networkEnabled)return!0;if(!e.tn(i)){if(!i.allowTabSynchronization)throw new hn(Dt.FAILED_PRECONDITION,w3);return!1}}return!(!e.networkEnabled||!e.inForeground)||ZI(n).Nt().next(function(o){return void 0===e.rn(o,5e3).find(function(s){return!(e.clientId===s.clientId||!(!e.networkEnabled&&s.networkEnabled||!e.inForeground&&s.inForeground&&e.networkEnabled===s.networkEnabled))})})}).next(function(i){return e.isPrimary!==i&&On("IndexedDbPersistence","Client "+(i?"is":"is not")+" eligible for a primary lease."),i})},t.prototype.shutdown=function(){return(0,W.__awaiter)(this,void 0,void 0,function(){var n=this;return(0,W.__generator)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Yf.store,Ly.store],function(i){var o=new $V(i,Hf.o);return n.Xe(o).next(function(){return n.en(o)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(n,e){var i=this;return n.filter(function(o){return i.sn(o.updateTimeMs,e)&&!i.cn(o.clientId)})},t.prototype.fn=function(){var n=this;return this.runTransaction("getActiveClients","readonly",function(e){return ZI(e).Nt().next(function(i){return n.rn(i,18e5).map(function(o){return o.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(n){return qJ.Qt(n,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(n,e,i){var s,o=this;return On("IndexedDbPersistence","Starting transaction:",n),this.Be.runTransaction(n,"readonly"===e?"readonly":"readwrite",NJ,function(d){return s=new $V(d,o.Ne?o.Ne.next():Hf.o),"readwrite-primary"===e?o.Je(s).next(function(f){return!!f||o.Ye(s)}).next(function(f){if(!f)throw Ll("Failed to obtain primary lease for action '"+n+"'."),o.isPrimary=!1,o.Se.enqueueRetryable(function(){return o.Me(!1)}),new hn(Dt.FAILED_PRECONDITION,ZV);return i(s)}).next(function(f){return o.Ze(s).next(function(){return f})}):o.dn(s).next(function(){return i(s)})}).then(function(d){return s.raiseOnCommittedEvent(),d})},t.prototype.dn=function(n){var e=this;return FD(n).get(Yf.key).next(function(i){if(null!==i&&e.sn(i.leaseTimestampMs,5e3)&&!e.cn(i.ownerId)&&!e.tn(i)&&!(e.Ce||e.allowTabSynchronization&&i.allowTabSynchronization))throw new hn(Dt.FAILED_PRECONDITION,w3)})},t.prototype.Ze=function(n){var e=new Yf(this.clientId,this.allowTabSynchronization,Date.now());return FD(n).put(Yf.key,e)},t.yt=function(){return IT.yt()},t.prototype.Xe=function(n){var e=this,i=FD(n);return i.get(Yf.key).next(function(o){return e.tn(o)?(On("IndexedDbPersistence","Releasing primary lease."),i.delete(Yf.key)):bn.resolve()})},t.prototype.sn=function(n,e){var i=Date.now();return!(n<i-e||n>i&&(Ll("Detected an update time that is in the future: "+n+" > "+i),1))},t.prototype.We=function(){var n=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){n.Se.enqueueAndForget(function(){return n.inForeground="visible"===n.document.visibilityState,n.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var n,e=this;"function"==typeof(null===(n=this.window)||void 0===n?void 0:n.addEventListener)&&(this.ke=function(){e.un(),(0,pi.isSafari)()&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(n){var e;try{var i=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(n)));return On("IndexedDbPersistence","Client '"+n+"' "+(i?"is":"is not")+" zombied in LocalStorage"),i}catch(o){return Ll("IndexedDbPersistence","Failed to get zombied client id.",o),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(n){Ll("Failed to set zombie client id.",n)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(n){}},t.prototype.on=function(n){return"firestore_zombie_"+this.persistenceKey+"_"+n},t}();function FD(t){return Gh(t,Yf.store)}function ZI(t){return Gh(t,Ly.store)}function C3(t,n){var e=t.projectId;return t.isDefaultDatabase||(e+="."+t.database),"firestore/"+n+"/"+e+"/"}var KJ=function(t,n){this.progress=t,this.wn=n},hq=function(){function t(n,e,i){this.Ue=n,this._n=e,this.Ut=i}return t.prototype.mn=function(n,e){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKey(n,e).next(function(o){return i.yn(n,e,o)})},t.prototype.yn=function(n,e,i){return this.Ue.getEntry(n,e).next(function(o){for(var s=0,a=i;s<a.length;s++)a[s].applyToLocalView(o);return o})},t.prototype.gn=function(n,e){n.forEach(function(i,o){for(var s=0,a=e;s<a.length;s++)a[s].applyToLocalView(o)})},t.prototype.pn=function(n,e){var i=this;return this.Ue.getEntries(n,e).next(function(o){return i.En(n,o).next(function(){return o})})},t.prototype.En=function(n,e){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(n,e).next(function(o){return i.gn(e,o)})},t.prototype.getDocumentsMatchingQuery=function(n,e,i){return Ai.isDocumentKey((o=e).path)&&null===o.collectionGroup&&0===o.filters.length?this.Tn(n,e.path):s3(e)?this.In(n,e,i):this.An(n,e,i);var o},t.prototype.Tn=function(n,e){return this.mn(n,new Ai(e)).next(function(i){var o=u3();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})},t.prototype.In=function(n,e,i){var o=this,s=e.collectionGroup,a=u3();return this.Ut.getCollectionParents(n,s).next(function(d){return bn.forEach(d,function(f){var w,x,v=(w=e,x=f.child(s),new Iy(x,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));return o.An(n,v,i).next(function(w){w.forEach(function(x,S){a=a.insert(x,S)})})}).next(function(){return a})})},t.prototype.An=function(n,e,i){var o,s,a=this;return this.Ue.getDocumentsMatchingQuery(n,e,i).next(function(d){return o=d,a._n.getAllMutationBatchesAffectingQuery(n,e)}).next(function(d){return a.Rn(n,s=d,o).next(function(f){o=f;for(var v=0,w=s;v<w.length;v++)for(var x=w[v],S=0,E=x.mutations;S<E.length;S++){var q=E[S],H=q.key,ee=o.get(H);null==ee&&(ee=Tu.newInvalidDocument(H),o=o.insert(H,ee)),l3(q,ee,x.localWriteTime),ee.isFoundDocument()||(o=o.remove(H))}})}).next(function(){return o.forEach(function(d,f){AD(e,f)||(o=o.remove(d))}),o})},t.prototype.Rn=function(n,e,i){for(var o=Xo(),s=0,a=e;s<a.length;s++)for(var d=0,f=a[s].mutations;d<f.length;d++){var v=f[d];v instanceof Ob&&null===i.get(v.key)&&(o=o.add(v.key))}var w=i;return this.Ue.getEntries(n,o).next(function(x){return x.forEach(function(S,E){E.isFoundDocument()&&(w=w.insert(S,E))}),w})},t}(),XJ=function(){function t(n,e,i,o){this.targetId=n,this.fromCache=e,this.bn=i,this.vn=o}return t.Pn=function(n,e){for(var i=Xo(),o=Xo(),s=0,a=e.docChanges;s<a.length;s++){var d=a[s];switch(d.type){case 0:i=i.add(d.doc.key);break;case 1:o=o.add(d.doc.key)}}return new t(n,e.fromCache,i,o)},t}(),fq=function(){function t(){}return t.prototype.Vn=function(n){this.Sn=n},t.prototype.getDocumentsMatchingQuery=function(n,e,i,o){var a,s=this;return 0===(a=e).filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())||i.isEqual(Nr.min())?this.Dn(n,e):this.Sn.pn(n,o).next(function(a){var d=s.Cn(e,a);return(II(e)||OI(e))&&s.Nn(e.limitType,d,o,i)?s.Dn(n,e):(QR()<=Qd.LogLevel.DEBUG&&On("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),a3(e)),s.Sn.getDocumentsMatchingQuery(n,e,i).next(function(f){return d.forEach(function(v){f=f.insert(v.key,v)}),f}))})},t.prototype.Cn=function(n,e){var i=new uc(aV(n));return e.forEach(function(o,s){AD(n,s)&&(i=i.add(s))}),i},t.prototype.Nn=function(n,e,i,o){if(i.size!==e.size)return!0;var s="F"===n?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(o)>0)},t.prototype.Dn=function(n,e){return QR()<=Qd.LogLevel.DEBUG&&On("QueryEngine","Using full collection scan to execute query:",a3(e)),this.Sn.getDocumentsMatchingQuery(n,e,Nr.min())},t}(),eK=function(){function t(n,e,i,o){this.persistence=n,this.xn=e,this.R=o,this.kn=new sd(Wr),this.Fn=new PT(function(s){return CD(s)},EI),this.$n=Nr.min(),this._n=n.getMutationQueue(i),this.On=n.getRemoteDocumentCache(),this.qe=n.getTargetCache(),this.Mn=new hq(this.On,this._n,this.persistence.getIndexManager()),this.Ke=n.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(n){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(i){return n.collect(i,e.kn)})},t}();function pq(t,n,e,i){return new eK(t,n,e,i)}function mq(t,n){return(0,W.__awaiter)(this,void 0,void 0,function(){var e,i,o,s;return(0,W.__generator)(this,function(a){switch(a.label){case 0:return e=Hn(t),i=e._n,o=e.Mn,[4,e.persistence.runTransaction("Handle user change","readonly",function(d){var f;return e._n.getAllMutationBatches(d).next(function(v){return f=v,i=e.persistence.getMutationQueue(n),o=new hq(e.On,i,e.persistence.getIndexManager()),i.getAllMutationBatches(d)}).next(function(v){for(var w=[],x=[],S=Xo(),E=0,q=f;E<q.length;E++){var H=q[E];w.push(H.batchId);for(var ee=0,$=H.mutations;ee<$.length;ee++)S=S.add($[ee].key)}for(var ve=0,Fe=v;ve<Fe.length;ve++){var Be=Fe[ve];x.push(Be.batchId);for(var gt=0,tt=Be.mutations;gt<tt.length;gt++)S=S.add(tt[gt].key)}return o.pn(d,S).next(function(St){return{Ln:St,removedBatchIds:w,addedBatchIds:x}})})})];case 1:return s=a.sent(),[2,(e._n=i,e.Mn=o,e.xn.Vn(e.Mn),s)]}})})}function tK(t,n){var e=Hn(t);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(i){var a,d,f,v,w,x,S,o=n.batch.keys(),s=e.On.newChangeBuffer({trackRemovals:!0});return(a=e,d=i,f=n,v=s,w=f.batch,x=w.keys(),S=bn.resolve(),x.forEach(function(E){S=S.next(function(){return v.getEntry(d,E)}).next(function(q){var H=f.docVersions.get(E);tr(null!==H),q.version.compareTo(H)<0&&(w.applyToRemoteDocument(q,f),q.isValidDocument()&&v.addEntry(q,f.commitVersion))})}),S.next(function(){return a._n.removeMutationBatch(d,w)})).next(function(){return s.apply(i)}).next(function(){return e._n.performConsistencyCheck(i)}).next(function(){return e.Mn.pn(i,o)})})}function gq(t){var n=Hn(t);return n.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return n.qe.getLastRemoteSnapshotVersion(e)})}function nK(t,n){var e=Hn(t),i=n.snapshotVersion,o=e.kn;return e.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var a=e.On.newChangeBuffer({trackRemovals:!0});o=e.kn;var d=[];n.targetChanges.forEach(function(w,x){var H,ee,$,S=o.get(x);if(S){d.push(e.qe.removeMatchingKeys(s,w.removedDocuments,x).next(function(){return e.qe.addMatchingKeys(s,w.addedDocuments,x)}));var E=w.resumeToken;if(E.approximateByteSize()>0){var q=S.withResumeToken(E,i).withSequenceNumber(s.currentSequenceNumber);o=o.insert(x,q),H=S,$=w,tr((ee=q).resumeToken.approximateByteSize()>0),(0===H.resumeToken.approximateByteSize()||ee.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=3e8||$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0)&&d.push(e.qe.updateTargetData(s,q))}}});var f=Jp();if(n.documentUpdates.forEach(function(w,x){n.resolvedLimboDocuments.has(w)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(s,w))}),d.push(_q(s,a,n.documentUpdates,i,void 0).next(function(w){f=w})),!i.isEqual(Nr.min())){var v=e.qe.getLastRemoteSnapshotVersion(s).next(function(w){return e.qe.setTargetsMetadata(s,s.currentSequenceNumber,i)});d.push(v)}return bn.waitFor(d).next(function(){return a.apply(s)}).next(function(){return e.Mn.En(s,f)}).next(function(){return f})}).then(function(s){return e.kn=o,s})}function _q(t,n,e,i,o){var s=Xo();return e.forEach(function(a){return s=s.add(a)}),n.getEntries(t,s).next(function(a){var d=Jp();return e.forEach(function(f,v){var w=a.get(f),x=(null==o?void 0:o.get(f))||i;v.isNoDocument()&&v.version.isEqual(Nr.min())?(n.removeEntry(f,x),d=d.insert(f,v)):!w.isValidDocument()||v.version.compareTo(w.version)>0||0===v.version.compareTo(w.version)&&w.hasPendingWrites?(n.addEntry(v,x),d=d.insert(f,v)):On("LocalStore","Ignoring outdated watch update for ",f,". Current version:",w.version," Watch version:",v.version)}),d})}function iK(t,n){var e=Hn(t);return e.persistence.runTransaction("Get next mutation batch","readonly",function(i){return void 0===n&&(n=-1),e._n.getNextMutationBatchAfterBatchId(i,n)})}function BT(t,n){var e=Hn(t);return e.persistence.runTransaction("Allocate target","readwrite",function(i){var o;return e.qe.getTargetData(i,n).next(function(s){return s?bn.resolve(o=s):e.qe.allocateTargetId(i).next(function(a){return o=new jI(n,a,0,i.currentSequenceNumber),e.qe.addTargetData(i,o).next(function(){return o})})})}).then(function(i){var o=e.kn.get(i.targetId);return(null===o||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.kn=e.kn.insert(i.targetId,i),e.Fn.set(n,i.targetId)),i})}function UT(t,n,e){return(0,W.__awaiter)(this,void 0,void 0,function(){var i,o,s,a;return(0,W.__generator)(this,function(d){switch(d.label){case 0:i=Hn(t),o=i.kn.get(n),s=e?"readwrite":"readwrite-primary",d.label=1;case 1:return d.trys.push([1,4,,5]),e?[3,3]:[4,i.persistence.runTransaction("Release target",s,function(f){return i.persistence.referenceDelegate.removeTarget(f,o)})];case 2:d.sent(),d.label=3;case 3:return[3,5];case 4:if(!fC(a=d.sent()))throw a;return On("LocalStore","Failed to update sequence numbers for target "+n+": "+a),[3,5];case 5:return i.kn=i.kn.remove(n),i.Fn.delete(o.target),[2]}})})}function YI(t,n,e){var i=Hn(t),o=Nr.min(),s=Xo();return i.persistence.runTransaction("Execute query","readonly",function(a){return(d=i,f=a,v=Qp(n),w=Hn(d),x=w.Fn.get(v),void 0!==x?bn.resolve(w.kn.get(x)):w.qe.getTargetData(f,v)).next(function(d){if(d)return o=d.lastLimboFreeSnapshotVersion,i.qe.getMatchingKeysForTargetId(a,d.targetId).next(function(f){s=f})}).next(function(){return i.xn.getDocumentsMatchingQuery(a,n,e?o:Nr.min(),e?s:Xo())}).next(function(d){return{documents:d,Bn:s}});var d,f,v,w,x})}function vq(t,n){var e=Hn(t),i=Hn(e.qe),o=e.kn.get(n);return o?Promise.resolve(o.target):e.persistence.runTransaction("Get target data","readonly",function(s){return i.lt(s,n).next(function(a){return a?a.target:null})})}function yq(t){var n=Hn(t);return n.persistence.runTransaction("Get new document changes","readonly",function(e){return o=e,s=n.$n,a=Hn(n.On),d=Jp(),f=v3(s),v=Pb(o),w=IDBKeyRange.lowerBound(f,!0),v.$t({index:Ha.readTimeIndex,range:w},function(x,S){var E=_3(a.R,S);d=d.insert(E.key,E),f=S.readTime}).next(function(){return{wn:d,readTime:KV(f)}});var o,s,a,d,f,v,w}).then(function(e){var i=e.wn;return n.$n=e.readTime,i})}function rK(t){return(0,W.__awaiter)(this,void 0,void 0,function(){var n;return(0,W.__generator)(this,function(e){return[2,(n=Hn(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(i){return s=Pb(i),a=Nr.min(),s.$t({index:Ha.readTimeIndex,reverse:!0},function(d,f,v){f.readTime&&(a=KV(f.readTime)),v.done()}).next(function(){return a});var s,a}).then(function(i){n.$n=i})]})})}function oK(t,n,e,i){return(0,W.__awaiter)(this,void 0,void 0,function(){var o,s,a,d,f,v,w,x,S,E;return(0,W.__generator)(this,function(q){switch(q.label){case 0:for(o=Hn(t),s=Xo(),a=Jp(),d=TV(),f=0,v=e;f<v.length;f++)x=n.qn((w=v[f]).metadata.name),w.document&&(s=s.add(x)),a=a.insert(x,n.Un(w)),d=d.insert(x,n.Kn(w.metadata.readTime));return S=o.On.newChangeBuffer({trackRemovals:!0}),[4,BT(o,(H=i,Qp(xT(So.fromString("__bundle__/docs/"+H)))))];case 1:return E=q.sent(),[2,o.persistence.runTransaction("Apply bundle documents","readwrite",function(H){return _q(H,S,a,Nr.min(),d).next(function(ee){return S.apply(H),ee}).next(function(ee){return o.qe.removeMatchingKeysForTargetId(H,E.targetId).next(function(){return o.qe.addMatchingKeys(H,s,E.targetId)}).next(function(){return o.Mn.En(H,ee)}).next(function(){return ee})})})]}var H})})}function sK(t,n,e){return void 0===e&&(e=Xo()),(0,W.__awaiter)(this,void 0,void 0,function(){var i,o;return(0,W.__generator)(this,function(s){switch(s.label){case 0:return[4,BT(t,Qp(y3(n.bundledQuery)))];case 1:return i=s.sent(),[2,(o=Hn(t)).persistence.runTransaction("Save named query","readwrite",function(a){var d=Wc(n.readTime);if(i.snapshotVersion.compareTo(d)>=0)return o.Ke.saveNamedQuery(a,n);var f=i.withResumeToken(eh.EMPTY_BYTE_STRING,d);return o.kn=o.kn.insert(f.targetId,f),o.qe.updateTargetData(a,f).next(function(){return o.qe.removeMatchingKeysForTargetId(a,i.targetId)}).next(function(){return o.qe.addMatchingKeys(a,e,i.targetId)}).next(function(){return o.Ke.saveNamedQuery(a,n)})})]}})})}var aK=function(){function t(n){this.R=n,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(n,e){return bn.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(n,e){var i;return this.Qn.set(e.id,{id:(i=e).id,version:i.version,createTime:Wc(i.createTime)}),bn.resolve()},t.prototype.getNamedQuery=function(n,e){return bn.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(n,e){return this.jn.set(e.name,{name:(i=e).name,query:y3(i.bundledQuery),readTime:Wc(i.readTime)}),bn.resolve();var i},t}(),x3=function(){function t(){this.Wn=new uc($c.Gn),this.zn=new uc($c.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(n,e){var i=new $c(n,e);this.Wn=this.Wn.add(i),this.zn=this.zn.add(i)},t.prototype.Jn=function(n,e){var i=this;n.forEach(function(o){return i.addReference(o,e)})},t.prototype.removeReference=function(n,e){this.Yn(new $c(n,e))},t.prototype.Xn=function(n,e){var i=this;n.forEach(function(o){return i.removeReference(o,e)})},t.prototype.Zn=function(n){var e=this,i=new Ai(new So([])),o=new $c(i,n),s=new $c(i,n+1),a=[];return this.zn.forEachInRange([o,s],function(d){e.Yn(d),a.push(d.key)}),a},t.prototype.ts=function(){var n=this;this.Wn.forEach(function(e){return n.Yn(e)})},t.prototype.Yn=function(n){this.Wn=this.Wn.delete(n),this.zn=this.zn.delete(n)},t.prototype.es=function(n){var e=new Ai(new So([])),i=new $c(e,n),o=new $c(e,n+1),s=Xo();return this.zn.forEachInRange([i,o],function(a){s=s.add(a.key)}),s},t.prototype.containsKey=function(n){var e=new $c(n,0),i=this.Wn.firstAfterOrEqual(e);return null!==i&&n.isEqual(i.key)},t}(),$c=function(){function t(n,e){this.key=n,this.ns=e}return t.Gn=function(n,e){return Ai.comparator(n.key,e.key)||Wr(n.ns,e.ns)},t.Hn=function(n,e){return Wr(n.ns,e.ns)||Ai.comparator(n.key,e.key)},t}(),lK=function(){function t(n,e){this.Ut=n,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new uc($c.Gn)}return t.prototype.checkEmpty=function(n){return bn.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(n,e,i,o){var s=this.ss;this.ss++;var a=new g3(s,e,i,o);this._n.push(a);for(var d=0,f=o;d<f.length;d++){var v=f[d];this.rs=this.rs.add(new $c(v.key,s)),this.Ut.addToCollectionParentIndex(n,v.key.path.popLast())}return bn.resolve(a)},t.prototype.lookupMutationBatch=function(n,e){return bn.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(n,e){var o=this.cs(e+1),s=o<0?0:o;return bn.resolve(this._n.length>s?this._n[s]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return bn.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(n){return bn.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(n,e){var i=this,o=new $c(e,0),s=new $c(e,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([o,s],function(d){var f=i.os(d.ns);a.push(f)}),bn.resolve(a)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(n,e){var i=this,o=new uc(Wr);return e.forEach(function(s){var a=new $c(s,0),d=new $c(s,Number.POSITIVE_INFINITY);i.rs.forEachInRange([a,d],function(f){o=o.add(f.ns)})}),bn.resolve(this.us(o))},t.prototype.getAllMutationBatchesAffectingQuery=function(n,e){var i=e.path,o=i.length+1,s=i;Ai.isDocumentKey(s)||(s=s.child(""));var a=new $c(new Ai(s),0),d=new uc(Wr);return this.rs.forEachWhile(function(f){var v=f.key.path;return!!i.isPrefixOf(v)&&(v.length===o&&(d=d.add(f.ns)),!0)},a),bn.resolve(this.us(d))},t.prototype.us=function(n){var e=this,i=[];return n.forEach(function(o){var s=e.os(o);null!==s&&i.push(s)}),i},t.prototype.removeMutationBatch=function(n,e){var i=this;tr(0===this.hs(e.batchId,"removed")),this._n.shift();var o=this.rs;return bn.forEach(e.mutations,function(s){var a=new $c(s.key,e.batchId);return o=o.delete(a),i.referenceDelegate.markPotentiallyOrphaned(n,s.key)}).next(function(){i.rs=o})},t.prototype.Gt=function(n){},t.prototype.containsKey=function(n,e){var i=new $c(e,0),o=this.rs.firstAfterOrEqual(i);return bn.resolve(e.isEqual(o&&o.key))},t.prototype.performConsistencyCheck=function(n){return bn.resolve()},t.prototype.hs=function(n,e){return this.cs(n)},t.prototype.cs=function(n){return 0===this._n.length?0:n-this._n[0].batchId},t.prototype.os=function(n){var e=this.cs(n);return e<0||e>=this._n.length?null:this._n[e]},t}(),cK=function(){function t(n,e){this.Ut=n,this.ls=e,this.docs=new sd(Ai.comparator),this.size=0}return t.prototype.addEntry=function(n,e,i){var o=e.key,s=this.docs.get(o),a=s?s.size:0,d=this.ls(e);return this.docs=this.docs.insert(o,{document:e.clone(),size:d,readTime:i}),this.size+=d-a,this.Ut.addToCollectionParentIndex(n,o.path.popLast())},t.prototype.removeEntry=function(n){var e=this.docs.get(n);e&&(this.docs=this.docs.remove(n),this.size-=e.size)},t.prototype.getEntry=function(n,e){var i=this.docs.get(e);return bn.resolve(i?i.document.clone():Tu.newInvalidDocument(e))},t.prototype.getEntries=function(n,e){var i=this,o=Jp();return e.forEach(function(s){var a=i.docs.get(s);o=o.insert(s,a?a.document.clone():Tu.newInvalidDocument(s))}),bn.resolve(o)},t.prototype.getDocumentsMatchingQuery=function(n,e,i){for(var o=Jp(),s=new Ai(e.path.child("")),a=this.docs.getIteratorFrom(s);a.hasNext();){var d=a.getNext(),v=d.value,w=v.document,x=v.readTime;if(!e.path.isPrefixOf(d.key.path))break;x.compareTo(i)<=0||AD(e,w)&&(o=o.insert(w.key,w.clone()))}return bn.resolve(o)},t.prototype.fs=function(n,e){return bn.forEach(this.docs,function(i){return e(i)})},t.prototype.newChangeBuffer=function(n){return new uK(this)},t.prototype.getSize=function(n){return bn.resolve(this.size)},t}(),uK=function(t){function n(e){var i=this;return(i=t.call(this)||this).Ie=e,i}return(0,W.__extends)(n,t),n.prototype.applyChanges=function(e){var i=this,o=[];return this.changes.forEach(function(s,a){a.document.isValidDocument()?o.push(i.Ie.addEntry(e,a.document,i.getReadTime(s))):i.Ie.removeEntry(s)}),bn.waitFor(o)},n.prototype.getFromCache=function(e,i){return this.Ie.getEntry(e,i)},n.prototype.getAllFromCache=function(e,i){return this.Ie.getEntries(e,i)},n}(cq),dK=function(){function t(n){this.persistence=n,this.ds=new PT(function(e){return CD(e)},EI),this.lastRemoteSnapshotVersion=Nr.min(),this.highestTargetId=0,this.ws=0,this._s=new x3,this.targetCount=0,this.ys=qI.Jt()}return t.prototype.forEachTarget=function(n,e){return this.ds.forEach(function(i,o){return e(o)}),bn.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(n){return bn.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(n){return bn.resolve(this.ws)},t.prototype.allocateTargetId=function(n){return this.highestTargetId=this.ys.next(),bn.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(n,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.ws&&(this.ws=e),bn.resolve()},t.prototype.te=function(n){this.ds.set(n.target,n);var e=n.targetId;e>this.highestTargetId&&(this.ys=new qI(e),this.highestTargetId=e),n.sequenceNumber>this.ws&&(this.ws=n.sequenceNumber)},t.prototype.addTargetData=function(n,e){return this.te(e),this.targetCount+=1,bn.resolve()},t.prototype.updateTargetData=function(n,e){return this.te(e),bn.resolve()},t.prototype.removeTargetData=function(n,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,bn.resolve()},t.prototype.removeTargets=function(n,e,i){var o=this,s=0,a=[];return this.ds.forEach(function(d,f){f.sequenceNumber<=e&&null===i.get(f.targetId)&&(o.ds.delete(d),a.push(o.removeMatchingKeysForTargetId(n,f.targetId)),s++)}),bn.waitFor(a).next(function(){return s})},t.prototype.getTargetCount=function(n){return bn.resolve(this.targetCount)},t.prototype.getTargetData=function(n,e){var i=this.ds.get(e)||null;return bn.resolve(i)},t.prototype.addMatchingKeys=function(n,e,i){return this._s.Jn(e,i),bn.resolve()},t.prototype.removeMatchingKeys=function(n,e,i){this._s.Xn(e,i);var o=this.persistence.referenceDelegate,s=[];return o&&e.forEach(function(a){s.push(o.markPotentiallyOrphaned(n,a))}),bn.waitFor(s)},t.prototype.removeMatchingKeysForTargetId=function(n,e){return this._s.Zn(e),bn.resolve()},t.prototype.getMatchingKeysForTargetId=function(n,e){var i=this._s.es(e);return bn.resolve(i)},t.prototype.containsKey=function(n,e){return bn.resolve(this._s.containsKey(e))},t}(),hK=function(){function t(n,e){var i=this;this.gs={},this.Ne=new Hf(0),this.xe=!1,this.xe=!0,this.referenceDelegate=n(this),this.qe=new dK(this),this.Ut=new jJ,this.Ue=new cK(this.Ut,function(a){return i.referenceDelegate.ps(a)}),this.R=new QV(e),this.Ke=new aK(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(n){var e=this.gs[n.toKey()];return e||(e=new lK(this.Ut,this.referenceDelegate),this.gs[n.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(n,e,i){var o=this;On("MemoryPersistence","Starting transaction:",n);var s=new fK(this.Ne.next());return this.referenceDelegate.Es(),i(s).next(function(a){return o.referenceDelegate.Ts(s).next(function(){return a})}).toPromise().then(function(a){return s.raiseOnCommittedEvent(),a})},t.prototype.Is=function(n,e){return bn.or(Object.values(this.gs).map(function(i){return function(){return i.containsKey(n,e)}}))},t}(),fK=function(t){function n(e){var i=this;return(i=t.call(this)||this).currentSequenceNumber=e,i}return(0,W.__extends)(n,t),n}(YV),pK=function(){function t(n){this.persistence=n,this.As=new x3,this.Rs=null}return t.bs=function(n){return new t(n)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw xi()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(n,e,i){return this.As.addReference(i,e),this.vs.delete(i.toString()),bn.resolve()},t.prototype.removeReference=function(n,e,i){return this.As.removeReference(i,e),this.vs.add(i.toString()),bn.resolve()},t.prototype.markPotentiallyOrphaned=function(n,e){return this.vs.add(e.toString()),bn.resolve()},t.prototype.removeTarget=function(n,e){var i=this;this.As.Zn(e.targetId).forEach(function(s){return i.vs.add(s.toString())});var o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(n,e.targetId).next(function(s){s.forEach(function(a){return i.vs.add(a.toString())})}).next(function(){return o.removeTargetData(n,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(n){var e=this,i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return bn.forEach(this.vs,function(o){var s=Ai.fromPath(o);return e.Ps(n,s).next(function(a){a||i.removeEntry(s)})}).next(function(){return e.Rs=null,i.apply(n)})},t.prototype.updateLimboDocument=function(n,e){var i=this;return this.Ps(n,e).next(function(o){o?i.vs.delete(e.toString()):i.vs.add(e.toString())})},t.prototype.ps=function(n){return 0},t.prototype.Ps=function(n,e){var i=this;return bn.or([function(){return bn.resolve(i.As.containsKey(e))},function(){return i.persistence.getTargetCache().containsKey(n,e)},function(){return i.persistence.Is(n,e)}])},t}(),Su=function(){function t(n){this.uid=n}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(n){return n.uid===this.uid},t}();function bq(t,n){return"firestore_clients_"+t+"_"+n}function wq(t,n,e){var i="firestore_mutations_"+t+"_"+e;return n.isAuthenticated()&&(i+="_"+n.uid),i}function T3(t,n){return"firestore_targets_"+t+"_"+n}Su.UNAUTHENTICATED=new Su(null),Su.GOOGLE_CREDENTIALS=new Su("google-credentials-uid"),Su.FIRST_PARTY=new Su("first-party-uid"),Su.MOCK_USER=new Su("mock-user");var Cq=function(){function t(n,e,i,o){this.user=n,this.batchId=e,this.state=i,this.error=o}return t.Vs=function(n,e,i){var o,s=JSON.parse(i),a="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return a&&s.error&&(a="string"==typeof s.error.message&&"string"==typeof s.error.code)&&(o=new hn(s.error.code,s.error.message)),a?new t(n,e,s.state,o):(Ll("SharedClientState","Failed to parse mutation state for ID '"+e+"': "+i),null)},t.prototype.Ss=function(){var n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)},t}(),A3=function(){function t(n,e,i){this.targetId=n,this.state=e,this.error=i}return t.Vs=function(n,e){var i,o=JSON.parse(e),s="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new hn(o.error.code,o.error.message)),s?new t(n,o.state,i):(Ll("SharedClientState","Failed to parse target state for ID '"+n+"': "+e),null)},t.prototype.Ss=function(){var n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)},t}(),xq=function(){function t(n,e){this.clientId=n,this.activeTargetIds=e}return t.Vs=function(n,e){for(var i=JSON.parse(e),o="object"==typeof i&&i.activeTargetIds instanceof Array,s=PI(),a=0;o&&a<i.activeTargetIds.length;++a)o=$j(i.activeTargetIds[a]),s=s.add(i.activeTargetIds[a]);return o?new t(n,s):(Ll("SharedClientState","Failed to parse client data for instance '"+n+"': "+e),null)},t}(),mK=function(){function t(n,e){this.clientId=n,this.onlineState=e}return t.Vs=function(n){var e=JSON.parse(n);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new t(e.clientId,e.onlineState):(Ll("SharedClientState","Failed to parse online state: "+n),null)},t}(),S3=function(){function t(){this.activeTargetIds=PI()}return t.prototype.Ds=function(n){this.activeTargetIds=this.activeTargetIds.add(n)},t.prototype.Cs=function(n){this.activeTargetIds=this.activeTargetIds.delete(n)},t.prototype.Ss=function(){var n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)},t}(),D3=function(){function t(n,e,i,o,s){this.window=n,this.Se=e,this.persistenceKey=i,this.Ns=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new sd(Wr),this.started=!1,this.$s=[];var a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Os=bq(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.Fs=this.Fs.insert(this.Ns,new S3),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Ks=function(d){return"firestore_bundle_loaded_"+d}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(n){return!(!n||!n.localStorage)},t.prototype.start=function(){return(0,W.__awaiter)(this,void 0,void 0,function(){var n,e,i,o,s,a,d,f,v,w,S=this;return(0,W.__generator)(this,function(E){switch(E.label){case 0:return[4,this.syncEngine.fn()];case 1:for(n=E.sent(),e=0,i=n;e<i.length;e++)(o=i[e])!==this.Ns&&(s=this.getItem(bq(this.persistenceKey,o)))&&(a=xq.Vs(o,s))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(d=this.storage.getItem(this.Us))&&(f=this.js(d))&&this.Ws(f),v=0,w=this.$s;v<w.length;v++)this.ks(w[v]);return this.$s=[],this.window.addEventListener("pagehide",function(){return S.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(n){this.setItem(this.Ms,JSON.stringify(n))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(n){var e=!1;return this.Fs.forEach(function(i,o){o.activeTargetIds.has(n)&&(e=!0)}),e},t.prototype.addPendingMutation=function(n){this.zs(n,"pending")},t.prototype.updateMutationState=function(n,e,i){this.zs(n,e,i),this.Hs(n)},t.prototype.addLocalQueryTarget=function(n){var e="not-current";if(this.isActiveQueryTarget(n)){var i=this.storage.getItem(T3(this.persistenceKey,n));if(i){var o=A3.Vs(n,i);o&&(e=o.state)}}return this.Js.Ds(n),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(n){this.Js.Cs(n),this.Qs()},t.prototype.isLocalQueryTarget=function(n){return this.Js.activeTargetIds.has(n)},t.prototype.clearQueryState=function(n){this.removeItem(T3(this.persistenceKey,n))},t.prototype.updateQueryState=function(n,e,i){this.Ys(n,e,i)},t.prototype.handleUserChange=function(n,e,i){var o=this;e.forEach(function(s){o.Hs(s)}),this.currentUser=n,i.forEach(function(s){o.addPendingMutation(s)})},t.prototype.setOnlineState=function(n){this.Xs(n)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(n){var e=this.storage.getItem(n);return On("SharedClientState","READ",n,e),e},t.prototype.setItem=function(n,e){On("SharedClientState","SET",n,e),this.storage.setItem(n,e)},t.prototype.removeItem=function(n){On("SharedClientState","REMOVE",n),this.storage.removeItem(n)},t.prototype.ks=function(n){var e=this,i=n;if(i.storageArea===this.storage){if(On("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Os)return void Ll("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,W.__awaiter)(e,void 0,void 0,function(){var o,s,a,d,f,v;return(0,W.__generator)(this,function(w){if(this.started){if(null!==i.key)if(this.Ls.test(i.key)){if(null==i.newValue)return o=this.ti(i.key),[2,this.ei(o,null)];if(s=this.ni(i.key,i.newValue))return[2,this.ei(s.clientId,s)]}else if(this.Bs.test(i.key)){if(null!==i.newValue&&(a=this.si(i.key,i.newValue)))return[2,this.ii(a)]}else if(this.qs.test(i.key)){if(null!==i.newValue&&(d=this.ri(i.key,i.newValue)))return[2,this.oi(d)]}else if(i.key===this.Us){if(null!==i.newValue&&(f=this.js(i.newValue)))return[2,this.Ws(f)]}else if(i.key===this.Ms)(v=function(x){var S=Hf.o;if(null!=x)try{var E=JSON.parse(x);tr("number"==typeof E),S=E}catch(q){Ll("SharedClientState","Failed to read sequence number from WebStorage",q)}return S}(i.newValue))!==Hf.o&&this.sequenceNumberHandler(v);else if(i.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(i);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(n,e,i){var o=new Cq(this.currentUser,n,e,i),s=wq(this.persistenceKey,this.currentUser,n);this.setItem(s,o.Ss())},t.prototype.Hs=function(n){var e=wq(this.persistenceKey,this.currentUser,n);this.removeItem(e)},t.prototype.Xs=function(n){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:n}))},t.prototype.Ys=function(n,e,i){var o=T3(this.persistenceKey,n),s=new A3(n,e,i);this.setItem(o,s.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(n){var e=this.Ls.exec(n);return e?e[1]:null},t.prototype.ni=function(n,e){var i=this.ti(n);return xq.Vs(i,e)},t.prototype.si=function(n,e){var i=this.Bs.exec(n),o=Number(i[1]);return Cq.Vs(new Su(void 0!==i[2]?i[2]:null),o,e)},t.prototype.ri=function(n,e){var i=this.qs.exec(n),o=Number(i[1]);return A3.Vs(o,e)},t.prototype.js=function(n){return mK.Vs(n)},t.prototype.ii=function(n){return(0,W.__awaiter)(this,void 0,void 0,function(){return(0,W.__generator)(this,function(e){return n.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(n.batchId,n.state,n.error)]:(On("SharedClientState","Ignoring mutation for non-active user "+n.user.uid),[2])})})},t.prototype.oi=function(n){return this.syncEngine.ai(n.targetId,n.state,n.error)},t.prototype.ei=function(n,e){var i=this,o=e?this.Fs.insert(n,e):this.Fs.remove(n),s=this.Gs(this.Fs),a=this.Gs(o),d=[],f=[];return a.forEach(function(v){s.has(v)||d.push(v)}),s.forEach(function(v){a.has(v)||f.push(v)}),this.syncEngine.hi(d,f).then(function(){i.Fs=o})},t.prototype.Ws=function(n){this.Fs.get(n.clientId)&&this.onlineStateHandler(n.onlineState)},t.prototype.Gs=function(n){var e=PI();return n.forEach(function(i,o){e=e.unionWith(o.activeTargetIds)}),e},t}(),Tq=function(){function t(){this.li=new S3,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(n){},t.prototype.updateMutationState=function(n,e,i){},t.prototype.addLocalQueryTarget=function(n){return this.li.Ds(n),this.fi[n]||"not-current"},t.prototype.updateQueryState=function(n,e,i){this.fi[n]=e},t.prototype.removeLocalQueryTarget=function(n){this.li.Cs(n)},t.prototype.isLocalQueryTarget=function(n){return this.li.activeTargetIds.has(n)},t.prototype.clearQueryState=function(n){delete this.fi[n]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(n){return this.li.activeTargetIds.has(n)},t.prototype.start=function(){return this.li=new S3,Promise.resolve()},t.prototype.handleUserChange=function(n,e,i){},t.prototype.setOnlineState=function(n){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(n){},t.prototype.notifyBundleLoaded=function(){},t}(),gK=function(){function t(){}return t.prototype.di=function(n){},t.prototype.shutdown=function(){},t}(),Aq=function(){function t(){var n=this;this.wi=function(){return n._i()},this.mi=function(){return n.yi()},this.gi=[],this.pi()}return t.prototype.di=function(n){this.gi.push(n)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){On("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var n=0,e=this.gi;n<e.length;n++)(0,e[n])(0)},t.prototype.yi=function(){On("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var n=0,e=this.gi;n<e.length;n++)(0,e[n])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),_K={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},vK=function(){function t(n){this.Ei=n.Ei,this.Ti=n.Ti}return t.prototype.Ii=function(n){this.Ai=n},t.prototype.Ri=function(n){this.bi=n},t.prototype.onMessage=function(n){this.vi=n},t.prototype.close=function(){this.Ti()},t.prototype.send=function(n){this.Ei(n)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(n){this.bi(n)},t.prototype.Si=function(n){this.vi(n)},t}(),yK=function(t){function n(e){var i=this;return(i=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,i.autoDetectLongPolling=e.autoDetectLongPolling,i.useFetchStreams=e.useFetchStreams,i}return(0,W.__extends)(n,t),n.prototype.Fi=function(e,i,o,s){return new Promise(function(a,d){var f=new qj;f.listenOnce(Uj.COMPLETE,function(){try{switch(f.getLastErrorCode()){case TI.NO_ERROR:var w=f.getResponseJson();On("Connection","XHR received:",JSON.stringify(w)),a(w);break;case TI.TIMEOUT:On("Connection",'RPC "'+e+'" timed out'),d(new hn(Dt.DEADLINE_EXCEEDED,"Request time out"));break;case TI.HTTP_ERROR:var x=f.getStatus();if(On("Connection",'RPC "'+e+'" failed with status:',x,"response text:",f.getResponseText()),x>0){var S=f.getResponseJson().error;if(S&&S.status&&S.message){var E=(H=S.status.toLowerCase().replace(/_/g,"-"),Object.values(Dt).indexOf(H)>=0?H:Dt.UNKNOWN);d(new hn(E,S.message))}else d(new hn(Dt.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new hn(Dt.UNAVAILABLE,"Connection failed."));break;default:xi()}}finally{On("Connection",'RPC "'+e+'" completed.')}var H});var v=JSON.stringify(s);f.send(i,"POST",v,o,15)})},n.prototype.Oi=function(e,i){var o=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=new xI,a=lI(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(d.xmlHttpFactory=new Vj({})),this.ki(d.initMessageHeaders,i),(0,pi.isMobileCordova)()||(0,pi.isReactNative)()||(0,pi.isElectron)()||(0,pi.isIE)()||(0,pi.isUWP)()||(0,pi.isBrowserExtension)()||(d.httpHeadersOverwriteParam="$httpHeaders");var f=o.join("");On("Connection","Creating WebChannel: "+f,d);var v=s.createWebChannel(f,d),w=!1,x=!1,S=new vK({Ei:function(q){x?On("Connection","Not sending because WebChannel is closed:",q):(w||(On("Connection","Opening WebChannel transport."),v.open(),w=!0),On("Connection","WebChannel sending:",q),v.send(q))},Ti:function(){return v.close()}}),E=function(q,H,ee){q.listen(H,function($){try{ee($)}catch(oe){setTimeout(function(){throw oe},0)}})};return E(v,_D.EventType.OPEN,function(){x||On("Connection","WebChannel transport opened.")}),E(v,_D.EventType.CLOSE,function(){x||(x=!0,On("Connection","WebChannel transport closed"),S.Vi())}),E(v,_D.EventType.ERROR,function(q){x||(x=!0,vD("Connection","WebChannel transport errored:",q),S.Vi(new hn(Dt.UNAVAILABLE,"The operation could not be completed")))}),E(v,_D.EventType.MESSAGE,function(q){var H;if(!x){var ee=q.data[0];tr(!!ee);var oe=ee.error||(null===(H=ee[0])||void 0===H?void 0:H.error);if(oe){On("Connection","WebChannel received error:",oe);var ve=oe.status,Fe=function(gt){var tt=Nl[gt];if(void 0!==tt)return CV(tt)}(ve),Be=oe.message;void 0===Fe&&(Fe=Dt.INTERNAL,Be="Unknown error status: "+ve+" with message "+oe.message),x=!0,S.Vi(new hn(Fe,Be)),v.close()}else On("Connection","WebChannel received:",ee),S.Si(ee)}}),E(a,jj.STAT_EVENT,function(q){q.stat===$R_PROXY?On("Connection","Detected buffering proxy"):q.stat===$R_NOPROXY&&On("Connection","Detected no buffering proxy")}),setTimeout(function(){S.Pi()},0),S},n}(function(){function t(n){this.databaseInfo=n,this.databaseId=n.databaseId,this.Di=(n.ssl?"https":"http")+"://"+n.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(n,e,i,o){var s=this.xi(n,e);On("RestConnection","Sending: ",s,i);var a={};return this.ki(a,o),this.Fi(n,s,a,i).then(function(d){return On("RestConnection","Received: ",d),d},function(d){throw vD("RestConnection",n+" failed with error: ",d,"url: ",s,"request:",i),d})},t.prototype.$i=function(n,e,i,o){return this.Ni(n,e,i,o)},t.prototype.ki=function(n,e){if(n["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var i in e.authHeaders)e.authHeaders.hasOwnProperty(i)&&(n[i]=e.authHeaders[i])},t.prototype.xi=function(n,e){return this.Di+"/v1/"+e+":"+_K[n]},t}());function Sq(){return"undefined"!=typeof window?window:null}function zI(){return"undefined"!=typeof document?document:null}function ND(t){return new TJ(t,!0)}var E3=function(){function t(n,e,i,o,s){void 0===i&&(i=1e3),void 0===o&&(o=1.5),void 0===s&&(s=6e4),this.Se=n,this.timerId=e,this.Mi=i,this.Li=o,this.Bi=s,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(n){var e=this;this.cancel();var i=Math.floor(this.qi+this.Wi()),o=Math.max(0,Date.now()-this.Ki),s=Math.max(0,i-o);s>0&&On("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.qi+" ms, delay with jitter: "+i+" ms, last attempt: "+o+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,s,function(){return e.Ki=Date.now(),n()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Dq=function(){function t(n,e,i,o,s,a){this.Se=n,this.zi=i,this.Hi=o,this.Ji=s,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new E3(n,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return(0,W.__awaiter)(this,void 0,void 0,function(){return(0,W.__generator)(this,function(n){switch(n.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var n=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return n.rr()}))},t.prototype.cr=function(n){this.ur(),this.stream.send(n)},t.prototype.rr=function(){return(0,W.__awaiter)(this,void 0,void 0,function(){return(0,W.__generator)(this,function(n){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(n,e){return(0,W.__awaiter)(this,void 0,void 0,function(){return(0,W.__generator)(this,function(i){switch(i.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==n?this.Zi.reset():e&&e.code===Dt.RESOURCE_EXHAUSTED?(Ll(e.toString()),Ll("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===Dt.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=n,[4,this.listener.Ri(e)];case 1:return i.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var n=this;this.state=1;var e=this.hr(this.Yi),i=this.Yi;this.Ji.getToken().then(function(o){n.Yi===i&&n.lr(o)},function(o){e(function(){var s=new hn(Dt.UNKNOWN,"Fetching auth token failed: "+o.message);return n.dr(s)})})},t.prototype.lr=function(n){var e=this,i=this.hr(this.Yi);this.stream=this.wr(n),this.stream.Ii(function(){i(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(o){i(function(){return e.dr(o)})}),this.stream.onMessage(function(o){i(function(){return e.onMessage(o)})})},t.prototype.nr=function(){var n=this;this.state=4,this.Zi.ji(function(){return(0,W.__awaiter)(n,void 0,void 0,function(){return(0,W.__generator)(this,function(e){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(n){return On("PersistentStream","close with error: "+n),this.stream=null,this.close(3,n)},t.prototype.hr=function(n){var e=this;return function(i){e.Se.enqueueAndForget(function(){return e.Yi===n?i():(On("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),bK=function(t){function n(e,i,o,s,a){var d=this;return(d=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",i,o,a)||this).R=s,d}return(0,W.__extends)(n,t),n.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},n.prototype.onMessage=function(e){this.Zi.reset();var i=function(s,a){var d,ee;if("targetChange"in a){var f="NO_CHANGE"===(ee=a.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===ee?1:"REMOVE"===ee?2:"CURRENT"===ee?3:"RESET"===ee?4:xi(),v=a.targetChange.targetIds||[],w=function(ee,$){return ee.I?(tr(void 0===$||"string"==typeof $),eh.fromBase64String($||"")):(tr(void 0===$||$ instanceof Uint8Array),eh.fromUint8Array($||new Uint8Array))}(s,a.targetChange.resumeToken),x=(S=a.targetChange.cause)&&function(ee){var $=void 0===ee.code?Dt.UNKNOWN:CV(ee.code);return new hn($,ee.message||"")}(S);d=new SV(f,v,w,x||null)}else if("documentChange"in a){v=H_(s,(f=a.documentChange).document.name),w=Wc(f.document.updateTime);var S=new Gf({mapValue:{fields:f.document.fields}}),E=(x=Tu.newFoundDocument(v,w,S),f.targetIds||[]);d=new BI(E,f.removedTargetIds||[],x.key,x)}else if("documentDelete"in a)v=H_(s,(f=a.documentDelete).document),w=f.readTime?Wc(f.readTime):Nr.min(),S=Tu.newNoDocument(v,w),d=new BI([],x=f.removedTargetIds||[],S.key,S);else if("documentRemove"in a)v=H_(s,(f=a.documentRemove).document),d=new BI([],w=f.removedTargetIds||[],v,null);else{if(!("filter"in a))return xi();var H=a.filter;v=new mJ(f=H.count||0),d=new AV(w=H.targetId,v)}return d}(this.R,e),o=function(s){if(!("targetChange"in s))return Nr.min();var a=s.targetChange;return a.targetIds&&a.targetIds.length?Nr.min():a.readTime?Wc(a.readTime):Nr.min()}(e);return this.listener._r(i,o)},n.prototype.mr=function(e){var s,a,d,f,i={};i.database=ID(this.R),i.addTarget=(s=this.R,(d=MI(f=(a=e).target)?{documents:PV(s,f)}:{query:BV(s,f)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?d.resumeToken=kV(s,a.resumeToken):a.snapshotVersion.compareTo(Nr.min())>0&&(d.readTime=MD(s,a.snapshotVersion.toTimestamp())),d);var o=function(s,a){var d=function(f,v){switch(v){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return xi()}}(0,a.purpose);return null==d?null:{"goog-listen-tags":d}}(0,e);o&&(i.labels=o),this.cr(i)},n.prototype.yr=function(e){var i={};i.database=ID(this.R),i.removeTarget=e,this.cr(i)},n}(Dq),wK=function(t){function n(e,i,o,s,a){var d=this;return(d=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",i,o,a)||this).R=s,d.gr=!1,d}return(0,W.__extends)(n,t),Object.defineProperty(n.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),n.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},n.prototype.ar=function(){this.gr&&this.Er([])},n.prototype.wr=function(e){return this.Hi.Oi("Write",e)},n.prototype.onMessage=function(e){if(tr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var i=(a=e.commitTime,(s=e.writeResults)&&s.length>0?(tr(void 0!==a),s.map(function(d){return v=a,(w=Wc((f=d).updateTime?f.updateTime:v)).isEqual(Nr.min())&&(w=Wc(v)),new hJ(w,f.transformResults||[]);var f,v,w})):[]),o=Wc(e.commitTime);return this.listener.Tr(o,i)}var s,a;return tr(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},n.prototype.Ar=function(){var e={};e.database=ID(this.R),this.cr(e)},n.prototype.Er=function(e){var i=this,o={streamToken:this.lastStreamToken,writes:e.map(function(s){return UI(i.R,s)})};this.cr(o)},n}(Dq),CK=function(t){function n(e,i,o){var s=this;return(s=t.call(this)||this).credentials=e,s.Hi=i,s.R=o,s.Rr=!1,s}return(0,W.__extends)(n,t),n.prototype.br=function(){if(this.Rr)throw new hn(Dt.FAILED_PRECONDITION,"The client has already been terminated.")},n.prototype.Ni=function(e,i,o){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.Ni(e,i,o,a)}).catch(function(a){throw"FirebaseError"===a.name?(a.code===Dt.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new hn(Dt.UNKNOWN,a.toString())})},n.prototype.$i=function(e,i,o){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.$i(e,i,o,a)}).catch(function(a){throw"FirebaseError"===a.name?(a.code===Dt.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new hn(Dt.UNKNOWN,a.toString())})},n.prototype.terminate=function(){this.Rr=!0},n}(function(){}),xK=function(){function t(n,e){this.asyncQueue=n,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var n=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return n.Pr=null,n.Cr("Backend didn't respond within 10 seconds."),n.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(n){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+n.toString()),this.Dr("Offline")))},t.prototype.set=function(n){this.kr(),this.vr=0,"Online"===n&&(this.Vr=!1),this.Dr(n)},t.prototype.Dr=function(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))},t.prototype.Cr=function(n){var e="Could not reach Cloud Firestore backend. "+n+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Ll(e),this.Vr=!1):On("OnlineStateTracker",e)},t.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),TK=function(t,n,e,i,o){var s=this;this.localStore=t,this.datastore=n,this.asyncQueue=e,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(a){e.enqueueAndForget(function(){return(0,W.__awaiter)(s,void 0,void 0,function(){return(0,W.__generator)(this,function(d){switch(d.label){case 0:return Bb(this)?(On("RemoteStore","Restarting streams for network reachability change."),[4,function(f){return(0,W.__awaiter)(this,void 0,void 0,function(){var v;return(0,W.__generator)(this,function(w){switch(w.label){case 0:return(v=Hn(f)).Or.add(4),[4,jT(v)];case 1:return w.sent(),v.Br.set("Unknown"),v.Or.delete(4),[4,RD(v)];case 2:return w.sent(),[2]}})})}(this)]):[3,2];case 1:d.sent(),d.label=2;case 2:return[2]}})})})}),this.Br=new xK(e,i)};function RD(t){return(0,W.__awaiter)(this,void 0,void 0,function(){var n,e;return(0,W.__generator)(this,function(i){switch(i.label){case 0:if(!Bb(t))return[3,4];n=0,e=t.Mr,i.label=1;case 1:return n<e.length?[4,(0,e[n])(!0)]:[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}})})}function jT(t){return(0,W.__awaiter)(this,void 0,void 0,function(){var n,e;return(0,W.__generator)(this,function(i){switch(i.label){case 0:n=0,e=t.Mr,i.label=1;case 1:return n<e.length?[4,(0,e[n])(!1)]:[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}})})}function WI(t,n){var e=Hn(t);e.$r.has(n.targetId)||(e.$r.set(n.targetId,n),I3(e)?k3(e):qT(e).er()&&M3(e,n))}function PD(t,n){var e=Hn(t),i=qT(e);e.$r.delete(n),i.er()&&Eq(e,n),0===e.$r.size&&(i.er()?i.ir():Bb(e)&&e.Br.set("Unknown"))}function M3(t,n){t.qr.U(n.targetId),qT(t).mr(n)}function Eq(t,n){t.qr.U(n),qT(t).yr(n)}function k3(t){t.qr=new wJ({getRemoteKeysForTarget:function(n){return t.remoteSyncer.getRemoteKeysForTarget(n)},lt:function(n){return t.$r.get(n)||null}}),qT(t).start(),t.Br.Sr()}function I3(t){return Bb(t)&&!qT(t).tr()&&t.$r.size>0}function Bb(t){return 0===Hn(t).Or.size}function Mq(t){t.qr=void 0}function AK(t){return(0,W.__awaiter)(this,void 0,void 0,function(){return(0,W.__generator)(this,function(n){return t.$r.forEach(function(e,i){M3(t,e)}),[2]})})}function SK(t,n){return(0,W.__awaiter)(this,void 0,void 0,function(){return(0,W.__generator)(this,function(e){return Mq(t),I3(t)?(t.Br.Nr(n),k3(t)):t.Br.set("Unknown"),[2]})})}function DK(t,n,e){return(0,W.__awaiter)(this,void 0,void 0,function(){var i,o,s;return(0,W.__generator)(this,function(a){switch(a.label){case 0:if(t.Br.set("Online"),!(n instanceof SV&&2===n.state&&n.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(d,f){return(0,W.__awaiter)(this,void 0,void 0,function(){var v,w,x,S;return(0,W.__generator)(this,function(E){switch(E.label){case 0:v=f.cause,w=0,x=f.targetIds,E.label=1;case 1:return w<x.length?d.$r.has(S=x[w])?[4,d.remoteSyncer.rejectListen(S,v)]:[3,3]:[3,5];case 2:E.sent(),d.$r.delete(S),d.qr.removeTarget(S),E.label=3;case 3:E.label=4;case 4:return w++,[3,1];case 5:return[2]}})})}(t,n)];case 2:return a.sent(),[3,5];case 3:return i=a.sent(),On("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),i),[4,$I(t,i)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(n instanceof BI?t.qr.X(n):n instanceof AV?t.qr.rt(n):t.qr.et(n),e.isEqual(Nr.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,gq(t.localStore)];case 8:return o=a.sent(),e.compareTo(o)>=0?[4,(d=t,f=e,v=d.qr.ut(f),v.targetChanges.forEach(function(w,x){if(w.resumeToken.approximateByteSize()>0){var S=d.$r.get(x);S&&d.$r.set(x,S.withResumeToken(w.resumeToken,f))}}),v.targetMismatches.forEach(function(w){var x=d.$r.get(w);if(x){d.$r.set(w,x.withResumeToken(eh.EMPTY_BYTE_STRING,x.snapshotVersion)),Eq(d,w);var S=new jI(x.target,w,1,x.sequenceNumber);M3(d,S)}}),d.remoteSyncer.applyRemoteEvent(v))]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return On("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,$I(t,s)];case 12:return a.sent(),[3,13];case 13:return[2]}var d,f,v})})}function $I(t,n,e){return(0,W.__awaiter)(this,void 0,void 0,function(){var i=this;return(0,W.__generator)(this,function(o){switch(o.label){case 0:if(!fC(n))throw n;return t.Or.add(1),[4,jT(t)];case 1:return o.sent(),t.Br.set("Offline"),e||(e=function(){return gq(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return(0,W.__awaiter)(i,void 0,void 0,function(){return(0,W.__generator)(this,function(s){switch(s.label){case 0:return On("RemoteStore","Retrying IndexedDB access"),[4,e()];case 1:return s.sent(),t.Or.delete(1),[4,RD(t)];case 2:return s.sent(),[2]}})})}),[2]}})})}function kq(t,n){return n().catch(function(e){return $I(t,e,n)})}function VT(t){return(0,W.__awaiter)(this,void 0,void 0,function(){var n,e,i,o,s;return(0,W.__generator)(this,function(a){switch(a.label){case 0:n=Hn(t),e=Ub(n),i=n.Fr.length>0?n.Fr[n.Fr.length-1].batchId:-1,a.label=1;case 1:if(!(Bb(d=n)&&d.Fr.length<10))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,iK(n.localStore,i)];case 3:return null===(o=a.sent())?(0===n.Fr.length&&e.ir(),[3,7]):(i=o.batchId,function(d,f){d.Fr.push(f);var v=Ub(d);v.er()&&v.pr&&v.Er(f.mutations)}(n,o),[3,6]);case 4:return s=a.sent(),[4,$I(n,s)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return Iq(n)&&Oq(n),[2]}var d})})}function Iq(t){return Bb(t)&&!Ub(t).tr()&&t.Fr.length>0}function Oq(t){Ub(t).start()}function EK(t){return(0,W.__awaiter)(this,void 0,void 0,function(){return(0,W.__generator)(this,function(n){return Ub(t).Ar(),[2]})})}function MK(t){return(0,W.__awaiter)(this,void 0,void 0,function(){var n,e,i;return(0,W.__generator)(this,function(s){for(n=Ub(t),e=0,i=t.Fr;e<i.length;e++)n.Er(i[e].mutations);return[2]})})}function kK(t,n,e){return(0,W.__awaiter)(this,void 0,void 0,function(){var i,o;return(0,W.__generator)(this,function(s){switch(s.label){case 0:return i=t.Fr.shift(),o=BJ.from(i,n,e),[4,kq(t,function(){return t.remoteSyncer.applySuccessfulWrite(o)})];case 1:return s.sent(),[4,VT(t)];case 2:return s.sent(),[2]}})})}function IK(t,n){return(0,W.__awaiter)(this,void 0,void 0,function(){return(0,W.__generator)(this,function(e){switch(e.label){case 0:return n&&Ub(t).pr?[4,function(i,o){return(0,W.__awaiter)(this,void 0,void 0,function(){var s,a;return(0,W.__generator)(this,function(d){switch(d.label){case 0:return wV(a=o.code)&&a!==Dt.ABORTED?(s=i.Fr.shift(),Ub(i).sr(),[4,kq(i,function(){return i.remoteSyncer.rejectFailedWrite(s.batchId,o)})]):[3,3];case 1:return d.sent(),[4,VT(i)];case 2:d.sent(),d.label=3;case 3:return[2]}})})}(t,n)]:[3,2];case 1:e.sent(),e.label=2;case 2:return Iq(t)&&Oq(t),[2]}})})}function O3(t,n){return(0,W.__awaiter)(this,void 0,void 0,function(){var e;return(0,W.__generator)(this,function(i){switch(i.label){case 0:return e=Hn(t),n?(e.Or.delete(2),[4,RD(e)]):[3,2];case 1:return i.sent(),[3,5];case 2:return n?[3,4]:(e.Or.add(2),[4,jT(e)]);case 3:i.sent(),e.Br.set("Unknown"),i.label=4;case 4:i.label=5;case 5:return[2]}})})}function qT(t){var e,i,o,s,n=this;return t.Ur||(t.Ur=(e=t.datastore,i=t.asyncQueue,o={Ii:AK.bind(null,t),Ri:SK.bind(null,t),_r:DK.bind(null,t)},(s=Hn(e)).br(),new bK(i,s.Hi,s.credentials,s.R,o)),t.Mr.push(function(e){return(0,W.__awaiter)(n,void 0,void 0,function(){return(0,W.__generator)(this,function(i){switch(i.label){case 0:return e?(t.Ur.sr(),I3(t)?k3(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:i.sent(),Mq(t),i.label=3;case 3:return[2]}})})})),t.Ur}function Ub(t){var e,i,o,s,n=this;return t.Kr||(t.Kr=(e=t.datastore,i=t.asyncQueue,o={Ii:EK.bind(null,t),Ri:IK.bind(null,t),Ir:MK.bind(null,t),Tr:kK.bind(null,t)},(s=Hn(e)).br(),new wK(i,s.Hi,s.credentials,s.R,o)),t.Mr.push(function(e){return(0,W.__awaiter)(n,void 0,void 0,function(){return(0,W.__generator)(this,function(i){switch(i.label){case 0:return e?(t.Kr.sr(),[4,VT(t)]):[3,2];case 1:return i.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:i.sent(),t.Fr.length>0&&(On("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),i.label=4;case 4:return[2]}})})})),t.Kr}var OK=function(){function t(n,e,i,o,s){this.asyncQueue=n,this.timerId=e,this.targetTimeMs=i,this.op=o,this.removalCallback=s,this.deferred=new ld,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return t.createAndSchedule=function(n,e,i,o,s){var a=new t(n,e,Date.now()+i,o,s);return a.start(i),a},t.prototype.start=function(n){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},n)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new hn(Dt.CANCELLED,"Operation cancelled"+(n?": "+n:""))))},t.prototype.handleDelayElapsed=function(){var n=this;this.asyncQueue.enqueueAndForget(function(){return null!==n.timerHandle?(n.clearTimeout(),n.op().then(function(e){return n.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function HT(t,n){if(Ll("AsyncQueue",n+": "+t),fC(t))return new hn(Dt.UNAVAILABLE,n+": "+t);throw t}var Lq=function(){function t(n){this.comparator=n?function(e,i){return n(e,i)||Ai.comparator(e.key,i.key)}:function(e,i){return Ai.comparator(e.key,i.key)},this.keyedMap=u3(),this.sortedSet=new sd(this.comparator)}return t.emptySet=function(n){return new t(n.comparator)},t.prototype.has=function(n){return null!=this.keyedMap.get(n)},t.prototype.get=function(n){return this.keyedMap.get(n)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(n){var e=this.keyedMap.get(n);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(n){this.sortedSet.inorderTraversal(function(e,i){return n(e),!1})},t.prototype.add=function(n){var e=this.delete(n.key);return e.copy(e.keyedMap.insert(n.key,n),e.sortedSet.insert(n,null))},t.prototype.delete=function(n){var e=this.get(n);return e?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(n){if(!(n instanceof t)||this.size!==n.size)return!1;for(var e=this.sortedSet.getIterator(),i=n.sortedSet.getIterator();e.hasNext();){var o=e.getNext().key,s=i.getNext().key;if(!o.isEqual(s))return!1}return!0},t.prototype.toString=function(){var n=[];return this.forEach(function(e){n.push(e.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"},t.prototype.copy=function(n,e){var i=new t;return i.comparator=this.comparator,i.keyedMap=n,i.sortedSet=e,i},t}(),Fq=function(){function t(){this.Qr=new sd(Ai.comparator)}return t.prototype.track=function(n){var e=n.doc.key,i=this.Qr.get(e);i?0!==n.type&&3===i.type?this.Qr=this.Qr.insert(e,n):3===n.type&&1!==i.type?this.Qr=this.Qr.insert(e,{type:i.type,doc:n.doc}):2===n.type&&2===i.type?this.Qr=this.Qr.insert(e,{type:2,doc:n.doc}):2===n.type&&0===i.type?this.Qr=this.Qr.insert(e,{type:0,doc:n.doc}):1===n.type&&0===i.type?this.Qr=this.Qr.remove(e):1===n.type&&2===i.type?this.Qr=this.Qr.insert(e,{type:1,doc:i.doc}):0===n.type&&1===i.type?this.Qr=this.Qr.insert(e,{type:2,doc:n.doc}):xi():this.Qr=this.Qr.insert(e,n)},t.prototype.jr=function(){var n=[];return this.Qr.inorderTraversal(function(e,i){n.push(i)}),n},t}(),QI=function(){function t(n,e,i,o,s,a,d,f){this.query=n,this.docs=e,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=d,this.excludesMetadataChanges=f}return t.fromInitialDocuments=function(n,e,i,o){var s=[];return e.forEach(function(a){s.push({type:0,doc:a})}),new t(n,e,Lq.emptySet(e),s,i,o,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(n){if(!(this.fromCache===n.fromCache&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&TD(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;var e=this.docChanges,i=n.docChanges;if(e.length!==i.length)return!1;for(var o=0;o<e.length;o++)if(e[o].type!==i[o].type||!e[o].doc.isEqual(i[o].doc))return!1;return!0},t}(),LK=function(){this.Wr=void 0,this.listeners=[]},FK=function(){this.queries=new PT(function(t){return sV(t)},TD),this.onlineState="Unknown",this.Gr=new Set};function L3(t,n){return(0,W.__awaiter)(this,void 0,void 0,function(){var e,i,o,s,a,d,f;return(0,W.__generator)(this,function(v){switch(v.label){case 0:if(e=Hn(t),o=!1,(s=e.queries.get(i=n.query))||(o=!0,s=new LK),!o)return[3,4];v.label=1;case 1:return v.trys.push([1,3,,4]),a=s,[4,e.onListen(i)];case 2:return a.Wr=v.sent(),[3,4];case 3:return d=v.sent(),f=HT(d,"Initialization of query '"+a3(n.query)+"' failed"),[2,void n.onError(f)];case 4:return e.queries.set(i,s),s.listeners.push(n),n.zr(e.onlineState),s.Wr&&n.Hr(s.Wr)&&N3(e),[2]}})})}function F3(t,n){return(0,W.__awaiter)(this,void 0,void 0,function(){var e,i,o,s,a;return(0,W.__generator)(this,function(d){return e=Hn(t),o=!1,(s=e.queries.get(i=n.query))&&(a=s.listeners.indexOf(n))>=0&&(s.listeners.splice(a,1),o=0===s.listeners.length),o?[2,(e.queries.delete(i),e.onUnlisten(i))]:[2]})})}function NK(t,n){for(var e=Hn(t),i=!1,o=0,s=n;o<s.length;o++){var a=s[o],f=e.queries.get(a.query);if(f){for(var v=0,w=f.listeners;v<w.length;v++)w[v].Hr(a)&&(i=!0);f.Wr=a}}i&&N3(e)}function RK(t,n,e){var i=Hn(t),o=i.queries.get(n);if(o)for(var s=0,a=o.listeners;s<a.length;s++)a[s].onError(e);i.queries.delete(n)}function N3(t){t.Gr.forEach(function(n){n.next()})}var R3=function(){function t(n,e,i){this.query=n,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=i||{}}return t.prototype.Hr=function(n){if(!this.options.includeMetadataChanges){for(var e=[],i=0,o=n.docChanges;i<o.length;i++){var s=o[i];3!==s.type&&e.push(s)}n=new QI(n.query,n.docs,n.oldDocs,e,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(n)&&(this.Jr.next(n),a=!0):this.eo(n,this.onlineState)&&(this.no(n),a=!0),this.Xr=n,a},t.prototype.onError=function(n){this.Jr.error(n)},t.prototype.zr=function(n){this.onlineState=n;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,n)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(n,e){return!n.fromCache||!(this.options.so&&"Offline"!==e||n.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(n){n=QI.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache),this.Yr=!0,this.Jr.next(n)},t}(),PK=function(){function t(n,e){this.payload=n,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),Nq=function(){function t(n){this.R=n}return t.prototype.qn=function(n){return H_(this.R,n)},t.prototype.Un=function(n){return n.metadata.exists?NV(this.R,n.document,!1):Tu.newNoDocument(this.qn(n.metadata.name),this.Kn(n.metadata.readTime))},t.prototype.Kn=function(n){return Wc(n)},t}(),BK=function(){function t(n,e,i){this.ro=n,this.localStore=e,this.R=i,this.queries=[],this.documents=[],this.progress=Rq(n)}return t.prototype.oo=function(n){this.progress.bytesLoaded+=n.byteLength;var e=this.progress.documentsLoaded;return n.payload.namedQuery?this.queries.push(n.payload.namedQuery):n.payload.documentMetadata?(this.documents.push({metadata:n.payload.documentMetadata}),n.payload.documentMetadata.exists||++e):n.payload.document&&(this.documents[this.documents.length-1].document=n.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(n){for(var e=new Map,i=new Nq(this.R),o=0,s=n;o<s.length;o++){var a=s[o];if(a.metadata.queries)for(var d=i.qn(a.metadata.name),f=0,v=a.metadata.queries;f<v.length;f++){var w=v[f],x=(e.get(w)||Xo()).add(d);e.set(w,x)}}return e},t.prototype.complete=function(){return(0,W.__awaiter)(this,void 0,void 0,function(){var n,e,i,o,s;return(0,W.__generator)(this,function(a){switch(a.label){case 0:return[4,oK(this.localStore,new Nq(this.R),this.documents,this.ro.id)];case 1:n=a.sent(),e=this.co(this.documents),i=0,o=this.queries,a.label=2;case 2:return i<o.length?[4,sK(this.localStore,s=o[i],e.get(s.name))]:[3,5];case 3:a.sent(),a.label=4;case 4:return i++,[3,2];case 5:return[2,(this.progress.taskState="Success",new KJ(Object.assign({},this.progress),n))]}})})},t}();function Rq(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var Pq=function(t){this.key=t},Bq=function(t){this.key=t},Uq=function(){function t(n,e){this.query=n,this.uo=e,this.ao=null,this.current=!1,this.ho=Xo(),this.mutatedKeys=Xo(),this.lo=aV(n),this.fo=new Lq(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(n,e){var i=this,o=e?e.mo:new Fq,s=e?e.fo:this.fo,a=e?e.mutatedKeys:this.mutatedKeys,d=s,f=!1,v=II(this.query)&&s.size===this.query.limit?s.last():null,w=OI(this.query)&&s.size===this.query.limit?s.first():null;if(n.inorderTraversal(function(S,E){var q=s.get(S),H=AD(i.query,E)?E:null,ee=!!q&&i.mutatedKeys.has(q.key),$=!!H&&(H.hasLocalMutations||i.mutatedKeys.has(H.key)&&H.hasCommittedMutations),oe=!1;q&&H?q.data.isEqual(H.data)?ee!==$&&(o.track({type:3,doc:H}),oe=!0):i.yo(q,H)||(o.track({type:2,doc:H}),oe=!0,(v&&i.lo(H,v)>0||w&&i.lo(H,w)<0)&&(f=!0)):!q&&H?(o.track({type:0,doc:H}),oe=!0):q&&!H&&(o.track({type:1,doc:q}),oe=!0,(v||w)&&(f=!0)),oe&&(H?(d=d.add(H),a=$?a.add(S):a.delete(S)):(d=d.delete(S),a=a.delete(S)))}),II(this.query)||OI(this.query))for(;d.size>this.query.limit;){var x=II(this.query)?d.last():d.first();d=d.delete(x.key),a=a.delete(x.key),o.track({type:1,doc:x})}return{fo:d,mo:o,Nn:f,mutatedKeys:a}},t.prototype.yo=function(n,e){return n.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(n,e,i){var o=this,s=this.fo;this.fo=n.fo,this.mutatedKeys=n.mutatedKeys;var a=n.mo.jr();a.sort(function(w,x){return E=x.type,(q=function(H){switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xi()}})(w.type)-q(E)||o.lo(w.doc,x.doc);var E,q}),this.po(i);var d=e?this.Eo():[],f=0===this.ho.size&&this.current?1:0,v=f!==this.ao;return this.ao=f,0!==a.length||v?{snapshot:new QI(this.query,n.fo,s,a,n.mutatedKeys,0===f,v,!1),To:d}:{To:d}},t.prototype.zr=function(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Fq,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(n){return!this.uo.has(n)&&!!this.fo.has(n)&&!this.fo.get(n).hasLocalMutations},t.prototype.po=function(n){var e=this;n&&(n.addedDocuments.forEach(function(i){return e.uo=e.uo.add(i)}),n.modifiedDocuments.forEach(function(i){}),n.removedDocuments.forEach(function(i){return e.uo=e.uo.delete(i)}),this.current=n.current)},t.prototype.Eo=function(){var n=this;if(!this.current)return[];var e=this.ho;this.ho=Xo(),this.fo.forEach(function(o){n.Io(o.key)&&(n.ho=n.ho.add(o.key))});var i=[];return e.forEach(function(o){n.ho.has(o)||i.push(new Bq(o))}),this.ho.forEach(function(o){e.has(o)||i.push(new Pq(o))}),i},t.prototype.Ao=function(n){this.uo=n.Bn,this.ho=Xo();var e=this._o(n.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return QI.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),UK=function(t,n,e){this.query=t,this.targetId=n,this.view=e},jK=function(t){this.key=t,this.bo=!1},VK=function(){function t(n,e,i,o,s,a){this.localStore=n,this.remoteStore=e,this.eventManager=i,this.sharedClientState=o,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new PT(function(d){return sV(d)},TD),this.Vo=new Map,this.So=new Set,this.Do=new sd(Ai.comparator),this.Co=new Map,this.No=new x3,this.xo={},this.ko=new Map,this.Fo=qI.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function qK(t,n){return(0,W.__awaiter)(this,void 0,void 0,function(){var e,o,s,a,d;return(0,W.__generator)(this,function(f){switch(f.label){case 0:return e=q3(t),(s=e.Po.get(n))?(e.sharedClientState.addLocalQueryTarget(s.targetId),o=s.view.Ro(),[3,4]):[3,1];case 1:return[4,BT(e.localStore,Qp(n))];case 2:return a=f.sent(),d=e.sharedClientState.addLocalQueryTarget(a.targetId),[4,P3(e,n,a.targetId,"current"===d)];case 3:o=f.sent(),e.isPrimaryClient&&WI(e.remoteStore,a),f.label=4;case 4:return[2,o]}})})}function P3(t,n,e,i){return(0,W.__awaiter)(this,void 0,void 0,function(){var o,s,a,d,f,v;return(0,W.__generator)(this,function(w){switch(w.label){case 0:return t.Oo=function(x,S,E){return function(q,H,ee,$){return(0,W.__awaiter)(this,void 0,void 0,function(){var oe,ve,Fe;return(0,W.__generator)(this,function(Be){switch(Be.label){case 0:return(oe=H.view._o(ee)).Nn?[4,YI(q.localStore,H.query,!1).then(function(gt){return H.view._o(gt.documents,oe)})]:[3,2];case 1:oe=Be.sent(),Be.label=2;case 2:return ve=$&&$.targetChanges.get(H.targetId),Fe=H.view.applyChanges(oe,q.isPrimaryClient,ve),[2,(j3(q,H.targetId,Fe.To),Fe.snapshot)]}})})}(t,x,S,E)},[4,YI(t.localStore,n,!0)];case 1:return o=w.sent(),s=new Uq(n,o.Bn),a=s._o(o.documents),d=h3.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==t.onlineState),f=s.applyChanges(a,t.isPrimaryClient,d),j3(t,e,f.To),v=new UK(n,e,s),[2,(t.Po.set(n,v),t.Vo.has(e)?t.Vo.get(e).push(n):t.Vo.set(e,[n]),f.snapshot)]}})})}function HK(t,n){return(0,W.__awaiter)(this,void 0,void 0,function(){var e,i,o;return(0,W.__generator)(this,function(s){switch(s.label){case 0:return e=Hn(t),i=e.Po.get(n),(o=e.Vo.get(i.targetId)).length>1?[2,(e.Vo.set(i.targetId,o.filter(function(a){return!TD(a,n)})),void e.Po.delete(n))]:e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)?[3,2]:[4,UT(e.localStore,i.targetId,!1).then(function(){e.sharedClientState.clearQueryState(i.targetId),PD(e.remoteStore,i.targetId),GT(e,i.targetId)}).catch(mC)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return GT(e,i.targetId),[4,UT(e.localStore,i.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function GK(t,n,e){return(0,W.__awaiter)(this,void 0,void 0,function(){var i,o,s,a;return(0,W.__generator)(this,function(d){switch(d.label){case 0:i=H3(t),d.label=1;case 1:return d.trys.push([1,5,,6]),[4,(f=i.localStore,v=n,x=Hn(f),S=qh.now(),E=v.reduce(function(q,H){return q.add(H.key)},Xo()),x.persistence.runTransaction("Locally write mutations","readwrite",function(q){return x.Mn.pn(q,E).next(function(H){w=H;for(var ee=[],$=0,oe=v;$<oe.length;$++){var ve=oe[$],Fe=pJ(ve,w.get(ve.key));null!=Fe&&ee.push(new Ob(ve.key,Fe,Xj(Fe.value.mapValue),od.exists(!0)))}return x._n.addMutationBatch(q,S,ee,v)})}).then(function(q){return q.applyToLocalDocumentSet(w),{batchId:q.batchId,changes:w}}))];case 2:return o=d.sent(),i.sharedClientState.addPendingMutation(o.batchId),function(f,v,w){var x=f.xo[f.currentUser.toKey()];x||(x=new sd(Wr)),x=x.insert(v,w),f.xo[f.currentUser.toKey()]=x}(i,o.batchId,e),[4,Fy(i,o.changes)];case 3:return d.sent(),[4,VT(i.remoteStore)];case 4:return d.sent(),[3,6];case 5:return s=d.sent(),a=HT(s,"Failed to persist write"),e.reject(a),[3,6];case 6:return[2]}var f,v,w,x,S,E})})}function jq(t,n){return(0,W.__awaiter)(this,void 0,void 0,function(){var e,i;return(0,W.__generator)(this,function(o){switch(o.label){case 0:e=Hn(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,nK(e.localStore,n)];case 2:return i=o.sent(),n.targetChanges.forEach(function(s,a){var d=e.Co.get(a);d&&(tr(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?d.bo=!0:s.modifiedDocuments.size>0?tr(d.bo):s.removedDocuments.size>0&&(tr(d.bo),d.bo=!1))}),[4,Fy(e,i,n)];case 3:return o.sent(),[3,6];case 4:return[4,mC(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Vq(t,n,e){var i=Hn(t);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){var o=[];i.Po.forEach(function(s,a){var d=a.view.zr(n);d.snapshot&&o.push(d.snapshot)}),function(s,a){var d=Hn(s);d.onlineState=a;var f=!1;d.queries.forEach(function(v,w){for(var x=0,S=w.listeners;x<S.length;x++)S[x].zr(a)&&(f=!0)}),f&&N3(d)}(i.eventManager,n),o.length&&i.vo._r(o),i.onlineState=n,i.isPrimaryClient&&i.sharedClientState.setOnlineState(n)}}function ZK(t,n,e){return(0,W.__awaiter)(this,void 0,void 0,function(){var i,o,s,a,d,f;return(0,W.__generator)(this,function(v){switch(v.label){case 0:return(i=Hn(t)).sharedClientState.updateQueryState(n,"rejected",e),o=i.Co.get(n),(s=o&&o.key)?(a=(a=new sd(Ai.comparator)).insert(s,Tu.newNoDocument(s,Nr.min())),d=Xo().add(s),f=new d3(Nr.min(),new Map,new uc(Wr),a,d),[4,jq(i,f)]):[3,2];case 1:return v.sent(),i.Do=i.Do.remove(s),i.Co.delete(n),V3(i),[3,4];case 2:return[4,UT(i.localStore,n,!1).then(function(){return GT(i,n,e)}).catch(mC)];case 3:v.sent(),v.label=4;case 4:return[2]}})})}function YK(t,n){return(0,W.__awaiter)(this,void 0,void 0,function(){var e,i,o;return(0,W.__generator)(this,function(s){switch(s.label){case 0:e=Hn(t),i=n.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,tK(e.localStore,n)];case 2:return o=s.sent(),U3(e,i,null),B3(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),[4,Fy(e,o)];case 3:return s.sent(),[3,6];case 4:return[4,mC(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function zK(t,n,e){return(0,W.__awaiter)(this,void 0,void 0,function(){var i,o;return(0,W.__generator)(this,function(s){switch(s.label){case 0:i=Hn(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,(a=i.localStore,d=n,f=Hn(a),f.persistence.runTransaction("Reject batch","readwrite-primary",function(v){var w;return f._n.lookupMutationBatch(v,d).next(function(x){return tr(null!==x),w=x.keys(),f._n.removeMutationBatch(v,x)}).next(function(){return f._n.performConsistencyCheck(v)}).next(function(){return f.Mn.pn(v,w)})}))];case 2:return o=s.sent(),U3(i,n,e),B3(i,n),i.sharedClientState.updateMutationState(n,"rejected",e),[4,Fy(i,o)];case 3:return s.sent(),[3,6];case 4:return[4,mC(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}var a,d,f})})}function WK(t,n){return(0,W.__awaiter)(this,void 0,void 0,function(){var e,i,o,s,a;return(0,W.__generator)(this,function(d){switch(d.label){case 0:Bb((e=Hn(t)).remoteStore)||On("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),d.label=1;case 1:return d.trys.push([1,3,,4]),[4,(f=e.localStore,v=Hn(f),v.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(w){return v._n.getHighestUnacknowledgedBatchId(w)}))];case 2:return-1===(i=d.sent())?[2,void n.resolve()]:((o=e.ko.get(i)||[]).push(n),e.ko.set(i,o),[3,4]);case 3:return s=d.sent(),a=HT(s,"Initialization of waitForPendingWrites() operation failed"),n.reject(a),[3,4];case 4:return[2]}var f,v})})}function B3(t,n){(t.ko.get(n)||[]).forEach(function(e){e.resolve()}),t.ko.delete(n)}function U3(t,n,e){var i=Hn(t),o=i.xo[i.currentUser.toKey()];if(o){var s=o.get(n);s&&(e?s.reject(e):s.resolve(),o=o.remove(n)),i.xo[i.currentUser.toKey()]=o}}function GT(t,n,e){void 0===e&&(e=null),t.sharedClientState.removeLocalQueryTarget(n);for(var i=0,o=t.Vo.get(n);i<o.length;i++){var s=o[i];t.Po.delete(s),e&&t.vo.Mo(s,e)}t.Vo.delete(n),t.isPrimaryClient&&t.No.Zn(n).forEach(function(a){t.No.containsKey(a)||qq(t,a)})}function qq(t,n){t.So.delete(n.path.canonicalString());var e=t.Do.get(n);null!==e&&(PD(t.remoteStore,e),t.Do=t.Do.remove(n),t.Co.delete(e),V3(t))}function j3(t,n,e){for(var i=0,o=e;i<o.length;i++){var s=o[i];s instanceof Pq?(t.No.addReference(s.key,n),$K(t,s)):s instanceof Bq?(On("SyncEngine","Document no longer in limbo: "+s.key),t.No.removeReference(s.key,n),t.No.containsKey(s.key)||qq(t,s.key)):xi()}}function $K(t,n){var e=n.key,i=e.path.canonicalString();t.Do.get(e)||t.So.has(i)||(On("SyncEngine","New document in limbo: "+e),t.So.add(i),V3(t))}function V3(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var n=t.So.values().next().value;t.So.delete(n);var e=new Ai(So.fromString(n)),i=t.Fo.next();t.Co.set(i,new jK(e)),t.Do=t.Do.insert(e,i),WI(t.remoteStore,new jI(Qp(xT(e.path)),i,2,Hf.o))}}function Fy(t,n,e){return(0,W.__awaiter)(this,void 0,void 0,function(){var i,o,s,a;return(0,W.__generator)(this,function(d){switch(d.label){case 0:return i=Hn(t),o=[],s=[],a=[],i.Po.isEmpty()?[3,3]:(i.Po.forEach(function(f,v){a.push(i.Oo(v,n,e).then(function(w){if(w){i.isPrimaryClient&&i.sharedClientState.updateQueryState(v.targetId,w.fromCache?"not-current":"current"),o.push(w);var x=XJ.Pn(v.targetId,w);s.push(x)}}))}),[4,Promise.all(a)]);case 1:return d.sent(),i.vo._r(o),[4,function(f,v){return(0,W.__awaiter)(this,void 0,void 0,function(){var w,x,S,E,q,H,ee,oe;return(0,W.__generator)(this,function(ve){switch(ve.label){case 0:w=Hn(f),ve.label=1;case 1:return ve.trys.push([1,3,,4]),[4,w.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(Fe){return bn.forEach(v,function(Be){return bn.forEach(Be.bn,function(gt){return w.persistence.referenceDelegate.addReference(Fe,Be.targetId,gt)}).next(function(){return bn.forEach(Be.vn,function(gt){return w.persistence.referenceDelegate.removeReference(Fe,Be.targetId,gt)})})})})];case 2:return ve.sent(),[3,4];case 3:if(!fC(x=ve.sent()))throw x;return On("LocalStore","Failed to update sequence numbers: "+x),[3,4];case 4:for(S=0,E=v;S<E.length;S++)H=(q=E[S]).targetId,q.fromCache||(ee=w.kn.get(H),oe=ee.withLastLimboFreeSnapshotVersion(ee.snapshotVersion),w.kn=w.kn.insert(H,oe));return[2]}})})}(i.localStore,s)];case 2:d.sent(),d.label=3;case 3:return[2]}})})}function QK(t,n){return(0,W.__awaiter)(this,void 0,void 0,function(){var e,i;return(0,W.__generator)(this,function(o){switch(o.label){case 0:return(e=Hn(t)).currentUser.isEqual(n)?[3,3]:(On("SyncEngine","User change. New user:",n.toKey()),[4,mq(e.localStore,n)]);case 1:return i=o.sent(),e.currentUser=n,(s=e).ko.forEach(function(d){d.forEach(function(f){f.reject(new hn(Dt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ko.clear(),e.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),[4,Fy(e,i.Ln)];case 2:o.sent(),o.label=3;case 3:return[2]}var s})})}function JK(t,n){var e=Hn(t),i=e.Co.get(n);if(i&&i.bo)return Xo().add(i.key);var o=Xo(),s=e.Vo.get(n);if(!s)return o;for(var a=0,d=s;a<d.length;a++){var v=e.Po.get(d[a]);o=o.unionWith(v.view.wo)}return o}function KK(t,n){return(0,W.__awaiter)(this,void 0,void 0,function(){var e,i,o;return(0,W.__generator)(this,function(s){switch(s.label){case 0:return[4,YI((e=Hn(t)).localStore,n.query,!0)];case 1:return i=s.sent(),o=n.view.Ao(i),[2,(e.isPrimaryClient&&j3(e,n.targetId,o.To),o)]}})})}function XK(t){return(0,W.__awaiter)(this,void 0,void 0,function(){var n;return(0,W.__generator)(this,function(e){return[2,yq((n=Hn(t)).localStore).then(function(i){return Fy(n,i)})]})})}function eX(t,n,e,i){return(0,W.__awaiter)(this,void 0,void 0,function(){var o,s;return(0,W.__generator)(this,function(a){switch(a.label){case 0:return[4,(d=(o=Hn(t)).localStore,f=n,v=Hn(d),w=Hn(v._n),v.persistence.runTransaction("Lookup mutation documents","readonly",function(x){return w.jt(x,f).next(function(S){return S?v.Mn.pn(x,S):bn.resolve(null)})}))];case 1:return null===(s=a.sent())?[3,6]:"pending"!==e?[3,3]:[4,VT(o.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(U3(o,n,i||null),B3(o,n),function(d,f){Hn(Hn(d)._n).Gt(f)}(o.localStore,n)):xi(),a.label=4;case 4:return[4,Fy(o,s)];case 5:return a.sent(),[3,7];case 6:On("SyncEngine","Cannot apply mutation batch with id: "+n),a.label=7;case 7:return[2]}var d,f,v,w})})}function tX(t,n){return(0,W.__awaiter)(this,void 0,void 0,function(){var e,i,o,s,a,f,v;return(0,W.__generator)(this,function(w){switch(w.label){case 0:return q3(e=Hn(t)),H3(e),!0!==n||!0===e.$o?[3,3]:(i=e.sharedClientState.getAllActiveQueryTargets(),[4,Hq(e,i.toArray())]);case 1:return o=w.sent(),e.$o=!0,[4,O3(e.remoteStore,!0)];case 2:for(w.sent(),s=0,a=o;s<a.length;s++)WI(e.remoteStore,a[s]);return[3,7];case 3:return!1!==n||!1===e.$o?[3,7]:(f=[],v=Promise.resolve(),e.Vo.forEach(function(x,S){e.sharedClientState.isLocalQueryTarget(S)?f.push(S):v=v.then(function(){return GT(e,S),UT(e.localStore,S,!0)}),PD(e.remoteStore,S)}),[4,v]);case 4:return w.sent(),[4,Hq(e,f)];case 5:return w.sent(),(S=Hn(e)).Co.forEach(function(E,q){PD(S.remoteStore,q)}),S.No.ts(),S.Co=new Map,S.Do=new sd(Ai.comparator),e.$o=!1,[4,O3(e.remoteStore,!1)];case 6:w.sent(),w.label=7;case 7:return[2]}var S})})}function Hq(t,n,e){return(0,W.__awaiter)(this,void 0,void 0,function(){var i,o,s,a,d,f,v,w,x,S,q,H,ee;return(0,W.__generator)(this,function($){switch($.label){case 0:i=Hn(t),o=[],s=[],a=0,d=n,$.label=1;case 1:return a<d.length?(v=void 0,(w=i.Vo.get(f=d[a]))&&0!==w.length?[4,BT(i.localStore,Qp(w[0]))]:[3,7]):[3,13];case 2:v=$.sent(),x=0,S=w,$.label=3;case 3:return x<S.length?(q=i.Po.get(S[x]),[4,KK(i,q)]):[3,6];case 4:(H=$.sent()).snapshot&&s.push(H.snapshot),$.label=5;case 5:return x++,[3,3];case 6:return[3,11];case 7:return[4,vq(i.localStore,f)];case 8:return ee=$.sent(),[4,BT(i.localStore,ee)];case 9:return v=$.sent(),[4,P3(i,Gq(ee),f,!1)];case 10:$.sent(),$.label=11;case 11:o.push(v),$.label=12;case 12:return a++,[3,1];case 13:return[2,(i.vo._r(s),o)]}})})}function Gq(t){return rV(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function nX(t){var n=Hn(t);return Hn(Hn(n.localStore).persistence).fn()}function iX(t,n,e,i){return(0,W.__awaiter)(this,void 0,void 0,function(){var o,s,a;return(0,W.__generator)(this,function(d){switch(d.label){case 0:return(o=Hn(t)).$o?(On("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(n))return[3,8];switch(e){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,yq(o.localStore)];case 3:return s=d.sent(),a=d3.createSynthesizedRemoteEventForCurrentChange(n,"current"===e),[4,Fy(o,s,a)];case 4:return d.sent(),[3,8];case 5:return[4,UT(o.localStore,n,!0)];case 6:return d.sent(),GT(o,n,i),[3,8];case 7:xi(),d.label=8;case 8:return[2]}})})}function rX(t,n,e){return(0,W.__awaiter)(this,void 0,void 0,function(){var i,o,s,a,d,f,v,w,x;return(0,W.__generator)(this,function(E){switch(E.label){case 0:if(!(i=q3(t)).$o)return[3,10];o=0,s=n,E.label=1;case 1:return o<s.length?i.Vo.has(a=s[o])?(On("SyncEngine","Adding an already active target "+a),[3,5]):[4,vq(i.localStore,a)]:[3,6];case 2:return d=E.sent(),[4,BT(i.localStore,d)];case 3:return f=E.sent(),[4,P3(i,Gq(d),f.targetId,!1)];case 4:E.sent(),WI(i.remoteStore,f),E.label=5;case 5:return o++,[3,1];case 6:v=function(q){return(0,W.__generator)(this,function(H){switch(H.label){case 0:return i.Vo.has(q)?[4,UT(i.localStore,q,!1).then(function(){PD(i.remoteStore,q),GT(i,q)}).catch(mC)]:[3,2];case 1:H.sent(),H.label=2;case 2:return[2]}})},w=0,x=e,E.label=7;case 7:return w<x.length?[5,v(x[w])]:[3,10];case 8:E.sent(),E.label=9;case 9:return w++,[3,7];case 10:return[2]}})})}function q3(t){var n=Hn(t);return n.remoteStore.remoteSyncer.applyRemoteEvent=jq.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=JK.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=ZK.bind(null,n),n.vo._r=NK.bind(null,n.eventManager),n.vo.Mo=RK.bind(null,n.eventManager),n}function H3(t){var n=Hn(t);return n.remoteStore.remoteSyncer.applySuccessfulWrite=YK.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=zK.bind(null,n),n}function oX(t,n,e){var i=Hn(t);(function(o,s,a){return(0,W.__awaiter)(this,void 0,void 0,function(){var d,f,v,w,x,S;return(0,W.__generator)(this,function(E){switch(E.label){case 0:return E.trys.push([0,14,,15]),[4,s.getMetadata()];case 1:return d=E.sent(),[4,(q=o.localStore,H=d,ee=Hn(q),$=Wc(H.createTime),ee.persistence.runTransaction("hasNewerBundle","readonly",function(oe){return ee.Ke.getBundleMetadata(oe,H.id)}).then(function(oe){return!!oe&&oe.createTime.compareTo($)>=0}))];case 2:return E.sent()?[4,s.close()]:[3,4];case 3:return[2,(E.sent(),void a._completeWith(function(q){return{taskState:"Success",documentsLoaded:q.totalDocuments,bytesLoaded:q.totalBytes,totalDocuments:q.totalDocuments,totalBytes:q.totalBytes}}(d)))];case 4:return a._updateProgress(Rq(d)),f=new BK(d,o.localStore,s.R),[4,s.Lo()];case 5:v=E.sent(),E.label=6;case 6:return v?[4,f.oo(v)]:[3,10];case 7:return(w=E.sent())&&a._updateProgress(w),[4,s.Lo()];case 8:v=E.sent(),E.label=9;case 9:return[3,6];case 10:return[4,f.complete()];case 11:return x=E.sent(),[4,Fy(o,x.wn,void 0)];case 12:return E.sent(),[4,function(q,H){var ee=Hn(q);return ee.persistence.runTransaction("Save bundle","readwrite",function($){return ee.Ke.saveBundleMetadata($,H)})}(o.localStore,d)];case 13:return E.sent(),a._completeWith(x.progress),[3,15];case 14:return vD("SyncEngine","Loading bundle failed with "+(S=E.sent())),a._failWith(S),[3,15];case 15:return[2]}var q,H,ee,$})})})(i,n,e).then(function(){i.sharedClientState.notifyBundleLoaded()})}var Zq=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(n){return(0,W.__awaiter)(this,void 0,void 0,function(){return(0,W.__generator)(this,function(e){switch(e.label){case 0:return this.R=ND(n.databaseInfo.databaseId),this.sharedClientState=this.Bo(n),this.persistence=this.qo(n),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(n),this.localStore=this.Ko(n),[2]}})})},t.prototype.Uo=function(n){return null},t.prototype.Ko=function(n){return pq(this.persistence,new fq,n.initialUser,this.R)},t.prototype.qo=function(n){return new hK(pK.bs,this.R)},t.prototype.Bo=function(n){return new Tq},t.prototype.terminate=function(){return(0,W.__awaiter)(this,void 0,void 0,function(){return(0,W.__generator)(this,function(n){switch(n.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return n.sent(),[4,this.persistence.shutdown()];case 2:return n.sent(),[2]}})})},t}(),Yq=function(t){function n(e,i,o){var s=this;return(s=t.call(this)||this).Qo=e,s.cacheSizeBytes=i,s.forceOwnership=o,s.synchronizeTabs=!1,s}return(0,W.__extends)(n,t),n.prototype.initialize=function(e){return(0,W.__awaiter)(this,void 0,void 0,function(){var i=this;return(0,W.__generator)(this,function(o){switch(o.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return o.sent(),[4,rK(this.localStore)];case 2:return o.sent(),[4,this.Qo.initialize(this,e)];case 3:return o.sent(),[4,H3(this.Qo.syncEngine)];case 4:return o.sent(),[4,VT(this.Qo.remoteStore)];case 5:return o.sent(),[4,this.persistence.He(function(){return i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()})];case 6:return o.sent(),[2]}})})},n.prototype.Ko=function(e){return pq(this.persistence,new fq,e.initialUser,this.R)},n.prototype.Uo=function(e){return new ZJ(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)},n.prototype.qo=function(e){var i=C3(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Z_.withCacheSize(this.cacheSizeBytes):Z_.DEFAULT;return new JJ(this.synchronizeTabs,i,e.clientId,o,e.asyncQueue,Sq(),zI(),this.R,this.sharedClientState,!!this.forceOwnership)},n.prototype.Bo=function(e){return new Tq},n}(Zq),sX=function(t){function n(e,i){var o=this;return(o=t.call(this,e,i,!1)||this).Qo=e,o.cacheSizeBytes=i,o.synchronizeTabs=!0,o}return(0,W.__extends)(n,t),n.prototype.initialize=function(e){return(0,W.__awaiter)(this,void 0,void 0,function(){var i,o=this;return(0,W.__generator)(this,function(s){switch(s.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return s.sent(),i=this.Qo.syncEngine,this.sharedClientState instanceof D3?(this.sharedClientState.syncEngine={ui:eX.bind(null,i),ai:iX.bind(null,i),hi:rX.bind(null,i),fn:nX.bind(null,i),ci:XK.bind(null,i)},[4,this.sharedClientState.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.He(function(a){return(0,W.__awaiter)(o,void 0,void 0,function(){return(0,W.__generator)(this,function(d){switch(d.label){case 0:return[4,tX(this.Qo.syncEngine,a)];case 1:return d.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},n.prototype.Bo=function(e){var i=Sq();if(!D3.yt(i))throw new hn(Dt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var o=C3(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new D3(i,e.asyncQueue,o,e.clientId,e.initialUser)},n}(Yq),G3=function(){function t(){}return t.prototype.initialize=function(n,e){return(0,W.__awaiter)(this,void 0,void 0,function(){var i=this;return(0,W.__generator)(this,function(o){switch(o.label){case 0:return this.localStore?[3,2]:(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(s){return Vq(i.syncEngine,s,1)},this.remoteStore.remoteSyncer.handleCredentialChange=QK.bind(null,this.syncEngine),[4,O3(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:o.sent(),o.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(n){return new FK},t.prototype.createDatastore=function(n){var i=ND(n.databaseInfo.databaseId),o=new yK(n.databaseInfo);return new CK(n.credentials,o,i)},t.prototype.createRemoteStore=function(n){var e,i,o,s,a,d=this;return e=this.localStore,i=this.datastore,o=n.asyncQueue,s=function(f){return Vq(d.syncEngine,f,0)},a=Aq.yt()?new Aq:new gK,new TK(e,i,o,s,a)},t.prototype.createSyncEngine=function(n,e){return v=e,w=new VK(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions),v&&(w.$o=!0),w;var v,w},t.prototype.terminate=function(){return function(n){return(0,W.__awaiter)(this,void 0,void 0,function(){var e;return(0,W.__generator)(this,function(i){switch(i.label){case 0:return e=Hn(n),On("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,jT(e)];case 1:return i.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}();function zq(t,n){void 0===n&&(n=10240);var e=0;return{read:function(){return(0,W.__awaiter)(this,void 0,void 0,function(){var i;return(0,W.__generator)(this,function(o){return e<t.byteLength?(i={value:t.slice(e,e+n),done:!1},[2,(e+=n,i)]):[2,{done:!0}]})})},cancel:function(){return(0,W.__awaiter)(this,void 0,void 0,function(){return(0,W.__generator)(this,function(i){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var JI=function(){function t(n){this.observer=n,this.muted=!1}return t.prototype.next=function(n){this.observer.next&&this.jo(this.observer.next,n)},t.prototype.error=function(n){this.observer.error?this.jo(this.observer.error,n):console.error("Uncaught Error in snapshot listener:",n)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(n,e){var i=this;this.muted||setTimeout(function(){i.muted||n(e)},0)},t}(),aX=function(){function t(n,e){var i=this;this.Go=n,this.R=e,this.metadata=new ld,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(o){o&&o.io()?i.metadata.resolve(o.payload.metadata):i.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==o?void 0:o.payload)))},function(o){return i.metadata.reject(o)})}return t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return(0,W.__awaiter)(this,void 0,void 0,function(){return(0,W.__generator)(this,function(n){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return(0,W.__awaiter)(this,void 0,void 0,function(){return(0,W.__generator)(this,function(n){switch(n.label){case 0:return[4,this.getMetadata()];case 1:return[2,(n.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return(0,W.__awaiter)(this,void 0,void 0,function(){var n,e,i,o;return(0,W.__generator)(this,function(s){switch(s.label){case 0:return[4,this.Jo()];case 1:return null===(n=s.sent())?[2,null]:(e=this.zo.decode(n),i=Number(e),isNaN(i)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(i)]);case 2:return o=s.sent(),[2,new PK(JSON.parse(o),n.length+i)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(n){return n==="{".charCodeAt(0)})},t.prototype.Jo=function(){return(0,W.__awaiter)(this,void 0,void 0,function(){var n,e;return(0,W.__generator)(this,function(i){switch(i.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(i.sent())return[3,3];i.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((n=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,n),[2,(this.buffer=this.buffer.slice(n),e)])}})})},t.prototype.Xo=function(n){return(0,W.__awaiter)(this,void 0,void 0,function(){var e;return(0,W.__generator)(this,function(i){switch(i.label){case 0:return this.buffer.length<n?[4,this.tc()]:[3,3];case 1:i.sent()&&this.Yo("Reached the end of bundle when more is expected."),i.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,n)),[2,(this.buffer=this.buffer.slice(n),e)]}})})},t.prototype.Yo=function(n){throw this.Go.cancel(),new Error("Invalid bundle format: "+n)},t.prototype.tc=function(){return(0,W.__awaiter)(this,void 0,void 0,function(){var n,e;return(0,W.__generator)(this,function(i){switch(i.label){case 0:return[4,this.Go.read()];case 1:return(n=i.sent()).done||((e=new Uint8Array(this.buffer.length+n.value.length)).set(this.buffer),e.set(n.value,this.buffer.length),this.buffer=e),[2,n.done]}})})},t}(),lX=function(){function t(n){this.datastore=n,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(n){return(0,W.__awaiter)(this,void 0,void 0,function(){var e,i=this;return(0,W.__generator)(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new hn(Dt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,a){return(0,W.__awaiter)(this,void 0,void 0,function(){var d,f,v,w,x,S;return(0,W.__generator)(this,function(E){switch(E.label){case 0:return d=Hn(s),f=ID(d.R)+"/documents",v={documents:a.map(function(q){return kD(d.R,q)})},[4,d.$i("BatchGetDocuments",f,v)];case 1:return w=E.sent(),x=new Map,w.forEach(function(q){var ee,$,H=(ee=d.R,"found"in($=q)?function(oe,ve){tr(!!ve.found);var Fe=H_(oe,ve.found.name),Be=Wc(ve.found.updateTime),gt=new Gf({mapValue:{fields:ve.found.fields}});return Tu.newFoundDocument(Fe,Be,gt)}(ee,$):"missing"in $?function(oe,ve){tr(!!ve.missing),tr(!!ve.readTime);var Fe=H_(oe,ve.missing),Be=Wc(ve.readTime);return Tu.newNoDocument(Fe,Be)}(ee,$):xi());x.set(H.key.toString(),H)}),S=[],[2,(a.forEach(function(q){var H=x.get(q.toString());tr(!!H),S.push(H)}),S)]}})})}(this.datastore,n)];case 1:return[2,((e=o.sent()).forEach(function(s){return i.recordVersion(s)}),e)]}})})},t.prototype.set=function(n,e){this.write(e.toMutation(n,this.precondition(n))),this.writtenDocs.add(n.toString())},t.prototype.update=function(n,e){try{this.write(e.toMutation(n,this.preconditionForUpdate(n)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(n.toString())},t.prototype.delete=function(n){this.write(new ED(n,this.precondition(n))),this.writtenDocs.add(n.toString())},t.prototype.commit=function(){return(0,W.__awaiter)(this,void 0,void 0,function(){var n,e=this;return(0,W.__generator)(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return n=this.readVersions,this.mutations.forEach(function(o){n.delete(o.key.toString())}),n.forEach(function(o,s){var a=Ai.fromPath(s);e.mutations.push(new c3(a,e.precondition(a)))}),[4,function(o,s){return(0,W.__awaiter)(this,void 0,void 0,function(){var a,d,f;return(0,W.__generator)(this,function(v){switch(v.label){case 0:return a=Hn(o),d=ID(a.R)+"/documents",f={writes:s.map(function(w){return UI(a.R,w)})},[4,a.Ni("Commit",d,f)];case 1:return v.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return i.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(n){var e;if(n.isFoundDocument())e=n.version;else{if(!n.isNoDocument())throw xi();e=Nr.min()}var i=this.readVersions.get(n.key.toString());if(i){if(!e.isEqual(i))throw new hn(Dt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(n.key.toString(),e)},t.prototype.precondition=function(n){var e=this.readVersions.get(n.toString());return!this.writtenDocs.has(n.toString())&&e?od.updateTime(e):od.none()},t.prototype.preconditionForUpdate=function(n){var e=this.readVersions.get(n.toString());if(!this.writtenDocs.has(n.toString())&&e){if(e.isEqual(Nr.min()))throw new hn(Dt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return od.updateTime(e)}return od.exists(!0)},t.prototype.write=function(n){this.ensureCommitNotCalled(),this.mutations.push(n)},t.prototype.ensureCommitNotCalled=function(){},t}(),cX=function(){function t(n,e,i,o){this.asyncQueue=n,this.datastore=e,this.updateFunction=i,this.deferred=o,this.ec=5,this.Zi=new E3(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var n=this;this.Zi.ji(function(){return(0,W.__awaiter)(n,void 0,void 0,function(){var e,i,o=this;return(0,W.__generator)(this,function(s){return e=new lX(this.datastore),(i=this.sc(e))&&i.then(function(a){o.asyncQueue.enqueueAndForget(function(){return e.commit().then(function(){o.deferred.resolve(a)}).catch(function(d){o.ic(d)})})}).catch(function(a){o.ic(a)}),[2]})})})},t.prototype.sc=function(n){try{var e=this.updateFunction(n);return!lC(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}},t.prototype.ic=function(n){var e=this;this.ec>0&&this.rc(n)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(n)},t.prototype.rc=function(n){if("FirebaseError"===n.name){var e=n.code;return"aborted"===e||"failed-precondition"===e||!wV(e)}return!1},t}(),uX=function(){function t(n,e,i){var o=this;this.credentials=n,this.asyncQueue=e,this.databaseInfo=i,this.user=Su.UNAUTHENTICATED,this.clientId=Hj.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(s){return(0,W.__awaiter)(o,void 0,void 0,function(){return(0,W.__generator)(this,function(a){switch(a.label){case 0:return On("FirestoreClient","Received user=",s.uid),[4,this.credentialListener(s)];case 1:return a.sent(),this.user=s,[2]}})})})}return t.prototype.getConfiguration=function(){return(0,W.__awaiter)(this,void 0,void 0,function(){return(0,W.__generator)(this,function(n){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(n){this.credentialListener=n},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new hn(Dt.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var n=this;this.asyncQueue.enterRestrictedMode();var e=new ld;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,W.__awaiter)(n,void 0,void 0,function(){var i,o;return(0,W.__generator)(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return i=s.sent(),o=HT(i,"Failed to shutdown persistence"),e.reject(o),[3,6];case 6:return[2]}})})}),e.promise},t}();function Wq(t,n){return(0,W.__awaiter)(this,void 0,void 0,function(){var e,i,o=this;return(0,W.__generator)(this,function(s){switch(s.label){case 0:return t.asyncQueue.verifyOperationInProgress(),On("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return e=s.sent(),[4,n.initialize(e)];case 2:return s.sent(),i=e.initialUser,t.setCredentialChangeListener(function(a){return(0,W.__awaiter)(o,void 0,void 0,function(){return(0,W.__generator)(this,function(d){switch(d.label){case 0:return i.isEqual(a)?[3,2]:[4,mq(n.localStore,a)];case 1:d.sent(),i=a,d.label=2;case 2:return[2]}})})}),n.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=n,[2]}})})}function $q(t,n){return(0,W.__awaiter)(this,void 0,void 0,function(){var e,i;return(0,W.__generator)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Z3(t)];case 1:return e=o.sent(),On("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return i=o.sent(),[4,n.initialize(e,i)];case 3:return o.sent(),t.setCredentialChangeListener(function(s){return function(a,d){return(0,W.__awaiter)(this,void 0,void 0,function(){var f,v;return(0,W.__generator)(this,function(w){switch(w.label){case 0:return(f=Hn(a)).asyncQueue.verifyOperationInProgress(),On("RemoteStore","RemoteStore received new credentials"),v=Bb(f),f.Or.add(3),[4,jT(f)];case 1:return w.sent(),v&&f.Br.set("Unknown"),[4,f.remoteSyncer.handleCredentialChange(d)];case 2:return w.sent(),f.Or.delete(3),[4,RD(f)];case 3:return w.sent(),[2]}})})}(n.remoteStore,s)}),t.onlineComponents=n,[2]}})})}function Z3(t){return(0,W.__awaiter)(this,void 0,void 0,function(){return(0,W.__generator)(this,function(n){switch(n.label){case 0:return t.offlineComponents?[3,2]:(On("FirestoreClient","Using default OfflineComponentProvider"),[4,Wq(t,new Zq)]);case 1:n.sent(),n.label=2;case 2:return[2,t.offlineComponents]}})})}function KI(t){return(0,W.__awaiter)(this,void 0,void 0,function(){return(0,W.__generator)(this,function(n){switch(n.label){case 0:return t.onlineComponents?[3,2]:(On("FirestoreClient","Using default OnlineComponentProvider"),[4,$q(t,new G3)]);case 1:n.sent(),n.label=2;case 2:return[2,t.onlineComponents]}})})}function Qq(t){return Z3(t).then(function(n){return n.persistence})}function Y3(t){return Z3(t).then(function(n){return n.localStore})}function Jq(t){return KI(t).then(function(n){return n.remoteStore})}function z3(t){return KI(t).then(function(n){return n.syncEngine})}function ZT(t){return(0,W.__awaiter)(this,void 0,void 0,function(){var n,e;return(0,W.__generator)(this,function(i){switch(i.label){case 0:return[4,KI(t)];case 1:return n=i.sent(),[2,((e=n.eventManager).onListen=qK.bind(null,n.syncEngine),e.onUnlisten=HK.bind(null,n.syncEngine),e)]}})})}function Kq(t,n,e){var i=this;void 0===e&&(e={});var o=new ld;return t.asyncQueue.enqueueAndForget(function(){return(0,W.__awaiter)(i,void 0,void 0,function(){var s;return(0,W.__generator)(this,function(a){switch(a.label){case 0:return s=function(d,f,v,w,x){var S=new JI({next:function(q){f.enqueueAndForget(function(){return F3(d,E)});var H=q.docs.has(v);!H&&q.fromCache?x.reject(new hn(Dt.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&q.fromCache&&w&&"server"===w.source?x.reject(new hn(Dt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):x.resolve(q)},error:function(q){return x.reject(q)}}),E=new R3(xT(v.path),S,{includeMetadataChanges:!0,so:!0});return L3(d,E)},[4,ZT(t)];case 1:return[2,s.apply(void 0,[a.sent(),t.asyncQueue,n,e,o])]}})})}),o.promise}function Xq(t,n,e){var i=this;void 0===e&&(e={});var o=new ld;return t.asyncQueue.enqueueAndForget(function(){return(0,W.__awaiter)(i,void 0,void 0,function(){var s;return(0,W.__generator)(this,function(a){switch(a.label){case 0:return s=function(d,f,v,w,x){var S=new JI({next:function(q){f.enqueueAndForget(function(){return F3(d,E)}),q.fromCache&&"server"===w.source?x.reject(new hn(Dt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):x.resolve(q)},error:function(q){return x.reject(q)}}),E=new R3(v,S,{includeMetadataChanges:!0,so:!0});return L3(d,E)},[4,ZT(t)];case 1:return[2,s.apply(void 0,[a.sent(),t.asyncQueue,n,e,o])]}})})}),o.promise}var dX=function(t,n,e,i,o,s,a,d){this.databaseId=t,this.appId=n,this.persistenceKey=e,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=d},XI=function(){function t(n,e){this.projectId=n,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(n){return n instanceof t&&n.projectId===this.projectId&&n.database===this.database},t}(),eH=new Map,tH=function(t,n){this.user=n,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},nH=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(n,e){this.changeListener=e,n.enqueueRetryable(function(){return e(Su.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),hX=function(){function t(n){this.token=n,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(n,e){var i=this;this.changeListener=e,n.enqueueRetryable(function(){return e(i.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),fX=function(){function t(n){var e=this;this.currentUser=Su.UNAUTHENTICATED,this.oc=new ld,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var i=function(o){On("FirebaseCredentialsProvider","Auth detected"),e.auth=o,e.auth.addAuthTokenListener(e.uc)};n.onInit(function(o){return i(o)}),setTimeout(function(){if(!e.auth){var o=n.getImmediate({optional:!0});o?i(o):(On("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}},0)}return t.prototype.getToken=function(){var n=this,e=this.cc,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(function(o){return n.cc!==e?(On("FirebaseCredentialsProvider","getToken aborted due to token change."),n.getToken()):o?(tr("string"==typeof o.accessToken),new tH(o.accessToken,n.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(n,e){var i=this;this.asyncQueue=n,this.asyncQueue.enqueueRetryable(function(){return(0,W.__awaiter)(i,void 0,void 0,function(){return(0,W.__generator)(this,function(o){switch(o.label){case 0:return[4,this.oc.promise];case 1:return o.sent(),[4,e(this.currentUser)];case 2:return o.sent(),this.changeListener=e,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var n=this.auth&&this.auth.getUid();return tr(null===n||"string"==typeof n),new Su(n)},t}(),pX=function(){function t(n,e,i){this.hc=n,this.lc=e,this.fc=i,this.type="FirstParty",this.user=Su.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var n={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(n.Authorization=e),this.fc&&(n["X-Goog-Iam-Authorization-Token"]=this.fc),n},enumerable:!1,configurable:!0}),t}(),mX=function(){function t(n,e,i){this.hc=n,this.lc=e,this.fc=i}return t.prototype.getToken=function(){return Promise.resolve(new pX(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(n,e){n.enqueueRetryable(function(){return e(Su.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function W3(t,n,e){if(!e)throw new hn(Dt.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+n+".")}function $3(t,n){if(void 0===n)return{merge:!1};if(void 0!==n.mergeFields&&void 0!==n.merge)throw new hn(Dt.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return n}function iH(t,n,e,i){if(!0===n&&!0===i)throw new hn(Dt.INVALID_ARGUMENT,t+" and "+e+" cannot be used together.")}function rH(t){if(!Ai.isDocumentKey(t))throw new hn(Dt.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function oH(t){if(Ai.isDocumentKey(t))throw new hn(Dt.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function eO(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var n=function(e){if(e.constructor){var i=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(i&&i.length>1)return i[1]}return null}(t);return n?"a custom "+n+" object":"an object"}return"function"==typeof t?"a function":xi()}function Do(t,n){if("_delegate"in t&&(t=t._delegate),!(t instanceof n)){if(n.name===t.constructor.name)throw new hn(Dt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var e=eO(t);throw new hn(Dt.INVALID_ARGUMENT,"Expected type '"+n.name+"', but it was: "+e)}return t}function sH(t,n){if(n<=0)throw new hn(Dt.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+n+".")}var aH=function(){function t(n){var e;if(void 0===n.host){if(void 0!==n.ssl)throw new hn(Dt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(e=n.ssl)||void 0===e||e;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new hn(Dt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.useFetchStreams=!!n.useFetchStreams,iH("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams},t}(),BD=function(){function t(n,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aH({}),this._settingsFrozen=!1,n instanceof XI?(this._databaseId=n,this._credentials=new nH):(this._app=n,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new hn(Dt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new XI(i.options.projectId)}(n),this._credentials=new fX(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new hn(Dt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(n){if(this._settingsFrozen)throw new hn(Dt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aH(n),void 0!==n.credentials&&(this._credentials=function(e){if(!e)return new nH;switch(e.type){case"gapi":var i=e.client;return tr(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new mX(i,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new hn(Dt.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(n.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(e=eH.get(this))&&(On("ComponentProvider","Removing Datastore"),eH.delete(this),e.terminate()),Promise.resolve();var e},t}(),xa=function(){function t(n,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=n}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new jb(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._key)},t}(),Zh=function(){function t(n,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=n}return t.prototype.withConverter=function(n){return new t(this.firestore,n,this._query)},t}(),jb=function(t){function n(e,i,o){var s=this;return(s=t.call(this,e,i,xT(o))||this)._path=o,s.type="collection",s}return(0,W.__extends)(n,t),Object.defineProperty(n.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new xa(this.firestore,null,new Ai(e))},enumerable:!1,configurable:!0}),n.prototype.withConverter=function(e){return new n(this.firestore,e,this._path)},n}(Zh);function lH(t,n){for(var e,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(t=(0,pi.getModularInstance)(t),W3("collection","path",n),t instanceof BD)return oH(e=So.fromString.apply(So,(0,W.__spreadArray)([n],i))),new jb(t,null,e);if(!(t instanceof xa||t instanceof jb))throw new hn(Dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return oH(e=So.fromString.apply(So,(0,W.__spreadArray)([t.path],i)).child(So.fromString(n))),new jb(t.firestore,null,e)}function tO(t,n){for(var e,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(t=(0,pi.getModularInstance)(t),1===arguments.length&&(n=Hj.u()),W3("doc","path",n),t instanceof BD)return rH(e=So.fromString.apply(So,(0,W.__spreadArray)([n],i))),new xa(t,null,new Ai(e));if(!(t instanceof xa||t instanceof jb))throw new hn(Dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return rH(e=t._path.child(So.fromString.apply(So,(0,W.__spreadArray)([n],i)))),new xa(t.firestore,t instanceof jb?t.converter:null,new Ai(e))}function cH(t,n){return t=(0,pi.getModularInstance)(t),n=(0,pi.getModularInstance)(n),(t instanceof xa||t instanceof jb)&&(n instanceof xa||n instanceof jb)&&t.firestore===n.firestore&&t.path===n.path&&t.converter===n.converter}function uH(t,n){return t=(0,pi.getModularInstance)(t),n=(0,pi.getModularInstance)(n),t instanceof Zh&&n instanceof Zh&&t.firestore===n.firestore&&TD(t._query,n._query)&&t.converter===n.converter}var gX=function(){function t(){var n=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new E3(this,"async_queue_retry"),this.Ic=function(){var i=zI();i&&On("AsyncQueue","Visibility state changed to "+i.visibilityState),n.Zi.Gi()};var e=zI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(n){this.enqueue(n)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(n){this.Ac(),this.Rc(n)},t.prototype.enterRestrictedMode=function(n){if(!this._c){this._c=!0,this.Ec=n||!1;var e=zI();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(n){var e=this;if(this.Ac(),this._c)return new Promise(function(){});var i=new ld;return this.Rc(function(){return e._c&&e.Ec?Promise.resolve():(n().then(i.resolve,i.reject),i.promise)}).then(function(){return i.promise})},t.prototype.enqueueRetryable=function(n){var e=this;this.enqueueAndForget(function(){return e.wc.push(n),e.bc()})},t.prototype.bc=function(){return(0,W.__awaiter)(this,void 0,void 0,function(){var n,e=this;return(0,W.__generator)(this,function(i){switch(i.label){case 0:if(0===this.wc.length)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return i.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!fC(n=i.sent()))throw n;return On("AsyncQueue","Operation failed with retryable error: "+n),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return e.bc()}),i.label=5;case 5:return[2]}})})},t.prototype.Rc=function(n){var e=this,i=this.dc.then(function(){return e.gc=!0,n().catch(function(o){throw e.yc=o,e.gc=!1,Ll("INTERNAL UNHANDLED ERROR: ",(a=(s=o).message||"",s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a)),o;var s,a}).then(function(o){return e.gc=!1,o})});return this.dc=i,i},t.prototype.enqueueAfterDelay=function(n,e,i){var o=this;this.Ac(),this.Tc.indexOf(n)>-1&&(e=0);var s=OK.createAndSchedule(this,n,e,i,function(a){return o.vc(a)});return this.mc.push(s),s},t.prototype.Ac=function(){this.yc&&xi()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return(0,W.__awaiter)(this,void 0,void 0,function(){var n;return(0,W.__generator)(this,function(e){switch(e.label){case 0:return[4,n=this.dc];case 1:e.sent(),e.label=2;case 2:if(n!==this.dc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Vc=function(n){for(var e=0,i=this.mc;e<i.length;e++)if(i[e].timerId===n)return!0;return!1},t.prototype.Sc=function(n){var e=this;return this.Pc().then(function(){e.mc.sort(function(a,d){return a.targetTimeMs-d.targetTimeMs});for(var i=0,o=e.mc;i<o.length;i++){var s=o[i];if(s.skipDelay(),"all"!==n&&s.timerId===n)break}return e.Pc()})},t.prototype.Dc=function(n){this.Tc.push(n)},t.prototype.vc=function(n){var e=this.mc.indexOf(n);this.mc.splice(e,1)},t}();function YT(t){return function(n,e){if("object"!=typeof n||null===n)return!1;for(var i=n,o=0,s=["next","error","complete"];o<s.length;o++){var a=s[o];if(a in i&&"function"==typeof i[a])return!0}return!1}(t)}var _X=function(){function t(){this._progressObserver={},this._taskCompletionResolver=new ld,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return t.prototype.onProgress=function(n,e,i){this._progressObserver={next:n,error:e,complete:i}},t.prototype.catch=function(n){return this._taskCompletionResolver.promise.catch(n)},t.prototype.then=function(n,e){return this._taskCompletionResolver.promise.then(n,e)},t.prototype._completeWith=function(n){this._updateProgress(n),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(n)},t.prototype._failWith=function(n){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(n),this._taskCompletionResolver.reject(n)},t.prototype._updateProgress=function(n){this._lastProgress=n,this._progressObserver.next&&this._progressObserver.next(n)},t}(),ll=function(t){function n(e,i){var o=this;return(o=t.call(this,e,i)||this).type="firestore",o._queue=new gX,o._persistenceKey="name"in e?e.name:"[DEFAULT]",o}return(0,W.__extends)(n,t),n.prototype._terminate=function(){return this._firestoreClient||dH(this),this._firestoreClient.terminate()},n}(BD);function Qc(t){return t._firestoreClient||dH(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function dH(t){var n,s,d,e=t._freezeSettings(),i=(s=(null===(n=t._app)||void 0===n?void 0:n.options.appId)||"",new dX(t._databaseId,s,t._persistenceKey,(d=e).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,d.useFetchStreams));t._firestoreClient=new uX(t._credentials,t._queue,i)}function hH(t,n,e){var i=this,o=new ld;return t.asyncQueue.enqueue(function(){return(0,W.__awaiter)(i,void 0,void 0,function(){var s;return(0,W.__generator)(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,Wq(t,e)];case 1:return a.sent(),[4,$q(t,n)];case 2:return a.sent(),o.resolve(),[3,4];case 3:if(!("FirebaseError"===(d=s=a.sent()).name?d.code===Dt.FAILED_PRECONDITION||d.code===Dt.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),o.reject(s),[3,4];case 4:return[2]}var d})})}).then(function(){return o.promise})}function fH(t){if(t._initialized||t._terminated)throw new hn(Dt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Y_=function(){function t(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new hn(Dt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hg(n)}return t.prototype.isEqual=function(n){return this._internalPath.isEqual(n._internalPath)},t}(),gC=function(){function t(n){this._byteString=n}return t.fromBase64String=function(n){try{return new t(eh.fromBase64String(n))}catch(e){throw new hn(Dt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(n){return new t(eh.fromUint8Array(n))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(n){return this._byteString.isEqual(n._byteString)},t}(),_C=function(t){this._methodName=t},nO=function(){function t(n,e){if(!isFinite(n)||n<-90||n>90)throw new hn(Dt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(e)||e<-180||e>180)throw new hn(Dt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=n,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(n){return this._lat===n._lat&&this._long===n._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(n){return Wr(this._lat,n._lat)||Wr(this._long,n._long)},t}(),yX=/^__.*__$/,bX=function(){function t(n,e,i){this.data=n,this.fieldMask=e,this.fieldTransforms=i}return t.prototype.toMutation=function(n,e){return null!==this.fieldMask?new Ob(n,this.data,this.fieldMask,e,this.fieldTransforms):new DD(n,this.data,e,this.fieldTransforms)},t}(),pH=function(){function t(n,e,i){this.data=n,this.fieldMask=e,this.fieldTransforms=i}return t.prototype.toMutation=function(n,e){return new Ob(n,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function mH(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xi()}}var gH=function(){function t(n,e,i,o,s,a){this.settings=n,this.databaseId=e,this.R=i,this.ignoreUndefinedProperties=o,void 0===s&&this.Cc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(n){return new t(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(n){var e,i=null===(e=this.path)||void 0===e?void 0:e.child(n),o=this.xc({path:i,Fc:!1});return o.$c(n),o},t.prototype.Oc=function(n){var e,i=null===(e=this.path)||void 0===e?void 0:e.child(n),o=this.xc({path:i,Fc:!1});return o.Cc(),o},t.prototype.Mc=function(n){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(n){return rO(n,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(n){return void 0!==this.fieldMask.find(function(e){return n.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return n.isPrefixOf(e.field)})},t.prototype.Cc=function(){if(this.path)for(var n=0;n<this.path.length;n++)this.$c(this.path.get(n))},t.prototype.$c=function(n){if(0===n.length)throw this.Lc("Document fields must not be empty");if(mH(this.Nc)&&yX.test(n))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),wX=function(){function t(n,e,i){this.databaseId=n,this.ignoreUndefinedProperties=e,this.R=i||ND(n)}return t.prototype.Uc=function(n,e,i,o){return void 0===o&&(o=!1),new gH({Nc:n,methodName:e,qc:i,path:hg.emptyPath(),Fc:!1,Bc:o},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function vC(t){var n=t._freezeSettings(),e=ND(t._databaseId);return new wX(t._databaseId,!!n.ignoreUndefinedProperties,e)}function iO(t,n,e,i,o,s){void 0===s&&(s={});var a=t.Uc(s.merge||s.mergeFields?2:0,n,e,o);X3("Data must be an object, but it was:",a,i);var d,f,v=yH(i,a);if(s.merge)d=new yT(a.fieldMask),f=a.fieldTransforms;else if(s.mergeFields){for(var w=[],x=0,S=s.mergeFields;x<S.length;x++){var E=eP(n,S[x],e);if(!a.contains(E))throw new hn(Dt.INVALID_ARGUMENT,"Field '"+E+"' is specified in your field mask but missing from your input data.");wH(w,E)||w.push(E)}d=new yT(w),f=a.fieldTransforms.filter(function(q){return d.covers(q.field)})}else d=null,f=a.fieldTransforms;return new bX(new Gf(v),d,f)}var Q3=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return(0,W.__extends)(n,t),n.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw e.Lc(1===e.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},n.prototype.isEqual=function(e){return e instanceof n},n}(_C);function _H(t,n,e){return new gH({Nc:3,qc:n.settings.qc,methodName:t._methodName,Fc:e},n.databaseId,n.R,n.ignoreUndefinedProperties)}var CX=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return(0,W.__extends)(n,t),n.prototype._toFieldTransform=function(e){return new SD(e.path,new AT)},n.prototype.isEqual=function(e){return e instanceof n},n}(_C),xX=function(t){function n(e,i){var o=this;return(o=t.call(this,e)||this).Kc=i,o}return(0,W.__extends)(n,t),n.prototype._toFieldTransform=function(e){var i=_H(this,e,!0),o=this.Kc.map(function(a){return yC(a,i)}),s=new uC(o);return new SD(e.path,s)},n.prototype.isEqual=function(e){return this===e},n}(_C),TX=function(t){function n(e,i){var o=this;return(o=t.call(this,e)||this).Kc=i,o}return(0,W.__extends)(n,t),n.prototype._toFieldTransform=function(e){var i=_H(this,e,!0),o=this.Kc.map(function(a){return yC(a,i)}),s=new dC(o);return new SD(e.path,s)},n.prototype.isEqual=function(e){return this===e},n}(_C),AX=function(t){function n(e,i){var o=this;return(o=t.call(this,e)||this).Qc=i,o}return(0,W.__extends)(n,t),n.prototype._toFieldTransform=function(e){var i=new ST(e.R,uV(e.R,this.Qc));return new SD(e.path,i)},n.prototype.isEqual=function(e){return this===e},n}(_C);function J3(t,n,e,i){var o=t.Uc(1,n,e);X3("Data must be an object, but it was:",o,i);var s=[],a=Gf.empty();aC(i,function(f,v){var w=tP(n,f,e);v=(0,pi.getModularInstance)(v);var x=o.Oc(w);if(v instanceof Q3)s.push(w);else{var S=yC(v,x);null!=S&&(s.push(w),a.set(w,S))}});var d=new yT(s);return new pH(a,d,o.fieldTransforms)}function K3(t,n,e,i,o,s){var a=t.Uc(1,n,e),d=[eP(n,i,e)],f=[o];if(s.length%2!=0)throw new hn(Dt.INVALID_ARGUMENT,"Function "+n+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var v=0;v<s.length;v+=2)d.push(eP(n,s[v])),f.push(s[v+1]);for(var w=[],x=Gf.empty(),S=d.length-1;S>=0;--S)if(!wH(w,d[S])){var E=d[S],q=f[S];q=(0,pi.getModularInstance)(q);var H=a.Oc(E);if(q instanceof Q3)w.push(E);else{var ee=yC(q,H);null!=ee&&(w.push(E),x.set(E,ee))}}var $=new yT(w);return new pH(x,$,a.fieldTransforms)}function vH(t,n,e,i){return void 0===i&&(i=!1),yC(e,t.Uc(i?4:3,n))}function yC(t,n){if(bH(t=(0,pi.getModularInstance)(t)))return X3("Unsupported field value:",n,t),yH(t,n);if(t instanceof _C)return function(e,i){if(!mH(i.Nc))throw i.Lc(e._methodName+"() can only be used with update() and set()");if(!i.path)throw i.Lc(e._methodName+"() is not currently supported inside arrays");var o=e._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,n),null;if(void 0===t&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),t instanceof Array){if(n.settings.Fc&&4!==n.Nc)throw n.Lc("Nested arrays are not supported");return function(e,i){for(var o=[],s=0,a=0,d=e;a<d.length;a++){var f=yC(d[a],i.Mc(s));null==f&&(f={nullValue:"NULL_VALUE"}),o.push(f),s++}return{arrayValue:{values:o}}}(t,n)}return function(e,i){if(null===(e=(0,pi.getModularInstance)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return uV(i.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var o=qh.fromDate(e);return{timestampValue:MD(i.R,o)}}if(e instanceof qh)return o=new qh(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:MD(i.R,o)};if(e instanceof nO)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof gC)return{bytesValue:kV(i.R,e._byteString)};if(e instanceof xa){var s=e.firestore._databaseId;if(!s.isEqual(o=i.databaseId))throw i.Lc("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+o.projectId+"/"+o.database);return{referenceValue:f3(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.Lc("Unsupported field value: "+eO(e))}(t,n)}function yH(t,n){var e={};return Yj(t)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):aC(t,function(i,o){var s=yC(o,n.kc(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function bH(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof qh||t instanceof nO||t instanceof gC||t instanceof xa||t instanceof _C)}function X3(t,n,e){if(!bH(e)||"object"!=typeof(o=e)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){var i=eO(e);throw n.Lc("an object"===i?t+" a custom object":t+" "+i)}var o}function eP(t,n,e){if((n=(0,pi.getModularInstance)(n))instanceof Y_)return n._internalPath;if("string"==typeof n)return tP(t,n);throw rO("Field path arguments must be of type string or FieldPath.",t,!1,void 0,e)}var SX=new RegExp("[~\\*/\\[\\]]");function tP(t,n,e){if(n.search(SX)>=0)throw rO("Invalid field path ("+n+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,e);try{return(new(Y_.bind.apply(Y_,(0,W.__spreadArray)([void 0],n.split(".")))))._internalPath}catch(i){throw rO("Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,e)}}function rO(t,n,e,i,o){var s=i&&!i.isEmpty(),a=void 0!==o,d="Function "+n+"() called with invalid data";e&&(d+=" (via `toFirestore()`)");var f="";return(s||a)&&(f+=" (found",s&&(f+=" in field "+i),a&&(f+=" in document "+o),f+=")"),new hn(Dt.INVALID_ARGUMENT,(d+=". ")+t+f)}function wH(t,n){return t.some(function(e){return e.isEqual(n)})}var UD=function(){function t(n,e,i,o,s){this._firestore=n,this._userDataWriter=e,this._key=i,this._document=o,this._converter=s}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new xa(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var n=new DX(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(n){if(this._document){var e=this._document.data.field(oO("DocumentSnapshot.get",n));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),DX=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return(0,W.__extends)(n,t),n.prototype.data=function(){return t.prototype.data.call(this)},n}(UD);function oO(t,n){return"string"==typeof n?tP(t,n):n instanceof Y_?n._internalPath:n._delegate._internalPath}var bC=function(){function t(n,e){this.hasPendingWrites=n,this.fromCache=e}return t.prototype.isEqual=function(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache},t}(),Ny=function(t){function n(e,i,o,s,a,d){var f=this;return(f=t.call(this,e,i,o,s,d)||this)._firestore=e,f._firestoreImpl=e,f.metadata=a,f}return(0,W.__extends)(n,t),n.prototype.exists=function(){return t.prototype.exists.call(this)},n.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var i=new jD(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},n.prototype.get=function(e,i){if(void 0===i&&(i={}),this._document){var o=this._document.data.field(oO("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,i.serverTimestamps)}},n}(UD),jD=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return(0,W.__extends)(n,t),n.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},n}(Ny),Vb=function(){function t(n,e,i,o){this._firestore=n,this._userDataWriter=e,this._snapshot=o,this.metadata=new bC(o.hasPendingWrites,o.fromCache),this.query=i}return Object.defineProperty(t.prototype,"docs",{get:function(){var n=[];return this.forEach(function(e){return n.push(e)}),n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(n,e){var i=this;this._snapshot.docs.forEach(function(o){n.call(e,new jD(i._firestore,i._userDataWriter,o.key,o,new bC(i._snapshot.mutatedKeys.has(o.key),i._snapshot.fromCache),i.query.converter))})},t.prototype.docChanges=function(n){void 0===n&&(n={});var e=!!n.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new hn(Dt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){var s=0;return i._snapshot.docChanges.map(function(d){return{type:"added",doc:new jD(i._firestore,i._userDataWriter,d.doc.key,d.doc,new bC(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}})}var a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(function(d){return o||3!==d.type}).map(function(d){var f=new jD(i._firestore,i._userDataWriter,d.doc.key,d.doc,new bC(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter),v=-1,w=-1;return 0!==d.type&&(v=a.indexOf(d.doc.key),a=a.delete(d.doc.key)),1!==d.type&&(w=(a=a.add(d.doc)).indexOf(d.doc.key)),{type:EX(d.type),doc:f,oldIndex:v,newIndex:w}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function EX(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xi()}}function CH(t,n){return t instanceof Ny&&n instanceof Ny?t._firestore===n._firestore&&t._key.isEqual(n._key)&&(null===t._document?null===n._document:t._document.isEqual(n._document))&&t._converter===n._converter:t instanceof Vb&&n instanceof Vb&&t._firestore===n._firestore&&uH(t.query,n.query)&&t.metadata.isEqual(n.metadata)&&t._snapshot.isEqual(n._snapshot)}function xH(t){if(OI(t)&&0===t.explicitOrderBy.length)throw new hn(Dt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var VD=function(){};function qb(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];for(var i=0,o=n;i<o.length;i++){var s=o[i];t=s._apply(t)}return t}var MX=function(t){function n(e,i,o){var s=this;return(s=t.call(this)||this).jc=e,s.Wc=i,s.Gc=o,s.type="where",s}return(0,W.__extends)(n,t),n.prototype._apply=function(e){var s,d,i=vC(e.firestore),o=function(s,a,d,f,v,w,x){var S;if(v.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new hn(Dt.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+w+"' queries on FieldPath.documentId().");if("in"===w||"not-in"===w){MH(x,w);for(var E=[],q=0,H=x;q<H.length;q++)E.push(EH(f,s,H[q]));S={arrayValue:{values:E}}}else S=EH(f,s,x)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||MH(x,w),S=vH(d,"where",x,"in"===w||"not-in"===w);var $=Zf.create(v,w,S);return function(oe,ve){if(ve.g()){var Fe=o3(oe);if(null!==Fe&&!Fe.isEqual(ve.field))throw new hn(Dt.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+Fe.toString()+"' and '"+ve.field.toString()+"'");var Be=r3(oe);null!==Be&&kH(0,ve.field,Be)}var gt=function(tt,Le){for(var St=0,Bt=tt.filters;St<Bt.length;St++){var Ce=Bt[St];if(Le.indexOf(Ce.op)>=0)return Ce.op}return null}(oe,function(tt){switch(tt){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ve.op));if(null!==gt)throw new hn(Dt.INVALID_ARGUMENT,gt===ve.op?"Invalid query. You cannot use more than one '"+ve.op.toString()+"' filter.":"Invalid query. You cannot use '"+ve.op.toString()+"' filters with '"+gt.toString()+"' filters.")}(s,$),$}(e._query,0,i,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Zh(e.firestore,e.converter,(d=(s=e._query).filters.concat([o]),new Iy(s.path,s.collectionGroup,s.explicitOrderBy.slice(),d,s.limit,s.limitType,s.startAt,s.endAt)))},n}(VD),kX=function(t){function n(e,i){var o=this;return(o=t.call(this)||this).jc=e,o.zc=i,o.type="orderBy",o}return(0,W.__extends)(n,t),n.prototype._apply=function(e){var o,a,i=function(o,s,a){if(null!==o.startAt)throw new hn(Dt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new hn(Dt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var d=new CT(s,a);return function(f,v){if(null===r3(f)){var w=o3(f);null!==w&&kH(0,w,v.field)}}(o,d),d}(e._query,this.jc,this.zc);return new Zh(e.firestore,e.converter,(a=(o=e._query).explicitOrderBy.concat([i]),new Iy(o.path,o.collectionGroup,a,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)))},n}(VD),TH=function(t){function n(e,i,o){var s=this;return(s=t.call(this)||this).type=e,s.Hc=i,s.Jc=o,s}return(0,W.__extends)(n,t),n.prototype._apply=function(e){return new Zh(e.firestore,e.converter,oV(e._query,this.Hc,this.Jc))},n}(VD),AH=function(t){function n(e,i,o){var s=this;return(s=t.call(this)||this).type=e,s.Yc=i,s.Xc=o,s}return(0,W.__extends)(n,t),n.prototype._apply=function(e){var o,s,i=DH(e,this.type,this.Yc,this.Xc);return new Zh(e.firestore,e.converter,(s=i,new Iy((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,s,o.endAt)))},n}(VD),SH=function(t){function n(e,i,o){var s=this;return(s=t.call(this)||this).type=e,s.Yc=i,s.Xc=o,s}return(0,W.__extends)(n,t),n.prototype._apply=function(e){var o,s,i=DH(e,this.type,this.Yc,this.Xc);return new Zh(e.firestore,e.converter,(s=i,new Iy((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,s)))},n}(VD);function DH(t,n,e,i){if(e[0]=(0,pi.getModularInstance)(e[0]),e[0]instanceof UD)return function(s,a,d,f,v){if(!f)throw new hn(Dt.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+d+"().");for(var w=[],x=0,S=TT(s);x<S.length;x++){var E=S[x];if(E.field.isKeyField())w.push(SI(a,f.key));else{var q=f.data.field(E.field);if(KR(q))throw new hn(Dt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+E.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===q){var H=E.field.canonicalString();throw new hn(Dt.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+H+"' (used as the orderBy) does not exist.")}w.push(q)}}return new xD(w,v)}(t._query,t.firestore._databaseId,n,e[0]._document,i);var o=vC(t.firestore);return function(s,a,d,f,v,w){var x=s.explicitOrderBy;if(v.length>x.length)throw new hn(Dt.INVALID_ARGUMENT,"Too many arguments provided to "+f+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var S=[],E=0;E<v.length;E++){var q=v[E];if(x[E].field.isKeyField()){if("string"!=typeof q)throw new hn(Dt.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+f+"(), but got a "+typeof q);if(!s3(s)&&-1!==q.indexOf("/"))throw new hn(Dt.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+f+"() must be a plain document ID, but '"+q+"' contains a slash.");var H=s.path.child(So.fromString(q));if(!Ai.isDocumentKey(H))throw new hn(Dt.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+f+"() must result in a valid document path, but '"+H+"' is not because it contains an odd number of segments.");var ee=new Ai(H);S.push(SI(a,ee))}else{var $=vH(d,f,q);S.push($)}}return new xD(S,w)}(t._query,t.firestore._databaseId,o,n,e,i)}function EH(t,n,e){if("string"==typeof(e=(0,pi.getModularInstance)(e))){if(""===e)throw new hn(Dt.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!s3(n)&&-1!==e.indexOf("/"))throw new hn(Dt.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+e+"' contains a '/' character.");var i=n.path.child(So.fromString(e));if(!Ai.isDocumentKey(i))throw new hn(Dt.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+i+"' is not because it has an odd number of segments ("+i.length+").");return SI(t,new Ai(i))}if(e instanceof xa)return SI(t,e._key);throw new hn(Dt.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+eO(e)+".")}function MH(t,n){if(!Array.isArray(t)||0===t.length)throw new hn(Dt.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+n.toString()+"' filters.");if(t.length>10)throw new hn(Dt.INVALID_ARGUMENT,"Invalid Query. '"+n.toString()+"' filters support a maximum of 10 elements in the value array.")}function kH(t,n,e){if(!e.isEqual(n))throw new hn(Dt.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+n.toString()+"' and so you must also use '"+n.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+e.toString()+"' instead.")}var nP=function(){function t(){}return t.prototype.convertValue=function(n,e){switch(void 0===e&&(e="none"),cC(n)){case 0:return null;case 1:return n.booleanValue;case 2:return Fl(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,e);case 5:return n.stringValue;case 6:return this.convertBytes(bT(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,e);case 10:return this.convertObject(n.mapValue,e);default:throw xi()}},t.prototype.convertObject=function(n,e){var i=this,o={};return aC(n.fields,function(s,a){o[s]=i.convertValue(a,e)}),o},t.prototype.convertGeoPoint=function(n){return new nO(Fl(n.latitude),Fl(n.longitude))},t.prototype.convertArray=function(n,e){var i=this;return(n.values||[]).map(function(o){return i.convertValue(o,e)})},t.prototype.convertServerTimestamp=function(n,e){switch(e){case"previous":var i=Wj(n);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(yD(n));default:return null}},t.prototype.convertTimestamp=function(n){var e=Ib(n);return new qh(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(n,e){var i=So.fromString(n);tr(HV(i));var o=new XI(i.get(1),i.get(3)),s=new Ai(i.popFirst(5));return o.isEqual(e)||Ll("Document "+s+" contains a document reference within a different database ("+o.projectId+"/"+o.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),s},t}();function sO(t,n,e){return t?e&&(e.merge||e.mergeFields)?t.toFirestore(n,e):t.toFirestore(n):n}var IX=function(t){function n(e){var i=this;return(i=t.call(this)||this).firestore=e,i}return(0,W.__extends)(n,t),n.prototype.convertBytes=function(e){return new gC(e)},n.prototype.convertReference=function(e){var i=this.convertDocumentKey(e,this.firestore._databaseId);return new xa(this.firestore,null,i)},n}(nP),OX=function(){function t(n,e){this._firestore=n,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=vC(n)}return t.prototype.set=function(n,e,i){this._verifyNotCommitted();var o=Hb(n,this._firestore),s=sO(o.converter,e,i),a=iO(this._dataReader,"WriteBatch.set",o._key,s,null!==o.converter,i);return this._mutations.push(a.toMutation(o._key,od.none())),this},t.prototype.update=function(n,e,i){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];this._verifyNotCommitted();var a,d=Hb(n,this._firestore);return a="string"==typeof(e=(0,pi.getModularInstance)(e))||e instanceof Y_?K3(this._dataReader,"WriteBatch.update",d._key,e,i,o):J3(this._dataReader,"WriteBatch.update",d._key,e),this._mutations.push(a.toMutation(d._key,od.exists(!0))),this},t.prototype.delete=function(n){this._verifyNotCommitted();var e=Hb(n,this._firestore);return this._mutations=this._mutations.concat(new ED(e._key,od.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new hn(Dt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Hb(t,n){if((t=(0,pi.getModularInstance)(t)).firestore!==n)throw new hn(Dt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var wC=function(t){function n(e){var i=this;return(i=t.call(this)||this).firestore=e,i}return(0,W.__extends)(n,t),n.prototype.convertBytes=function(e){return new gC(e)},n.prototype.convertReference=function(e){var i=this.convertDocumentKey(e,this.firestore._databaseId);return new xa(this.firestore,null,i)},n}(nP);function IH(t,n,e){t=Do(t,xa);var i=Do(t.firestore,ll),o=sO(t.converter,n,e);return qD(i,[iO(vC(i),"setDoc",t._key,o,null!==t.converter,e).toMutation(t._key,od.none())])}function OH(t,n,e){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];t=Do(t,xa);var s=Do(t.firestore,ll),a=vC(s);return qD(s,[("string"==typeof(n=(0,pi.getModularInstance)(n))||n instanceof Y_?K3(a,"updateDoc",t._key,n,e,i):J3(a,"updateDoc",t._key,n)).toMutation(t._key,od.exists(!0))])}function LH(t){for(var n,e,i,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];t=(0,pi.getModularInstance)(t);var a={includeMetadataChanges:!1},d=0;"object"!=typeof o[d]||YT(o[d])||(a=o[d],d++);var f,v,w,x={includeMetadataChanges:a.includeMetadataChanges};if(YT(o[d])){var S=o[d];o[d]=null===(n=S.next)||void 0===n?void 0:n.bind(S),o[d+1]=null===(e=S.error)||void 0===e?void 0:e.bind(S),o[d+2]=null===(i=S.complete)||void 0===i?void 0:i.bind(S)}if(t instanceof xa)v=Do(t.firestore,ll),w=xT(t._key.path),f={next:function(H){o[d]&&o[d](iP(v,t,H))},error:o[d+1],complete:o[d+2]};else{var E=Do(t,Zh);v=Do(E.firestore,ll),w=E._query;var q=new wC(v);f={next:function(H){o[d]&&o[d](new Vb(v,q,E,H))},error:o[d+1],complete:o[d+2]},xH(t._query)}return function(H,ee,$,oe){var ve=this,Fe=new JI(oe),Be=new R3(ee,Fe,$);return H.asyncQueue.enqueueAndForget(function(){return(0,W.__awaiter)(ve,void 0,void 0,function(){var gt;return(0,W.__generator)(this,function(tt){switch(tt.label){case 0:return gt=L3,[4,ZT(H)];case 1:return[2,gt.apply(void 0,[tt.sent(),Be])]}})})}),function(){Fe.Wo(),H.asyncQueue.enqueueAndForget(function(){return(0,W.__awaiter)(ve,void 0,void 0,function(){var gt;return(0,W.__generator)(this,function(tt){switch(tt.label){case 0:return gt=F3,[4,ZT(H)];case 1:return[2,gt.apply(void 0,[tt.sent(),Be])]}})})})}}(Qc(v),w,x,f)}function qD(t,n){return function(e,i){var o=this,s=new ld;return e.asyncQueue.enqueueAndForget(function(){return(0,W.__awaiter)(o,void 0,void 0,function(){var a;return(0,W.__generator)(this,function(d){switch(d.label){case 0:return a=GK,[4,z3(e)];case 1:return[2,a.apply(void 0,[d.sent(),i,s])]}})})}),s.promise}(Qc(t),n)}function iP(t,n,e){var i=e.docs.get(n._key),o=new wC(t);return new Ny(t,o,n._key,i,new bC(e.hasPendingWrites,e.fromCache),n.converter)}var LX=function(t){function n(e,i){var o=this;return(o=t.call(this,e,i)||this)._firestore=e,o}return(0,W.__extends)(n,t),n.prototype.get=function(e){var i=this,o=Hb(e,this._firestore),s=new wC(this._firestore);return t.prototype.get.call(this,e).then(function(a){return new Ny(i._firestore,s,o._key,a._document,new bC(!1,!1),o.converter)})},n}(function(){function t(n,e){this._firestore=n,this._transaction=e,this._dataReader=vC(n)}return t.prototype.get=function(n){var e=this,i=Hb(n,this._firestore),o=new IX(this._firestore);return this._transaction.lookup([i._key]).then(function(s){if(!s||1!==s.length)return xi();var a=s[0];if(a.isFoundDocument())return new UD(e._firestore,o,a.key,a,i.converter);if(a.isNoDocument())return new UD(e._firestore,o,i._key,null,i.converter);throw xi()})},t.prototype.set=function(n,e,i){var o=Hb(n,this._firestore),s=sO(o.converter,e,i),a=iO(this._dataReader,"Transaction.set",o._key,s,null!==o.converter,i);return this._transaction.set(o._key,a),this},t.prototype.update=function(n,e,i){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var a,d=Hb(n,this._firestore);return a="string"==typeof(e=(0,pi.getModularInstance)(e))||e instanceof Y_?K3(this._dataReader,"Transaction.update",d._key,e,i,o):J3(this._dataReader,"Transaction.update",d._key,e),this._transaction.update(d._key,a),this},t.prototype.delete=function(n){var e=Hb(n,this._firestore);return this._transaction.delete(e._key),this},t}());function FH(){if("undefined"==typeof Uint8Array)throw new hn(Dt.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function NH(){if("undefined"==typeof atob)throw new hn(Dt.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var RH=function(){function t(n){this._delegate=n}return t.fromBase64String=function(n){return NH(),new t(gC.fromBase64String(n))},t.fromUint8Array=function(n){return FH(),new t(gC.fromUint8Array(n))},t.prototype.toBase64=function(){return NH(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return FH(),this._delegate.toUint8Array()},t.prototype.isEqual=function(n){return this._delegate.isEqual(n._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),FX=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(n,e){return function(i,o){fH(i=Do(i,ll));var s=Qc(i),a=i._freezeSettings(),d=new G3;return hH(s,d,new Yq(d,a.cacheSizeBytes,null==o?void 0:o.forceOwnership))}(n._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(n){return function(e){fH(e=Do(e,ll));var i=Qc(e),o=e._freezeSettings(),s=new G3;return hH(i,s,new sX(s,o.cacheSizeBytes))}(n._delegate)},t.prototype.clearIndexedDbPersistence=function(n){return function(e){var i=this;if(e._initialized&&!e._terminated)throw new hn(Dt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var o=new ld;return e._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,W.__awaiter)(i,void 0,void 0,function(){var s;return(0,W.__generator)(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(d){return(0,W.__awaiter)(this,void 0,void 0,function(){return(0,W.__generator)(this,function(v){switch(v.label){case 0:return IT.yt()?[4,IT.delete(d+"main")]:[2,Promise.resolve()];case 1:return v.sent(),[2]}})})}(C3(e._databaseId,e._persistenceKey))];case 1:return a.sent(),o.resolve(),[3,3];case 2:return s=a.sent(),o.reject(s),[3,3];case 3:return[2]}})})}),o.promise}(n._delegate)},t}(),rP=function(){function t(n,e,i){var o=this;this._delegate=e,this.Zc=i,this.INTERNAL={delete:function(){return o.terminate()}},n instanceof XI||(this.tu=n)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(n){var e=this._delegate._getSettings();n.merge||e.host===n.host||vD("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),n.merge&&delete(n=Object.assign(Object.assign({},e),n)).merge,this._delegate._setSettings(n)},t.prototype.useEmulator=function(n,e,i){void 0===i&&(i={}),function(o,s,a,d){var f;void 0===d&&(d={});var v=(o=Do(o,BD))._getSettings();if("firestore.googleapis.com"!==v.host&&v.host!==s&&vD("Host has been set in both settings() and useEmulator(), emulator host will be used"),o._setSettings(Object.assign(Object.assign({},v),{host:s+":"+a,ssl:!1})),d.mockUserToken){var w,x;if("string"==typeof d.mockUserToken)w=d.mockUserToken,x=Su.MOCK_USER;else{w=(0,pi.createMockUserToken)(d.mockUserToken,null===(f=o._app)||void 0===f?void 0:f.options.projectId);var S=d.mockUserToken.sub||d.mockUserToken.user_id;if(!S)throw new hn(Dt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Su(S)}o._credentials=new hX(new tH(w,x))}}(this._delegate,n,e,i)},t.prototype.enableNetwork=function(){return function(n){var e=this;return n.asyncQueue.enqueue(function(){return(0,W.__awaiter)(e,void 0,void 0,function(){var i,o;return(0,W.__generator)(this,function(s){switch(s.label){case 0:return[4,Qq(n)];case 1:return i=s.sent(),[4,Jq(n)];case 2:return o=s.sent(),[2,(i.setNetworkEnabled(!0),a=o,d=Hn(a),d.Or.delete(0),RD(d))]}var a,d})})})}(Qc(Do(this._delegate,ll)))},t.prototype.disableNetwork=function(){return function(n){var e=this;return n.asyncQueue.enqueue(function(){return(0,W.__awaiter)(e,void 0,void 0,function(){var i,o;return(0,W.__generator)(this,function(s){switch(s.label){case 0:return[4,Qq(n)];case 1:return i=s.sent(),[4,Jq(n)];case 2:return o=s.sent(),[2,(i.setNetworkEnabled(!1),function(a){return(0,W.__awaiter)(this,void 0,void 0,function(){var d;return(0,W.__generator)(this,function(f){switch(f.label){case 0:return(d=Hn(a)).Or.add(0),[4,jT(d)];case 1:return f.sent(),d.Br.set("Offline"),[2]}})})}(o))]}})})})}(Qc(Do(this._delegate,ll)))},t.prototype.enablePersistence=function(n){var e=!1,i=!1;return n&&iH("synchronizeTabs",e=!!n.synchronizeTabs,"experimentalForceOwningTab",i=!!n.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,i)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(n){var e=this,i=new ld;return n.asyncQueue.enqueueAndForget(function(){return(0,W.__awaiter)(e,void 0,void 0,function(){var o;return(0,W.__generator)(this,function(s){switch(s.label){case 0:return o=WK,[4,z3(n)];case 1:return[2,o.apply(void 0,[s.sent(),i])]}})})}),i.promise}(Qc(Do(this._delegate,ll)))},t.prototype.onSnapshotsInSync=function(n){return i=n,function(o,s){var a=this,d=new JI(s);return o.asyncQueue.enqueueAndForget(function(){return(0,W.__awaiter)(a,void 0,void 0,function(){var f;return(0,W.__generator)(this,function(v){switch(v.label){case 0:return f=function(w,x){Hn(w).Gr.add(x),x.next()},[4,ZT(o)];case 1:return[2,f.apply(void 0,[v.sent(),d])]}})})}),function(){d.Wo(),o.asyncQueue.enqueueAndForget(function(){return(0,W.__awaiter)(a,void 0,void 0,function(){var f;return(0,W.__generator)(this,function(v){switch(v.label){case 0:return f=function(w,x){Hn(w).Gr.delete(x)},[4,ZT(o)];case 1:return[2,f.apply(void 0,[v.sent(),d])]}})})})}}(Qc(Do(this._delegate,ll)),YT(i)?i:{next:i});var i},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new hn(Dt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(n){try{return new cO(this,lH(this._delegate,n))}catch(e){throw th(e,"collection()","Firestore.collection()")}},t.prototype.doc=function(n){try{return new CC(this,tO(this._delegate,n))}catch(e){throw th(e,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(n){try{return new ZD(this,function(e,i){if(e=Do(e,BD),W3("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new hn(Dt.INVALID_ARGUMENT,"Invalid collection ID '"+i+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Zh(e,null,(o=i,new Iy(So.emptyPath(),o)));var o}(this._delegate,n))}catch(e){throw th(e,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(n){var i,e=this;return function(s,a){var d=this,f=new ld;return s.asyncQueue.enqueueAndForget(function(){return(0,W.__awaiter)(d,void 0,void 0,function(){var v;return(0,W.__generator)(this,function(w){switch(w.label){case 0:return[4,(x=s,KI(x).then(function(S){return S.datastore}))];case 1:return v=w.sent(),new cX(s.asyncQueue,v,a,f).run(),[2]}var x})})}),f.promise}(Qc(i=this._delegate),function(s){return function(i){return n(new PH(e,i))}(new LX(i,s))})},t.prototype.batch=function(){var n=this;return Qc(this._delegate),new BH(new OX(this._delegate,function(e){return qD(n._delegate,e)}))},t.prototype.loadBundle=function(n){throw new hn(Dt.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(n){throw new hn(Dt.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),aO=function(t){function n(e){var i=this;return(i=t.call(this)||this).firestore=e,i}return(0,W.__extends)(n,t),n.prototype.convertBytes=function(e){return new RH(new gC(e))},n.prototype.convertReference=function(e){var i=this.convertDocumentKey(e,this.firestore._databaseId);return CC.eu(i,this.firestore,null)},n}(nP),PH=function(){function t(n,e){this._firestore=n,this._delegate=e,this._userDataWriter=new aO(n)}return t.prototype.get=function(n){var e=this,i=xC(n);return this._delegate.get(i).then(function(o){return new HD(e._firestore,new Ny(e._firestore._delegate,e._userDataWriter,o._key,o._document,o.metadata,i.converter))})},t.prototype.set=function(n,e,i){var o=xC(n);return i?($3("Transaction.set",i),this._delegate.set(o,e,i)):this._delegate.set(o,e),this},t.prototype.update=function(n,e,i){for(var o,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var d=xC(n);return 2===arguments.length?this._delegate.update(d,e):(o=this._delegate).update.apply(o,(0,W.__spreadArray)([d,e,i],s)),this},t.prototype.delete=function(n){var e=xC(n);return this._delegate.delete(e),this},t}(),BH=function(){function t(n){this._delegate=n}return t.prototype.set=function(n,e,i){var o=xC(n);return i?($3("WriteBatch.set",i),this._delegate.set(o,e,i)):this._delegate.set(o,e),this},t.prototype.update=function(n,e,i){for(var o,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var d=xC(n);return 2===arguments.length?this._delegate.update(d,e):(o=this._delegate).update.apply(o,(0,W.__spreadArray)([d,e,i],s)),this},t.prototype.delete=function(n){var e=xC(n);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),lO=function(){function t(n,e,i){this._firestore=n,this._userDataWriter=e,this._delegate=i}return t.prototype.fromFirestore=function(n,e){var i=new jD(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,null);return this._delegate.fromFirestore(new GD(this._firestore,i),null!=e?e:{})},t.prototype.toFirestore=function(n,e){return e?this._delegate.toFirestore(n,e):this._delegate.toFirestore(n)},t.nu=function(n,e){var i=t.su,o=i.get(n);o||i.set(n,o=new WeakMap);var s=o.get(e);return s||(s=new t(n,new aO(n),e),o.set(e,s)),s},t}();lO.su=new WeakMap;var CC=function(){function t(n,e){this.firestore=n,this._delegate=e,this._userDataWriter=new aO(n)}return t.iu=function(n,e,i){if(n.length%2!=0)throw new hn(Dt.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+n.canonicalString()+" has "+n.length);return new t(e,new xa(e._delegate,i,new Ai(n)))},t.eu=function(n,e,i){return new t(e,new xa(e._delegate,i,n))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new cO(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(n){try{return new cO(this.firestore,lH(this._delegate,n))}catch(e){throw th(e,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(n){return(n=(0,pi.getModularInstance)(n))instanceof xa&&cH(this._delegate,n)},t.prototype.set=function(n,e){e=$3("DocumentReference.set",e);try{return e?IH(this._delegate,n,e):IH(this._delegate,n)}catch(i){throw th(i,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(n,e){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];try{return 1===arguments.length?OH(this._delegate,n):OH.apply(void 0,(0,W.__spreadArray)([this._delegate,n,e],i))}catch(s){throw th(s,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return qD(Do((n=this._delegate).firestore,ll),[new ED(n._key,od.none())]);var n},t.prototype.onSnapshot=function(){for(var n=this,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var o=UH(e),s=jH(e,function(a){return new HD(n.firestore,new Ny(n.firestore._delegate,n._userDataWriter,a._key,a._document,a.metadata,n._delegate.converter))});return LH(this._delegate,o,s)},t.prototype.get=function(n){var e=this;return("cache"===(null==n?void 0:n.source)?function(i){i=Do(i,xa);var o=Do(i.firestore,ll),s=Qc(o),a=new wC(o);return function(d,f){var v=this,w=new ld;return d.asyncQueue.enqueueAndForget(function(){return(0,W.__awaiter)(v,void 0,void 0,function(){var x;return(0,W.__generator)(this,function(S){switch(S.label){case 0:return x=function(E,q,H){return(0,W.__awaiter)(this,void 0,void 0,function(){var ee,$;return(0,W.__generator)(this,function(oe){switch(oe.label){case 0:return oe.trys.push([0,2,,3]),[4,(ve=E,Fe=q,Be=Hn(ve),Be.persistence.runTransaction("read document","readonly",function(gt){return Be.Mn.mn(gt,Fe)}))];case 1:return($=oe.sent()).isFoundDocument()?H.resolve($):$.isNoDocument()?H.resolve(null):H.reject(new hn(Dt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return ee=oe.sent(),$=HT(ee,"Failed to get document '"+q+" from cache"),H.reject($),[3,3];case 3:return[2]}var ve,Fe,Be})})},[4,Y3(d)];case 1:return[2,x.apply(void 0,[S.sent(),f,w])]}})})}),w.promise}(s,i._key).then(function(d){return new Ny(o,a,i._key,d,new bC(null!==d&&d.hasLocalMutations,!0),i.converter)})}(this._delegate):"server"===(null==n?void 0:n.source)?function(i){i=Do(i,xa);var o=Do(i.firestore,ll);return Kq(Qc(o),i._key,{source:"server"}).then(function(s){return iP(o,i,s)})}(this._delegate):function(i){i=Do(i,xa);var o=Do(i.firestore,ll);return Kq(Qc(o),i._key).then(function(s){return iP(o,i,s)})}(this._delegate)).then(function(i){return new HD(e.firestore,new Ny(e.firestore._delegate,e._userDataWriter,i._key,i._document,i.metadata,e._delegate.converter))})},t.prototype.withConverter=function(n){return new t(this.firestore,this._delegate.withConverter(n?lO.nu(this.firestore,n):null))},t}();function th(t,n,e){return t.message=t.message.replace(n,e),t}function UH(t){for(var n=0,e=t;n<e.length;n++){var i=e[n];if("object"==typeof i&&!YT(i))return i}return{}}function jH(t,n){var e,i,o;return{next:function(s){o.next&&o.next(n(s))},error:null===(e=(o=YT(t[0])?t[0]:YT(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===e?void 0:e.bind(o),complete:null===(i=o.complete)||void 0===i?void 0:i.bind(o)}}var HD=function(){function t(n,e){this._firestore=n,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new CC(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(n){return this._delegate.data(n)},t.prototype.get=function(n,e){return this._delegate.get(n,e)},t.prototype.isEqual=function(n){return CH(this._delegate,n._delegate)},t}(),GD=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return(0,W.__extends)(n,t),n.prototype.data=function(e){return this._delegate.data(e)},n}(HD),ZD=function(){function t(n,e){this.firestore=n,this._delegate=e,this._userDataWriter=new aO(n)}return t.prototype.where=function(n,e,i){try{return new t(this.firestore,qb(this._delegate,(a=i,d=e,f=oO("where",o=n),new MX(f,d,a))))}catch(o){throw th(o,/(orderBy|where)\(\)/,"Query.$1()")}var o,a,d,f},t.prototype.orderBy=function(n,e){try{return new t(this.firestore,qb(this._delegate,function(i,o){void 0===o&&(o="asc");var s=o,a=oO("orderBy",i);return new kX(a,s)}(n,e)))}catch(i){throw th(i,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(n){try{return new t(this.firestore,qb(this._delegate,(sH("limit",e=n),new TH("limit",e,"F"))))}catch(e){throw th(e,"limit()","Query.limit()")}var e},t.prototype.limitToLast=function(n){try{return new t(this.firestore,qb(this._delegate,(sH("limitToLast",e=n),new TH("limitToLast",e,"L"))))}catch(e){throw th(e,"limitToLast()","Query.limitToLast()")}var e},t.prototype.startAt=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];try{return new t(this.firestore,qb(this._delegate,function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new AH("startAt",i,!0)}.apply(void 0,n)))}catch(i){throw th(i,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];try{return new t(this.firestore,qb(this._delegate,function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new AH("startAfter",i,!1)}.apply(void 0,n)))}catch(i){throw th(i,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];try{return new t(this.firestore,qb(this._delegate,function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new SH("endBefore",i,!0)}.apply(void 0,n)))}catch(i){throw th(i,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];try{return new t(this.firestore,qb(this._delegate,function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new SH("endAt",i,!1)}.apply(void 0,n)))}catch(i){throw th(i,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(n){return uH(this._delegate,n._delegate)},t.prototype.get=function(n){var e=this;return("cache"===(null==n?void 0:n.source)?function(i){i=Do(i,Zh);var o=Do(i.firestore,ll),s=Qc(o),a=new wC(o);return function(d,f){var v=this,w=new ld;return d.asyncQueue.enqueueAndForget(function(){return(0,W.__awaiter)(v,void 0,void 0,function(){var x;return(0,W.__generator)(this,function(S){switch(S.label){case 0:return x=function(E,q,H){return(0,W.__awaiter)(this,void 0,void 0,function(){var ee,$,oe,ve,Fe;return(0,W.__generator)(this,function(Be){switch(Be.label){case 0:return Be.trys.push([0,2,,3]),[4,YI(E,q,!0)];case 1:return Fe=Be.sent(),ee=new Uq(q,Fe.Bn),$=ee._o(Fe.documents),oe=ee.applyChanges($,!1),H.resolve(oe.snapshot),[3,3];case 2:return ve=Be.sent(),Fe=HT(ve,"Failed to execute query '"+q+" against cache"),H.reject(Fe),[3,3];case 3:return[2]}})})},[4,Y3(d)];case 1:return[2,x.apply(void 0,[S.sent(),f,w])]}})})}),w.promise}(s,i._query).then(function(d){return new Vb(o,a,i,d)})}(this._delegate):"server"===(null==n?void 0:n.source)?function(i){i=Do(i,Zh);var o=Do(i.firestore,ll),s=Qc(o),a=new wC(o);return Xq(s,i._query,{source:"server"}).then(function(d){return new Vb(o,a,i,d)})}(this._delegate):function(i){i=Do(i,Zh);var o=Do(i.firestore,ll),s=Qc(o),a=new wC(o);return xH(i._query),Xq(s,i._query).then(function(d){return new Vb(o,a,i,d)})}(this._delegate)).then(function(i){return new oP(e.firestore,new Vb(e.firestore._delegate,e._userDataWriter,e._delegate,i._snapshot))})},t.prototype.onSnapshot=function(){for(var n=this,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var o=UH(e),s=jH(e,function(a){return new oP(n.firestore,new Vb(n.firestore._delegate,n._userDataWriter,n._delegate,a._snapshot))});return LH(this._delegate,o,s)},t.prototype.withConverter=function(n){return new t(this.firestore,this._delegate.withConverter(n?lO.nu(this.firestore,n):null))},t}(),RX=function(){function t(n,e){this._firestore=n,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new GD(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),oP=function(){function t(n,e){this._firestore=n,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new ZD(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var n=this;return this._delegate.docs.map(function(e){return new GD(n._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(n){var e=this;return this._delegate.docChanges(n).map(function(i){return new RX(e._firestore,i)})},t.prototype.forEach=function(n,e){var i=this;this._delegate.forEach(function(o){n.call(e,new GD(i._firestore,o))})},t.prototype.isEqual=function(n){return CH(this._delegate,n._delegate)},t}(),cO=function(t){function n(e,i){var o=this;return(o=t.call(this,e,i)||this).firestore=e,o._delegate=i,o}return(0,W.__extends)(n,t),Object.defineProperty(n.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new CC(this.firestore,e):null},enumerable:!1,configurable:!0}),n.prototype.doc=function(e){try{return new CC(this.firestore,void 0===e?tO(this._delegate):tO(this._delegate,e))}catch(i){throw th(i,"doc()","CollectionReference.doc()")}},n.prototype.add=function(e){var o,s,a,d,f,i=this;return(o=this._delegate,s=e,a=Do(o.firestore,ll),d=tO(o),f=sO(o.converter,s),qD(a,[iO(vC(o.firestore),"addDoc",d._key,f,null!==o.converter,{}).toMutation(d._key,od.exists(!1))]).then(function(){return d})).then(function(o){return new CC(i.firestore,o)})},n.prototype.isEqual=function(e){return cH(this._delegate,e._delegate)},n.prototype.withConverter=function(e){return new n(this.firestore,this._delegate.withConverter(e?lO.nu(this.firestore,e):null))},n}(ZD);function xC(t){return Do(t,xa)}var PX=function(){function t(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];this._delegate=new(Y_.bind.apply(Y_,(0,W.__spreadArray)([void 0],n)))}return t.documentId=function(){return new t(hg.keyField().canonicalString())},t.prototype.isEqual=function(n){return(n=(0,pi.getModularInstance)(n))instanceof Y_&&this._delegate._internalPath.isEqual(n._internalPath)},t}(),BX=function(){function t(n){this._delegate=n}return t.serverTimestamp=function(){var n=new CX("serverTimestamp");return n._methodName="FieldValue.serverTimestamp",new t(n)},t.delete=function(){var n=new Q3("deleteField");return n._methodName="FieldValue.delete",new t(n)},t.arrayUnion=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var i=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new xX("arrayUnion",o)}.apply(void 0,n);return i._methodName="FieldValue.arrayUnion",new t(i)},t.arrayRemove=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var i=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new TX("arrayRemove",o)}.apply(void 0,n);return i._methodName="FieldValue.arrayRemove",new t(i)},t.increment=function(n){var e=new AX("increment",n);return e._methodName="FieldValue.increment",new t(e)},t.prototype.isEqual=function(n){return this._delegate.isEqual(n._delegate)},t}();function UX(t){return e=t,i=Qc(n=Do(n=this._delegate,ll)),o=new _X,function(s,a,d,f){var x,S,E,v=this,w=(x=d,S=ND(a),E=function(E,q){if(E instanceof Uint8Array)return zq(E,q);if(E instanceof ArrayBuffer)return zq(new Uint8Array(E),q);if(E instanceof ReadableStream)return E.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof x?(new TextEncoder).encode(x):x),new aX(E,S));s.asyncQueue.enqueueAndForget(function(){return(0,W.__awaiter)(v,void 0,void 0,function(){var x;return(0,W.__generator)(this,function(S){switch(S.label){case 0:return x=oX,[4,z3(s)];case 1:return x.apply(void 0,[S.sent(),w,f]),[2]}})})})}(i,n._databaseId,e,o),o;var n,e,i,o}function jX(t){var n,e,i=this;return(n=this._delegate,e=t,function(o,s){var a=this;return o.asyncQueue.enqueue(function(){return(0,W.__awaiter)(a,void 0,void 0,function(){var d;return(0,W.__generator)(this,function(f){switch(f.label){case 0:return d=function(v,w){var x=Hn(v);return x.persistence.runTransaction("Get named query","readonly",function(S){return x.Ke.getNamedQuery(S,w)})},[4,Y3(o)];case 1:return[2,d.apply(void 0,[f.sent(),s])]}})})})}(Qc(n=Do(n,ll)),e).then(function(o){return o?new Zh(n,null,o.query):null})).then(function(o){return o?new ZD(i,o):null})}var Ry=me(2461),VX={Firestore:rP,GeoPoint:nO,Timestamp:qh,Blob:RH,Transaction:PH,WriteBatch:BH,DocumentReference:CC,DocumentSnapshot:HD,Query:ZD,QueryDocumentSnapshot:GD,QuerySnapshot:oP,CollectionReference:cO,FieldPath:PX,FieldValue:BX,setLogLevel:function NX(t){dg.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function qX(t){t.INTERNAL.registerComponent(new Ry.Component("firestore",function(i){return n=i.getProvider("app").getImmediate(),e=i.getProvider("auth-internal"),new rP(n,new ll(n,e),new FX);var n,e},"PUBLIC").setServiceProps(Object.assign({},VX))),t.registerVersion("@firebase/firestore","2.4.1")}(cc.default),function HX(t){t.prototype.loadBundle=UX,t.prototype.namedQuery=jX}(rP);var VH={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},zT=function(t){function n(e,i,o){var s=t.call(this,i)||this;return Object.setPrototypeOf(s,n.prototype),s.code=e,s.details=o,s}return(0,W.__extends)(n,t),n}(Error),YX=function(){function t(n,e){var i=this;this.auth=null,this.messaging=null,this.auth=n.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||n.get().then(function(o){return i.auth=o},function(){}),this.messaging||e.get().then(function(o){return i.messaging=o},function(){})}return t.prototype.getAuthToken=function(){return(0,W.__awaiter)(this,void 0,void 0,function(){var n;return(0,W.__generator)(this,function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(n=e.sent())?[2,n.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getInstanceIdToken=function(){return(0,W.__awaiter)(this,void 0,void 0,function(){return(0,W.__generator)(this,function(n){switch(n.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,n.sent()];case 3:return n.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getContext=function(){return(0,W.__awaiter)(this,void 0,void 0,function(){var n,e;return(0,W.__generator)(this,function(i){switch(i.label){case 0:return[4,this.getAuthToken()];case 1:return n=i.sent(),[4,this.getInstanceIdToken()];case 2:return e=i.sent(),[2,{authToken:n,instanceIdToken:e}]}})})},t}();function qH(t,n){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[i]=n(t[i]));return e}var $X=function(){function t(){}return t.prototype.encode=function(n){var e=this;if(null==n)return null;if(n instanceof Number&&(n=n.valueOf()),"number"==typeof n&&isFinite(n)||!0===n||!1===n||"[object String]"===Object.prototype.toString.call(n))return n;if(n instanceof Date)return n.toISOString();if(Array.isArray(n))return n.map(function(i){return e.encode(i)});if("function"==typeof n||"object"==typeof n)return qH(n,function(i){return e.encode(i)});throw new Error("Data cannot be encoded in JSON: "+n)},t.prototype.decode=function(n){var e=this;if(null==n)return n;if(n["@type"])switch(n["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var i=Number(n.value);if(isNaN(i))throw new Error("Data cannot be decoded from JSON: "+n);return i;default:throw new Error("Data cannot be decoded from JSON: "+n)}return Array.isArray(n)?n.map(function(o){return e.decode(o)}):"function"==typeof n||"object"==typeof n?qH(n,function(o){return e.decode(o)}):n},t}(),HH=function(){function t(n,e,i,o,s,a){var d=this;void 0===s&&(s="us-central1"),this.app_=n,this.appCheckProvider=o,this.fetchImpl=a,this.serializer=new $X,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(d.deleteService())}},this.contextProvider=new YX(e,i),this.cancelAllRequests=new Promise(function(v){d.deleteService=function(){return v()}});try{var f=new URL(s);this.customDomain=f.origin,this.region="us-central1"}catch(v){this.customDomain=null,this.region=s}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(n){var e=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+this.region+"/"+n:null!==this.customDomain?this.customDomain+"/"+n:"https://"+this.region+"-"+e+".cloudfunctions.net/"+n},t.prototype.useEmulator=function(n,e){this.emulatorOrigin="http://"+n+":"+e},t.prototype.useFunctionsEmulator=function(n){this.emulatorOrigin=n},t.prototype.httpsCallable=function(n,e){var i=this;return function(o){return i.call(n,o,e||{})}},t.prototype.postJSON=function(n,e,i){return(0,W.__awaiter)(this,void 0,void 0,function(){var o,s,a;return(0,W.__generator)(this,function(d){switch(d.label){case 0:return i["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(o=d.sent())&&(i["X-Firebase-AppCheck"]=o),d.label=2;case 2:return d.trys.push([2,4,,5]),[4,this.fetchImpl(n,{method:"POST",body:JSON.stringify(e),headers:i})];case 3:return s=d.sent(),[3,5];case 4:return d.sent(),[2,{status:0,json:null}];case 5:a=null,d.label=6;case 6:return d.trys.push([6,8,,9]),[4,s.json()];case 7:return a=d.sent(),[3,9];case 8:return d.sent(),[3,9];case 9:return[2,{status:s.status,json:a}]}})})},t.prototype.getAppCheckToken=function(){return(0,W.__awaiter)(this,void 0,void 0,function(){var n;return(0,W.__generator)(this,function(i){switch(i.label){case 0:return(n=this.appCheckProvider.getImmediate({optional:!0}))?[4,n.getToken()]:[3,2];case 1:return[2,i.sent().token];case 2:return[2,null]}})})},t.prototype.call=function(n,e,i){return(0,W.__awaiter)(this,void 0,void 0,function(){var o,s,a,d,v,w,x,S,E,q;return(0,W.__generator)(this,function(ee){switch(ee.label){case 0:return o=this._url(n),e=this.serializer.encode(e),s={data:e},a={},[4,this.contextProvider.getContext()];case 1:return(d=ee.sent()).authToken&&(a.Authorization="Bearer "+d.authToken),d.instanceIdToken&&(a["Firebase-Instance-ID-Token"]=d.instanceIdToken),v=function QX(t){var n,e=new Promise(function(i,o){n=setTimeout(function(){o(new zT("deadline-exceeded","deadline-exceeded"))},t)});return{timer:n,promise:e}}(i.timeout||7e4),w=v.timer,x=v.promise,[4,Promise.race([GH(w,this.postJSON(o,s,a)),x,GH(w,this.cancelAllRequests)])];case 2:if(!(S=ee.sent()))throw new zT("cancelled","Firebase Functions instance was deleted.");if(E=function ZX(t,n,e){var i=function GX(t){if(t>=200&&t<300)return"ok";switch(t){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),o=i,s=void 0;try{var a=n&&n.error;if(a){var d=a.status;if("string"==typeof d){if(!VH[d])return new zT("internal","internal");i=VH[d],o=d}var f=a.message;"string"==typeof f&&(o=f),void 0!==(s=a.details)&&(s=e.decode(s))}}catch(v){}return"ok"===i?null:new zT(i,o,s)}(S.status,S.json,this.serializer),E)throw E;if(!S.json)throw new zT("internal","Response is not valid JSON object.");if(void 0===(q=S.json.data)&&(q=S.json.result),void 0===q)throw new zT("internal","Response is missing data field.");return[2,{data:this.serializer.decode(q)}]}})})},t}();function GH(t,n){return(0,W.__awaiter)(this,void 0,void 0,function(){var e;return(0,W.__generator)(this,function(i){switch(i.label){case 0:return[4,n];case 1:return e=i.sent(),clearTimeout(t),[2,e]}})})}(function KX(t,n){var e={Functions:HH};t.INTERNAL.registerComponent(new Ry.Component("functions",function i(o,s){var a=s.instanceIdentifier,d=o.getProvider("app").getImmediate(),f=o.getProvider("auth-internal"),v=o.getProvider("app-check-internal"),w=o.getProvider("messaging");return new HH(d,f,w,v,a,n)},"PUBLIC").setServiceProps(e).setMultipleInstances(!0))})(cc.default,fetch.bind(self)),cc.default.registerVersion("@firebase/functions","0.6.16");var Gb,WT=me(2940),zH="w:0.4.32",see=((Gb={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Gb["not-registered"]="Firebase Installation is not registered.",Gb["installation-not-found"]="Firebase Installation not found.",Gb["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Gb["app-offline"]="Could not process request. Application offline.",Gb["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Gb),Py=new pi.ErrorFactory("installations","Installations",see);function $H(t){return t instanceof pi.FirebaseError&&t.code.includes("request-failed")}function sP(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function QH(t){return{token:t.token,requestStatus:2,expiresIn:aee(t.expiresIn),creationTime:Date.now()}}function aP(t,n){return(0,W.__awaiter)(this,void 0,void 0,function(){var e,i;return(0,W.__generator)(this,function(o){switch(o.label){case 0:return[4,n.json()];case 1:return e=o.sent(),[2,Py.create("request-failed",{requestName:t,serverCode:(i=e.error).code,serverMessage:i.message,serverStatus:i.status})]}})})}function JH(t){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey})}function KH(t,n){var e=n.refreshToken,i=JH(t);return i.append("Authorization",function lee(t){return"FIS_v2 "+t}(e)),i}function lP(t){return(0,W.__awaiter)(this,void 0,void 0,function(){var n;return(0,W.__generator)(this,function(e){switch(e.label){case 0:return[4,t()];case 1:return(n=e.sent()).status>=500&&n.status<600?[2,t()]:[2,n]}})})}function aee(t){return Number(t.replace("s","000"))}function cee(t,n){var e=n.fid;return(0,W.__awaiter)(this,void 0,void 0,function(){var i,o,a,d,f;return(0,W.__generator)(this,function(w){switch(w.label){case 0:return i=sP(t),o=JH(t),a={method:"POST",headers:o,body:JSON.stringify({fid:e,authVersion:"FIS_v2",appId:t.appId,sdkVersion:zH})},[4,lP(function(){return fetch(i,a)})];case 1:return(d=w.sent()).ok?[4,d.json()]:[3,3];case 2:return[2,{fid:(f=w.sent()).fid||e,registrationStatus:2,refreshToken:f.refreshToken,authToken:QH(f.authToken)}];case 3:return[4,aP("Create Installation",d)];case 4:throw w.sent()}})})}function XH(t){return new Promise(function(n){setTimeout(n,t)})}var dee=/^[cdef][\w-]{21}$/;function hee(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function fee(t){return function uee(t){return btoa(String.fromCharCode.apply(String,(0,W.__spreadArray)([],(0,W.__read)(t)))).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return dee.test(e)?e:""}catch(i){return""}}function $T(t){return t.appName+"!"+t.appId}var QT=new Map;function e7(t,n){var e=$T(t);t7(e,n),function gee(t,n){var e=n7();e&&e.postMessage({key:t,fid:n}),r7()}(e,n)}function t7(t,n){var e,i,o=QT.get(t);if(o)try{for(var s=(0,W.__values)(o),a=s.next();!a.done;a=s.next())(0,a.value)(n)}catch(f){e={error:f}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(e)throw e.error}}}var TC=null;function n7(){return!TC&&"BroadcastChannel"in self&&((TC=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){t7(t.data.key,t.data.fid)}),TC}function r7(){0===QT.size&&TC&&(TC.close(),TC=null)}var AC="firebase-installations-store",uP=null;function dP(){return uP||(uP=(0,WT.openDb)("firebase-installations-database",1,function(t){0===t.oldVersion&&t.createObjectStore(AC)})),uP}function uO(t,n){return(0,W.__awaiter)(this,void 0,void 0,function(){var e,i,o,s,a;return(0,W.__generator)(this,function(d){switch(d.label){case 0:return e=$T(t),[4,dP()];case 1:return i=d.sent(),o=i.transaction(AC,"readwrite"),[4,(s=o.objectStore(AC)).get(e)];case 2:return a=d.sent(),[4,s.put(n,e)];case 3:return d.sent(),[4,o.complete];case 4:return d.sent(),(!a||a.fid!==n.fid)&&e7(t,n.fid),[2,n]}})})}function hP(t){return(0,W.__awaiter)(this,void 0,void 0,function(){var n,e,i;return(0,W.__generator)(this,function(o){switch(o.label){case 0:return n=$T(t),[4,dP()];case 1:return e=o.sent(),[4,(i=e.transaction(AC,"readwrite")).objectStore(AC).delete(n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2]}})})}function YD(t,n){return(0,W.__awaiter)(this,void 0,void 0,function(){var e,i,o,s,a,d;return(0,W.__generator)(this,function(f){switch(f.label){case 0:return e=$T(t),[4,dP()];case 1:return i=f.sent(),o=i.transaction(AC,"readwrite"),[4,(s=o.objectStore(AC)).get(e)];case 2:return a=f.sent(),void 0!==(d=n(a))?[3,4]:[4,s.delete(e)];case 3:return f.sent(),[3,6];case 4:return[4,s.put(d,e)];case 5:f.sent(),f.label=6;case 6:return[4,o.complete];case 7:return f.sent(),d&&(!a||a.fid!==d.fid)&&e7(t,d.fid),[2,d]}})})}function fP(t){return(0,W.__awaiter)(this,void 0,void 0,function(){var n,e,i;return(0,W.__generator)(this,function(o){switch(o.label){case 0:return[4,YD(t,function(s){var a=function yee(t){return s7(t||{fid:hee(),registrationStatus:0})}(s),d=function bee(t,n){if(0===n.registrationStatus){if(!navigator.onLine)return{installationEntry:n,registrationPromise:Promise.reject(Py.create("app-offline"))};var i={fid:n.fid,registrationStatus:1,registrationTime:Date.now()},o=function wee(t,n){return(0,W.__awaiter)(this,void 0,void 0,function(){var e,i;return(0,W.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,7]),[4,cee(t,n)];case 1:return e=o.sent(),[2,uO(t,e)];case 2:return $H(i=o.sent())&&409===i.customData.serverCode?[4,hP(t)]:[3,4];case 3:return o.sent(),[3,6];case 4:return[4,uO(t,{fid:n.fid,registrationStatus:0})];case 5:o.sent(),o.label=6;case 6:throw i;case 7:return[2]}})})}(t,i);return{installationEntry:i,registrationPromise:o}}return 1===n.registrationStatus?{installationEntry:n,registrationPromise:Cee(t)}:{installationEntry:n}}(t,a);return n=d.registrationPromise,d.installationEntry})];case 1:return""!==(e=o.sent()).fid?[3,3]:(i={},[4,n]);case 2:return[2,(i.installationEntry=o.sent(),i)];case 3:return[2,{installationEntry:e,registrationPromise:n}]}})})}function Cee(t){return(0,W.__awaiter)(this,void 0,void 0,function(){var n,e,i,o;return(0,W.__generator)(this,function(s){switch(s.label){case 0:return[4,o7(t)];case 1:n=s.sent(),s.label=2;case 2:return 1!==n.registrationStatus?[3,5]:[4,XH(100)];case 3:return s.sent(),[4,o7(t)];case 4:return n=s.sent(),[3,2];case 5:return 0!==n.registrationStatus?[3,7]:[4,fP(t)];case 6:return e=s.sent(),i=e.installationEntry,(o=e.registrationPromise)?[2,o]:[2,i];case 7:return[2,n]}})})}function o7(t){return YD(t,function(n){if(!n)throw Py.create("installation-not-found");return s7(n)})}function s7(t){return function xee(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function Tee(t,n){var e=t.appConfig,i=t.platformLoggerProvider;return(0,W.__awaiter)(this,void 0,void 0,function(){var o,s,a,f,v;return(0,W.__generator)(this,function(S){switch(S.label){case 0:return o=function Aee(t,n){var e=n.fid;return sP(t)+"/"+e+"/authTokens:generate"}(e,n),s=KH(e,n),(a=i.getImmediate({optional:!0}))&&s.append("x-firebase-client",a.getPlatformInfoString()),f={method:"POST",headers:s,body:JSON.stringify({installation:{sdkVersion:zH}})},[4,lP(function(){return fetch(o,f)})];case 1:return(v=S.sent()).ok?[4,v.json()]:[3,3];case 2:return[2,QH(S.sent())];case 3:return[4,aP("Generate Auth Token",v)];case 4:throw S.sent()}})})}function pP(t,n){return void 0===n&&(n=!1),(0,W.__awaiter)(this,void 0,void 0,function(){var e,i,s;return(0,W.__generator)(this,function(a){switch(a.label){case 0:return[4,YD(t.appConfig,function(d){if(!l7(d))throw Py.create("not-registered");var f=d.authToken;if(!n&&function Eee(t){return 2===t.requestStatus&&!function Mee(t){var n=Date.now();return n<t.creationTime||t.creationTime+t.expiresIn<n+36e5}(t)}(f))return d;if(1===f.requestStatus)return e=function See(t,n){return(0,W.__awaiter)(this,void 0,void 0,function(){var e,i;return(0,W.__generator)(this,function(o){switch(o.label){case 0:return[4,a7(t.appConfig)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.authToken.requestStatus?[3,5]:[4,XH(100)];case 3:return o.sent(),[4,a7(t.appConfig)];case 4:return e=o.sent(),[3,2];case 5:return 0===(i=e.authToken).requestStatus?[2,pP(t,n)]:[2,i]}})})}(t,n),d;if(!navigator.onLine)throw Py.create("app-offline");var v=function kee(t){var n={requestStatus:1,requestTime:Date.now()};return(0,W.__assign)((0,W.__assign)({},t),{authToken:n})}(d);return e=function Dee(t,n){return(0,W.__awaiter)(this,void 0,void 0,function(){var e,i,o;return(0,W.__generator)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,8]),[4,Tee(t,n)];case 1:return e=s.sent(),o=(0,W.__assign)((0,W.__assign)({},n),{authToken:e}),[4,uO(t.appConfig,o)];case 2:return s.sent(),[2,e];case 3:return!$H(i=s.sent())||401!==i.customData.serverCode&&404!==i.customData.serverCode?[3,5]:[4,hP(t.appConfig)];case 4:return s.sent(),[3,7];case 5:return o=(0,W.__assign)((0,W.__assign)({},n),{authToken:{requestStatus:0}}),[4,uO(t.appConfig,o)];case 6:s.sent(),s.label=7;case 7:throw i;case 8:return[2]}})})}(t,v),v})];case 1:return i=a.sent(),e?[4,e]:[3,3];case 2:return s=a.sent(),[3,4];case 3:s=i.authToken,a.label=4;case 4:return[2,s]}})})}function a7(t){return YD(t,function(n){if(!l7(n))throw Py.create("not-registered");return function Iee(t){return 1===t.requestStatus&&t.requestTime+1e4<Date.now()}(n.authToken)?(0,W.__assign)((0,W.__assign)({},n),{authToken:{requestStatus:0}}):n})}function l7(t){return void 0!==t&&2===t.registrationStatus}function Fee(t){return(0,W.__awaiter)(this,void 0,void 0,function(){var n;return(0,W.__generator)(this,function(e){switch(e.label){case 0:return[4,fP(t)];case 1:return(n=e.sent().registrationPromise)?[4,n]:[3,3];case 2:e.sent(),e.label=3;case 3:return[2]}})})}function Nee(t,n){return(0,W.__awaiter)(this,void 0,void 0,function(){var e,i,o,s;return(0,W.__generator)(this,function(a){switch(a.label){case 0:return e=function Ree(t,n){var e=n.fid;return sP(t)+"/"+e}(t,n),i=KH(t,n),o={method:"DELETE",headers:i},[4,lP(function(){return fetch(e,o)})];case 1:return(s=a.sent()).ok?[3,3]:[4,aP("Delete Installation",s)];case 2:throw a.sent();case 3:return[2]}})})}function mP(t){return Py.create("missing-app-config-values",{valueName:t})}!function jee(t){t.INTERNAL.registerComponent(new Ry.Component("installations",function(e){var i=e.getProvider("app").getImmediate(),o=function Uee(t){var n,e;if(!t||!t.options)throw mP("App Configuration");if(!t.name)throw mP("App Name");try{for(var o=(0,W.__values)(["projectId","apiKey","appId"]),s=o.next();!s.done;s=o.next()){var a=s.value;if(!t.options[a])throw mP(a)}}catch(d){n={error:d}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(n)throw n.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(i),a={appConfig:o,platformLoggerProvider:e.getProvider("platform-logger")},d={app:i,getId:function(){return function Oee(t){return(0,W.__awaiter)(this,void 0,void 0,function(){var n,e,i;return(0,W.__generator)(this,function(o){switch(o.label){case 0:return[4,fP(t.appConfig)];case 1:return n=o.sent(),e=n.installationEntry,(i=n.registrationPromise)?i.catch(console.error):pP(t).catch(console.error),[2,e.fid]}})})}(a)},getToken:function(f){return function Lee(t,n){return void 0===n&&(n=!1),(0,W.__awaiter)(this,void 0,void 0,function(){return(0,W.__generator)(this,function(i){switch(i.label){case 0:return[4,Fee(t.appConfig)];case 1:return i.sent(),[4,pP(t,n)];case 2:return[2,i.sent().token]}})})}(a,f)},delete:function(){return function Pee(t){return(0,W.__awaiter)(this,void 0,void 0,function(){var n,e;return(0,W.__generator)(this,function(i){switch(i.label){case 0:return[4,YD(n=t.appConfig,function(o){if(!o||0!==o.registrationStatus)return o})];case 1:if(!(e=i.sent()))return[3,6];if(1!==e.registrationStatus)return[3,2];throw Py.create("delete-pending-registration");case 2:if(2!==e.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw Py.create("app-offline");case 3:return[4,Nee(n,e)];case 4:return i.sent(),[4,hP(n)];case 5:i.sent(),i.label=6;case 6:return[2]}})})}(a)},onIdChange:function(f){return function Bee(t,n){var e=t.appConfig;return function pee(t,n){n7();var e=$T(t),i=QT.get(e);i||QT.set(e,i=new Set),i.add(n)}(e,n),function(){!function mee(t,n){var e=$T(t),i=QT.get(e);!i||(i.delete(n),0===i.size&&QT.delete(e),r7())}(e,n)}}(a,f)}};return d},"PUBLIC")),t.registerVersion("@firebase/installations","0.4.32")}(cc.default);var dc,Vee=((dc={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',dc["only-available-in-window"]="This method is available in a Window context.",dc["only-available-in-sw"]="This method is available in a service worker context.",dc["permission-default"]="The notification permission was not granted and dismissed instead.",dc["permission-blocked"]="The notification permission was not granted and blocked instead.",dc["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",dc["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",dc["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",dc["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",dc["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",dc["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",dc["token-update-no-token"]="FCM returned no token when updating the user to push.",dc["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",dc["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",dc["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",dc["invalid-vapid-key"]="The public VAPID key must be a string.",dc["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",dc),es=new pi.ErrorFactory("messaging","Messaging",Vee),dO="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",c7="FCM_MSG",u7="google.c.a.c_id",Zb=(()=>(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"}(Zb||(Zb={})),Zb))();function By(t){var n=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,(0,W.__spreadArray)([],(0,W.__read)(n)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Jee(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(e),o=new Uint8Array(i.length),s=0;s<i.length;++s)o[s]=i.charCodeAt(s);return o}var gP="fcm_token_details_db",d7="fcm_token_object_Store";function Xee(t){return(0,W.__awaiter)(this,void 0,void 0,function(){var i,s=this;return(0,W.__generator)(this,function(a){switch(a.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!a.sent().map(function(d){return d.name}).includes(gP))return[2,null];a.label=2;case 2:return i=null,[4,(0,WT.openDb)(gP,5,function(d){return(0,W.__awaiter)(s,void 0,void 0,function(){var f,v,w,x;return(0,W.__generator)(this,function(S){switch(S.label){case 0:return d.oldVersion<2?[2]:d.objectStoreNames.contains(d7)?[4,(f=d.transaction.objectStore(d7)).index("fcmSenderId").get(t)]:[2];case 1:return v=S.sent(),[4,f.clear()];case 2:if(S.sent(),!v)return[2];if(2===d.oldVersion){if(!(w=v).auth||!w.p256dh||!w.endpoint)return[2];i={token:w.fcmToken,createTime:null!==(x=w.createTime)&&void 0!==x?x:Date.now(),subscriptionOptions:{auth:w.auth,p256dh:w.p256dh,endpoint:w.endpoint,swScope:w.swScope,vapidKey:"string"==typeof w.vapidKey?w.vapidKey:By(w.vapidKey)}}}else(3===d.oldVersion||4===d.oldVersion)&&(i={token:(w=v).fcmToken,createTime:w.createTime,subscriptionOptions:{auth:By(w.auth),p256dh:By(w.p256dh),endpoint:w.endpoint,swScope:w.swScope,vapidKey:By(w.vapidKey)}});return[2]}})})})];case 3:return a.sent().close(),[4,(0,WT.deleteDb)(gP)];case 4:return a.sent(),[4,(0,WT.deleteDb)("fcm_vapid_details_db")];case 5:return a.sent(),[4,(0,WT.deleteDb)("undefined")];case 6:return a.sent(),[2,ete(i)?i:null]}})})}function ete(t){if(!t||!t.subscriptionOptions)return!1;var n=t.subscriptionOptions;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof n.auth&&n.auth.length>0&&"string"==typeof n.p256dh&&n.p256dh.length>0&&"string"==typeof n.endpoint&&n.endpoint.length>0&&"string"==typeof n.swScope&&n.swScope.length>0&&"string"==typeof n.vapidKey&&n.vapidKey.length>0}var SC="firebase-messaging-store",_P=null;function vP(){return _P||(_P=(0,WT.openDb)("firebase-messaging-database",1,function(t){0===t.oldVersion&&t.createObjectStore(SC)})),_P}function hO(t){return(0,W.__awaiter)(this,void 0,void 0,function(){var n,i,o;return(0,W.__generator)(this,function(s){switch(s.label){case 0:return n=bP(t),[4,vP()];case 1:return[4,s.sent().transaction(SC).objectStore(SC).get(n)];case 2:return(i=s.sent())?[2,i]:[3,3];case 3:return[4,Xee(t.appConfig.senderId)];case 4:return(o=s.sent())?[4,yP(t,o)]:[3,6];case 5:return s.sent(),[2,o];case 6:return[2]}})})}function yP(t,n){return(0,W.__awaiter)(this,void 0,void 0,function(){var e,i,o;return(0,W.__generator)(this,function(s){switch(s.label){case 0:return e=bP(t),[4,vP()];case 1:return i=s.sent(),[4,(o=i.transaction(SC,"readwrite")).objectStore(SC).put(n,e)];case 2:return s.sent(),[4,o.complete];case 3:return s.sent(),[2,n]}})})}function ite(t){return(0,W.__awaiter)(this,void 0,void 0,function(){var n,e,i;return(0,W.__generator)(this,function(o){switch(o.label){case 0:return n=bP(t),[4,vP()];case 1:return e=o.sent(),[4,(i=e.transaction(SC,"readwrite")).objectStore(SC).delete(n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2]}})})}function bP(t){return t.appConfig.appId}function rte(t,n){return(0,W.__awaiter)(this,void 0,void 0,function(){var e,i,o,s,d;return(0,W.__generator)(this,function(v){switch(v.label){case 0:return[4,CP(t)];case 1:e=v.sent(),i=f7(n),o={method:"POST",headers:e,body:JSON.stringify(i)},v.label=2;case 2:return v.trys.push([2,5,,6]),[4,fetch(wP(t.appConfig),o)];case 3:return[4,v.sent().json()];case 4:return s=v.sent(),[3,6];case 5:throw d=v.sent(),es.create("token-subscribe-failed",{errorInfo:d});case 6:if(s.error)throw es.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw es.create("token-subscribe-no-token");return[2,s.token]}})})}function ote(t,n){return(0,W.__awaiter)(this,void 0,void 0,function(){var e,i,o,s,d;return(0,W.__generator)(this,function(v){switch(v.label){case 0:return[4,CP(t)];case 1:e=v.sent(),i=f7(n.subscriptionOptions),o={method:"PATCH",headers:e,body:JSON.stringify(i)},v.label=2;case 2:return v.trys.push([2,5,,6]),[4,fetch(wP(t.appConfig)+"/"+n.token,o)];case 3:return[4,v.sent().json()];case 4:return s=v.sent(),[3,6];case 5:throw d=v.sent(),es.create("token-update-failed",{errorInfo:d});case 6:if(s.error)throw es.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw es.create("token-update-no-token");return[2,s.token]}})})}function h7(t,n){return(0,W.__awaiter)(this,void 0,void 0,function(){var e,i,s,d;return(0,W.__generator)(this,function(f){switch(f.label){case 0:return[4,CP(t)];case 1:e=f.sent(),i={method:"DELETE",headers:e},f.label=2;case 2:return f.trys.push([2,5,,6]),[4,fetch(wP(t.appConfig)+"/"+n,i)];case 3:return[4,f.sent().json()];case 4:if((s=f.sent()).error)throw es.create("token-unsubscribe-failed",{errorInfo:s.error.message});return[3,6];case 5:throw d=f.sent(),es.create("token-unsubscribe-failed",{errorInfo:d});case 6:return[2]}})})}function wP(t){return"https://fcmregistrations.googleapis.com/v1/projects/"+t.projectId+"/registrations"}function CP(t){var n=t.appConfig,e=t.installations;return(0,W.__awaiter)(this,void 0,void 0,function(){var i;return(0,W.__generator)(this,function(o){switch(o.label){case 0:return[4,e.getToken()];case 1:return i=o.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":"FIS "+i})]}})})}function f7(t){var o=t.vapidKey,s={web:{endpoint:t.endpoint,auth:t.auth,p256dh:t.p256dh}};return o!==dO&&(s.web.applicationPubKey=o),s}function xP(t,n,e){return(0,W.__awaiter)(this,void 0,void 0,function(){var i,o,s,a;return(0,W.__generator)(this,function(d){switch(d.label){case 0:if("granted"!==Notification.permission)throw es.create("permission-blocked");return[4,lte(n,e)];case 1:return i=d.sent(),[4,hO(t)];case 2:return o=d.sent(),s={vapidKey:e,swScope:n.scope,endpoint:i.endpoint,auth:By(i.getKey("auth")),p256dh:By(i.getKey("p256dh"))},o?[3,3]:[2,p7(t,s)];case 3:if(function cte(t,n){return n.vapidKey===t.vapidKey&&n.endpoint===t.endpoint&&n.auth===t.auth&&n.p256dh===t.p256dh}(o.subscriptionOptions,s))return[3,8];d.label=4;case 4:return d.trys.push([4,6,,7]),[4,h7(t,o.token)];case 5:return d.sent(),[3,7];case 6:return a=d.sent(),console.warn(a),[3,7];case 7:return[2,p7(t,s)];case 8:return Date.now()>=o.createTime+6048e5?[2,ate({token:o.token,createTime:Date.now(),subscriptionOptions:s},t,n)]:[2,o.token];case 9:return[2]}})})}function zD(t,n){return(0,W.__awaiter)(this,void 0,void 0,function(){var e,i;return(0,W.__generator)(this,function(o){switch(o.label){case 0:return[4,hO(t)];case 1:return(e=o.sent())?[4,h7(t,e.token)]:[3,4];case 2:return o.sent(),[4,ite(t)];case 3:o.sent(),o.label=4;case 4:return[4,n.pushManager.getSubscription()];case 5:return(i=o.sent())?[2,i.unsubscribe()]:[2,!0]}})})}function ate(t,n,e){return(0,W.__awaiter)(this,void 0,void 0,function(){var i,o,s;return(0,W.__generator)(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,ote(n,t)];case 1:return i=a.sent(),o=(0,W.__assign)((0,W.__assign)({},t),{token:i,createTime:Date.now()}),[4,yP(n,o)];case 2:return a.sent(),[2,i];case 3:return s=a.sent(),[4,zD(n,e)];case 4:throw a.sent(),s;case 5:return[2]}})})}function p7(t,n){return(0,W.__awaiter)(this,void 0,void 0,function(){var e,i;return(0,W.__generator)(this,function(o){switch(o.label){case 0:return[4,rte(t,n)];case 1:return e=o.sent(),i={token:e,createTime:Date.now(),subscriptionOptions:n},[4,yP(t,i)];case 2:return o.sent(),[2,i.token]}})})}function lte(t,n){return(0,W.__awaiter)(this,void 0,void 0,function(){var e;return(0,W.__generator)(this,function(i){switch(i.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(e=i.sent())?[2,e]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Jee(n)})]}})})}function m7(t){return"object"==typeof t&&!!t&&u7 in t}function g7(t){return new Promise(function(n){setTimeout(n,t)})}var pte=function(){function t(n){var e=this;this.firebaseDependencies=n,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(i){i.waitUntil(e.onPush(i))}),self.addEventListener("pushsubscriptionchange",function(i){i.waitUntil(e.onSubChange(i))}),self.addEventListener("notificationclick",function(i){i.waitUntil(e.onNotificationClick(i))})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(n){if(this.isOnBackgroundMessageUsed=!1,!n||"function"!=typeof n)throw es.create("invalid-bg-handler");this.bgMessageHandler=n},t.prototype.onBackgroundMessage=function(n){var e=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=n,function(){e.bgMessageHandler=null}},t.prototype.getToken=function(){var n,e;return(0,W.__awaiter)(this,void 0,void 0,function(){var i;return(0,W.__generator)(this,function(o){switch(o.label){case 0:return this.vapidKey?[3,2]:[4,hO(this.firebaseDependencies)];case 1:i=o.sent(),this.vapidKey=null!==(e=null===(n=null==i?void 0:i.subscriptionOptions)||void 0===n?void 0:n.vapidKey)&&void 0!==e?e:dO,o.label=2;case 2:return[2,xP(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},t.prototype.deleteToken=function(){return zD(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw es.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(n){if(null!==this.vapidKey)throw es.create("use-vapid-key-after-get-token");if("string"!=typeof n||0===n.length)throw es.create("invalid-vapid-key");this.vapidKey=n},t.prototype.useServiceWorker=function(){throw es.create("only-available-in-window")},t.prototype.onMessage=function(){throw es.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw es.create("only-available-in-window")},t.prototype.onPush=function(n){return(0,W.__awaiter)(this,void 0,void 0,function(){var e,i,o,s;return(0,W.__generator)(this,function(a){switch(a.label){case 0:return e=function gte(t){var n=t.data;if(!n)return null;try{return n.json()}catch(e){return null}}(n),e?[4,_7()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function vte(t){return t.some(function(n){return"visible"===n.visibilityState&&!n.url.startsWith("chrome-extension://")})}(i=a.sent())?[2,yte(i,e)]:(o=!1,e.notification?[4,bte(mte(e))]:[3,3]);case 2:a.sent(),o=!0,a.label=3;case 3:return!0===o&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(s=function ute(t){var n={from:t.from,collapseKey:t.collapse_key,messageId:t.fcm_message_id};return function dte(t,n){if(n.notification){t.notification={};var e=n.notification.title;e&&(t.notification.title=e);var i=n.notification.body;i&&(t.notification.body=i);var o=n.notification.image;o&&(t.notification.image=o)}}(n,t),function hte(t,n){!n.data||(t.data=n.data)}(n,t),function fte(t,n){if(n.fcmOptions){t.fcmOptions={};var e=n.fcmOptions.link;e&&(t.fcmOptions.link=e);var i=n.fcmOptions.analytics_label;i&&(t.fcmOptions.analyticsLabel=i)}}(n,t),n}(e),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(s):this.bgMessageHandler.next(s)),[4,g7(1e3)]);case 4:return a.sent(),[2]}})})},t.prototype.onSubChange=function(n){var e,i;return(0,W.__awaiter)(this,void 0,void 0,function(){var s;return(0,W.__generator)(this,function(a){switch(a.label){case 0:return n.newSubscription?[3,2]:[4,zD(this.firebaseDependencies,self.registration)];case 1:case 5:return a.sent(),[2];case 2:return[4,hO(this.firebaseDependencies)];case 3:return s=a.sent(),[4,zD(this.firebaseDependencies,self.registration)];case 4:return a.sent(),[4,xP(this.firebaseDependencies,self.registration,null!==(i=null===(e=null==s?void 0:s.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==i?i:dO)]}})})},t.prototype.onNotificationClick=function(n){var e,i;return(0,W.__awaiter)(this,void 0,void 0,function(){var o,s,a,d,f;return(0,W.__generator)(this,function(v){switch(v.label){case 0:return(o=null===(i=null===(e=n.notification)||void 0===e?void 0:e.data)||void 0===i?void 0:i[c7])?n.action?[2]:(n.stopImmediatePropagation(),n.notification.close(),s=function wte(t){var n,e,i;return(null!==(e=null===(n=t.fcmOptions)||void 0===n?void 0:n.link)&&void 0!==e?e:null===(i=t.notification)||void 0===i?void 0:i.click_action)||(m7(t.data)?self.location.origin:null)}(o),s?(a=new URL(s,self.location.href),d=new URL(self.location.origin),a.host!==d.host?[2]:[4,_te(a)]):[2]):[2];case 1:return(f=v.sent())?[3,4]:[4,self.clients.openWindow(s)];case 2:return f=v.sent(),[4,g7(3e3)];case 3:return v.sent(),[3,6];case 4:return[4,f.focus()];case 5:f=v.sent(),v.label=6;case 6:return f?(o.messageType=Zb.NOTIFICATION_CLICKED,o.isFirebaseMessaging=!0,[2,f.postMessage(o)]):[2]}})})},t}();function mte(t){var n,e=(0,W.__assign)({},t.notification);return e.data=((n={})[c7]=t,n),e}function _te(t){return(0,W.__awaiter)(this,void 0,void 0,function(){var n,e,i,o,s,a,d;return(0,W.__generator)(this,function(f){switch(f.label){case 0:return[4,_7()];case 1:n=f.sent();try{for(e=(0,W.__values)(n),i=e.next();!i.done;i=e.next())if(o=i.value,s=new URL(o.url,self.location.href),t.host===s.host)return[2,o]}catch(v){a={error:v}}finally{try{i&&!i.done&&(d=e.return)&&d.call(e)}finally{if(a)throw a.error}}return[2,null]}})})}function yte(t,n){var e,i;n.isFirebaseMessaging=!0,n.messageType=Zb.PUSH_RECEIVED;try{for(var o=(0,W.__values)(t),s=o.next();!s.done;s=o.next())s.value.postMessage(n)}catch(d){e={error:d}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(e)throw e.error}}}function _7(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function bte(t){var n,e=t.actions,i=Notification.maxActions;return e&&i&&e.length>i&&console.warn("This browser only supports "+i+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(n=t.title)&&void 0!==n?n:"",t)}var Cte=function(){function t(n){var e=this;this.firebaseDependencies=n,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(i){return e.messageEventListener(i)})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(n){return(0,W.__awaiter)(this,void 0,void 0,function(){var e,i;return(0,W.__generator)(this,function(o){switch(o.label){case 0:return(e=n.data).isFirebaseMessaging?(this.onMessageCallback&&e.messageType===Zb.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function Tte(t){return delete t.messageType,delete t.isFirebaseMessaging,t}(Object.assign({},e))):this.onMessageCallback.next(Object.assign({},e))),m7(i=e.data)&&"1"===i["google.c.a.e"]?[4,this.logEvent(e.messageType,i)]:[3,2]):[2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(n){return(0,W.__awaiter)(this,void 0,void 0,function(){return(0,W.__generator)(this,function(e){switch(e.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:e.sent(),e.label=2;case 2:if("granted"!==Notification.permission)throw es.create("permission-blocked");return[4,this.updateVapidKey(null==n?void 0:n.vapidKey)];case 3:return e.sent(),[4,this.updateSwReg(null==n?void 0:n.serviceWorkerRegistration)];case 4:return e.sent(),[2,xP(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},t.prototype.updateVapidKey=function(n){return(0,W.__awaiter)(this,void 0,void 0,function(){return(0,W.__generator)(this,function(e){return n?this.vapidKey=n:this.vapidKey||(this.vapidKey=dO),[2]})})},t.prototype.updateSwReg=function(n){return(0,W.__awaiter)(this,void 0,void 0,function(){return(0,W.__generator)(this,function(e){switch(e.label){case 0:return n||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:if(!n&&this.swRegistration)return[2];if(!(n instanceof ServiceWorkerRegistration))throw es.create("invalid-sw-registration");return this.swRegistration=n,[2]}})})},t.prototype.registerDefaultSw=function(){return(0,W.__awaiter)(this,void 0,void 0,function(){var n,e;return(0,W.__generator)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),n=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return n.swRegistration=i.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw e=i.sent(),es.create("failed-service-worker-registration",{browserErrorMessage:e.message});case 3:return[2]}})})},t.prototype.deleteToken=function(){return(0,W.__awaiter)(this,void 0,void 0,function(){return(0,W.__generator)(this,function(n){switch(n.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:n.sent(),n.label=2;case 2:return[2,zD(this.firebaseDependencies,this.swRegistration)]}})})},t.prototype.requestPermission=function(){return(0,W.__awaiter)(this,void 0,void 0,function(){var n;return(0,W.__generator)(this,function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(n=e.sent()))return[2];throw es.create("denied"===n?"permission-blocked":"permission-default")}})})},t.prototype.usePublicVapidKey=function(n){if(null!==this.vapidKey)throw es.create("use-vapid-key-after-get-token");if("string"!=typeof n||0===n.length)throw es.create("invalid-vapid-key");this.vapidKey=n},t.prototype.useServiceWorker=function(n){if(!(n instanceof ServiceWorkerRegistration))throw es.create("invalid-sw-registration");if(this.swRegistration)throw es.create("use-sw-after-get-token");this.swRegistration=n},t.prototype.onMessage=function(n){var e=this;return this.onMessageCallback=n,function(){e.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw es.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw es.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(n,e){return(0,W.__awaiter)(this,void 0,void 0,function(){var i;return(0,W.__generator)(this,function(s){switch(s.label){case 0:return i=function xte(t){switch(t){case Zb.NOTIFICATION_CLICKED:return"notification_open";case Zb.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(n),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return s.sent().logEvent(i,{message_id:e[u7],message_name:e["google.c.a.c_l"],message_time:e["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},t}();function TP(t){return es.create("missing-app-config-values",{valueName:t})}var Ete={isSupported:v7};function v7(){return self&&"ServiceWorkerGlobalScope"in self?function kte(){return"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}():function Mte(){return"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}()}cc.default.INTERNAL.registerComponent(new Ry.Component("messaging",function Dte(t){var n=t.getProvider("app").getImmediate(),e=function Ate(t){var n,e;if(!t||!t.options)throw TP("App Configuration Object");if(!t.name)throw TP("App Name");var o=t.options;try{for(var s=(0,W.__values)(["projectId","apiKey","appId","messagingSenderId"]),a=s.next();!a.done;a=s.next()){var d=a.value;if(!o[d])throw TP(d)}}catch(f){n={error:f}}finally{try{a&&!a.done&&(e=s.return)&&e.call(s)}finally{if(n)throw n.error}}return{appName:t.name,projectId:o.projectId,apiKey:o.apiKey,appId:o.appId,senderId:o.messagingSenderId}}(n),s={app:n,appConfig:e,installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")};if(!v7())throw es.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new pte(s):new Cte(s)},"PUBLIC").setServiceProps(Ete));var y7="firebasestorage.googleapis.com",b7="storageBucket",Rl=function(t){function n(e,i){var o=t.call(this,AP(e),"Firebase Storage: "+i+" ("+AP(e)+")")||this;return o.customData={serverResponse:null},o._baseMessage=o.message,Object.setPrototypeOf(o,n.prototype),o}return(0,W.__extends)(n,t),n.prototype._codeEquals=function(e){return AP(e)===this.code},Object.defineProperty(n.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),n}(pi.FirebaseError);function AP(t){return"storage/"+t}function SP(){return new Rl("unknown","An unknown error occurred, please check the error payload for server response.")}function w7(){return new Rl("canceled","User canceled the upload/download.")}function C7(){return new Rl("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function JT(t){return new Rl("invalid-argument",t)}function x7(){return new Rl("app-deleted","The Firebase app was deleted.")}function T7(t){return new Rl("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function WD(t,n){return new Rl("invalid-format","String does not match format '"+t+"': "+n)}function fO(t){throw new Rl("internal-error","Internal error: "+t)}var Kp={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},DP=function t(n,e){this.data=n,this.contentType=e||null};function A7(t,n){switch(t){case Kp.RAW:return new DP(S7(n));case Kp.BASE64:case Kp.BASE64URL:return new DP(D7(t,n));case Kp.DATA_URL:return new DP(function Yte(t){var n=new E7(t);return n.base64?D7(Kp.BASE64,n.rest):function Zte(t){var n;try{n=decodeURIComponent(t)}catch(e){throw WD(Kp.DATA_URL,"Malformed data URL.")}return S7(n)}(n.rest)}(n),function zte(t){return new E7(t).contentType}(n))}throw SP()}function S7(t){for(var n=[],e=0;e<t.length;e++){var i=t.charCodeAt(e);if(i<=127)n.push(i);else if(i<=2047)n.push(192|i>>6,128|63&i);else if(55296==(64512&i))if(e<t.length-1&&56320==(64512&t.charCodeAt(e+1))){var s=i,a=t.charCodeAt(++e);n.push(240|(i=65536|(1023&s)<<10|1023&a)>>18,128|i>>12&63,128|i>>6&63,128|63&i)}else n.push(239,191,189);else 56320==(64512&i)?n.push(239,191,189):n.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(n)}function D7(t,n){switch(t){case Kp.BASE64:var e=-1!==n.indexOf("-"),i=-1!==n.indexOf("_");if(e||i)throw WD(t,"Invalid character '"+(e?"-":"_")+"' found: is it base64url encoded?");break;case Kp.BASE64URL:var s=-1!==n.indexOf("+"),a=-1!==n.indexOf("/");if(s||a)throw WD(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");n=n.replace(/-/g,"+").replace(/_/g,"/")}var d;try{d=function Gte(t){return atob(t)}(n)}catch(w){throw WD(t,"Invalid character found")}for(var f=new Uint8Array(d.length),v=0;v<d.length;v++)f[v]=d.charCodeAt(v);return f}var E7=function t(n){this.base64=!1,this.contentType=null;var e=n.match(/^data:([^,]+)?,/);if(null===e)throw WD(Kp.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var i=e[1]||null;null!=i&&(this.base64=function Wte(t,n){return t.length>=n.length&&t.substring(t.length-n.length)===n}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=n.substring(n.indexOf(",")+1)},$te={STATE_CHANGED:"state_changed"},nh={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function EP(t){switch(t){case"running":case"pausing":case"canceling":return nh.RUNNING;case"paused":return nh.PAUSED;case"success":return nh.SUCCESS;case"canceled":return nh.CANCELED;default:return nh.ERROR}}var Yb=(()=>(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(Yb||(Yb={})),Yb))(),Qte=function(){function t(){var n=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Yb.NO_ERROR,this.sendPromise_=new Promise(function(e){n.xhr_.addEventListener("abort",function(){n.errorCode_=Yb.ABORT,e()}),n.xhr_.addEventListener("error",function(){n.errorCode_=Yb.NETWORK_ERROR,e()}),n.xhr_.addEventListener("load",function(){e()})})}return t.prototype.send=function(n,e,i,o){if(this.sent_)throw fO("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,n,!0),void 0!==o)for(var s in o)o.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,o[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw fO("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw fO("cannot .getStatus() before sending");try{return this.xhr_.status}catch(n){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw fO("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(n){return this.xhr_.getResponseHeader(n)},t.prototype.addUploadProgressListener=function(n){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",n)},t.prototype.removeUploadProgressListener=function(n){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",n)},t}(),Kte=function(){function t(){}return t.prototype.createConnection=function(){return function Jte(){return new Qte}()},t}(),Xp=function(){function t(n,e){this.bucket=n,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var n=encodeURIComponent;return"/b/"+n(this.bucket)+"/o/"+n(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(n,e){var i;try{i=t.makeFromUrl(n,e)}catch(o){return new t(n,"")}if(""===i.path)return i;throw function jte(t){return new Rl("invalid-default-bucket","Invalid default bucket '"+t+"'.")}(n)},t.makeFromUrl=function(n,e){var i=null,o="([A-Za-z0-9.\\-_]+)",d=new RegExp("^gs://"+o+"(/(.*))?$","i");function v(St){St.path_=decodeURIComponent(St.path)}for(var x=e.replace(/[.]/g,"\\."),ve=[{regex:d,indices:{bucket:1,path:3},postModify:function s(St){"/"===St.path.charAt(St.path.length-1)&&(St.path_=St.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+x+"/v[A-Za-z0-9_]+/b/"+o+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:v},{regex:new RegExp("^https?://"+(e===y7?"(?:storage.googleapis.com|storage.cloud.google.com)":e)+"/"+o+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:v}],Fe=0;Fe<ve.length;Fe++){var Be=ve[Fe],gt=Be.regex.exec(n);if(gt){var Le=gt[Be.indices.path];Le||(Le=""),i=new t(gt[Be.indices.bucket],Le),Be.postModify(i);break}}if(null==i)throw function Ute(t){return new Rl("invalid-url","Invalid URL '"+t+"'.")}(n);return i},t}(),Xte=function(){function t(n){this.promise_=Promise.reject(n)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(n){},t}();function pO(t){return"string"==typeof t||t instanceof String}function M7(t){return MP()&&t instanceof Blob}function MP(){return"undefined"!=typeof Blob}function kP(t,n,e,i){if(i<n)throw JT("Invalid value for '"+t+"'. Expected "+n+" or greater.");if(i>e)throw JT("Invalid value for '"+t+"'. Expected "+e+" or less.")}function zb(t,n){var e=n.match(/^(\w+):\/\/.+/),o=n;return null==(null==e?void 0:e[1])&&(o="https://"+n),o+"/v0"+t}function k7(t){var n=encodeURIComponent,e="?";for(var i in t)t.hasOwnProperty(i)&&(e=e+(n(i)+"=")+n(t[i])+"&");return e.slice(0,-1)}var one=function(){function t(n,e,i,o,s,a,d,f,v,w,x){var S=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=n,this.method_=e,this.headers_=i,this.body_=o,this.successCodes_=s.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=d,this.errorCallback_=f,this.progressCallback_=w,this.timeout_=v,this.pool_=x,this.promise_=new Promise(function(E,q){S.resolve_=E,S.reject_=q,S.start_()})}return t.prototype.start_=function(){var n=this;function i(o,s){var a=n.resolve_,d=n.reject_,f=s.connection;if(s.wasSuccessCode)try{var v=n.callback_(f,f.getResponseText());!function nne(t){return void 0!==t}(v)?a():a(v)}catch(x){d(x)}else if(null!==f)(w=SP()).serverResponse=f.getResponseText(),d(n.errorCallback_?n.errorCallback_(f,w):w);else if(s.canceled)d(w=n.appDelete_?x7():w7());else{var w;d(w=function Bte(){return new Rl("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())}}this.canceled_?i(0,new mO(!1,null,!0)):this.backoffId_=function ene(t,n,e){var i=1,o=null,s=!1,a=0;function d(){return 2===a}var f=!1;function v(){for(var q=[],H=0;H<arguments.length;H++)q[H]=arguments[H];f||(f=!0,n.apply(null,q))}function w(q){o=setTimeout(function(){o=null,t(x,d())},q)}function x(q){for(var H=[],ee=1;ee<arguments.length;ee++)H[ee-1]=arguments[ee];if(!f){if(q)return void v.call.apply(v,(0,W.__spreadArray)([null,q],H));var oe;if(d()||s)return void v.call.apply(v,(0,W.__spreadArray)([null,q],H));i<64&&(i*=2),1===a?(a=2,oe=0):oe=1e3*(i+Math.random()),w(oe)}}var S=!1;function E(q){S||(S=!0,!f&&(null!==o?(q||(a=2),clearTimeout(o),w(0)):q||(a=1)))}return w(0),setTimeout(function(){s=!0,E(!0)},e),E}(function e(o,s){if(s)o(!1,new mO(!1,null,!0));else{var a=n.pool_.createConnection();n.pendingConnection_=a,null!==n.progressCallback_&&a.addUploadProgressListener(d),a.send(n.url_,n.method_,n.body_,n.headers_).then(function(){null!==n.progressCallback_&&a.removeUploadProgressListener(d),n.pendingConnection_=null;var f=a.getErrorCode()===Yb.NO_ERROR,v=a.getStatus();if(f&&!n.isRetryStatusCode_(v)){var x=-1!==n.successCodes_.indexOf(v);o(!0,new mO(x,a))}else{var w=a.getErrorCode()===Yb.ABORT;o(!1,new mO(!1,null,w))}})}function d(f){null!==n.progressCallback_&&n.progressCallback_(f.loaded,f.lengthComputable?f.total:-1)}},i,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(n){this.canceled_=!0,this.appDelete_=n||!1,null!==this.backoffId_&&function tne(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()},t.prototype.isRetryStatusCode_=function(n){var e=n>=500&&n<600,o=-1!==[408,429].indexOf(n),s=-1!==this.additionalRetryCodes_.indexOf(n);return e||o||s},t}(),mO=function t(n,e,i){this.wasSuccessCode=n,this.connection=e,this.canceled=!!i};function dne(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function hne(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=dne();if(void 0!==e){for(var i=new e,o=0;o<t.length;o++)i.append(t[o]);return i.getBlob()}if(MP())return new Blob(t);throw new Rl("unsupported-environment","This browser doesn't seem to support creating Blobs")}var IP=function(){function t(n,e){var i=0,o="";M7(n)?(this.data_=n,i=n.size,o=n.type):n instanceof ArrayBuffer?(e?this.data_=new Uint8Array(n):(this.data_=new Uint8Array(n.byteLength),this.data_.set(new Uint8Array(n))),i=this.data_.length):n instanceof Uint8Array&&(e?this.data_=n:(this.data_=new Uint8Array(n.length),this.data_.set(n)),i=n.length),this.size_=i,this.type_=o}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(n,e){if(M7(this.data_)){var o=function fne(t,n,e){return t.webkitSlice?t.webkitSlice(n,e):t.mozSlice?t.mozSlice(n,e):t.slice?t.slice(n,e):null}(this.data_,n,e);return null===o?null:new t(o)}return new t(new Uint8Array(this.data_.buffer,n,e-n),!0)},t.getBlob=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(MP()){var i=n.map(function(f){return f instanceof t?f.data_:f});return new t(hne.apply(null,i))}var o=n.map(function(f){return pO(f)?A7(Kp.RAW,f).data:f.data_}),s=0;o.forEach(function(f){s+=f.byteLength});var a=new Uint8Array(s),d=0;return o.forEach(function(f){for(var v=0;v<f.length;v++)a[d++]=f[v]}),new t(a,!0)},t.prototype.uploadData=function(){return this.data_},t}();function OP(t){var n;try{n=JSON.parse(t)}catch(e){return null}return function rne(t){return"object"==typeof t&&!Array.isArray(t)}(n)?n:null}function I7(t){var n=t.lastIndexOf("/",t.length-2);return-1===n?t:t.slice(n+1)}function gne(t,n){return n}var ih=function t(n,e,i,o){this.server=n,this.local=e||n,this.writable=!!i,this.xform=o||gne},gO=null;function _O(){if(gO)return gO;var t=[];t.push(new ih("bucket")),t.push(new ih("generation")),t.push(new ih("metageneration")),t.push(new ih("name","fullPath",!0));var e=new ih("name");e.xform=function n(s,a){return function _ne(t){return!pO(t)||t.length<2?t:I7(t)}(a)},t.push(e);var o=new ih("size");return o.xform=function i(s,a){return void 0!==a?Number(a):a},t.push(o),t.push(new ih("timeCreated")),t.push(new ih("updated")),t.push(new ih("md5Hash",null,!0)),t.push(new ih("cacheControl",null,!0)),t.push(new ih("contentDisposition",null,!0)),t.push(new ih("contentEncoding",null,!0)),t.push(new ih("contentLanguage",null,!0)),t.push(new ih("contentType",null,!0)),t.push(new ih("metadata","customMetadata",!0)),gO=t}function O7(t,n,e){var i=OP(n);return null===i?null:function yne(t,n,e){for(var i={type:"file"},o=e.length,s=0;s<o;s++){var a=e[s];i[a.local]=a.xform(i,n[a.server])}return function vne(t,n){Object.defineProperty(t,"ref",{get:function e(){var s=new Xp(t.bucket,t.fullPath);return n._makeStorageReference(s)}})}(i,t),i}(t,i,e)}function LP(t,n){for(var e={},i=n.length,o=0;o<i;o++){var s=n[o];s.writable&&(e[s.server]=t[s.local])}return JSON.stringify(e)}var L7="prefixes";var Uy=function t(n,e,i,o){this.url=n,this.method=e,this.handler=i,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function z_(t){if(!t)throw SP()}function vO(t,n){return function e(i,o){var s=O7(t,o,n);return z_(null!==s),s}}function KT(t){return function n(e,i){var o;return o=401===e.getStatus()?e.getResponseText().includes("Firebase App Check token is invalid")?function Rte(){return new Rl("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Nte(){return new Rl("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function Fte(t){return new Rl("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(t.bucket):403===e.getStatus()?function Pte(t){return new Rl("unauthorized","User does not have permission to access '"+t+"'.")}(t.path):i,o.serverResponse=i.serverResponse,o}}function yO(t){var n=KT(t);return function e(i,o){var s=n(i,o);return 404===i.getStatus()&&(s=function Lte(t){return new Rl("object-not-found","Object '"+t+"' does not exist.")}(t.path)),s.serverResponse=o.serverResponse,s}}function N7(t,n,e){var o=zb(n.fullServerUrl(),t.host),a=t.maxOperationRetryTime,d=new Uy(o,"GET",vO(t,e),a);return d.errorHandler=yO(n),d}function Ane(t,n,e,i,o){var s={};s.prefix=n.isRoot?"":n.path+"/",e&&e.length>0&&(s.delimiter=e),i&&(s.pageToken=i),o&&(s.maxResults=o);var d=zb(n.bucketOnlyServerUrl(),t.host),v=t.maxOperationRetryTime,w=new Uy(d,"GET",function xne(t,n){return function e(i,o){var s=function Cne(t,n,e){var i=OP(e);return null===i?null:function wne(t,n,e){var i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[L7])for(var o=0,s=e[L7];o<s.length;o++){var d=s[o].replace(/\/$/,""),f=t._makeStorageReference(new Xp(n,d));i.prefixes.push(f)}if(e.items)for(var v=0,w=e.items;v<w.length;v++)f=t._makeStorageReference(new Xp(n,w[v].name)),i.items.push(f);return i}(t,n,i)}(t,n,o);return z_(null!==s),s}}(t,n.bucket),v);return w.urlParams=s,w.errorHandler=KT(n),w}function R7(t,n,e){var i=Object.assign({},e);return i.fullPath=t.path,i.size=n.size(),i.contentType||(i.contentType=function Mne(t,n){return t&&t.contentType||n&&n.type()||"application/octet-stream"}(null,n)),i}var bO=function t(n,e,i,o){this.current=n,this.total=e,this.finalized=!!i,this.metadata=o||null};function FP(t,n){var e=null;try{e=t.getResponseHeader("X-Goog-Upload-Status")}catch(o){z_(!1)}return z_(!!e&&-1!==(n||["active"]).indexOf(e)),e}var Fne=function t(n,e,i){var o=function ine(t){return"function"==typeof t}(n)||null!=e||null!=i;if(o)this.next=n,this.error=e,this.complete=i;else{var s=n;this.next=s.next,this.error=s.error,this.complete=s.complete}};function XT(t){return function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];Promise.resolve().then(function(){return t.apply(void 0,n)})}}var B7=function(){function t(n,e,i){var o=this;void 0===i&&(i=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=n,this._blob=e,this._metadata=i,this._mappings=_O(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(s){o._request=void 0,o._chunkMultiplier=1,s._codeEquals("canceled")?(o._needToFetchStatus=!0,o.completeTransitions_()):(o._error=s,o._transition("error"))},this._metadataErrorHandler=function(s){o._request=void 0,s._codeEquals("canceled")?o.completeTransitions_():(o._error=s,o._transition("error"))},this._promise=new Promise(function(s,a){o._resolve=s,o._reject=a,o._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var n=this,e=this._transferred;return function(i){return n._updateProgress(e+i)}},t.prototype._shouldDoResumable=function(n){return n.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(n){var e=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(i){var o=i[0],s=i[1];switch(e._state){case"running":n(o,s);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}})},t.prototype._createResumable=function(){var n=this;this._resolveToken(function(e,i){var o=function Ine(t,n,e,i,o){var s=n.bucketOnlyServerUrl(),a=R7(n,i,o),d={name:a.fullPath},f=zb(s,t.host),w={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+i.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},x=LP(a,e),q=new Uy(f,"POST",function E(H){var ee;FP(H);try{ee=H.getResponseHeader("X-Goog-Upload-URL")}catch($){z_(!1)}return z_(pO(ee)),ee},t.maxUploadRetryTime);return q.urlParams=d,q.headers=w,q.body=x,q.errorHandler=KT(n),q}(n._ref.storage,n._ref._location,n._mappings,n._blob,n._metadata),s=n._ref.storage._makeRequest(o,e,i);n._request=s,s.getPromise().then(function(a){n._request=void 0,n._uploadUrl=a,n._needToFetchStatus=!1,n.completeTransitions_()},n._errorHandler)})},t.prototype._fetchStatus=function(){var n=this,e=this._uploadUrl;this._resolveToken(function(i,o){var s=function One(t,n,e,i){var f=new Uy(e,"POST",function s(v){var w=FP(v,["active","final"]),x=null;try{x=v.getResponseHeader("X-Goog-Upload-Size-Received")}catch(E){z_(!1)}x||z_(!1);var S=Number(x);return z_(!isNaN(S)),new bO(S,i.size(),"final"===w)},t.maxUploadRetryTime);return f.headers={"X-Goog-Upload-Command":"query"},f.errorHandler=KT(n),f}(n._ref.storage,n._ref._location,e,n._blob),a=n._ref.storage._makeRequest(s,i,o);n._request=a,a.getPromise().then(function(d){d=d,n._request=void 0,n._updateProgress(d.current),n._needToFetchStatus=!1,d.finalized&&(n._needToFetchMetadata=!0),n.completeTransitions_()},n._errorHandler)})},t.prototype._continueUpload=function(){var n=this,e=262144*this._chunkMultiplier,i=new bO(this._transferred,this._blob.size()),o=this._uploadUrl;this._resolveToken(function(s,a){var d;try{d=function Lne(t,n,e,i,o,s,a,d){var f=new bO(0,0);if(a?(f.current=a.current,f.total=a.total):(f.current=0,f.total=i.size()),i.size()!==f.total)throw function qte(){return new Rl("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();var v=f.total-f.current,w=v;o>0&&(w=Math.min(w,o));var x=f.current,q={"X-Goog-Upload-Command":w===v?"upload, finalize":"upload","X-Goog-Upload-Offset":""+f.current},H=i.slice(x,x+w);if(null===H)throw C7();var ve=new Uy(e,"POST",function ee(Fe,Be){var St,gt=FP(Fe,["active","final"]),tt=f.current+w,Le=i.size();return St="final"===gt?vO(n,s)(Fe,Be):null,new bO(tt,Le,"final"===gt,St)},n.maxUploadRetryTime);return ve.headers=q,ve.body=H.uploadData(),ve.progressCallback=d||null,ve.errorHandler=KT(t),ve}(n._ref._location,n._ref.storage,o,n._blob,e,n._mappings,i,n._makeProgressCallback())}catch(v){return n._error=v,void n._transition("error")}var f=n._ref.storage._makeRequest(d,s,a);n._request=f,f.getPromise().then(function(v){n._increaseMultiplier(),n._request=void 0,n._updateProgress(v.current),v.finalized?(n._metadata=v.metadata,n._transition("success")):n.completeTransitions_()},n._errorHandler)})},t.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var n=this;this._resolveToken(function(e,i){var o=N7(n._ref.storage,n._ref._location,n._mappings),s=n._ref.storage._makeRequest(o,e,i);n._request=s,s.getPromise().then(function(a){n._request=void 0,n._metadata=a,n._transition("success")},n._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var n=this;this._resolveToken(function(e,i){var o=function kne(t,n,e,i,o){var s=n.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},f=function d(){for(var ve="",Fe=0;Fe<2;Fe++)ve+=Math.random().toString().slice(2);return ve}();a["Content-Type"]="multipart/related; boundary="+f;var v=R7(n,i,o),w=LP(v,e),E=IP.getBlob("--"+f+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+w+"\r\n--"+f+"\r\nContent-Type: "+v.contentType+"\r\n\r\n",i,"\r\n--"+f+"--");if(null===E)throw C7();var q={name:v.fullPath},H=zb(s,t.host),$=t.maxUploadRetryTime,oe=new Uy(H,"POST",vO(t,e),$);return oe.urlParams=q,oe.headers=a,oe.body=E.uploadData(),oe.errorHandler=KT(n),oe}(n._ref.storage,n._ref._location,n._mappings,n._blob,n._metadata),s=n._ref.storage._makeRequest(o,e,i);n._request=s,s.getPromise().then(function(a){n._request=void 0,n._metadata=a,n._updateProgress(n._blob.size()),n._transition("success")},n._errorHandler)})},t.prototype._updateProgress=function(n){var e=this._transferred;this._transferred=n,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(n){if(this._state!==n)switch(n){case"canceling":case"pausing":this._state=n,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=n,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=n,this._notifyObservers();break;case"canceled":this._error=w7(),this._state=n,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var n=EP(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:n,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(n,e,i,o){var s=this,a=new Fne(e,i,o);return this._addObserver(a),function(){s._removeObserver(a)}},t.prototype.then=function(n,e){return this._promise.then(n,e)},t.prototype.catch=function(n){return this.then(null,n)},t.prototype._addObserver=function(n){this._observers.push(n),this._notifyObserver(n)},t.prototype._removeObserver=function(n){var e=this._observers.indexOf(n);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var n=this;this._finishPromise(),this._observers.slice().forEach(function(i){n._notifyObserver(i)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var n=!0;switch(EP(this._state)){case nh.SUCCESS:XT(this._resolve.bind(null,this.snapshot))();break;case nh.CANCELED:case nh.ERROR:XT(this._reject.bind(null,this._error))();break;default:n=!1}n&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(n){switch(EP(this._state)){case nh.RUNNING:case nh.PAUSED:n.next&&XT(n.next.bind(n,this.snapshot))();break;case nh.SUCCESS:n.complete&&XT(n.complete.bind(n))();break;default:n.error&&XT(n.error.bind(n,this._error))()}},t.prototype.resume=function(){var n="paused"===this._state||"pausing"===this._state;return n&&this._transition("running"),n},t.prototype.pause=function(){var n="running"===this._state;return n&&this._transition("pausing"),n},t.prototype.cancel=function(){var n="running"===this._state||"pausing"===this._state;return n&&this._transition("canceling"),n},t}(),wO=function(){function t(n,e){this._service=n,this._location=e instanceof Xp?e:Xp.makeFromUrl(e,n.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(n,e){return new t(n,e)},Object.defineProperty(t.prototype,"root",{get:function(){var n=new Xp(this._location.bucket,"");return this._newRef(this._service,n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return I7(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=function pne(t){if(0===t.length)return null;var n=t.lastIndexOf("/");return-1===n?"":t.slice(0,n)}(this._location.path);if(null===n)return null;var e=new Xp(this._location.bucket,n);return new t(this._service,e)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(n){if(""===this._location.path)throw T7(n)},t}();function Rne(t){var n={prefixes:[],items:[]};return U7(t,n).then(function(){return n})}function U7(t,n,e){return(0,W.__awaiter)(this,void 0,void 0,function(){var o,s,a;return(0,W.__generator)(this,function(d){switch(d.label){case 0:return[4,j7(t,{pageToken:e})];case 1:return o=d.sent(),(s=n.prefixes).push.apply(s,o.prefixes),(a=n.items).push.apply(a,o.items),null==o.nextPageToken?[3,3]:[4,U7(t,n,o.nextPageToken)];case 2:d.sent(),d.label=3;case 3:return[2]}})})}function j7(t,n){return(0,W.__awaiter)(this,void 0,void 0,function(){var e,i;return(0,W.__generator)(this,function(o){switch(o.label){case 0:return null!=n&&"number"==typeof n.maxResults&&kP("options.maxResults",1,1e3,n.maxResults),i=Ane(t.storage,t._location,"/",(e=n||{}).pageToken,e.maxResults),[4,t.storage.makeRequestWithTokens(i)];case 1:return[2,o.sent().getPromise()]}})})}function Une(t){return(0,W.__awaiter)(this,void 0,void 0,function(){var n;return(0,W.__generator)(this,function(e){switch(e.label){case 0:return t._throwIfRoot("getDownloadURL"),n=function Sne(t,n,e){var o=zb(n.fullServerUrl(),t.host),a=t.maxOperationRetryTime,d=new Uy(o,"GET",function Tne(t,n){return function e(i,o){var s=O7(t,o,n);return z_(null!==s),function bne(t,n,e){var i=OP(n);if(null===i||!pO(i.downloadTokens))return null;var o=i.downloadTokens;if(0===o.length)return null;var s=encodeURIComponent;return o.split(",").map(function(f){var w=t.fullPath;return zb("/b/"+s(t.bucket)+"/o/"+s(w),e)+k7({alt:"media",token:f})})[0]}(s,o,t.host)}}(t,e),a);return d.errorHandler=yO(n),d}(t.storage,t._location,_O()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,e.sent().getPromise().then(function(i){if(null===i)throw function Hte(){return new Rl("no-download-url","The given file does not have any download URLs.")}();return i})]}})})}function V7(t,n){var e=function mne(t,n){var e=n.split("/").filter(function(i){return i.length>0}).join("/");return 0===t.length?e:t+"/"+e}(t._location.path,n),i=new Xp(t._location.bucket,e);return new wO(t.storage,i)}function NP(t){return/^[A-Za-z]+:\/\//.test(t)}function q7(t,n){if(t instanceof CO){var e=t;if(null==e._bucket)throw function Vte(){return new Rl("no-default-bucket","No default bucket found. Did you set the '"+b7+"' property when initializing the app?")}();var i=new wO(e,e._bucket);return null!=n?q7(i,n):i}return void 0!==n?V7(t,n):t}function qne(t,n){if(n&&NP(n)){if(t instanceof CO)return function Vne(t,n){return new wO(t,n)}(t,n);throw JT("To use ref(service, url), the first argument must be a Storage instance.")}return q7(t,n)}function H7(t,n){var e=null==n?void 0:n[b7];return null==e?null:Xp.makeFromBucketSpec(e,t)}var CO=function(){function t(n,e,i,o,s,a){this.app=n,this._authProvider=e,this._appCheckProvider=i,this._pool=o,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=y7,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=s?Xp.makeFromBucketSpec(s,this._host):H7(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(n){this._host=n,this._bucket=null!=this._url?Xp.makeFromBucketSpec(this._url,n):H7(n,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(n){kP("time",0,Number.POSITIVE_INFINITY,n),this._maxUploadRetryTime=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(n){kP("time",0,Number.POSITIVE_INFINITY,n),this._maxOperationRetryTime=n},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return(0,W.__awaiter)(this,void 0,void 0,function(){var n,e;return(0,W.__generator)(this,function(i){switch(i.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(n=this._authProvider.getImmediate({optional:!0}))?[4,n.getToken()]:[3,2];case 1:if(null!==(e=i.sent()))return[2,e.accessToken];i.label=2;case 2:return[2,null]}})})},t.prototype._getAppCheckToken=function(){return(0,W.__awaiter)(this,void 0,void 0,function(){var n;return(0,W.__generator)(this,function(i){switch(i.label){case 0:return(n=this._appCheckProvider.getImmediate({optional:!0}))?[4,n.getToken()]:[3,2];case 1:return[2,i.sent().token];case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(n){return n.cancel()}),this._requests.clear()),Promise.resolve()},t.prototype._makeStorageReference=function(n){return new wO(this,n)},t.prototype._makeRequest=function(n,e,i){var o=this;if(this._deleted)return new Xte(x7());var s=function une(t,n,e,i,o,s){var a=k7(t.urlParams),d=t.url+a,f=Object.assign({},t.headers);return function lne(t,n){n&&(t["X-Firebase-GMPID"]=n)}(f,n),function sne(t,n){null!==n&&n.length>0&&(t.Authorization="Firebase "+n)}(f,e),function ane(t,n){t["X-Firebase-Storage-Version"]="webjs/"+(null!=n?n:"AppManager")}(f,s),function cne(t,n){null!==n&&(t["X-Firebase-AppCheck"]=n)}(f,i),new one(d,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,o)}(n,this._appId,e,i,this._pool,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(function(){return o._requests.delete(s)},function(){return o._requests.delete(s)}),s},t.prototype.makeRequestWithTokens=function(n){return(0,W.__awaiter)(this,void 0,void 0,function(){var e;return(0,W.__generator)(this,function(s){switch(s.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return e=s.sent(),[2,this._makeRequest(n,e[0],e[1])]}})})},t}();function G7(t,n){return qne(t=(0,pi.getModularInstance)(t),n)}var xO=function(){function t(n,e,i){this._delegate=n,this.task=e,this.ref=i}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),Z7=function(){function t(n,e){this._delegate=n,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new xO(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(n,e){var i=this;return this._delegate.then(function(o){if(n)return n(new xO(o,i,i._ref))},e)},t.prototype.on=function(n,e,i,o){var s=this,a=void 0;return e&&(a="function"==typeof e?function(d){return e(new xO(d,s,s._ref))}:{next:e.next?function(d){return e.next(new xO(d,s,s._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(n,a,i||void 0,o||void 0)},t}(),Y7=function(){function t(n,e){this._delegate=n,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var n=this;return this._delegate.prefixes.map(function(e){return new $D(e,n._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var n=this;return this._delegate.items.map(function(e){return new $D(e,n._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),$D=function(){function t(n,e){this._delegate=n,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(n){var e=function Jne(t,n){return V7(t,n)}(this._delegate,n);return new t(e,this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return null==n?null:new t(n,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(n,e){return this._throwIfRoot("put"),new Z7(function Gne(t,n,e){return function Nne(t,n,e){return t._throwIfRoot("uploadBytesResumable"),new B7(t,new IP(n),e)}(t=(0,pi.getModularInstance)(t),n,e)}(this._delegate,n,e),this)},t.prototype.putString=function(n,e,i){void 0===e&&(e=Kp.RAW),this._throwIfRoot("putString");var o=A7(e,n),s=(0,W.__assign)({},i);return null==s.contentType&&null!=o.contentType&&(s.contentType=o.contentType),new Z7(new B7(this._delegate,new IP(o.data,!0),s),this)},t.prototype.listAll=function(){var n=this;return function Wne(t){return Rne(t=(0,pi.getModularInstance)(t))}(this._delegate).then(function(e){return new Y7(e,n.storage)})},t.prototype.list=function(n){var e=this;return function zne(t,n){return j7(t=(0,pi.getModularInstance)(t),n)}(this._delegate,n||void 0).then(function(i){return new Y7(i,e.storage)})},t.prototype.getMetadata=function(){return function Zne(t){return function Pne(t){return(0,W.__awaiter)(this,void 0,void 0,function(){var n;return(0,W.__generator)(this,function(e){switch(e.label){case 0:return t._throwIfRoot("getMetadata"),n=N7(t.storage,t._location,_O()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,e.sent().getPromise()]}})})}(t=(0,pi.getModularInstance)(t))}(this._delegate)},t.prototype.updateMetadata=function(n){return function Yne(t,n){return function Bne(t,n){return(0,W.__awaiter)(this,void 0,void 0,function(){var e;return(0,W.__generator)(this,function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),e=function Dne(t,n,e,i){var s=zb(n.fullServerUrl(),t.host),d=LP(e,i),v=t.maxOperationRetryTime,w=new Uy(s,"PATCH",vO(t,i),v);return w.headers={"Content-Type":"application/json; charset=utf-8"},w.body=d,w.errorHandler=yO(n),w}(t.storage,t._location,n,_O()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,i.sent().getPromise()]}})})}(t=(0,pi.getModularInstance)(t),n)}(this._delegate,n)},t.prototype.getDownloadURL=function(){return function $ne(t){return Une(t=(0,pi.getModularInstance)(t))}(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function Qne(t){return function jne(t){return(0,W.__awaiter)(this,void 0,void 0,function(){var n;return(0,W.__generator)(this,function(e){switch(e.label){case 0:return t._throwIfRoot("deleteObject"),n=function Ene(t,n){var i=zb(n.fullServerUrl(),t.host),d=new Uy(i,"DELETE",function a(f,v){},t.maxOperationRetryTime);return d.successCodes=[200,204],d.errorHandler=yO(n),d}(t.storage,t._location),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,e.sent().getPromise()]}})})}(t=(0,pi.getModularInstance)(t))}(this._delegate)},t.prototype._throwIfRoot=function(n){if(""===this._delegate._location.path)throw T7(n)},t}(),Xne=function(){function t(n,e){this.app=n,this._delegate=e}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(n){if(NP(n))throw JT("ref() expected a child path but got a URL, use refFromURL instead.");return new $D(G7(this._delegate,n),this)},t.prototype.refFromURL=function(n){if(!NP(n))throw JT("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Xp.makeFromUrl(n,this._delegate.host)}catch(e){throw JT("refFromUrl() expected a valid full URL but got an invalid one.")}return new $D(G7(this._delegate,n),this)},t.prototype.setMaxUploadRetryTime=function(n){this._delegate.maxUploadRetryTime=n},t.prototype.setMaxOperationRetryTime=function(n){this._delegate.maxOperationRetryTime=n},t.prototype.useEmulator=function(n,e,i){void 0===i&&(i={}),function Kne(t,n,e,i){void 0===i&&(i={}),function Hne(t,n,e,i){void 0===i&&(i={}),t.host="http://"+n+":"+e;var o=i.mockUserToken;o&&(t._overrideAuthToken="string"==typeof o?o:(0,pi.createMockUserToken)(o,t.app.options.projectId))}(t,n,e,i)}(this._delegate,n,e,i)},t}();function iie(t,n){var e=n.instanceIdentifier,i=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Xne(i,new CO(i,o,s,new Kte,e,cc.default.SDK_VERSION))}!function rie(t){var n={TaskState:nh,TaskEvent:$te,StringFormat:Kp,Storage:CO,Reference:$D};t.INTERNAL.registerComponent(new Ry.Component("storage",iie,"PUBLIC").setServiceProps(n).setMultipleInstances(!0)),t.registerVersion("@firebase/storage","0.7.1")}(cc.default);var Du,RP="FB-PERF-TRACE-MEASURE",X7="@firebase/performance/config",eG="@firebase/performance/configexpire",tG="Performance",cie=((Du={})["trace started"]="Trace {$traceName} was started before.",Du["trace stopped"]="Trace {$traceName} is not running.",Du["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",Du["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",Du["no window"]="Window is not available.",Du["no app id"]="App id is not available.",Du["no project id"]="Project id is not available.",Du["no api key"]="Api key is not available.",Du["invalid cc log"]="Attempted to queue invalid cc event",Du["FB not default"]="Performance can only start when Firebase app instance is the default one.",Du["RC response not ok"]="RC response is not ok",Du["invalid attribute name"]="Attribute name {$attributeName} is invalid.",Du["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",Du["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",Du["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",Du),cd=new pi.ErrorFactory("performance",tG,cie),jy=new Qd.Logger(tG);jy.logLevel=Qd.LogLevel.INFO;var PP,nG,ud=function(){function t(n){if(this.window=n,!n)throw cd.create("no window");this.performance=n.performance,this.PerformanceObserver=n.PerformanceObserver,this.windowLocation=n.location,this.navigator=n.navigator,this.document=n.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=n.localStorage),n.perfMetrics&&n.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=n.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(n){!this.performance||!this.performance.mark||this.performance.mark(n)},t.prototype.measure=function(n,e,i){!this.performance||!this.performance.measure||this.performance.measure(n,e,i)},t.prototype.getEntriesByType=function(n){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(n):[]},t.prototype.getEntriesByName=function(n){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(n):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!(0,pi.isIndexedDBAvailable)()||(jy.info("IndexedDB is not supported by current browswer"),!1):(jy.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},t.prototype.setupObserver=function(n,e){this.PerformanceObserver&&new this.PerformanceObserver(function(o){for(var s=0,a=o.getEntries();s<a.length;s++)e(a[s])}).observe({entryTypes:[n]})},t.getInstance=function(){return void 0===PP&&(PP=new t(nG)),PP},t}();function iG(t,n){var e=t.length-n.length;if(e<0||e>1)throw cd.create("invalid String merger input");for(var i=[],o=0;o<t.length;o++)i.push(t.charAt(o)),n.length>o&&i.push(n.charAt(o));return i.join("")}var BP,rG,hc=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=iG("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=iG("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var n=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!n)throw cd.create("no app id");return n},t.prototype.getProjectId=function(){var n=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!n)throw cd.create("no project id");return n},t.prototype.getApiKey=function(){var n=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!n)throw cd.create("no api key");return n},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return void 0===BP&&(BP=new t),BP},t}();function UP(){return rG}var DC=(()=>(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN"}(DC||(DC={})),DC))(),fie=["firebase_","google_","ga_"],pie=new RegExp("^[a-zA-Z]\\w*$");function _ie(){var t=ud.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function oG(){switch(ud.getInstance().document.visibilityState){case"visible":return DC.VISIBLE;case"hidden":return DC.HIDDEN;default:return DC.UNKNOWN}}function vie(){var n=ud.getInstance().navigator.connection;switch(n&&n.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var Die="Could not fetch config, will use default configs";function sG(t){if(!t)return t;var n=hc.getInstance(),e=t.entries||{};return n.loggingEnabled=void 0===e.fpr_enabled||"true"===String(e.fpr_enabled),e.fpr_log_source&&(n.logSource=Number(e.fpr_log_source)),e.fpr_log_endpoint_url&&(n.logEndPointUrl=e.fpr_log_endpoint_url),e.fpr_log_transport_key&&(n.transportKey=e.fpr_log_transport_key),void 0!==e.fpr_vc_network_request_sampling_rate&&(n.networkRequestsSamplingRate=Number(e.fpr_vc_network_request_sampling_rate)),void 0!==e.fpr_vc_trace_sampling_rate&&(n.tracesSamplingRate=Number(e.fpr_vc_trace_sampling_rate)),n.logTraceAfterSampling=aG(n.tracesSamplingRate),n.logNetworkAfterSampling=aG(n.networkRequestsSamplingRate),t}function aG(t){return Math.random()<=t}var VP,jP=1;function lG(){return jP=2,VP=VP||function Iie(){return function Oie(){var t=ud.getInstance().document;return new Promise(function(n){if(t&&"complete"!==t.readyState){var e=function(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",e),n())};t.addEventListener("readystatechange",e)}else n()})}().then(function(){return function die(){var t=hc.getInstance().installationsService.getId();return t.then(function(n){rG=n}),t}()}).then(function(t){return function Tie(t){var n=function Aie(){var t=ud.getInstance().localStorage;if(t){var n=t.getItem(eG);if(n&&function Mie(t){return Number(t)>Date.now()}(n)){var e=t.getItem(X7);if(e)try{return JSON.parse(e)}catch(o){return}}}}();return n?(sG(n),Promise.resolve()):function Eie(t){return function hie(){var t=hc.getInstance().installationsService.getToken();return t.then(function(n){}),t}().then(function(n){var i="https://firebaseremoteconfig.googleapis.com/v1/projects/"+hc.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+hc.getInstance().getApiKey(),o=new Request(i,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+n},body:JSON.stringify({app_instance_id:t,app_instance_id_token:n,app_id:hc.getInstance().getAppId(),app_version:"0.4.18",sdk_version:"0.0.1"})});return fetch(o).then(function(s){if(s.ok)return s.json();throw cd.create("RC response not ok")})}).catch(function(){jy.info(Die)})}(t).then(sG).then(function(e){return function Sie(t){var n=ud.getInstance().localStorage;!t||!n||(n.setItem(X7,JSON.stringify(t)),n.setItem(eG,String(Date.now()+60*hc.getInstance().configTimeToLive*60*1e3)))}(e)},function(){})}(t)}).then(function(){return cG()},function(){return cG()})}(),VP}function cG(){jP=3}var HP,TO=3,Wb=[],dG=!1;function AO(t){setTimeout(function(){if(0!==TO){if(!Wb.length)return AO(1e4);!function Rie(){var t=Wb.splice(0,1e3),n=t.map(function(i){return{source_extension_json_proto3:i.message,event_time_ms:String(i.eventTime)}});(function Pie(t,n){return function Bie(t){var n=hc.getInstance().getFlTransportFullUrl();return fetch(n,{method:"POST",body:JSON.stringify(t)})}(t).then(function(e){return e.ok||jy.info("Call to Firebase backend failed."),e.json()}).then(function(e){var i=Number(e.nextRequestWaitMillis),o=1e4;isNaN(i)||(o=Math.max(i,o));var s=e.logResponseDetails;Array.isArray(s)&&s.length>0&&"RETRY_REQUEST_LATER"===s[0].responseAction&&(Wb=(0,W.__spreadArray)((0,W.__spreadArray)([],n),Wb),jy.info("Retry transport request later.")),TO=3,AO(o)})})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:hc.getInstance().logSource,log_event:n},t).catch(function(){Wb=(0,W.__spreadArray)((0,W.__spreadArray)([],t),Wb),TO--,jy.info("Tries left: "+TO+"."),AO(1e4)})}()}},t)}function Uie(t){if(!t.eventTime||!t.message)throw cd.create("invalid cc log");Wb=(0,W.__spreadArray)((0,W.__spreadArray)([],Wb),[t])}function hG(t,n){HP||(HP=function jie(t){return function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];Uie({message:t.apply(void 0,n),eventTime:Date.now()})}}(qie)),HP(t,n)}function SO(t){var n=hc.getInstance();!n.instrumentationEnabled&&t.isAuto||!n.dataCollectionEnabled&&!t.isAuto||!ud.getInstance().requiredApisAvailable()||t.isAuto&&oG()!==DC.VISIBLE||(function kie(){return 3===jP}()?GP(t):lG().then(function(){return GP(t)},function(){return GP(t)}))}function GP(t){if(UP()){var n=hc.getInstance();!n.loggingEnabled||!n.logTraceAfterSampling||setTimeout(function(){return hG(t,1)},0)}}function qie(t,n){return 0===n?function Hie(t){var n={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},e={application_info:fG(),network_request_metric:n};return JSON.stringify(e)}(t):function Gie(t){var n={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(n.counters=t.counters);var e=t.getAttributes();0!==Object.keys(e).length&&(n.custom_attributes=e);var i={application_info:fG(),trace_metric:n};return JSON.stringify(i)}(t)}function fG(){return{google_app_id:hc.getInstance().getAppId(),app_instance_id:UP(),web_app_info:{sdk_version:"0.4.18",page_url:ud.getInstance().getUrl(),service_worker_status:_ie(),visibility_state:oG(),effective_connection_type:vie()},application_process_state:0}}var zie=["_fp","_fcp","_fid"],QD=function(){function t(n,e,i){void 0===e&&(e=!1),this.name=n,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=ud.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=i||RP+"-"+this.randomId+"-"+this.name,i&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw cd.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw cd.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),SO(this)},t.prototype.record=function(n,e,i){if(n<=0)throw cd.create("nonpositive trace startTime",{traceName:this.name});if(e<=0)throw cd.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*n),i&&i.attributes&&(this.customAttributes=(0,W.__assign)({},i.attributes)),i&&i.metrics)for(var o=0,s=Object.keys(i.metrics);o<s.length;o++){var a=s[o];isNaN(Number(i.metrics[a]))||(this.counters[a]=Number(Math.floor(i.metrics[a])))}SO(this)},t.prototype.incrementMetric=function(n,e){void 0===e&&(e=1),this.putMetric(n,void 0===this.counters[n]?e:this.counters[n]+e)},t.prototype.putMetric=function(n,e){if(!function Wie(t,n){return!(0===t.length||t.length>100)&&(n&&n.startsWith("_wt_")&&zie.indexOf(t)>-1||!t.startsWith("_"))}(n,this.name))throw cd.create("invalid custom metric name",{customMetricName:n});this.counters[n]=function $ie(t){var n=Math.floor(t);return n<t&&jy.info("Metric value should be an Integer, setting the value as : "+n+"."),n}(e)},t.prototype.getMetric=function(n){return this.counters[n]||0},t.prototype.putAttribute=function(n,e){var i=function yie(t){return!(0===t.length||t.length>40||fie.some(function(e){return t.startsWith(e)})||!t.match(pie))}(n),o=function bie(t){return 0!==t.length&&t.length<=100}(e);if(i&&o)this.customAttributes[n]=e;else{if(!i)throw cd.create("invalid attribute name",{attributeName:n});if(!o)throw cd.create("invalid attribute value",{attributeValue:e})}},t.prototype.getAttribute=function(n){return this.customAttributes[n]},t.prototype.removeAttribute=function(n){void 0!==this.customAttributes[n]&&delete this.customAttributes[n]},t.prototype.getAttributes=function(){return(0,W.__assign)({},this.customAttributes)},t.prototype.setStartTime=function(n){this.startTimeUs=n},t.prototype.setDuration=function(n){this.durationUs=n},t.prototype.calculateTraceMetrics=function(){var n=this.api.getEntriesByName(this.traceMeasure),e=n&&n[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(n,e,i){var o=ud.getInstance().getUrl();if(o){var s=new t("_wt_"+o,!0),a=Math.floor(1e3*ud.getInstance().getTimeOrigin());if(s.setStartTime(a),n&&n[0]&&(s.setDuration(Math.floor(1e3*n[0].duration)),s.putMetric("domInteractive",Math.floor(1e3*n[0].domInteractive)),s.putMetric("domContentLoadedEventEnd",Math.floor(1e3*n[0].domContentLoadedEventEnd)),s.putMetric("loadEventEnd",Math.floor(1e3*n[0].loadEventEnd))),e){var v=e.find(function(x){return"first-paint"===x.name});v&&v.startTime&&s.putMetric("_fp",Math.floor(1e3*v.startTime));var w=e.find(function(x){return"first-contentful-paint"===x.name});w&&w.startTime&&s.putMetric("_fcp",Math.floor(1e3*w.startTime)),i&&s.putMetric("_fid",Math.floor(1e3*i))}SO(s)}},t.createUserTimingTrace=function(n){SO(new t(n,!1,n))},t}();function pG(t){var n=t;if(n&&void 0!==n.responseStart){var e=ud.getInstance().getTimeOrigin(),i=Math.floor(1e3*(n.startTime+e)),o=n.responseStart?Math.floor(1e3*(n.responseStart-n.startTime)):void 0,s=Math.floor(1e3*(n.responseEnd-n.startTime));!function Vie(t){var n=hc.getInstance();if(n.instrumentationEnabled){var e=t.url,i=n.logEndPointUrl.split("?")[0],o=n.flTransportEndpointUrl.split("?")[0];e===i||e===o||!n.loggingEnabled||!n.logNetworkAfterSampling||setTimeout(function(){return hG(t,0)},0)}}({url:n.name&&n.name.split("?")[0],responsePayloadBytes:n.transferSize,startTimeUs:i,timeToResponseInitiatedUs:o,timeToResponseCompletedUs:s})}}function mG(){!UP()||(setTimeout(function(){return function Kie(){var t=ud.getInstance(),n=t.getEntriesByType("navigation"),e=t.getEntriesByType("paint");if(t.onFirstInputDelay){var i=setTimeout(function(){QD.createOobTrace(n,e),i=void 0},5e3);t.onFirstInputDelay(function(o){i&&(clearTimeout(i),QD.createOobTrace(n,e,o))})}else QD.createOobTrace(n,e)}()},0),setTimeout(function(){return function Jie(){for(var t=ud.getInstance(),e=0,i=t.getEntriesByType("resource");e<i.length;e++)pG(i[e]);t.setupObserver("resource",pG)}()},0),setTimeout(function(){return function Xie(){for(var t=ud.getInstance(),e=0,i=t.getEntriesByType("measure");e<i.length;e++)gG(i[e]);t.setupObserver("measure",gG)}()},0))}function gG(t){var n=t.name;n.substring(0,RP.length)!==RP&&QD.createUserTimingTrace(n)}var ere=function(){function t(n){this.app=n,ud.getInstance().requiredApisAvailable()&&(0,pi.validateIndexedDBOpenable)().then(function(e){e&&(function Nie(){dG||(AO(5500),dG=!0)}(),lG().then(mG,mG))}).catch(function(e){jy.info("Environment doesn't support IndexedDB: "+e)})}return t.prototype.trace=function(n){return new QD(n)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return hc.getInstance().instrumentationEnabled},set:function(n){hc.getInstance().instrumentationEnabled=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return hc.getInstance().dataCollectionEnabled},set:function(n){hc.getInstance().dataCollectionEnabled=n},enumerable:!1,configurable:!0}),t}();!function nre(t){t.INTERNAL.registerComponent(new Ry.Component("performance",function(e){return function(e,i){if("[DEFAULT]"!==e.name)throw cd.create("FB not default");if("undefined"==typeof window)throw cd.create("no window");return function uie(t){nG=t}(window),hc.getInstance().firebaseAppInstance=e,hc.getInstance().installationsService=i,new ere(e)}(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())},"PUBLIC")),t.registerVersion("@firebase/performance","0.4.18")}(cc.default);var _G="https://www.googletagmanager.com/gtag/js",Eu=(()=>(function(t){t.EVENT="event",t.SET="set",t.CONFIG="config"}(Eu||(Eu={})),Eu))(),DO=(()=>(function(t){t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results"}(DO||(DO={})),DO))(),Mu=new Qd.Logger("@firebase/analytics");function pre(t,n,e,i,o,s){return(0,W.__awaiter)(this,void 0,void 0,function(){var a,d,f,v;return(0,W.__generator)(this,function(w){switch(w.label){case 0:a=i[o],w.label=1;case 1:return w.trys.push([1,7,,8]),a?[4,n[a]]:[3,3];case 2:return w.sent(),[3,6];case 3:return[4,Promise.all(e)];case 4:return d=w.sent(),(f=d.find(function(x){return x.measurementId===o}))?[4,n[f.appId]]:[3,6];case 5:w.sent(),w.label=6;case 6:return[3,8];case 7:return v=w.sent(),Mu.error(v),[3,8];case 8:return t(Eu.CONFIG,o,s),[2]}})})}function mre(t,n,e,i,o){return(0,W.__awaiter)(this,void 0,void 0,function(){var s,a,d,f,v,w,E;return(0,W.__generator)(this,function(q){switch(q.label){case 0:return q.trys.push([0,4,,5]),s=[],o&&o.send_to?(a=o.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(e)]):[3,2];case 1:for(d=q.sent(),f=function(H){var ee=d.find(function(oe){return oe.measurementId===H}),$=ee&&n[ee.appId];if(!$)return s=[],"break";s.push($)},v=0,w=a;v<w.length&&"break"!==f(w[v]);v++);q.label=2;case 2:return 0===s.length&&(s=Object.values(n)),[4,Promise.all(s)];case 3:return q.sent(),t(Eu.EVENT,i,o||{}),[3,5];case 4:return E=q.sent(),Mu.error(E),[3,5];case 5:return[2]}})})}var pg,yre=((pg={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",pg["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",pg["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",pg["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",pg["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",pg["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",pg["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",pg["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',pg["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',pg),em=new pi.ErrorFactory("analytics","Analytics",yre),Cre=function(){function t(n,e){void 0===n&&(n={}),void 0===e&&(e=1e3),this.throttleMetadata=n,this.intervalMillis=e}return t.prototype.getThrottleMetadata=function(n){return this.throttleMetadata[n]},t.prototype.setThrottleMetadata=function(n,e){this.throttleMetadata[n]=e},t.prototype.deleteThrottleMetadata=function(n){delete this.throttleMetadata[n]},t}(),vG=new Cre;function xre(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function Tre(t){var n;return(0,W.__awaiter)(this,void 0,void 0,function(){var e,o,s,a,d,f;return(0,W.__generator)(this,function(v){switch(v.label){case 0:return e=t.appId,o={method:"GET",headers:xre(t.apiKey)},s="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",e),[4,fetch(s,o)];case 1:if(200===(a=v.sent()).status||304===a.status)return[3,6];d="",v.label=2;case 2:return v.trys.push([2,4,,5]),[4,a.json()];case 3:return f=v.sent(),(null===(n=f.error)||void 0===n?void 0:n.message)&&(d=f.error.message),[3,5];case 4:return v.sent(),[3,5];case 5:throw em.create("config-fetch-failed",{httpStatus:a.status,responseMessage:d});case 6:return[2,a.json()]}})})}function yG(t,n,e,i){var o=n.throttleEndTimeMillis,s=n.backoffCount;return void 0===i&&(i=vG),(0,W.__awaiter)(this,void 0,void 0,function(){var a,d,f,v,w,x,S;return(0,W.__generator)(this,function(E){switch(E.label){case 0:a=t.appId,d=t.measurementId,E.label=1;case 1:return E.trys.push([1,3,,4]),[4,Sre(e,o)];case 2:return E.sent(),[3,4];case 3:if(f=E.sent(),d)return Mu.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+d+' provided in the "measurementId" field in the local Firebase config. ['+f.message+"]"),[2,{appId:a,measurementId:d}];throw f;case 4:return E.trys.push([4,6,,7]),[4,Tre(t)];case 5:return v=E.sent(),i.deleteThrottleMetadata(a),[2,v];case 6:if(!function Dre(t){if(!(t instanceof pi.FirebaseError&&t.customData))return!1;var n=Number(t.customData.httpStatus);return 429===n||500===n||503===n||504===n}(w=E.sent())){if(i.deleteThrottleMetadata(a),d)return Mu.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+d+' provided in the "measurementId" field in the local Firebase config. ['+w.message+"]"),[2,{appId:a,measurementId:d}];throw w}return x=503===Number(w.customData.httpStatus)?(0,pi.calculateBackoffMillis)(s,i.intervalMillis,30):(0,pi.calculateBackoffMillis)(s,i.intervalMillis),S={throttleEndTimeMillis:Date.now()+x,backoffCount:s+1},i.setThrottleMetadata(a,S),Mu.debug("Calling attemptFetch again in "+x+" millis"),[2,yG(t,S,e,i)];case 7:return[2]}})})}function Sre(t,n){return new Promise(function(e,i){var o=Math.max(n-Date.now(),0),s=setTimeout(e,o);t.addEventListener(function(){clearTimeout(s),i(em.create("fetch-throttle",{throttleEndTimeMillis:n}))})})}var Ere=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(n){this.listeners.push(n)},t.prototype.abort=function(){this.listeners.forEach(function(n){return n()})},t}();var wG,KD,mg={},EO=[],bG={},JD="dataLayer",ZP="gtag",MO=!1;function Ire(t){if(MO)throw em.create("already-initialized");t.dataLayerName&&(JD=t.dataLayerName),t.gtagName&&(ZP=t.gtagName)}function Lre(t,n){!function Ore(){var t=[];if((0,pi.isBrowserExtension)()&&t.push("This is a browser extension environment."),(0,pi.areCookiesEnabled)()||t.push("Cookies are not available."),t.length>0){var n=t.map(function(i,o){return"("+(o+1)+") "+i}).join(" "),e=em.create("invalid-analytics-context",{errorInfo:n});Mu.warn(e.message)}}();var e=t.options.appId;if(!e)throw em.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw em.create("no-api-key");Mu.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=mg[e])throw em.create("already-exists",{id:e});if(!MO){!function fre(t){var n=[];Array.isArray(window[t])?n=window[t]:window[t]=n}(JD);var i=function _re(t,n,e,i,o){var s=function(){for(var a=[],d=0;d<arguments.length;d++)a[d]=arguments[d];window[i].push(arguments)};return window[o]&&"function"==typeof window[o]&&(s=window[o]),window[o]=function gre(t,n,e,i){return function o(s,a,d){return(0,W.__awaiter)(this,void 0,void 0,function(){var f;return(0,W.__generator)(this,function(v){switch(v.label){case 0:return v.trys.push([0,6,,7]),s!==Eu.EVENT?[3,2]:[4,mre(t,n,e,a,d)];case 1:return v.sent(),[3,5];case 2:return s!==Eu.CONFIG?[3,4]:[4,pre(t,n,e,i,a,d)];case 3:return v.sent(),[3,5];case 4:t(Eu.SET,a),v.label=5;case 5:return[3,7];case 6:return f=v.sent(),Mu.error(f),[3,7];case 7:return[2]}})})}}(s,t,n,e),{gtagCore:s,wrappedGtag:window[o]}}(mg,EO,bG,JD,ZP);KD=i.wrappedGtag,wG=i.gtagCore,MO=!0}mg[e]=function kre(t,n,e,i,o,s){return(0,W.__awaiter)(this,void 0,void 0,function(){var a,d,f,v,w,x,S;return(0,W.__generator)(this,function(E){switch(E.label){case 0:return a=function Are(t,n,e){return void 0===n&&(n=vG),(0,W.__awaiter)(this,void 0,void 0,function(){var i,o,s,a,d,f,v=this;return(0,W.__generator)(this,function(w){if(s=(i=t.options).apiKey,a=i.measurementId,!(o=i.appId))throw em.create("no-app-id");if(!s){if(a)return[2,{measurementId:a,appId:o}];throw em.create("no-api-key")}return d=n.getThrottleMetadata(o)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new Ere,setTimeout(function(){return(0,W.__awaiter)(v,void 0,void 0,function(){return(0,W.__generator)(this,function(x){return f.abort(),[2]})})},void 0!==e?e:6e4),[2,yG({appId:o,apiKey:s,measurementId:a},d,f,n)]})})}(t),a.then(function(q){e[q.measurementId]=q.appId,t.options.measurementId&&q.measurementId!==t.options.measurementId&&Mu.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+q.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(q){return Mu.error(q)}),n.push(a),d=function Mre(){return(0,W.__awaiter)(this,void 0,void 0,function(){var t;return(0,W.__generator)(this,function(n){switch(n.label){case 0:return(0,pi.isIndexedDBAvailable)()?[3,1]:(Mu.warn(em.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return n.trys.push([1,3,,4]),[4,(0,pi.validateIndexedDBOpenable)()];case 2:return n.sent(),[3,4];case 3:return t=n.sent(),Mu.warn(em.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}})})}().then(function(q){if(q)return i.getId()}),[4,Promise.all([a,d])];case 1:return f=E.sent(),v=f[0],w=f[1],function vre(){for(var t=window.document.getElementsByTagName("script"),n=0,e=Object.values(t);n<e.length;n++){var i=e[n];if(i.src&&i.src.includes(_G))return i}return null}()||function hre(t,n){var e=document.createElement("script");e.src=_G+"?l="+t+"&id="+n,e.async=!0,document.head.appendChild(e)}(s,v.measurementId),o("js",new Date),(S={}).origin="firebase",S.update=!0,x=S,null!=w&&(x.firebase_id=w),o(Eu.CONFIG,v.measurementId,x),[2,v.measurementId]}})})}(t,EO,bG,n,wG,JD);var a={app:t,logEvent:function(d,f,v){(function are(t,n,e,i,o){return(0,W.__awaiter)(this,void 0,void 0,function(){var s,a;return(0,W.__generator)(this,function(d){switch(d.label){case 0:return o&&o.global?(t(Eu.EVENT,e,i),[2]):[3,1];case 1:return[4,n];case 2:s=d.sent(),a=(0,W.__assign)((0,W.__assign)({},i),{send_to:s}),t(Eu.EVENT,e,a),d.label=3;case 3:return[2]}})})})(KD,mg[e],d,f,v).catch(function(w){return Mu.error(w)})},setCurrentScreen:function(d,f){(function lre(t,n,e,i){return(0,W.__awaiter)(this,void 0,void 0,function(){var o;return(0,W.__generator)(this,function(s){switch(s.label){case 0:return i&&i.global?(t(Eu.SET,{screen_name:e}),[2,Promise.resolve()]):[3,1];case 1:return[4,n];case 2:o=s.sent(),t(Eu.CONFIG,o,{update:!0,screen_name:e}),s.label=3;case 3:return[2]}})})})(KD,mg[e],d,f).catch(function(v){return Mu.error(v)})},setUserId:function(d,f){(function cre(t,n,e,i){return(0,W.__awaiter)(this,void 0,void 0,function(){var o;return(0,W.__generator)(this,function(s){switch(s.label){case 0:return i&&i.global?(t(Eu.SET,{user_id:e}),[2,Promise.resolve()]):[3,1];case 1:return[4,n];case 2:o=s.sent(),t(Eu.CONFIG,o,{update:!0,user_id:e}),s.label=3;case 3:return[2]}})})})(KD,mg[e],d,f).catch(function(v){return Mu.error(v)})},setUserProperties:function(d,f){(function ure(t,n,e,i){return(0,W.__awaiter)(this,void 0,void 0,function(){var o,s,a,d,f;return(0,W.__generator)(this,function(v){switch(v.label){case 0:if(!i||!i.global)return[3,1];for(o={},s=0,a=Object.keys(e);s<a.length;s++)o["user_properties."+(d=a[s])]=e[d];return t(Eu.SET,o),[2,Promise.resolve()];case 1:return[4,n];case 2:f=v.sent(),t(Eu.CONFIG,f,{update:!0,user_properties:e}),v.label=3;case 3:return[2]}})})})(KD,mg[e],d,f).catch(function(v){return Mu.error(v)})},setAnalyticsCollectionEnabled:function(d){(function dre(t,n){return(0,W.__awaiter)(this,void 0,void 0,function(){var e;return(0,W.__generator)(this,function(i){switch(i.label){case 0:return[4,t];case 1:return e=i.sent(),window["ga-disable-"+e]=!n,[2]}})})})(mg[e],d).catch(function(f){return Mu.error(f)})},INTERNAL:{delete:function(){return delete mg[e],Promise.resolve()}}};return a}var CG="analytics";function Pre(){return(0,W.__awaiter)(this,void 0,void 0,function(){return(0,W.__generator)(this,function(n){switch(n.label){case 0:if((0,pi.isBrowserExtension)())return[2,!1];if(!(0,pi.areCookiesEnabled)())return[2,!1];if(!(0,pi.isIndexedDBAvailable)())return[2,!1];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,(0,pi.validateIndexedDBOpenable)()];case 2:return[2,n.sent()];case 3:return n.sent(),[2,!1];case 4:return[2]}})})}!function Rre(t){t.INTERNAL.registerComponent(new Ry.Component(CG,function(e){return Lre(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())},"PUBLIC").setServiceProps({settings:Ire,EventName:DO,isSupported:Pre})),t.INTERNAL.registerComponent(new Ry.Component("analytics-internal",function n(e){try{return{logEvent:e.getProvider(CG).getImmediate().logEvent}}catch(o){throw em.create("interop-component-reg-failed",{reason:o})}},"PRIVATE")),t.registerVersion("@firebase/analytics","0.6.18")}(cc.default);var rh,Bre=function(){function t(n,e,i,o){this.client=n,this.storage=e,this.storageCache=i,this.logger=o}return t.prototype.isCachedDataFresh=function(n,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var i=Date.now()-e,o=i<=n;return this.logger.debug("Config fetch cache check. Cache age millis: "+i+". Cache max age millis (minimumFetchIntervalMillis setting): "+n+". Is cache hit: "+o+"."),o},t.prototype.fetch=function(n){return(0,W.__awaiter)(this,void 0,void 0,function(){var e,i,o,s,a;return(0,W.__generator)(this,function(d){switch(d.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return e=d.sent(),i=e[0],(o=e[1])&&this.isCachedDataFresh(n.cacheMaxAgeMillis,i)?[2,o]:(n.eTag=o&&o.eTag,[4,this.client.fetch(n)]);case 2:return s=d.sent(),a=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===s.status&&a.push(this.storage.setLastSuccessfulFetchResponse(s)),[4,Promise.all(a)];case 3:return d.sent(),[2,s]}})})},t}(),Ure=((rh={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",rh["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",rh["registration-api-key"]="Undefined API key. Check Firebase app initialization.",rh["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",rh["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",rh["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",rh["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",rh["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",rh["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",rh["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',rh["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',rh["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",rh["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",rh),tm=new pi.ErrorFactory("remoteconfig","Remote Config",Ure);function Vre(t){return void 0===t&&(t=navigator),t.languages&&t.languages[0]||t.language}var qre=function(){function t(n,e,i,o,s,a){this.firebaseInstallations=n,this.sdkVersion=e,this.namespace=i,this.projectId=o,this.apiKey=s,this.appId=a}return t.prototype.fetch=function(n){return(0,W.__awaiter)(this,void 0,void 0,function(){var e,s,a,d,f,v,w,x,S,E,q,H,ee,$,oe,ve,Fe;return(0,W.__generator)(this,function(Be){switch(Be.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:e=Be.sent(),s=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",a=s+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,d={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":n.eTag||"*"},f={sdk_version:this.sdkVersion,app_instance_id:e[0],app_instance_id_token:e[1],app_id:this.appId,language_code:Vre()},v={method:"POST",headers:d,body:JSON.stringify(f)},w=fetch(a,v),x=new Promise(function(gt,tt){n.signal.addEventListener(function(){var Le=new Error("The operation was aborted.");Le.name="AbortError",tt(Le)})}),Be.label=2;case 2:return Be.trys.push([2,5,,6]),[4,Promise.race([w,x])];case 3:return Be.sent(),[4,w];case 4:return S=Be.sent(),[3,6];case 5:throw E=Be.sent(),q="fetch-client-network","AbortError"===E.name&&(q="fetch-timeout"),tm.create(q,{originalErrorMessage:E.message});case 6:if(H=S.status,ee=S.headers.get("ETag")||void 0,200!==S.status)return[3,11];ve=void 0,Be.label=7;case 7:return Be.trys.push([7,9,,10]),[4,S.json()];case 8:return ve=Be.sent(),[3,10];case 9:throw Fe=Be.sent(),tm.create("fetch-client-parse",{originalErrorMessage:Fe.message});case 10:$=ve.entries,oe=ve.state,Be.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===oe?H=500:"NO_CHANGE"===oe?H=304:("NO_TEMPLATE"===oe||"EMPTY_CONFIG"===oe)&&($={}),304!==H&&200!==H)throw tm.create("fetch-status",{httpStatus:H});return[2,{status:H,eTag:ee,config:$}]}})})},t}(),Hre=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(n){this.listeners.push(n)},t.prototype.abort=function(){this.listeners.forEach(function(n){return n()})},t}(),Yre=["1","true","t","yes","y","on"],YP=function(){function t(n,e){void 0===e&&(e=""),this._source=n,this._value=e}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return"static"!==this._source&&Yre.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if("static"===this._source)return 0;var n=Number(this._value);return isNaN(n)&&(n=0),n},t.prototype.getSource=function(){return this._source},t}(),$re=function(){function t(n,e,i,o,s){this.app=n,this._client=e,this._storageCache=i,this._storage=o,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return t.prototype.setLogLevel=function(n){switch(n){case"debug":this._logger.logLevel=Qd.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=Qd.LogLevel.SILENT;break;default:this._logger.logLevel=Qd.LogLevel.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return(0,W.__awaiter)(this,void 0,void 0,function(){var n,e,i;return(0,W.__generator)(this,function(o){switch(o.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return n=o.sent(),i=n[1],(e=n[0])&&e.config&&e.eTag&&e.eTag!==i?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return o.sent(),[2,!0]}})})},t.prototype.ensureInitialized=function(){var n=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){n._isInitializationComplete=!0})),this._initializePromise},t.prototype.fetch=function(){return(0,W.__awaiter)(this,void 0,void 0,function(){var n,e,i,o=this;return(0,W.__generator)(this,function(s){switch(s.label){case 0:n=new Hre,setTimeout(function(){return(0,W.__awaiter)(o,void 0,void 0,function(){return(0,W.__generator)(this,function(a){return n.abort(),[2]})})},this.settings.fetchTimeoutMillis),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:n})];case 2:return s.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return s.sent(),[3,6];case 4:return e=s.sent(),i=function jre(t,n){return t instanceof pi.FirebaseError&&-1!==t.code.indexOf(n)}(e,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(i)];case 5:throw s.sent(),e;case 6:return[2]}})})},t.prototype.fetchAndActivate=function(){return(0,W.__awaiter)(this,void 0,void 0,function(){return(0,W.__generator)(this,function(n){switch(n.label){case 0:return[4,this.fetch()];case 1:return n.sent(),[2,this.activate()]}})})},t.prototype.getAll=function(){var n=this;return function Qre(t,n){return void 0===t&&(t={}),void 0===n&&(n={}),Object.keys((0,W.__assign)((0,W.__assign)({},t),n))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(e,i){return e[i]=n.getValue(i),e},{})},t.prototype.getBoolean=function(n){return this.getValue(n).asBoolean()},t.prototype.getNumber=function(n){return this.getValue(n).asNumber()},t.prototype.getString=function(n){return this.getValue(n).asString()},t.prototype.getValue=function(n){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+n+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[n]?new YP("remote",e[n]):this.defaultConfig&&void 0!==this.defaultConfig[n]?new YP("default",String(this.defaultConfig[n])):(this._logger.debug('Returning static value for key "'+n+'". Define a default or remote value if this is unintentional.'),new YP("static"))},t}();function kO(t,n){var e=t.target.error||void 0;return tm.create(n,{originalErrorMessage:e&&e.message})}var EC="app_namespace_store",eoe=function(){function t(n,e,i,o){void 0===o&&(o=function Xre(){return new Promise(function(t,n){var e=indexedDB.open("firebase_remote_config",1);e.onerror=function(i){n(kO(i,"storage-open"))},e.onsuccess=function(i){t(i.target.result)},e.onupgradeneeded=function(i){0===i.oldVersion&&i.target.result.createObjectStore(EC,{keyPath:"compositeKey"})}})}()),this.appId=n,this.appName=e,this.namespace=i,this.openDbPromise=o}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(n){return this.set("last_fetch_status",n)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(n){return this.set("last_successful_fetch_timestamp_millis",n)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(n){return this.set("last_successful_fetch_response",n)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(n){return this.set("active_config",n)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(n){return this.set("active_config_etag",n)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(n){return this.set("throttle_metadata",n)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(n){return(0,W.__awaiter)(this,void 0,void 0,function(){var e,i=this;return(0,W.__generator)(this,function(o){switch(o.label){case 0:return[4,this.openDbPromise];case 1:return e=o.sent(),[2,new Promise(function(s,a){var f=e.transaction([EC],"readonly").objectStore(EC),v=i.createCompositeKey(n);try{var w=f.get(v);w.onerror=function(x){a(kO(x,"storage-get"))},w.onsuccess=function(x){var S=x.target.result;s(S?S.value:void 0)}}catch(x){a(tm.create("storage-get",{originalErrorMessage:x&&x.message}))}})]}})})},t.prototype.set=function(n,e){return(0,W.__awaiter)(this,void 0,void 0,function(){var i,o=this;return(0,W.__generator)(this,function(s){switch(s.label){case 0:return[4,this.openDbPromise];case 1:return i=s.sent(),[2,new Promise(function(a,d){var v=i.transaction([EC],"readwrite").objectStore(EC),w=o.createCompositeKey(n);try{var x=v.put({compositeKey:w,value:e});x.onerror=function(S){d(kO(S,"storage-set"))},x.onsuccess=function(){a()}}catch(S){d(tm.create("storage-set",{originalErrorMessage:S&&S.message}))}})]}})})},t.prototype.delete=function(n){return(0,W.__awaiter)(this,void 0,void 0,function(){var e,i=this;return(0,W.__generator)(this,function(o){switch(o.label){case 0:return[4,this.openDbPromise];case 1:return e=o.sent(),[2,new Promise(function(s,a){var f=e.transaction([EC],"readwrite").objectStore(EC),v=i.createCompositeKey(n);try{var w=f.delete(v);w.onerror=function(x){a(kO(x,"storage-delete"))},w.onsuccess=function(){s()}}catch(x){a(tm.create("storage-delete",{originalErrorMessage:x&&x.message}))}})]}})})},t.prototype.createCompositeKey=function(n){return[this.appId,this.appName,this.namespace,n].join()},t}(),toe=function(){function t(n){this.storage=n}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return(0,W.__awaiter)(this,void 0,void 0,function(){var n,e,i,o,s,a;return(0,W.__generator)(this,function(d){switch(d.label){case 0:return n=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),i=this.storage.getActiveConfig(),[4,n];case 1:return(o=d.sent())&&(this.lastFetchStatus=o),[4,e];case 2:return(s=d.sent())&&(this.lastSuccessfulFetchTimestampMillis=s),[4,i];case 3:return(a=d.sent())&&(this.activeConfig=a),[2]}})})},t.prototype.setLastFetchStatus=function(n){return this.lastFetchStatus=n,this.storage.setLastFetchStatus(n)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(n){return this.lastSuccessfulFetchTimestampMillis=n,this.storage.setLastSuccessfulFetchTimestampMillis(n)},t.prototype.setActiveConfig=function(n){return this.activeConfig=n,this.storage.setActiveConfig(n)},t}();function noe(t,n){return new Promise(function(e,i){var o=Math.max(n-Date.now(),0),s=setTimeout(e,o);t.addEventListener(function(){clearTimeout(s),i(tm.create("fetch-throttle",{throttleEndTimeMillis:n}))})})}var roe=function(){function t(n,e){this.client=n,this.storage=e}return t.prototype.fetch=function(n){return(0,W.__awaiter)(this,void 0,void 0,function(){var e;return(0,W.__generator)(this,function(i){switch(i.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=i.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(n,e)]}})})},t.prototype.attemptFetch=function(n,e){var i=e.throttleEndTimeMillis,o=e.backoffCount;return(0,W.__awaiter)(this,void 0,void 0,function(){var s,a,d;return(0,W.__generator)(this,function(f){switch(f.label){case 0:return[4,noe(n.signal,i)];case 1:f.sent(),f.label=2;case 2:return f.trys.push([2,5,,7]),[4,this.client.fetch(n)];case 3:return s=f.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return f.sent(),[2,s];case 5:if(!function ioe(t){if(!(t instanceof pi.FirebaseError&&t.customData))return!1;var n=Number(t.customData.httpStatus);return 429===n||500===n||503===n||504===n}(a=f.sent()))throw a;return d={throttleEndTimeMillis:Date.now()+(0,pi.calculateBackoffMillis)(o),backoffCount:o+1},[4,this.storage.setThrottleMetadata(d)];case 6:return f.sent(),[2,this.attemptFetch(n,d)];case 7:return[2]}})})},t}(),TG="@firebase/remote-config";function zP(){return(0,An.e)((t,n)=>{let e,i=!1;t.subscribe((0,L.x)(n,o=>{const s=e;e=o,i&&n.next([s,o]),i=!0}))})}!function soe(t){t.INTERNAL.registerComponent(new Ry.Component("remoteConfig",function n(e,i){var o=i.instanceIdentifier,s=e.getProvider("app").getImmediate(),a=e.getProvider("installations").getImmediate();if("undefined"==typeof window)throw tm.create("registration-window");var d=s.options,f=d.projectId,v=d.apiKey,w=d.appId;if(!f)throw tm.create("registration-project-id");if(!v)throw tm.create("registration-api-key");if(!w)throw tm.create("registration-app-id");var x=new eoe(w,s.name,o=o||"firebase"),S=new toe(x),E=new Qd.Logger(TG);E.logLevel=Qd.LogLevel.ERROR;var q=new qre(a,t.SDK_VERSION,o,f,v,w),H=new roe(q,x),ee=new Bre(H,x,S,E),$=new $re(s,ee,S,x,E);return $.ensureInitialized(),$},"PUBLIC").setMultipleInstances(!0)),t.registerVersion(TG,"0.1.43")}(cc.default),me(2106),cc.default.registerVersion("firebase","8.10.1","app"),cc.default.SDK_VERSION="8.10.1",console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),cc.default.registerVersion("firebase","8.10.1");var uoe=me(5867);function SG(t,n){return function doe(t,n=ab.z){return new Co.y(e=>{let i;return null!=n?n.schedule(()=>{i=t.onSnapshot({includeMetadataChanges:!0},e)}):i=t.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=i&&i()}})}(t,n)}function WP(t,n){return SG(t,n).pipe((0,un.U)(e=>({payload:e,type:"query"})))}function IO(t,n){return WP(t,n).pipe(Ir(void 0),zP(),(0,un.U)(([e,i])=>{const o=i.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,d)=>{const f=o.find(w=>w.doc.ref.isEqual(a.ref)),v=null==e?void 0:e.payload.docs.find(w=>w.ref.isEqual(a.ref));f&&JSON.stringify(f.doc.metadata)===JSON.stringify(a.metadata)||!f&&v&&JSON.stringify(v.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:d,newIndex:d,type:"modified",doc:a}})}),s}))}function DG(t,n,e){return IO(t,e).pipe(Xa((i,o)=>function foe(t,n,e){return n.forEach(i=>{e.indexOf(i.type)>-1&&(t=function poe(t,n){switch(n.type){case"added":if(!t[n.newIndex]||!t[n.newIndex].doc.ref.isEqual(n.doc.ref))return $P(t,n.newIndex,0,n);break;case"modified":if(null==t[n.oldIndex]||t[n.oldIndex].doc.ref.isEqual(n.doc.ref)){if(n.oldIndex!==n.newIndex){const e=t.slice();return e.splice(n.oldIndex,1),e.splice(n.newIndex,0,n),e}return $P(t,n.newIndex,1,n)}break;case"removed":if(t[n.oldIndex]&&t[n.oldIndex].doc.ref.isEqual(n.doc.ref))return $P(t,n.oldIndex,1)}return t}(t,i))}),t}(i,o.map(s=>s.payload),n),[]),P_(),(0,un.U)(i=>i.map(o=>({type:o.type,payload:o}))))}function $P(t,n,e,...i){const o=t.slice();return o.splice(n,e,...i),o}function EG(t){return(!t||0===t.length)&&(t=["added","removed","modified"]),t}class MG{constructor(n,e,i){this.ref=n,this.query=e,this.afs=i}stateChanges(n){let e=IO(this.query,this.afs.schedulers.outsideAngular);return n&&n.length>0&&(e=e.pipe((0,un.U)(i=>i.filter(o=>n.indexOf(o.type)>-1)))),e.pipe(Ir(void 0),zP(),hr(([i,o])=>o.length>0||!i),(0,un.U)(([i,o])=>o),this.afs.keepUnstableUntilFirst)}auditTrail(n){return this.stateChanges(n).pipe(Xa((e,i)=>[...e,...i],[]))}snapshotChanges(n){const e=EG(n);return DG(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(n={}){return WP(this.query,this.afs.schedulers.outsideAngular).pipe((0,un.U)(e=>e.payload.docs.map(i=>n.idField?Object.assign(Object.assign({},i.data()),{[n.idField]:i.id}):i.data())),this.afs.keepUnstableUntilFirst)}get(n){return(0,go.D)(this.query.get(n)).pipe((0,Rp.Q)(this.afs.schedulers.insideAngular))}add(n){return this.ref.add(n)}doc(n){return new kG(this.ref.doc(n),this.afs)}}class kG{constructor(n,e){this.ref=n,this.afs=e}set(n,e){return this.ref.set(n,e)}update(n){return this.ref.update(n)}delete(){return this.ref.delete()}collection(n,e){const i=this.ref.collection(n),{ref:o,query:s}=LG(i,e);return new MG(o,s,this.afs)}snapshotChanges(){return function hoe(t,n){return SG(t,n).pipe(Ir(void 0),zP(),(0,un.U)(([e,i])=>i.exists?(null==e?void 0:e.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(n={}){return this.snapshotChanges().pipe((0,un.U)(({payload:e})=>n.idField?Object.assign(Object.assign({},e.data()),{[n.idField]:e.id}):e.data()))}get(n){return(0,go.D)(this.ref.get(n)).pipe((0,Rp.Q)(this.afs.schedulers.insideAngular))}}class moe{constructor(n,e){this.query=n,this.afs=e}stateChanges(n){return n&&0!==n.length?IO(this.query,this.afs.schedulers.outsideAngular).pipe((0,un.U)(e=>e.filter(i=>n.indexOf(i.type)>-1)),hr(e=>e.length>0),this.afs.keepUnstableUntilFirst):IO(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(n){return this.stateChanges(n).pipe(Xa((e,i)=>[...e,...i],[]))}snapshotChanges(n){const e=EG(n);return DG(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(n={}){return WP(this.query,this.afs.schedulers.outsideAngular).pipe((0,un.U)(i=>i.payload.docs.map(o=>n.idField?Object.assign({[n.idField]:o.id},o.data()):o.data())),this.afs.keepUnstableUntilFirst)}get(n){return(0,go.D)(this.query.get(n)).pipe((0,Rp.Q)(this.afs.schedulers.insideAngular))}}const QP=new r.OlP("angularfire2.enableFirestorePersistence"),JP=new r.OlP("angularfire2.firestore.persistenceSettings"),IG=new r.OlP("angularfire2.firestore.settings"),OG=new r.OlP("angularfire2.firestore.use-emulator");function LG(t,n=(e=>e)){return{query:n(t),ref:t}}let MC=(()=>{class t{constructor(e,i,o,s,a,d,f,v,w){this.schedulers=new Ro.HU(d),this.keepUnstableUntilFirst=(0,Ro.ss)(this.schedulers);const x=(0,Ro.on)(e,d,i);!uoe.Z.auth&&w&&(0,Ro.yq)();const S=v;[this.firestore,this.persistenceEnabled$]=(0,Ro.sI)(`${x.name}.firestore`,"AngularFirestore",x,()=>{const E=d.runOutsideAngular(()=>x.firestore());if(s&&E.settings(s),S&&E.useEmulator(...S),o&&!qs(a)){const q=()=>{try{return(0,go.D)(E.enablePersistence(f||void 0).then(()=>!0,()=>!1))}catch(H){return"undefined"!=typeof console&&console.warn(H),Dn(!1)}};return[E,d.runOutsideAngular(q)]}return[E,Dn(!1)]},[s,S,o])}collection(e,i){let o;o="string"==typeof e?this.firestore.collection(e):e;const{ref:s,query:a}=LG(o,i),d=this.schedulers.ngZone.run(()=>s);return new MG(d,a,this)}collectionGroup(e,i){const o=i||(a=>a),s=this.firestore.collectionGroup(e);return new moe(o(s),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const o=this.schedulers.ngZone.run(()=>i);return new kG(o,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Ro.Dh),r.LFG(Ro.xv,8),r.LFG(QP,8),r.LFG(IG,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(JP,8),r.LFG(OG,8),r.LFG(M_,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(Ro.Dh),r.LFG(Ro.xv,8),r.LFG(QP,8),r.LFG(IG,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(JP,8),r.LFG(OG,8),r.LFG(M_,8))},token:t,providedIn:"any"}),t})(),goe=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:QP,useValue:!0},{provide:JP,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[MC]}),t})(),oh=(()=>{class t{constructor(e,i){this.af=e,this.uiService=i,this.users=[],this.usersChanged=new Ht.x,this.currentUserChanges=new Ht.x,this.userLoads=[],this.userLoadsChanged=new Ht.x,this.currentUserLoadChanged=new Ht.x,this.currentUserHistoryLoadChanged=new Ht.x}fetchUsers(){this.af.collection("user").snapshotChanges().pipe((0,un.U)(e=>e.map(i=>Object.assign({id:i.payload.doc.id},i.payload.doc.data())))).subscribe(e=>{this.users=e,this.usersChanged.next([...this.users])})}addUserToDatabase(e){this.af.collection("user").add(e),this.uiService.showSuccessToast("User Added Succesfully!","Success")}updateUserToDatabase(e,i){this.af.doc("user/"+i).update(e),this.uiService.showSuccessToast("User Updated Succesfully!","Success")}fetchCurrentUser(e){let i="";this.af.collection("user").ref.where("email","==",e).get().then(o=>{o&&(i=o.docs[0].id,this.af.collection("user").doc(i).snapshotChanges().subscribe(s=>{this.currentUser=s.payload.data(),this.currentUserChanges.next(this.currentUser)}))})}getCurrentUser(){return Object.assign({},this.currentUser)}updateUserDeadline(e,i,o){this.af.doc("user/"+e).update({startDate:i,endDate:o}),this.uiService.showSuccessToast("User Updated Succesfully!","Success")}setUserDeadline(e,i){this.users.forEach(o=>{this.af.doc("user/"+o.id).update({startDate:e,endDate:i}),this.uiService.showSuccessToast("All Users Updated Succesfully!","Success")})}addUserLoadsToDatabase(e){this.af.collection("userLoad").add(e),this.uiService.showSuccessToast("Load Submitted Succesfully!","Success")}editUserLoadsToDatabase(e,i){this.af.doc("userLoad/"+e).update({chairpersonName:i.chairpersonName,comment:i.comment,dateSubmitted:i.dateSubmitted,department:i.department,idNumber:i.idNumber,loadItem:i.loadItem,semester:i.semester,status:i.status,year:i.year})}fetchAllUserLoads(){this.af.collection("userLoad").snapshotChanges().pipe((0,un.U)(e=>e.map(i=>Object.assign({id:i.payload.doc.id},i.payload.doc.data())))).subscribe(e=>{this.userLoads=e,this.userLoadsChanged.next([...this.userLoads])})}fetchUserLoad(e,i,o){this.af.collection("userLoad").ref.where("year","==",e).where("semester","==",i).where("chairpersonName","==",o).onSnapshot(s=>{this.currentUserLoad=this.emptyCurrentUserLoad,s.forEach(a=>{this.currentUserLoad=Object.assign({id:a.id},a.data())}),this.currentUserLoadChanged.next(this.currentUserLoad)})}fetchUserHistoryLoad(e,i,o){this.af.collection("userLoad").ref.where("year","==",e).where("semester","==",i).where("chairpersonName","==",o).onSnapshot(s=>{this.currentUserHistoryLoad=this.emptyCurrentUserLoad,s.forEach(a=>{this.currentUserHistoryLoad=Object.assign({id:a.id},a.data())}),this.currentUserHistoryLoadChanged.next(this.currentUserHistoryLoad)})}updateUserLoad(e,i){this.af.doc("userLoad/"+e).update({status:i}),this.uiService.showSuccessToast("Load updated Successfully!","Success")}updateDeclinedUserLoad(e,i,o){this.af.doc("userLoad/"+e).update({status:i,comment:o}),this.uiService.showSuccessToast("Load declined Successfully!","Success")}updateAdminNotification(e){this.af.collection("user").ref.where("department","==","admin").get().then(i=>{console.log(i.docs[0].id),this.af.doc("user/"+i.docs[0].id).update({notification:cc.default.firestore.FieldValue.arrayUnion(e)})})}updateAllChairpersonNotification(e){this.users.forEach(i=>{"admin"!=i.department&&this.af.doc("user/"+i.id).update({notification:cc.default.firestore.FieldValue.arrayUnion(e)})})}updateChairpersonNotification(e,i){this.af.doc("user/"+i.id).update({notification:cc.default.firestore.FieldValue.arrayUnion(e)})}updateLoadNotification(e,i){this.af.collection("user").ref.where("fullName","==",i).get().then(o=>{console.log(o.docs[0].id),this.af.doc("user/"+o.docs[0].id).update({notification:cc.default.firestore.FieldValue.arrayUnion(e)})})}deleteNotification(e,i){this.af.collection("user").ref.where("fullName","==",i.fullName).get().then(o=>{console.log(o.docs[0].id),this.af.doc("user/"+o.docs[0].id).update({notification:cc.default.firestore.FieldValue.arrayRemove(e)}),this.uiService.showSuccessToast("Notificiation Deleted Successfully","Success")})}deleteAllNotification(e,i){this.af.collection("user").ref.where("fullName","==",i.fullName).get().then(o=>e.forEach(s=>{this.af.doc("user/"+o.docs[0].id).update({notification:cc.default.firestore.FieldValue.arrayRemove(s)}),this.uiService.showSuccessToast("All Notificiations Deleted Successfully","Success")}))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(MC),r.LFG(Ko))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Coe=(()=>{class t extends Bo{constructor(e,i,o,s,a,d,f){super(e,null,i,o),this.ngClassInstance=f,this.DIRECTIVE_KEY="ngClass",this.ngClassInstance||(this.ngClassInstance=new xr(s,a,e,d)),this.init(),this.setValue("","")}set klass(e){this.ngClassInstance.klass=e,this.setValue(e,"")}updateWithValue(e){this.ngClassInstance.ngClass=e,this.ngClassInstance.ngDoCheck()}ngDoCheck(){this.ngClassInstance.ngDoCheck()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(ds),r.Y36(Ts),r.Y36(r.ZZ4),r.Y36(r.aQg),r.Y36(r.Qsj),r.Y36(xr,10))},t.\u0275dir=r.lG2({type:t,inputs:{klass:["class","klass"]},features:[r.qOj]}),t})();const xoe=["ngClass","ngClass.xs","ngClass.sm","ngClass.md","ngClass.lg","ngClass.xl","ngClass.lt-sm","ngClass.lt-md","ngClass.lt-lg","ngClass.lt-xl","ngClass.gt-xs","ngClass.gt-sm","ngClass.gt-md","ngClass.gt-lg"];let W_=(()=>{class t extends Coe{constructor(){super(...arguments),this.inputs=xoe}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=r.n5z(t)))(i||t)}}(),t.\u0275dir=r.lG2({type:t,selectors:[["","ngClass",""],["","ngClass.xs",""],["","ngClass.sm",""],["","ngClass.md",""],["","ngClass.lg",""],["","ngClass.xl",""],["","ngClass.lt-sm",""],["","ngClass.lt-md",""],["","ngClass.lt-lg",""],["","ngClass.lt-xl",""],["","ngClass.gt-xs",""],["","ngClass.gt-sm",""],["","ngClass.gt-md",""],["","ngClass.gt-lg",""]],inputs:{ngClass:"ngClass","ngClass.xs":"ngClass.xs","ngClass.sm":"ngClass.sm","ngClass.md":"ngClass.md","ngClass.lg":"ngClass.lg","ngClass.xl":"ngClass.xl","ngClass.lt-sm":"ngClass.lt-sm","ngClass.lt-md":"ngClass.lt-md","ngClass.lt-lg":"ngClass.lt-lg","ngClass.lt-xl":"ngClass.lt-xl","ngClass.gt-xs":"ngClass.gt-xs","ngClass.gt-sm":"ngClass.gt-sm","ngClass.gt-md":"ngClass.gt-md","ngClass.gt-lg":"ngClass.gt-lg"},features:[r.qOj]}),t})();class Eoe{constructor(n,e,i=!0){this.key=n,this.value=e,this.key=i?n.replace(/['"]/g,"").trim():n.trim(),this.value=i?e.replace(/['"]/g,"").trim():e.trim(),this.value=this.value.replace(/;/,"")}}function FG(t){let n=typeof t;return"object"===n?t.constructor===Array?"array":t.constructor===Set?"set":"object":n}function RG(t){const[n,...e]=t.split(":");return new Eoe(n,e.join(":"))}function PG(t,n){return n.key&&(t[n.key]=n.value),t}let Ioe=(()=>{class t extends Bo{constructor(e,i,o,s,a,d,f,v,w){super(e,null,i,o),this.sanitizer=s,this.ngStyleInstance=f,this.DIRECTIVE_KEY="ngStyle",this.ngStyleInstance||(this.ngStyleInstance=new ta(e,a,d)),this.init();const x=this.nativeElement.getAttribute("style")||"";this.fallbackStyles=this.buildStyleMap(x),this.isServer=v&&qs(w)}updateWithValue(e){const i=this.buildStyleMap(e);this.ngStyleInstance.ngStyle=Object.assign(Object.assign({},this.fallbackStyles),i),this.isServer&&this.applyStyleToElement(i),this.ngStyleInstance.ngDoCheck()}clearStyles(){this.ngStyleInstance.ngStyle=this.fallbackStyles,this.ngStyleInstance.ngDoCheck()}buildStyleMap(e){const i=o=>this.sanitizer.sanitize(r.q3G.STYLE,o)||"";if(e)switch(FG(e)){case"string":return UG(function Moe(t,n=";"){return String(t).trim().split(n).map(e=>e.trim()).filter(e=>""!==e)}(e),i);case"array":return UG(e,i);default:return function NG(t,n){let e=[];return"set"===FG(t)?t.forEach(i=>e.push(i)):Object.keys(t).forEach(i=>{e.push(`${i}:${t[i]}`)}),function koe(t,n){return t.map(RG).filter(i=>!!i).map(i=>(n&&(i.value=n(i.value)),i)).reduce(PG,{})}(e,n)}(e,i)}return{}}ngDoCheck(){this.ngStyleInstance.ngDoCheck()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(ds),r.Y36(Ts),r.Y36(Fa),r.Y36(r.aQg),r.Y36(r.Qsj),r.Y36(ta,10),r.Y36(se),r.Y36(r.Lbi))},t.\u0275dir=r.lG2({type:t,features:[r.qOj]}),t})();const Ooe=["ngStyle","ngStyle.xs","ngStyle.sm","ngStyle.md","ngStyle.lg","ngStyle.xl","ngStyle.lt-sm","ngStyle.lt-md","ngStyle.lt-lg","ngStyle.lt-xl","ngStyle.gt-xs","ngStyle.gt-sm","ngStyle.gt-md","ngStyle.gt-lg"];let BG=(()=>{class t extends Ioe{constructor(){super(...arguments),this.inputs=Ooe}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=r.n5z(t)))(i||t)}}(),t.\u0275dir=r.lG2({type:t,selectors:[["","ngStyle",""],["","ngStyle.xs",""],["","ngStyle.sm",""],["","ngStyle.md",""],["","ngStyle.lg",""],["","ngStyle.xl",""],["","ngStyle.lt-sm",""],["","ngStyle.lt-md",""],["","ngStyle.lt-lg",""],["","ngStyle.lt-xl",""],["","ngStyle.gt-xs",""],["","ngStyle.gt-sm",""],["","ngStyle.gt-md",""],["","ngStyle.gt-lg",""]],inputs:{ngStyle:"ngStyle","ngStyle.xs":"ngStyle.xs","ngStyle.sm":"ngStyle.sm","ngStyle.md":"ngStyle.md","ngStyle.lg":"ngStyle.lg","ngStyle.xl":"ngStyle.xl","ngStyle.lt-sm":"ngStyle.lt-sm","ngStyle.lt-md":"ngStyle.lt-md","ngStyle.lt-lg":"ngStyle.lt-lg","ngStyle.lt-xl":"ngStyle.lt-xl","ngStyle.gt-xs":"ngStyle.gt-xs","ngStyle.gt-sm":"ngStyle.gt-sm","ngStyle.gt-md":"ngStyle.gt-md","ngStyle.gt-lg":"ngStyle.gt-lg"},features:[r.qOj]}),t})();function UG(t,n){return t.map(RG).filter(i=>!!i).map(i=>(n&&(i.value=n(i.value)),i)).reduce(PG,{})}let jG=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[p]]}),t})();function XP(t){return t&&"function"==typeof t.connect}class VG{applyChanges(n,e,i,o,s){n.forEachOperation((a,d,f)=>{let v,w;if(null==a.previousIndex){const x=i(a,d,f);v=e.createEmbeddedView(x.templateRef,x.context,x.index),w=1}else null==f?(e.remove(d),w=3):(v=e.get(d),e.move(v,f),w=2);s&&s({context:null==v?void 0:v.context,operation:w,record:a})})}detach(){}}class XD{constructor(n=!1,e,i=!0){this._multiple=n,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Ht.x,e&&e.length&&(n?e.forEach(o=>this._markSelected(o)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...n){this._verifyValueAssignment(n),n.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...n){this._verifyValueAssignment(n),n.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(n){this.isSelected(n)?this.deselect(n):this.select(n)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(n){return this._selection.has(n)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(n){this._multiple&&this.selected&&this._selected.sort(n)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(n){this.isSelected(n)||(this._multiple||this._unmarkAll(),this._selection.add(n),this._emitChanges&&this._selectedToEmit.push(n))}_unmarkSelected(n){this.isSelected(n)&&(this._selection.delete(n),this._emitChanges&&this._deselectedToEmit.push(n))}_unmarkAll(){this.isEmpty()||this._selection.forEach(n=>this._unmarkSelected(n))}_verifyValueAssignment(n){}}const eE=new r.OlP("_ViewRepeater"),Foe=["trigger"],Noe=["panel"];function Roe(t,n){if(1&t&&(r.TgZ(0,"span",8),r._uU(1),r.qZA()),2&t){const e=r.oxw();r.xp6(1),r.Oqu(e.placeholder)}}function Poe(t,n){if(1&t&&(r.TgZ(0,"span",12),r._uU(1),r.qZA()),2&t){const e=r.oxw(2);r.xp6(1),r.Oqu(e.triggerValue)}}function Boe(t,n){1&t&&r.Hsn(0,0,["*ngSwitchCase","true"])}function Uoe(t,n){if(1&t&&(r.TgZ(0,"span",9),r.YNc(1,Poe,2,1,"span",10),r.YNc(2,Boe,1,0,"ng-content",11),r.qZA()),2&t){const e=r.oxw();r.Q6J("ngSwitch",!!e.customTrigger),r.xp6(2),r.Q6J("ngSwitchCase",!0)}}function joe(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"div",13)(1,"div",14,15),r.NdJ("@transformPanel.done",function(o){return r.CHM(e),r.oxw()._panelDoneAnimatingStream.next(o.toState)})("keydown",function(o){return r.CHM(e),r.oxw()._handleKeydown(o)}),r.Hsn(3,1),r.qZA()()}if(2&t){const e=r.oxw();r.Q6J("@transformPanelWrap",void 0),r.xp6(1),r.Gre("mat-select-panel ",e._getPanelTheme(),""),r.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),r.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),r.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const Voe=[[["mat-select-trigger"]],"*"],qoe=["mat-select-trigger","*"],HG={transformPanelWrap:zs("transformPanelWrap",[pr("* => void",I_("@transformPanel",[Pp()],{optional:!0}))]),transformPanel:zs("transformPanel",[Mr("void",Qt({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Mr("showing",Qt({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Mr("showing-multiple",Qt({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),pr("void => *",Ar("120ms cubic-bezier(0, 0, 0.2, 1)")),pr("* => void",Ar("100ms 25ms linear",Qt({opacity:0})))])};let GG=0;const YG=new r.OlP("mat-select-scroll-strategy"),Yoe=new r.OlP("MAT_SELECT_CONFIG"),zoe={provide:YG,deps:[Vh],useFactory:function Zoe(t){return()=>t.scrollStrategies.reposition()}};class Woe{constructor(n,e){this.source=n,this.value=e}}const $oe=nd(Cb(td(xb(class{constructor(t,n,e,i,o){this._elementRef=t,this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=i,this.ngControl=o}})))),Qoe=new r.OlP("MatSelectTrigger");let Joe=(()=>{class t extends $oe{constructor(e,i,o,s,a,d,f,v,w,x,S,E,q,H){var ee,$,oe;super(a,s,f,v,x),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=o,this._dir=d,this._parentFormField=w,this._liveAnnouncer=q,this._defaultOptions=H,this._panelOpen=!1,this._compareWith=(ve,Fe)=>ve===Fe,this._uid="mat-select-"+GG++,this._triggerAriaLabelledBy=null,this._destroy=new Ht.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+GG++,this._panelDoneAnimatingStream=new Ht.x,this._overlayPanelClass=(null===(ee=this._defaultOptions)||void 0===ee?void 0:ee.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(oe=null===($=this._defaultOptions)||void 0===$?void 0:$.disableOptionCentering)&&void 0!==oe&&oe,this.ariaLabel="",this.optionSelectionChanges=Ui(()=>{const ve=this.options;return ve?ve.changes.pipe(Ir(ve),zo(()=>(0,co.T)(...ve.map(Fe=>Fe.onSelectionChange)))):this._ngZone.onStable.pipe((0,Er.q)(1),zo(()=>this.optionSelectionChanges))}),this.openedChange=new r.vpe,this._openedStream=this.openedChange.pipe(hr(ve=>ve),(0,un.U)(()=>{})),this._closedStream=this.openedChange.pipe(hr(ve=>!ve),(0,un.U)(()=>{})),this.selectionChange=new r.vpe,this.valueChange=new r.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==H?void 0:H.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=H.typeaheadDebounceInterval),this._scrollStrategyFactory=E,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(S)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){var e,i,o,s;return null!==(s=null!==(e=this._required)&&void 0!==e?e:null===(o=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===o?void 0:o.hasValidator(sn.required))&&void 0!==s&&s}set required(e){this._required=Rn(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=Rn(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Rn(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=ac(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new XD(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(P_(),ai(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(ai(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Ir(null),ai(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const o=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?o.setAttribute("aria-labelledby",e):o.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){e.disabled&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var e,i;return this.multiple?(null===(e=this._selectionModel)||void 0===e?void 0:e.selected)||[]:null===(i=this._selectionModel)||void 0===i?void 0:i.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,o=40===i||38===i||37===i||39===i,s=13===i||32===i,a=this._keyManager;if(!a.isTyping()&&s&&!lc(e)||(this.multiple||e.altKey)&&o)e.preventDefault(),this.open();else if(!this.multiple){const d=this.selected;a.onKeydown(e);const f=this.selected;f&&d!==f&&this._liveAnnouncer.announce(f.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,o=e.keyCode,s=40===o||38===o,a=i.isTyping();if(s&&e.altKey)e.preventDefault(),this.close();else if(a||13!==o&&32!==o||!i.activeItem||lc(e))if(!a&&this._multiple&&65===o&&e.ctrlKey){e.preventDefault();const d=this.options.some(f=>!f.disabled&&!f.selected);this.options.forEach(f=>{f.disabled||(d?f.select():f.deselect())})}else{const d=i.activeItemIndex;i.onKeydown(e),this._multiple&&s&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==d&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,Er.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(o=>{if(this._selectionModel.isSelected(o))return!1;try{return null!=o.value&&this._compareWith(o.value,e)}catch(s){return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new rk(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(ai(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(ai(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,co.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(ai(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,co.T)(...this.options.map(i=>i._stateChanges)).pipe(ai(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,i){const o=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(o!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),o!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,o)=>this.sortComparator?this.sortComparator(i,o,e):e.indexOf(i)-e.indexOf(o)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(o=>o.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var e;return!this._panelOpen&&!this.disabled&&(null===(e=this.options)||void 0===e?void 0:e.length)>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){var e;if(this.ariaLabel)return null;const i=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();return this.ariaLabelledby?(i?i+" ":"")+this.ariaLabelledby:i}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var e;if(this.ariaLabel)return null;const i=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();let o=(i?i+" ":"")+this._valueId;return this.ariaLabelledby&&(o+=" "+this.ariaLabelledby),o}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Sy),r.Y36(r.sBO),r.Y36(r.R0b),r.Y36(Tb),r.Y36(r.SBq),r.Y36(Us,8),r.Y36(Mf,8),r.Y36(ya,8),r.Y36(Z2,8),r.Y36(Hc,10),r.$8M("tabindex"),r.Y36(YG),r.Y36(WS),r.Y36(Yoe,8))},t.\u0275dir=r.lG2({type:t,viewQuery:function(e,i){if(1&e&&(r.Gf(Foe,5),r.Gf(Noe,5),r.Gf(y8,5)),2&e){let o;r.iGM(o=r.CRH())&&(i.trigger=o.first),r.iGM(o=r.CRH())&&(i.panel=o.first),r.iGM(o=r.CRH())&&(i._overlayDir=o.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[r.qOj,r.TTD]}),t})(),$_=(()=>{class t extends Joe{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,i,o){const s=this._getItemHeight();return Math.min(Math.max(0,s*e-i+s/2),o)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(ai(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,Er.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const i=YU(e,this.options,this.optionGroups),o=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===i?0:function _W(t,n,e,i){return t<e?t:t+n>e+i?Math.max(0,t-i+n):e}((e+i)*o,o,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new Woe(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),o=this._isRtl(),s=this.multiple?56:32;let a;if(this.multiple)a=40;else if(this.disableOptionCentering)a=16;else{let v=this._selectionModel.selected[0]||this.options.first;a=v&&v.group?32:16}o||(a*=-1);const d=0-(e.left+a-(o?s:0)),f=e.right+a-i.width+(o?0:s);d>0?a+=d+8:f>0&&(a-=f+8),this._overlayDir.offsetX=Math.round(a),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,i,o){const s=this._getItemHeight(),a=(s-this._triggerRect.height)/2,d=Math.floor(256/s);let f;return this.disableOptionCentering?0:(f=0===this._scrollTop?e*s:this._scrollTop===o?(e-(this._getItemCount()-d))*s+(s-(this._getItemCount()*s-256)%s):i-s/2,Math.round(-1*f-a))}_checkOverlayWithinViewport(e){const i=this._getItemHeight(),o=this._viewportRuler.getViewportSize(),s=this._triggerRect.top-8,a=o.height-this._triggerRect.bottom-8,d=Math.abs(this._offsetY),v=Math.min(this._getItemCount()*i,256)-d-this._triggerRect.height;v>a?this._adjustPanelUp(v,a):d>s?this._adjustPanelDown(d,s,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,i){const o=Math.round(e-i);this._scrollTop-=o,this._offsetY-=o,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,i,o){const s=Math.round(e-i);if(this._scrollTop+=s,this._offsetY+=s,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=o)return this._scrollTop=o,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),i=this._getItemCount(),o=Math.min(i*e,256),a=i*e-o;let d;d=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),d+=YU(d,this.options,this.optionGroups);const f=o/2;this._scrollTop=this._calculateOverlayScroll(d,f,a),this._offsetY=this._calculateOverlayOffsetY(d,f,a),this._checkOverlayWithinViewport(a)}_getOriginBasedOnOption(){const e=this._getItemHeight(),i=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=r.n5z(t)))(i||t)}}(),t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-select"]],contentQueries:function(e,i,o){if(1&e&&(r.Suo(o,Qoe,5),r.Suo(o,ug,5),r.Suo(o,ZU,5)),2&e){let s;r.iGM(s=r.CRH())&&(i.customTrigger=s.first),r.iGM(s=r.CRH())&&(i.options=s),r.iGM(s=r.CRH())&&(i.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(e,i){1&e&&r.NdJ("keydown",function(s){return i._handleKeydown(s)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(r.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-describedby",i._ariaDescribedby||null)("aria-activedescendant",i._getAriaActiveDescendant()),r.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[r._Bn([{provide:uT,useExisting:t},{provide:GU,useExisting:t}]),r.qOj],ngContentSelectors:qoe,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(r.F$t(Voe),r.TgZ(0,"div",0,1),r.NdJ("click",function(){return i.toggle()}),r.TgZ(3,"div",2),r.YNc(4,Roe,2,1,"span",3),r.YNc(5,Uoe,3,2,"span",4),r.qZA(),r.TgZ(6,"div",5),r._UZ(7,"div",6),r.qZA()(),r.YNc(8,joe,4,14,"ng-template",7),r.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const o=r.MAs(1);r.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),r.xp6(3),r.Q6J("ngSwitch",i.empty),r.uIk("id",i._valueId),r.xp6(1),r.Q6J("ngSwitchCase",!0),r.xp6(1),r.Q6J("ngSwitchCase",!1),r.xp6(3),r.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",o)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},directives:[v8,Xr,Yi,ki,y8,xr],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;opacity:0}\n'],encapsulation:2,data:{animation:[HG.transformPanelWrap,HG.transformPanel]},changeDetection:0}),t})(),e6=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[zoe],imports:[[wo,tC,zU,ci],Sb,Y2,zU,ci]}),t})();class Koe{}class $b{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const o=e.slice(0,i),s=o.toLowerCase(),a=e.slice(i+1).trim();this.maybeSetNormalizedName(o,s),this.headers.has(s)?this.headers.get(s).push(a):this.headers.set(s,[a])}})}:()=>{this.headers=new Map,Object.keys(n).forEach(e=>{let i=n[e];const o=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(o,i),this.maybeSetNormalizedName(e,o))})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof $b?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new $b;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof $b?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let i=n.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(n.name,e);const o=("a"===n.op?this.headers.get(e):void 0)||[];o.push(...i),this.headers.set(e,o);break;case"d":const s=n.value;if(s){let a=this.headers.get(e);if(!a)return;a=a.filter(d=>-1===s.indexOf(d)),0===a.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class Xoe{encodeKey(n){return zG(n)}encodeValue(n){return zG(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const tse=/%(\d[a-f0-9])/gi,nse={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function zG(t){return encodeURIComponent(t).replace(tse,(n,e)=>{var i;return null!==(i=nse[e])&&void 0!==i?i:n})}function WG(t){return`${t}`}class Qb{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new Xoe,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ese(t,n){const e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(o=>{const s=o.indexOf("="),[a,d]=-1==s?[n.decodeKey(o),""]:[n.decodeKey(o.slice(0,s)),n.decodeValue(o.slice(s+1))],f=e.get(a)||[];f.push(d),e.set(a,f)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const i=n.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(i=>{const o=n[i];Array.isArray(o)?o.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:o,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new Qb({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(WG(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let i=this.map.get(n.param)||[];const o=i.indexOf(WG(n.value));-1!==o&&i.splice(o,1),i.length>0?this.map.set(n.param,i):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class ise{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function $G(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function QG(t){return"undefined"!=typeof Blob&&t instanceof Blob}function JG(t){return"undefined"!=typeof FormData&&t instanceof FormData}class nE{constructor(n,e,i,o){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function rse(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==i?i:null,s=o):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new $b),this.context||(this.context=new ise),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=e;else{const d=e.indexOf("?");this.urlWithParams=e+(-1===d?"?":d<e.length-1?"&":"")+a}}else this.params=new Qb,this.urlWithParams=e}serializeBody(){return null===this.body?null:$G(this.body)||QG(this.body)||JG(this.body)||function ose(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Qb?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||JG(this.body)?null:QG(this.body)?this.body.type||null:$G(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Qb?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){var e;const i=n.method||this.method,o=n.url||this.url,s=n.responseType||this.responseType,a=void 0!==n.body?n.body:this.body,d=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,f=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let v=n.headers||this.headers,w=n.params||this.params;const x=null!==(e=n.context)&&void 0!==e?e:this.context;return void 0!==n.setHeaders&&(v=Object.keys(n.setHeaders).reduce((S,E)=>S.set(E,n.setHeaders[E]),v)),n.setParams&&(w=Object.keys(n.setParams).reduce((S,E)=>S.set(E,n.setParams[E]),w)),new nE(i,o,a,{params:w,headers:v,context:x,reportProgress:f,responseType:s,withCredentials:d})}}var ku=(()=>((ku=ku||{})[ku.Sent=0]="Sent",ku[ku.UploadProgress=1]="UploadProgress",ku[ku.ResponseHeader=2]="ResponseHeader",ku[ku.DownloadProgress=3]="DownloadProgress",ku[ku.Response=4]="Response",ku[ku.User=5]="User",ku))();class t6 extends class sse{constructor(n,e=200,i="OK"){this.headers=n.headers||new $b,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||i,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(n={}){super(n),this.type=ku.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new t6({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}function n6(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let XG=(()=>{class t{constructor(e){this.handler=e}request(e,i,o={}){let s;if(e instanceof nE)s=e;else{let f,v;f=o.headers instanceof $b?o.headers:new $b(o.headers),o.params&&(v=o.params instanceof Qb?o.params:new Qb({fromObject:o.params})),s=new nE(e,i,void 0!==o.body?o.body:null,{headers:f,context:o.context,params:v,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const a=Dn(s).pipe(Wl(f=>this.handler.handle(f)));if(e instanceof nE||"events"===o.observe)return a;const d=a.pipe(hr(f=>f instanceof t6));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return d.pipe((0,un.U)(f=>{if(null!==f.body&&!(f.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return f.body}));case"blob":return d.pipe((0,un.U)(f=>{if(null!==f.body&&!(f.body instanceof Blob))throw new Error("Response is not a Blob.");return f.body}));case"text":return d.pipe((0,un.U)(f=>{if(null!==f.body&&"string"!=typeof f.body)throw new Error("Response is not a string.");return f.body}));default:return d.pipe((0,un.U)(f=>f.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Qb).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,o={}){return this.request("PATCH",e,n6(o,i))}post(e,i,o={}){return this.request("POST",e,n6(o,i))}put(e,i,o={}){return this.request("PUT",e,n6(o,i))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Koe))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const lse=["*"];let LO;function iE(t){var n;return(null===(n=function cse(){if(void 0===LO&&(LO=null,"undefined"!=typeof window)){const t=window;void 0!==t.trustedTypes&&(LO=t.trustedTypes.createPolicy("angular#components",{createHTML:n=>n}))}return LO}())||void 0===n?void 0:n.createHTML(t))||t}function eZ(t){return Error(`Unable to find icon with the name "${t}"`)}function tZ(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function nZ(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class kC{constructor(n,e,i){this.url=n,this.svgText=e,this.options=i}}let FO=(()=>{class t{constructor(e,i,o,s){this._httpClient=e,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=o}addSvgIcon(e,i,o){return this.addSvgIconInNamespace("",e,i,o)}addSvgIconLiteral(e,i,o){return this.addSvgIconLiteralInNamespace("",e,i,o)}addSvgIconInNamespace(e,i,o,s){return this._addSvgIconConfig(e,i,new kC(o,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,o,s){const a=this._sanitizer.sanitize(r.q3G.HTML,o);if(!a)throw nZ(o);const d=iE(a);return this._addSvgIconConfig(e,i,new kC("",d,s))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,o){return this._addSvgIconSetConfig(e,new kC(i,null,o))}addSvgIconSetLiteralInNamespace(e,i,o){const s=this._sanitizer.sanitize(r.q3G.HTML,i);if(!s)throw nZ(i);const a=iE(s);return this._addSvgIconSetConfig(e,new kC("",a,o))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(r.q3G.RESOURCE_URL,e);if(!i)throw tZ(e);const o=this._cachedIconsByUrl.get(i);return o?Dn(NO(o)):this._loadSvgIconFromConfig(new kC(e,null)).pipe((0,Wo.b)(s=>this._cachedIconsByUrl.set(i,s)),(0,un.U)(s=>NO(s)))}getNamedSvgIcon(e,i=""){const o=iZ(i,e);let s=this._svgIconConfigs.get(o);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,e),s)return this._svgIconConfigs.set(o,s),this._getSvgFromConfig(s);const a=this._iconSetConfigs.get(i);return a?this._getSvgFromIconSetConfigs(e,a):Lt(eZ(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Dn(NO(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,un.U)(i=>NO(i)))}_getSvgFromIconSetConfigs(e,i){const o=this._extractIconWithNameFromAnySet(e,i);return o?Dn(o):pe(i.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(Na(d=>{const v=`Loading icon set URL: ${this._sanitizer.sanitize(r.q3G.RESOURCE_URL,a.url)} failed: ${d.message}`;return this._errorHandler.handleError(new Error(v)),Dn(null)})))).pipe((0,un.U)(()=>{const a=this._extractIconWithNameFromAnySet(e,i);if(!a)throw eZ(e);return a}))}_extractIconWithNameFromAnySet(e,i){for(let o=i.length-1;o>=0;o--){const s=i[o];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const a=this._svgElementFromConfig(s),d=this._extractSvgIconFromSet(a,e,s.options);if(d)return d}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,Wo.b)(i=>e.svgText=i),(0,un.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Dn(null):this._fetchIcon(e).pipe((0,Wo.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,o){const s=e.querySelector(`[id="${i}"]`);if(!s)return null;const a=s.cloneNode(!0);if(a.removeAttribute("id"),"svg"===a.nodeName.toLowerCase())return this._setSvgAttributes(a,o);if("symbol"===a.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(a),o);const d=this._svgElementFromString(iE("<svg></svg>"));return d.appendChild(a),this._setSvgAttributes(d,o)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const o=i.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(e){const i=this._svgElementFromString(iE("<svg></svg>")),o=e.attributes;for(let s=0;s<o.length;s++){const{name:a,value:d}=o[s];"id"!==a&&i.setAttribute(a,d)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){var i;const{url:o,options:s}=e,a=null!==(i=null==s?void 0:s.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw function use(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==o)throw Error(`Cannot fetch icon from URL "${o}".`);const d=this._sanitizer.sanitize(r.q3G.RESOURCE_URL,o);if(!d)throw tZ(o);const f=this._inProgressUrlFetches.get(d);if(f)return f;const v=this._httpClient.get(d,{responseType:"text",withCredentials:a}).pipe((0,un.U)(w=>iE(w)),x1(()=>this._inProgressUrlFetches.delete(d)),(0,mx.B)());return this._inProgressUrlFetches.set(d,v),v}_addSvgIconConfig(e,i,o){return this._svgIconConfigs.set(iZ(e,i),o),this}_addSvgIconSetConfig(e,i){const o=this._iconSetConfigs.get(e);return o?o.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let o=0;o<this._resolvers.length;o++){const s=this._resolvers[o](i,e);if(s)return hse(s)?new kC(s.url,null,s.options):new kC(s,null)}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(XG,8),r.LFG(Fa),r.LFG(et,8),r.LFG(r.qLn))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function NO(t){return t.cloneNode(!0)}function iZ(t,n){return t+":"+n}function hse(t){return!(!t.url||!t.options)}const fse=jh(class{constructor(t){this._elementRef=t}}),pse=new r.OlP("mat-icon-location",{providedIn:"root",factory:function mse(){const t=(0,r.f3M)(et),n=t?t.location:null;return{getPathname:()=>n?n.pathname+n.search:""}}}),rZ=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],gse=rZ.map(t=>`[${t}]`).join(", "),_se=/^url\(['"]?#(.*?)['"]?\)$/;let Wf=(()=>{class t extends fse{constructor(e,i,o,s,a){super(e),this._iconRegistry=i,this._location=s,this._errorHandler=a,this._inline=!1,this._currentIconFetch=Di.w0.EMPTY,o||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Rn(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const o=e.childNodes[i];(1!==o.nodeType||"svg"===o.nodeName.toLowerCase())&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),i&&e.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((o,s)=>{o.forEach(a=>{s.setAttribute(a.name,`url('${e}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(gse),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)rZ.forEach(a=>{const d=i[s],f=d.getAttribute(a),v=f?f.match(_se):null;if(v){let w=o.get(d);w||(w=[],o.set(d,w)),w.push({name:a,value:v[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,o]=this._splitIconName(e);i&&(this._svgNamespace=i),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,i).pipe((0,Er.q)(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${o}! ${s.message}`))})}}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(FO),r.$8M("aria-hidden"),r.Y36(pse),r.Y36(r.qLn))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(r.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),r.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[r.qOj],ngContentSelectors:lse,decls:1,vars:0,template:function(e,i){1&e&&(r.F$t(),r.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),oZ=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[ci],ci]}),t})();const vse=["thumbContainer"],yse=["toggleBar"],bse=["input"],wse=function(t){return{enterDuration:t}},Cse=["*"],xse=new r.OlP("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})});let Tse=0;const Ase={provide:st,useExisting:(0,r.Gpc)(()=>sZ),multi:!0};class Sse{constructor(n,e){this.source=n,this.checked=e}}const Dse=Cb(jh(nd(td(class{constructor(t){this._elementRef=t}}))));let sZ=(()=>{class t extends Dse{constructor(e,i,o,s,a,d){super(e),this._focusMonitor=i,this._changeDetectorRef=o,this.defaults=a,this._onChange=f=>{},this._onTouched=()=>{},this._uniqueId="mat-slide-toggle-"+ ++Tse,this._required=!1,this._checked=!1,this.name=null,this.id=this._uniqueId,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new r.vpe,this.toggleChange=new r.vpe,this.tabIndex=parseInt(s)||0,this.color=this.defaultColor=a.color||"accent",this._noopAnimations="NoopAnimations"===d}get required(){return this._required}set required(e){this._required=Rn(e)}get checked(){return this._checked}set checked(e){this._checked=Rn(e),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e||Promise.resolve().then(()=>this._onTouched())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onChangeEvent(e){e.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(e){e.stopPropagation()}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}focus(e,i){i?this._focusMonitor.focusVia(this._inputElement,i,e):this._inputElement.nativeElement.focus(e)}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(new Sse(this,this.checked))}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(Bh),r.Y36(r.sBO),r.$8M("tabindex"),r.Y36(xse),r.Y36(O,8))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-slide-toggle"]],viewQuery:function(e,i){if(1&e&&(r.Gf(vse,5),r.Gf(yse,5),r.Gf(bse,5)),2&e){let o;r.iGM(o=r.CRH())&&(i._thumbEl=o.first),r.iGM(o=r.CRH())&&(i._thumbBarEl=o.first),r.iGM(o=r.CRH())&&(i._inputElement=o.first)}},hostAttrs:[1,"mat-slide-toggle"],hostVars:13,hostBindings:function(e,i){2&e&&(r.Ikx("id",i.id),r.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null)("name",null),r.ekj("mat-checked",i.checked)("mat-disabled",i.disabled)("mat-slide-toggle-label-before","before"==i.labelPosition)("_mat-animation-noopable",i._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[r._Bn([Ase]),r.qOj],ngContentSelectors:Cse,decls:16,vars:20,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["toggleBar",""],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],["thumbContainer",""],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(e,i){if(1&e&&(r.F$t(),r.TgZ(0,"label",0,1)(2,"span",2,3)(4,"input",4,5),r.NdJ("change",function(s){return i._onChangeEvent(s)})("click",function(s){return i._onInputClick(s)}),r.qZA(),r.TgZ(6,"span",6,7),r._UZ(8,"span",8),r.TgZ(9,"span",9),r._UZ(10,"span",10),r.qZA()()(),r.TgZ(11,"span",11,12),r.NdJ("cdkObserveContent",function(){return i._onLabelTextChange()}),r.TgZ(13,"span",13),r._uU(14,"\xa0"),r.qZA(),r.Hsn(15),r.qZA()()),2&e){const o=r.MAs(1),s=r.MAs(12);r.uIk("for",i.inputId),r.xp6(2),r.ekj("mat-slide-toggle-bar-no-side-margin",!s.textContent||!s.textContent.trim()),r.xp6(2),r.Q6J("id",i.inputId)("required",i.required)("tabIndex",i.tabIndex)("checked",i.checked)("disabled",i.disabled),r.uIk("name",i.name)("aria-checked",i.checked)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby),r.xp6(5),r.Q6J("matRippleTrigger",o)("matRippleDisabled",i.disableRipple||i.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",r.VKq(18,wse,i._noopAnimations?0:150))}},directives:[Wp,Lw],styles:[".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:transparent}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{-webkit-user-select:none;user-select:none;display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%;display:block}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}.cdk-high-contrast-active .mat-slide-toggle.cdk-keyboard-focused .mat-slide-toggle-bar{outline:2px dotted;outline-offset:5px}\n"],encapsulation:2,changeDetection:0}),t})(),aZ=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})(),lZ=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[aZ,Ab,ci,lb],aZ,ci]}),t})();function kse(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"mat-form-field",16)(1,"mat-label"),r._uU(2,"Department"),r.qZA(),r.TgZ(3,"mat-select",17),r.NdJ("valueChange",function(o){return r.CHM(e),r.oxw().selected=o}),r.TgZ(4,"mat-option",18),r._uU(5,"Information Technology"),r.qZA(),r.TgZ(6,"mat-option",19),r._uU(7,"Civil Engineering"),r.qZA(),r.TgZ(8,"mat-option",20),r._uU(9,"Electrical Engineering"),r.qZA()()()}if(2&t){const e=r.oxw();r.xp6(3),r.Q6J("value",e.selected)}}function Ise(t,n){1&t&&(r.TgZ(0,"mat-form-field")(1,"mat-label"),r._uU(2,"Email"),r.qZA(),r._UZ(3,"input",21),r.TgZ(4,"mat-error"),r._uU(5,"Invalid or missing input."),r.qZA()())}function Ose(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"mat-form-field")(1,"mat-label"),r._uU(2,"Password"),r.qZA(),r.TgZ(3,"input",22),r.NdJ("ngModelChange",function(o){return r.CHM(e),r.oxw().password=o}),r.qZA(),r.TgZ(4,"mat-icon",23),r.NdJ("click",function(){return r.CHM(e),r.oxw().onTogglePasswordVisibility1()}),r._uU(5),r.qZA(),r.TgZ(6,"mat-error"),r._uU(7,"Invalid or missing input."),r.qZA()()}if(2&t){const e=r.oxw();r.xp6(3),r.Q6J("type",e.passwordType1)("ngModel",e.password),r.xp6(2),r.Oqu(e.icon1)}}function Lse(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"mat-form-field")(1,"mat-label"),r._uU(2,"Confirm Password"),r.qZA(),r.TgZ(3,"input",24),r.NdJ("ngModelChange",function(o){return r.CHM(e),r.oxw().confirmPassword=o}),r.qZA(),r.TgZ(4,"mat-icon",23),r.NdJ("click",function(){return r.CHM(e),r.oxw().onTogglePasswordVisibility2()}),r._uU(5),r.qZA(),r.TgZ(6,"mat-error"),r._uU(7,"Invalid or missing input."),r.qZA()()}if(2&t){const e=r.oxw();r.xp6(3),r.Q6J("type",e.passwordType2)("ngModel",e.confirmPassword),r.xp6(2),r.Oqu(e.icon2)}}function Fse(t,n){1&t&&(r.TgZ(0,"mat-slide-toggle",25),r._uU(1," Activate Account "),r.qZA())}let cZ=(()=>{class t{constructor(e,i,o,s,a){this.passedData=e,this.authService=i,this.userService=o,this.uiService=s,this.dialogRef=a,this.password="",this.confirmPassword="",this.selected="Information Technology",this.configType="add",this.icon1="visibility",this.passwordType1="password",this.icon2="visibility",this.passwordType2="password",this.hasNumbers=!1,this.hasEmailAlready="false"}ngOnInit(){this.configType=this.passedData.configType,this.passedData.user&&(this.currentUser=this.passedData.user),"add"==this.configType?this.chairpersonForm=new Il({fullName:new mn("",sn.required),idNumber:new mn("",sn.required),department:new mn("",sn.required),email:new mn("",{validators:[sn.required,sn.email]}),password:new mn("",{validators:[sn.required,sn.minLength(8)]}),confirmPassword:new mn("",[sn.required,sn.minLength(8)]),isActivated:new mn("")}):(this.selected=this.passedData.user.department,this.tempName=this.passedData.user.fullName,this.chairpersonForm=new Il({fullName:new mn(this.passedData.user.fullName,sn.required),idNumber:new mn(this.passedData.user.idNumber,sn.required),department:new mn(this.passedData.user.department,sn.required),isActivated:new mn(this.passedData.user.isActivated)}))}onTogglePasswordVisibility1(){"visibility"==this.icon1?(this.icon1="visibility_off",this.passwordType1="text"):(this.icon1="visibility",this.passwordType1="password")}onTogglePasswordVisibility2(){"visibility"==this.icon2?(this.icon2="visibility_off",this.passwordType2="text"):(this.icon2="visibility",this.passwordType2="password")}onSubmit(){let e=[];e=this.passedData.users;let i=!1;if(this.hasNumbers=!1,this.hasEmailAlready="false","add"==this.configType&&(e.forEach(o=>{o.email==this.chairpersonForm.value.email&&(this.hasEmailAlready="true")}),"true"==this.hasEmailAlready&&this.uiService.showErrorToast("Cannot Add already existing Email!","Error")),e.forEach(o=>{o.idNumber==this.chairpersonForm.value.idNumber&&o.fullName!=this.tempName&&(this.uiService.showErrorToast("Cannot Add/Edit already existing ID!","Error"),i=!0)}),this.stringContainsNumber(this.chairpersonForm.value.fullName),0==i&&0==this.hasNumbers){let o={icon:"manage_accounts",heading:"Account Update",contents:"The admin has updated your account status/information."};"add"==this.configType&&"false"==this.hasEmailAlready?(this.userService.addUserToDatabase({idNumber:this.chairpersonForm.value.idNumber,email:this.chairpersonForm.value.email,fullName:this.chairpersonForm.value.fullName,department:this.chairpersonForm.value.department,isActivated:this.chairpersonForm.value.isActivated,startDate:null,endDate:null,notification:[]}),this.authService.registerUser({email:this.chairpersonForm.value.email,password:this.chairpersonForm.value.password})):(this.userService.updateUserToDatabase({idNumber:this.chairpersonForm.value.idNumber,email:this.passedData.user.email,fullName:this.chairpersonForm.value.fullName,department:this.chairpersonForm.value.department,isActivated:this.chairpersonForm.value.isActivated,startDate:this.passedData.user.startDate,endDate:this.passedData.user.endDate,notification:[]},this.passedData.user.id),this.userService.updateChairpersonNotification(o,this.passedData.user)),this.dialogRef.close()}}stringContainsNumber(e){let i=String(e);for(let o=0;o<i.length;o++)!isNaN(+i.charAt(o))&&" "!==i.charAt(o)&&(this.hasNumbers=!0);1==this.hasNumbers&&this.uiService.showErrorToast("Cannot Add/Edit name with number/s!","Error")}ngOnDestroy(){}}return t.\u0275fac=function(e){return new(e||t)(r.Y36($p),r.Y36(Po),r.Y36(oh),r.Y36(Ko),r.Y36(K2))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-chairperson-config"]],decls:30,vars:12,consts:[["fxLayout","column",1,"main-div",3,"ngClass"],["fxLayoutAlign","center center",1,"header-img"],[1,"header-text"],[1,"content-div"],[3,"formGroup","ngSubmit"],["fxLayout","column",1,"form-div"],["type","text","matInput","","placeholder","Ex. Patrick Luis Francisco","formControlName","fullName"],["fxLayout","row","fxLayoutAlign","space-between"],[3,"ngClass"],["type","text","matInput","","placeholder","18-0203","formControlName","idNumber"],["style","width: 45%",4,"ngIf"],[4,"ngIf"],["color","primary","checked","false","formControlName","isActivated",4,"ngIf"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","10px",1,"button-group"],["mat-raised-button","","color","primary","type","submit",1,"button",3,"disabled"],["mat-stroked-button","","color","primary","type","button",1,"button",3,"mat-dialog-close"],[2,"width","45%"],["formControlName","department",3,"value","valueChange"],["value","Information Technology"],["value","Civil Engineering"],["value","Electrical Engineering"],["type","email","matInput","","placeholder","Ex. admin@gmail.com","formControlName","email"],["matInput","","formControlName","password",3,"type","ngModel","ngModelChange"],["matSuffix","","color","primary",2,"cursor","pointer",3,"click"],["matInput","","formControlName","confirmPassword",3,"type","ngModel","ngModelChange"],["color","primary","checked","false","formControlName","isActivated"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0)(1,"div",1)(2,"p",2),r._uU(3),r.qZA()(),r.TgZ(4,"div",3)(5,"form",4),r.NdJ("ngSubmit",function(){return i.onSubmit()}),r.TgZ(6,"div",5)(7,"mat-form-field")(8,"mat-label"),r._uU(9,"Full Name"),r.qZA(),r._UZ(10,"input",6),r.TgZ(11,"mat-error"),r._uU(12,"Invalid or missing input."),r.qZA()(),r.TgZ(13,"div",7)(14,"mat-form-field",8)(15,"mat-label"),r._uU(16,"ID Number"),r.qZA(),r._UZ(17,"input",9),r.TgZ(18,"mat-error"),r._uU(19,"Invalid or missing input."),r.qZA()(),r.YNc(20,kse,10,1,"mat-form-field",10),r.qZA(),r.YNc(21,Ise,6,0,"mat-form-field",11),r.YNc(22,Ose,8,3,"mat-form-field",11),r.YNc(23,Lse,8,3,"mat-form-field",11),r.YNc(24,Fse,2,0,"mat-slide-toggle",12),r.TgZ(25,"div",13)(26,"button",14),r._uU(27),r.qZA(),r.TgZ(28,"button",15),r._uU(29," Cancel "),r.qZA()()()()()()),2&e&&(r.Q6J("ngClass","add"==i.configType?"":"main-div-edit"),r.xp6(3),r.Oqu("add"==i.configType?"Create Account":"Edit Account"),r.xp6(2),r.Q6J("formGroup",i.chairpersonForm),r.xp6(9),r.Q6J("ngClass","admin"!=(null==i.currentUser?null:i.currentUser.department)?"short-width":"long-width"),r.xp6(6),r.Q6J("ngIf","admin"!=(null==i.currentUser?null:i.currentUser.department)),r.xp6(1),r.Q6J("ngIf","add"==i.configType),r.xp6(1),r.Q6J("ngIf","add"==i.configType),r.xp6(1),r.Q6J("ngIf","add"==i.configType),r.xp6(1),r.Q6J("ngIf","admin"!=(null==i.currentUser?null:i.currentUser.department)),r.xp6(2),r.Q6J("disabled",i.chairpersonForm.invalid||i.password!=i.confirmPassword),r.xp6(1),r.hij(" ","add"==i.configType?"Add":"Save"," "),r.xp6(1),r.Q6J("mat-dialog-close",!1))},directives:[zr,xr,W_,uo,qd,Ud,ya,$d,id,Ay,_i,Gc,Zc,Xw,Sn,$_,ug,Wf,G2,sZ,$s,Uo,Ey],styles:[".main-div[_ngcontent-%COMP%]{width:50vh;height:75vh}.main-div-edit[_ngcontent-%COMP%]{height:48vh!important}.header-img[_ngcontent-%COMP%]{width:100%;height:23%;background-color:#173979;background-image:url(plv-bldg.4fbc4d1673861873.png)}.content-div[_ngcontent-%COMP%]{width:100%;height:77%}.form-div[_ngcontent-%COMP%]{padding:10%}.show-password[_ngcontent-%COMP%]{cursor:pointer}.button[_ngcontent-%COMP%]{width:120px}.button-group[_ngcontent-%COMP%]{margin-top:40px}.header-text[_ngcontent-%COMP%]{font-family:var(--mont);color:#fff;margin-top:15px}.short-width[_ngcontent-%COMP%]{width:50%}.long-width[_ngcontent-%COMP%]{width:100%}"]}),t})();const Nse=["mat-calendar-body",""];function Rse(t,n){if(1&t&&(r.TgZ(0,"tr",2)(1,"td",3),r._uU(2),r.qZA()()),2&t){const e=r.oxw();r.xp6(1),r.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),r.uIk("colspan",e.numCols),r.xp6(1),r.hij(" ",e.label," ")}}function Pse(t,n){if(1&t&&(r.TgZ(0,"td",3),r._uU(1),r.qZA()),2&t){const e=r.oxw(2);r.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),r.uIk("colspan",e._firstRowOffset),r.xp6(1),r.hij(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function Bse(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"td",7)(1,"button",8),r.NdJ("click",function(o){const a=r.CHM(e).$implicit;return r.oxw(2)._cellClicked(a,o)}),r.TgZ(2,"div",9),r._uU(3),r.qZA(),r._UZ(4,"div",10),r.qZA()()}if(2&t){const e=n.$implicit,i=n.index,o=r.oxw().index,s=r.oxw();r.Udp("width",s._cellWidth)("padding-top",s._cellPadding)("padding-bottom",s._cellPadding),r.uIk("data-mat-row",o)("data-mat-col",i),r.xp6(1),r.ekj("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",s._isActiveCell(o,i))("mat-calendar-body-range-start",s._isRangeStart(e.compareValue))("mat-calendar-body-range-end",s._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",s._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",s._isComparisonBridgeStart(e.compareValue,o,i))("mat-calendar-body-comparison-bridge-end",s._isComparisonBridgeEnd(e.compareValue,o,i))("mat-calendar-body-comparison-start",s._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",s._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",s._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",s._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",s._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",s._isInPreview(e.compareValue)),r.Q6J("ngClass",e.cssClasses)("tabindex",s._isActiveCell(o,i)?0:-1),r.uIk("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",s._isSelected(e.compareValue))("aria-current",s.todayValue===e.compareValue?"date":null),r.xp6(1),r.ekj("mat-calendar-body-selected",s._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",s._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",s.todayValue===e.compareValue),r.xp6(1),r.hij(" ",e.displayValue," ")}}function Use(t,n){if(1&t&&(r.TgZ(0,"tr",4),r.YNc(1,Pse,2,6,"td",5),r.YNc(2,Bse,5,47,"td",6),r.qZA()),2&t){const e=n.$implicit,i=n.index,o=r.oxw();r.xp6(1),r.Q6J("ngIf",0===i&&o._firstRowOffset),r.xp6(1),r.Q6J("ngForOf",e)}}function jse(t,n){if(1&t&&(r.TgZ(0,"th",5)(1,"span",6),r._uU(2),r.qZA(),r.TgZ(3,"span",7),r._uU(4),r.qZA()()),2&t){const e=n.$implicit;r.xp6(2),r.Oqu(e.long),r.xp6(2),r.Oqu(e.narrow)}}const Vse=["*"];function qse(t,n){}function Hse(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"mat-month-view",5),r.NdJ("activeDateChange",function(o){return r.CHM(e),r.oxw().activeDate=o})("_userSelection",function(o){return r.CHM(e),r.oxw()._dateSelected(o)}),r.qZA()}if(2&t){const e=r.oxw();r.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)}}function Gse(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"mat-year-view",6),r.NdJ("activeDateChange",function(o){return r.CHM(e),r.oxw().activeDate=o})("monthSelected",function(o){return r.CHM(e),r.oxw()._monthSelectedInYearView(o)})("selectedChange",function(o){return r.CHM(e),r.oxw()._goToDateInView(o,"month")}),r.qZA()}if(2&t){const e=r.oxw();r.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function Zse(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"mat-multi-year-view",7),r.NdJ("activeDateChange",function(o){return r.CHM(e),r.oxw().activeDate=o})("yearSelected",function(o){return r.CHM(e),r.oxw()._yearSelectedInMultiYearView(o)})("selectedChange",function(o){return r.CHM(e),r.oxw()._goToDateInView(o,"year")}),r.qZA()}if(2&t){const e=r.oxw();r.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function Yse(t,n){}const zse=["button"];function Wse(t,n){1&t&&(r.O4$(),r.TgZ(0,"svg",3),r._UZ(1,"path",4),r.qZA())}const $se=[[["","matDatepickerToggleIcon",""]]],Qse=["[matDatepickerToggleIcon]"],Jse=[[["input","matStartDate",""]],[["input","matEndDate",""]]],Kse=["input[matStartDate]","input[matEndDate]"];class i6{constructor(n,e,i,o,s={},a=n,d){this.value=n,this.displayValue=e,this.ariaLabel=i,this.enabled=o,this.cssClasses=s,this.compareValue=a,this.rawValue=d}}let tA=(()=>{class t{constructor(e,i){this._elementRef=e,this._ngZone=i,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new r.vpe,this.previewChange=new r.vpe,this._enterHandler=o=>{if(this._skipNextFocus&&"focus"===o.type)this._skipNextFocus=!1;else if(o.target&&this.isRange){const s=this._getCellFromElement(o.target);s&&this._ngZone.run(()=>this.previewChange.emit({value:s.enabled?s:null,event:o}))}},this._leaveHandler=o=>{null!==this.previewEnd&&this.isRange&&o.target&&this._getCellFromElement(o.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:o}))},i.runOutsideAngular(()=>{const o=e.nativeElement;o.addEventListener("mouseenter",this._enterHandler,!0),o.addEventListener("focus",this._enterHandler,!0),o.addEventListener("mouseleave",this._leaveHandler,!0),o.addEventListener("blur",this._leaveHandler,!0)})}_cellClicked(e,i){e.enabled&&this.selectedValueChange.emit({value:e.value,event:i})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){const i=e.numCols,{rows:o,numCols:s}=this;(e.rows||i)&&(this._firstRowOffset=o&&o.length&&o[0].length?s-o[0].length:0),(e.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/s+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/s+"%")}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mouseenter",this._enterHandler,!0),e.removeEventListener("focus",this._enterHandler,!0),e.removeEventListener("mouseleave",this._leaveHandler,!0),e.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(e,i){let o=e*this.numCols+i;return e&&(o-=this._firstRowOffset),o==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,Er.q)(1)).subscribe(()=>{setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(e||(this._skipNextFocus=!0),i.focus())})})})}_isRangeStart(e){return r6(e,this.startValue,this.endValue)}_isRangeEnd(e){return o6(e,this.startValue,this.endValue)}_isInRange(e){return s6(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return r6(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,i,o){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let s=this.rows[i][o-1];if(!s){const a=this.rows[i-1];s=a&&a[a.length-1]}return s&&!this._isRangeEnd(s.compareValue)}_isComparisonBridgeEnd(e,i,o){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let s=this.rows[i][o+1];if(!s){const a=this.rows[i+1];s=a&&a[0]}return s&&!this._isRangeStart(s.compareValue)}_isComparisonEnd(e){return o6(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return s6(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return r6(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return o6(e,this.previewStart,this.previewEnd)}_isInPreview(e){return s6(e,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(e){let i;if(uZ(e)?i=e:uZ(e.parentNode)&&(i=e.parentNode),i){const o=i.getAttribute("data-mat-row"),s=i.getAttribute("data-mat-col");if(o&&s)return this.rows[parseInt(o)][parseInt(s)]}return null}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.R0b))},t.\u0275cmp=r.Xpm({type:t,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange"},exportAs:["matCalendarBody"],features:[r.TTD],attrs:Nse,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(e,i){1&e&&(r.YNc(0,Rse,3,6,"tr",0),r.YNc(1,Use,3,2,"tr",1)),2&e&&(r.Q6J("ngIf",i._firstRowOffset<i.labelMinRequiredCells),r.xp6(1),r.Q6J("ngForOf",i.rows))},directives:[Sn,qn,xr],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content,.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content{outline:dotted 2px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content.mat-calendar-body-selected,.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content.mat-calendar-body-selected{outline:solid 3px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}\n'],encapsulation:2,changeDetection:0}),t})();function uZ(t){return"TD"===t.nodeName}function r6(t,n,e){return null!==e&&n!==e&&t<e&&t===n}function o6(t,n,e){return null!==n&&n!==e&&t>=n&&t===e}function s6(t,n,e,i){return i&&null!==n&&null!==e&&n!==e&&t>=n&&t<=e}class dd{constructor(n,e){this.start=n,this.end=e}}let Jb=(()=>{class t{constructor(e,i){this.selection=e,this._adapter=i,this._selectionChanged=new Ht.x,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,i){const o=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:i,oldValue:o})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}}return t.\u0275fac=function(e){r.$Z()},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),Xse=(()=>{class t extends Jb{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const e=new t(this._adapter);return e.updateSelection(this.selection,this),e}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(al))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),eae=(()=>{class t extends Jb{constructor(e){super(new dd(null,null),e)}add(e){let{start:i,end:o}=this.selection;null==i?i=e:null==o?o=e:(i=e,o=null),super.updateSelection(new dd(i,o),this)}isValid(){const{start:e,end:i}=this.selection;return null==e&&null==i||(null!=e&&null!=i?this._isValidDateInstance(e)&&this._isValidDateInstance(i)&&this._adapter.compareDate(e,i)<=0:(null==e||this._isValidDateInstance(e))&&(null==i||this._isValidDateInstance(i)))}isComplete(){return null!=this.selection.start&&null!=this.selection.end}clone(){const e=new t(this._adapter);return e.updateSelection(this.selection,this),e}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(al))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const dZ={provide:Jb,deps:[[new r.FiY,new r.tp0,Jb],al],useFactory:function tae(t,n){return t||new Xse(n)}},iae={provide:Jb,deps:[[new r.FiY,new r.tp0,Jb],al],useFactory:function nae(t,n){return t||new eae(n)}},RO=new r.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let rae=(()=>{class t{constructor(e){this._dateAdapter=e}selectionFinished(e,i){let{start:o,end:s}=i;return null==o?o=e:null==s&&e&&this._dateAdapter.compareDate(e,o)>=0?s=e:(o=e,s=null),new dd(o,s)}createPreview(e,i){let o=null,s=null;return i.start&&!i.end&&e&&(o=i.start,s=e),new dd(o,s)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(al))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const sae={provide:RO,deps:[[new r.FiY,new r.tp0,RO],al],useFactory:function oae(t,n){return t||new rae(n)}};let hZ=(()=>{class t{constructor(e,i,o,s,a){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=o,this._dir=s,this._rangeStrategy=a,this._rerenderSubscription=Di.w0.EMPTY,this.selectedChange=new r.vpe,this._userSelection=new r.vpe,this.activeDateChange=new r.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){const i=this._activeDate,o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(o,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof dd?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Ir(null)).subscribe(()=>this._init())}ngOnChanges(e){const i=e.comparisonStart||e.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){const i=e.value,o=this._dateAdapter.getYear(this.activeDate),s=this._dateAdapter.getMonth(this.activeDate),a=this._dateAdapter.createDate(o,s,i);let d,f;this._selected instanceof dd?(d=this._getDateInCurrentMonth(this._selected.start),f=this._getDateInCurrentMonth(this._selected.end)):d=f=this._getDateInCurrentMonth(this._selected),(d!==i||f!==i)&&this.selectedChange.emit(a),this._userSelection.emit({value:a,event:e.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_handleCalendarBodyKeydown(e){const i=this._activeDate,o=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,o?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,o?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&e.preventDefault());case 27:return void(null!=this._previewEnd&&!lc(e)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e}),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_previewChanged({event:e,value:i}){if(this._rangeStrategy){const s=this._rangeStrategy.createPreview(i?i.rawValue:null,this.selected,e);this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end),this._changeDetectorRef.detectChanges()}}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let s=this._dateAdapter.getDayOfWeekNames("long").map((a,d)=>({long:a,narrow:i[d]}));this._weekdays=s.slice(e).concat(s.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let o=0,s=this._firstWeekOffset;o<e;o++,s++){7==s&&(this._weeks.push([]),s=0);const a=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),o+1),d=this._shouldEnableDate(a),f=this._dateAdapter.format(a,this._dateFormats.display.dateA11yLabel),v=this.dateClass?this.dateClass(a,"month"):void 0;this._weeks[this._weeks.length-1].push(new i6(o+1,i[o],f,d,v,this._getCellCompareValue(a),a))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,i){return!(!e||!i||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(i))}_getCellCompareValue(e){if(e){const i=this._dateAdapter.getYear(e),o=this._dateAdapter.getMonth(e),s=this._dateAdapter.getDate(e);return new Date(i,o,s).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(e){e instanceof dd?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.sBO),r.Y36(V_,8),r.Y36(al,8),r.Y36(Us,8),r.Y36(RO,8))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-month-view"]],viewQuery:function(e,i){if(1&e&&r.Gf(tA,5),2&e){let o;r.iGM(o=r.CRH())&&(i._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[r.TTD],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","previewChange","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(e,i){1&e&&(r.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),r.YNc(3,jse,5,2,"th",2),r.qZA(),r.TgZ(4,"tr"),r._UZ(5,"th",3),r.qZA()(),r.TgZ(6,"tbody",4),r.NdJ("selectedValueChange",function(s){return i._dateSelected(s)})("previewChange",function(s){return i._previewChanged(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),r.qZA()()),2&e&&(r.xp6(3),r.Q6J("ngForOf",i._weekdays),r.xp6(3),r.Q6J("label",i._monthLabel)("rows",i._weeks)("todayValue",i._todayDate)("startValue",i._rangeStart)("endValue",i._rangeEnd)("comparisonStart",i._comparisonRangeStart)("comparisonEnd",i._comparisonRangeEnd)("previewStart",i._previewStart)("previewEnd",i._previewEnd)("isRange",i._isRange)("labelMinRequiredCells",3)("activeCell",i._dateAdapter.getDate(i.activeDate)-1))},directives:[tA,qn],encapsulation:2,changeDetection:0}),t})(),fZ=(()=>{class t{constructor(e,i,o){this._changeDetectorRef=e,this._dateAdapter=i,this._dir=o,this._rerenderSubscription=Di.w0.EMPTY,this.selectedChange=new r.vpe,this.yearSelected=new r.vpe,this.activeDateChange=new r.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(o,this.minDate,this.maxDate),pZ(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof dd?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Ir(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-rE(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let o=0,s=[];o<24;o++)s.push(i+o),4==s.length&&(this._years.push(s.map(a=>this._createCellForYear(a))),s=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){const i=e.value;this.yearSelected.emit(this._dateAdapter.createDate(i,0,1));let o=this._dateAdapter.getMonth(this.activeDate),s=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(i,o,1));this.selectedChange.emit(this._dateAdapter.createDate(i,o,Math.min(this._dateAdapter.getDate(this.activeDate),s)))}_handleCalendarBodyKeydown(e){const i=this._activeDate,o=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,o?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,o?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-rE(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-rE(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?240:24);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return rE(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_createCellForYear(e){const i=this._dateAdapter.createDate(e,0,1),o=this._dateAdapter.getYearName(i),s=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new i6(e,o,o,this._shouldEnableYear(e),s)}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let o=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(o)==e;o=this._dateAdapter.addCalendarDays(o,1))if(this.dateFilter(o))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(e){if(this._selectedYear=null,e instanceof dd){const i=e.start||e.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.sBO),r.Y36(al,8),r.Y36(Us,8))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-multi-year-view"]],viewQuery:function(e,i){if(1&e&&r.Gf(tA,5),2&e){let o;r.iGM(o=r.CRH())&&(i._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(e,i){1&e&&(r.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),r._UZ(3,"th",2),r.qZA()(),r.TgZ(4,"tbody",3),r.NdJ("selectedValueChange",function(s){return i._yearSelected(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),r.qZA()()),2&e&&(r.xp6(4),r.Q6J("rows",i._years)("todayValue",i._todayYear)("startValue",i._selectedYear)("endValue",i._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._getActiveCell()))},directives:[tA],encapsulation:2,changeDetection:0}),t})();function pZ(t,n,e,i,o){const s=t.getYear(n),a=t.getYear(e),d=mZ(t,i,o);return Math.floor((s-d)/24)===Math.floor((a-d)/24)}function rE(t,n,e,i){return function aae(t,n){return(t%n+n)%n}(t.getYear(n)-mZ(t,e,i),24)}function mZ(t,n,e){let i=0;return e?i=t.getYear(e)-24+1:n&&(i=t.getYear(n)),i}let gZ=(()=>{class t{constructor(e,i,o,s){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=o,this._dir=s,this._rerenderSubscription=Di.w0.EMPTY,this.selectedChange=new r.vpe,this.monthSelected=new r.vpe,this.activeDateChange=new r.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(o,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof dd?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Ir(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const i=e.value,o=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(o);const s=this._dateAdapter.getNumDaysInMonth(o);this.selectedChange.emit(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,Math.min(this._dateAdapter.getDate(this.activeDate),s)))}_handleCalendarBodyKeydown(e){const i=this._activeDate,o=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,o?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,o?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(o=>this._createCellForMonth(o,e[o]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_createCellForMonth(e,i){const o=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),s=this._dateAdapter.format(o,this._dateFormats.display.monthYearA11yLabel),a=this.dateClass?this.dateClass(o,"year"):void 0;return new i6(e,i.toLocaleUpperCase(),s,this._shouldEnableMonth(e),a)}_shouldEnableMonth(e){const i=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(i,e)||this._isYearAndMonthBeforeMinDate(i,e))return!1;if(!this.dateFilter)return!0;for(let s=this._dateAdapter.createDate(i,e,1);this._dateAdapter.getMonth(s)==e;s=this._dateAdapter.addCalendarDays(s,1))if(this.dateFilter(s))return!0;return!1}_isYearAndMonthAfterMaxDate(e,i){if(this.maxDate){const o=this._dateAdapter.getYear(this.maxDate),s=this._dateAdapter.getMonth(this.maxDate);return e>o||e===o&&i>s}return!1}_isYearAndMonthBeforeMinDate(e,i){if(this.minDate){const o=this._dateAdapter.getYear(this.minDate),s=this._dateAdapter.getMonth(this.minDate);return e<o||e===o&&i<s}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(e){this._selectedMonth=e instanceof dd?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.sBO),r.Y36(V_,8),r.Y36(al,8),r.Y36(Us,8))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-year-view"]],viewQuery:function(e,i){if(1&e&&r.Gf(tA,5),2&e){let o;r.iGM(o=r.CRH())&&(i._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(e,i){1&e&&(r.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),r._UZ(3,"th",2),r.qZA()(),r.TgZ(4,"tbody",3),r.NdJ("selectedValueChange",function(s){return i._monthSelected(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),r.qZA()()),2&e&&(r.xp6(4),r.Q6J("label",i._yearLabel)("rows",i._months)("todayValue",i._todayMonth)("startValue",i._selectedMonth)("endValue",i._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._dateAdapter.getMonth(i.activeDate)))},directives:[tA],encapsulation:2,changeDetection:0}),t})(),oE=(()=>{class t{constructor(){this.changes=new Ht.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(e,i){return`${e} \u2013 ${i}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),lae=0,cae=(()=>{class t{constructor(e,i,o,s,a){this._intl=e,this.calendar=i,this._dateAdapter=o,this._dateFormats=s,this._buttonDescriptionId="mat-calendar-button-"+lae++,this.calendar.stateChanges.subscribe(()=>a.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const i=this._dateAdapter.getYear(this.calendar.activeDate)-rE(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),o=i+24-1,s=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),a=this._dateAdapter.getYearName(this._dateAdapter.createDate(o,0,1));return this._intl.formatYearRange(s,a)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i):pZ(this._dateAdapter,e,i,this.calendar.minDate,this.calendar.maxDate)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(oE),r.Y36((0,r.Gpc)(()=>c6)),r.Y36(al,8),r.Y36(V_,8),r.Y36(r.sBO))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:Vse,decls:11,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["viewBox","0 0 10 5","focusable","false",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(e,i){1&e&&(r.F$t(),r.TgZ(0,"div",0)(1,"div",1)(2,"button",2),r.NdJ("click",function(){return i.currentPeriodClicked()}),r.TgZ(3,"span"),r._uU(4),r.qZA(),r.O4$(),r.TgZ(5,"svg",3),r._UZ(6,"polygon",4),r.qZA()(),r.kcU(),r._UZ(7,"div",5),r.Hsn(8),r.TgZ(9,"button",6),r.NdJ("click",function(){return i.previousClicked()}),r.qZA(),r.TgZ(10,"button",7),r.NdJ("click",function(){return i.nextClicked()}),r.qZA()()()),2&e&&(r.xp6(2),r.uIk("aria-label",i.periodButtonLabel)("aria-describedby",i._buttonDescriptionId),r.xp6(1),r.uIk("id",i._buttonDescriptionId),r.xp6(1),r.Oqu(i.periodButtonText),r.xp6(1),r.ekj("mat-calendar-invert","month"!==i.calendar.currentView),r.xp6(4),r.Q6J("disabled",!i.previousEnabled()),r.uIk("aria-label",i.prevButtonLabel),r.xp6(1),r.Q6J("disabled",!i.nextEnabled()),r.uIk("aria-label",i.nextButtonLabel))},directives:[Uo],encapsulation:2,changeDetection:0}),t})(),c6=(()=>{class t{constructor(e,i,o,s){this._dateAdapter=i,this._dateFormats=o,this._changeDetectorRef=s,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new r.vpe,this.yearSelected=new r.vpe,this.monthSelected=new r.vpe,this.viewChanged=new r.vpe(!0),this._userSelection=new r.vpe,this.stateChanges=new Ht.x,this._intlChanges=e.changes.subscribe(()=>{s.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=e instanceof dd?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){const i=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}ngAfterContentInit(){this._calendarHeaderPortal=new Db(this.headerComponent||cae),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const i=e.minDate||e.maxDate||e.dateFilter;if(i&&!i.firstChange){const o=this._getCurrentViewComponent();o&&(this._changeDetectorRef.detectChanges(),o._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){const i=e.value;(this.selected instanceof dd||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,i){this.activeDate=e,this.currentView=i}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(oE),r.Y36(al,8),r.Y36(V_,8),r.Y36(r.sBO))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-calendar"]],viewQuery:function(e,i){if(1&e&&(r.Gf(hZ,5),r.Gf(gZ,5),r.Gf(fZ,5)),2&e){let o;r.iGM(o=r.CRH())&&(i.monthView=o.first),r.iGM(o=r.CRH())&&(i.yearView=o.first),r.iGM(o=r.CRH())&&(i.multiYearView=o.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[r._Bn([dZ]),r.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(e,i){1&e&&(r.YNc(0,qse,0,0,"ng-template",0),r.TgZ(1,"div",1),r.YNc(2,Hse,1,8,"mat-month-view",2),r.YNc(3,Gse,1,6,"mat-year-view",3),r.YNc(4,Zse,1,6,"mat-multi-year-view",4),r.qZA()),2&e&&(r.Q6J("cdkPortalOutlet",i._calendarHeaderPortal),r.xp6(1),r.Q6J("ngSwitch",i.currentView),r.xp6(1),r.Q6J("ngSwitchCase","month"),r.xp6(1),r.Q6J("ngSwitchCase","year"),r.xp6(1),r.Q6J("ngSwitchCase","multi-year"))},directives:[hZ,gZ,fZ,Dy,Vx,Xr,Yi],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}\n'],encapsulation:2,changeDetection:0}),t})();const _Z={transformPanel:zs("transformPanel",[pr("void => enter-dropdown",Ar("120ms cubic-bezier(0, 0, 0.2, 1)",Nh([Qt({opacity:0,transform:"scale(1, 0.8)"}),Qt({opacity:1,transform:"scale(1, 1)"})]))),pr("void => enter-dialog",Ar("150ms cubic-bezier(0, 0, 0.2, 1)",Nh([Qt({opacity:0,transform:"scale(0.7)"}),Qt({transform:"none",opacity:1})]))),pr("* => void",Ar("100ms linear",Qt({opacity:0})))]),fadeInCalendar:zs("fadeInCalendar",[Mr("void",Qt({opacity:0})),Mr("enter",Qt({opacity:1})),pr("void => *",Ar("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let uae=0;const vZ=new r.OlP("mat-datepicker-scroll-strategy"),hae={provide:vZ,deps:[Vh],useFactory:function dae(t){return()=>t.scrollStrategies.reposition()}},fae=jh(class{constructor(t){this._elementRef=t}});let pae=(()=>{class t extends fae{constructor(e,i,o,s,a,d){super(e),this._changeDetectorRef=i,this._globalModel=o,this._dateAdapter=s,this._rangeSelectionStrategy=a,this._subscriptions=new Di.w0,this._animationDone=new Ht.x,this._actionsPortal=null,this._closeButtonText=d.closeCalendarLabel}ngOnInit(){this._model=this._actionsPortal?this._globalModel.clone():this._globalModel,this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){const i=this._model.selection,o=e.value,s=i instanceof dd;if(s&&this._rangeSelectionStrategy){const a=this._rangeSelectionStrategy.selectionFinished(o,i,e.event);this._model.updateSelection(a,this)}else o&&(s||!this._dateAdapter.sameDate(o,i))&&this._model.add(o);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(Jb),r.Y36(al),r.Y36(RO,8),r.Y36(oE))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-datepicker-content"]],viewQuery:function(e,i){if(1&e&&r.Gf(c6,5),2&e){let o;r.iGM(o=r.CRH())&&(i._calendar=o.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(e,i){1&e&&r.WFA("@transformPanel.done",function(){return i._animationDone.next()}),2&e&&(r.d8E("@transformPanel",i._animationState),r.ekj("mat-datepicker-content-touch",i.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[r.qOj],decls:5,vars:24,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(e,i){if(1&e&&(r.TgZ(0,"div",0)(1,"mat-calendar",1),r.NdJ("yearSelected",function(s){return i.datepicker._selectYear(s)})("monthSelected",function(s){return i.datepicker._selectMonth(s)})("viewChanged",function(s){return i.datepicker._viewChanged(s)})("_userSelection",function(s){return i._handleUserSelection(s)}),r.qZA(),r.YNc(2,Yse,0,0,"ng-template",2),r.TgZ(3,"button",3),r.NdJ("focus",function(){return i._closeButtonFocused=!0})("blur",function(){return i._closeButtonFocused=!1})("click",function(){return i.datepicker.close()}),r._uU(4),r.qZA()()),2&e){let o;r.ekj("mat-datepicker-content-container-with-custom-header",i.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",i._actionsPortal),r.uIk("aria-modal",!0)("aria-labelledby",null!==(o=i._dialogLabelId)&&void 0!==o?o:void 0),r.xp6(1),r.Q6J("id",i.datepicker.id)("ngClass",i.datepicker.panelClass)("startAt",i.datepicker.startAt)("startView",i.datepicker.startView)("minDate",i.datepicker._getMinDate())("maxDate",i.datepicker._getMaxDate())("dateFilter",i.datepicker._getDateFilter())("headerComponent",i.datepicker.calendarHeaderComponent)("selected",i._getSelected())("dateClass",i.datepicker.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("@fadeInCalendar","enter"),r.xp6(1),r.Q6J("cdkPortalOutlet",i._actionsPortal),r.xp6(1),r.ekj("cdk-visually-hidden",!i._closeButtonFocused),r.Q6J("color",i.color||"primary"),r.xp6(1),r.Oqu(i._closeButtonText)}},directives:[c6,Uo,dk,xr,Dy],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}\n"],encapsulation:2,data:{animation:[_Z.transformPanel,_Z.fadeInCalendar]},changeDetection:0}),t})(),PO=(()=>{class t{constructor(e,i,o,s,a,d,f){this._overlay=e,this._ngZone=i,this._viewContainerRef=o,this._dateAdapter=a,this._dir=d,this._model=f,this._inputStateChanges=Di.w0.EMPTY,this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new r.vpe,this.monthSelected=new r.vpe,this.viewChanged=new r.vpe(!0),this.openedStream=new r.vpe,this.closedStream=new r.vpe,this._opened=!1,this.id="mat-datepicker-"+uae++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new Ht.x,this._scrollStrategy=s}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get touchUi(){return this._touchUi}set touchUi(e){this._touchUi=Rn(e)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){const i=Rn(e);i!==this._disabled&&(this._disabled=i,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(e){this._restoreFocus=Rn(e)}get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=function HM(t,n=/\s+/){const e=[];if(null!=t){const i=Array.isArray(t)?t:`${t}`.split(n);for(const o of i){const s=`${o}`.trim();s&&e.push(s)}}return e}(e)}get opened(){return this._opened}set opened(e){Rn(e)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(e){const i=e.xPosition||e.yPosition;if(i&&!i.firstChange&&this._overlayRef){const o=this._overlayRef.getConfig().positionStrategy;o instanceof h8&&(this._setConnectedPositions(o),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal=e}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null)}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=Bw(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;if(this._componentRef){const i=this._componentRef.instance;i._startExitAnimation(),i._animationDone.pipe((0,Er.q)(1)).subscribe(()=>this._destroyOverlay())}const e=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(e)):e()}_applyPendingSelection(){var e,i;null===(i=null===(e=this._componentRef)||void 0===e?void 0:e.instance)||void 0===i||i._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._actionsPortal=this._actionsPortal,e._dialogLabelId=this.datepickerInput.getOverlayLabelId()}_openOverlay(){this._destroyOverlay();const e=this.touchUi,i=new Db(pae,this._viewContainerRef),o=this._overlayRef=this._overlay.create(new hT({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(e?"dialog":"popup")}));this._getCloseStream(o).subscribe(s=>{s&&s.preventDefault(),this.close()}),this._componentRef=o.attach(i),this._forwardContentValues(this._componentRef.instance),e||this._ngZone.onStable.pipe((0,Er.q)(1)).subscribe(()=>o.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){const i="end"===this.xPosition?"end":"start",o="start"===i?"end":"start",s="above"===this.yPosition?"bottom":"top",a="top"===s?"bottom":"top";return e.withPositions([{originX:i,originY:a,overlayX:i,overlayY:s},{originX:i,originY:s,overlayX:i,overlayY:a},{originX:o,originY:a,overlayX:o,overlayY:s},{originX:o,originY:s,overlayX:o,overlayY:a}])}_getCloseStream(e){return(0,co.T)(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(hr(i=>27===i.keyCode&&!lc(i)||this.datepickerInput&&lc(i,"altKey")&&38===i.keyCode)))}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Vh),r.Y36(r.R0b),r.Y36(r.s_b),r.Y36(vZ),r.Y36(al,8),r.Y36(Us,8),r.Y36(Jb))},t.\u0275dir=r.lG2({type:t,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[r.TTD]}),t})(),mae=(()=>{class t extends PO{}return t.\u0275fac=function(){let n;return function(i){return(n||(n=r.n5z(t)))(i||t)}}(),t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[r._Bn([dZ,{provide:PO,useExisting:t}]),r.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2,changeDetection:0}),t})();class BO{constructor(n,e){this.target=n,this.targetElement=e,this.value=this.target.value}}let yZ=(()=>{class t{constructor(e,i,o){this._elementRef=e,this._dateAdapter=i,this._dateFormats=o,this.dateChange=new r.vpe,this.dateInput=new r.vpe,this.stateChanges=new Ht.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=Di.w0.EMPTY,this._localeSubscription=Di.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=s=>{const a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value));return!a||this._matchesFilter(a)?null:{matDatepickerFilter:!0}},this._minValidator=s=>{const a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),d=this._getMinDate();return!d||!a||this._dateAdapter.compareDate(d,a)<=0?null:{matDatepickerMin:{min:d,actual:a}}},this._maxValidator=s=>{const a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),d=this._getMaxDate();return!d||!a||this._dateAdapter.compareDate(d,a)>=0?null:{matDatepickerMax:{max:d,actual:a}}},this._lastValueValid=!1,this._localeSubscription=i.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){const i=Rn(e),o=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&o.blur&&o.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){const o=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(o),this._cvaOnChange(o),this._onTouched(),this._formatValue(o),this.dateInput.emit(new BO(this,this._elementRef.nativeElement)),this.dateChange.emit(new BO(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){bZ(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){e.altKey&&40===e.keyCode&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){const i=this._lastValueValid;let o=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(o),o=this._dateAdapter.getValidDateOrNull(o);const s=!this._dateAdapter.sameDate(o,this.value);!o||s?this._cvaOnChange(o):(e&&!this.value&&this._cvaOnChange(o),i!==this._lastValueValid&&this._validatorOnChange()),s&&(this._assignValue(o),this.dateInput.emit(new BO(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new BO(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){const i=this._getDateFilter();return!i||i(e)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(al,8),r.Y36(V_,8))},t.\u0275dir=r.lG2({type:t,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[r.TTD]}),t})();function bZ(t,n){const e=Object.keys(t);for(let i of e){const{previousValue:o,currentValue:s}=t[i];if(!n.isDateInstance(o)||!n.isDateInstance(s))return!0;if(!n.sameDate(o,s))return!0}return!1}const gae={provide:st,useExisting:(0,r.Gpc)(()=>u6),multi:!0},_ae={provide:No,useExisting:(0,r.Gpc)(()=>u6),multi:!0};let u6=(()=>{class t extends yZ{constructor(e,i,o,s){super(e,i,o),this._formField=s,this._closedSubscription=Di.w0.EMPTY,this._validator=sn.compose(super._getValidators())}set matDatepicker(e){e&&(this._datepicker=e,this._closedSubscription=e.closedStream.subscribe(()=>this._onTouched()),this._registerModel(e.registerInput(this)))}get min(){return this._min}set min(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._validatorOnChange())}get max(){return this._max}set max(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(e){const i=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==i&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(al,8),r.Y36(V_,8),r.Y36(Z2,8))},t.\u0275dir=r.lG2({type:t,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(e,i){1&e&&r.NdJ("input",function(s){return i._onInput(s.target.value)})("change",function(){return i._onChange()})("blur",function(){return i._onBlur()})("keydown",function(s){return i._onKeydown(s)}),2&e&&(r.Ikx("disabled",i.disabled),r.uIk("aria-haspopup",i._datepicker?"dialog":null)("aria-owns",(null==i._datepicker?null:i._datepicker.opened)&&i._datepicker.id||null)("min",i.min?i._dateAdapter.toIso8601(i.min):null)("max",i.max?i._dateAdapter.toIso8601(i.max):null)("data-mat-calendar",i._datepicker?i._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[r._Bn([gae,_ae,{provide:n8,useExisting:t}]),r.qOj]}),t})(),vae=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["","matDatepickerToggleIcon",""]]}),t})(),d6=(()=>{class t{constructor(e,i,o){this._intl=e,this._changeDetectorRef=i,this._stateChanges=Di.w0.EMPTY;const s=Number(o);this.tabIndex=s||0===s?s:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=Rn(e)}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){const e=this.datepicker?this.datepicker.stateChanges:Dn(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:Dn(),o=this.datepicker?(0,co.T)(this.datepicker.openedStream,this.datepicker.closedStream):Dn();this._stateChanges.unsubscribe(),this._stateChanges=(0,co.T)(this._intl.changes,e,i,o).subscribe(()=>this._changeDetectorRef.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(oE),r.Y36(r.sBO),r.$8M("tabindex"))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-datepicker-toggle"]],contentQueries:function(e,i,o){if(1&e&&r.Suo(o,vae,5),2&e){let s;r.iGM(s=r.CRH())&&(i._customIcon=s.first)}},viewQuery:function(e,i){if(1&e&&r.Gf(zse,5),2&e){let o;r.iGM(o=r.CRH())&&(i._button=o.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(e,i){1&e&&r.NdJ("click",function(s){return i._open(s)}),2&e&&(r.uIk("tabindex",null)("data-mat-calendar",i.datepicker?i.datepicker.id:null),r.ekj("mat-datepicker-toggle-active",i.datepicker&&i.datepicker.opened)("mat-accent",i.datepicker&&"accent"===i.datepicker.color)("mat-warn",i.datepicker&&"warn"===i.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[r.TTD],ngContentSelectors:Qse,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(e,i){1&e&&(r.F$t($se),r.TgZ(0,"button",0,1),r.YNc(2,Wse,2,0,"svg",2),r.Hsn(3),r.qZA()),2&e&&(r.Q6J("disabled",i.disabled)("disableRipple",i.disableRipple),r.uIk("aria-haspopup",i.datepicker?"dialog":null)("aria-label",i.ariaLabel||i._intl.openCalendarLabel)("tabindex",i.disabled?-1:i.tabIndex),r.xp6(2),r.Q6J("ngIf",!i._customIcon))},directives:[Uo,Sn],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}\n"],encapsulation:2,changeDetection:0}),t})();const UO=new r.OlP("MAT_DATE_RANGE_INPUT_PARENT"),wZ=xb((()=>{class t extends yZ{constructor(e,i,o,s,a,d,f,v){super(i,f,v),this._rangeInput=e,this._defaultErrorStateMatcher=o,this._injector=s,this._parentForm=a,this._parentFormGroup=d}ngOnInit(){const e=this._injector.get(Hc,null,r.XFs.Self|r.XFs.Optional);e&&(this.ngControl=e)}ngDoCheck(){this.ngControl&&this.updateErrorState()}isEmpty(){return 0===this._elementRef.nativeElement.value.length}_getPlaceholder(){return this._elementRef.nativeElement.placeholder}focus(){this._elementRef.nativeElement.focus()}_onInput(e){super._onInput(e),this._rangeInput._handleChildValueChange()}_openPopup(){this._rangeInput._openDatepicker()}_getMinDate(){return this._rangeInput.min}_getMaxDate(){return this._rangeInput.max}_getDateFilter(){return this._rangeInput.dateFilter}_parentDisabled(){return this._rangeInput._groupDisabled}_shouldHandleChangeEvent({source:e}){return e!==this._rangeInput._startInput&&e!==this._rangeInput._endInput}_assignValueProgrammatically(e){super._assignValueProgrammatically(e);const i=this===this._rangeInput._startInput?this._rangeInput._endInput:this._rangeInput._startInput;null==i||i._validatorOnChange()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(UO),r.Y36(r.SBq),r.Y36(Tb),r.Y36(r.zs3),r.Y36(Mf,8),r.Y36(ya,8),r.Y36(al,8),r.Y36(V_,8))},t.\u0275dir=r.lG2({type:t,features:[r.qOj]}),t})());let h6=(()=>{class t extends wZ{constructor(e,i,o,s,a,d,f,v){super(e,i,o,s,a,d,f,v),this._startValidator=w=>{const x=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(w.value)),S=this._model?this._model.selection.end:null;return!x||!S||this._dateAdapter.compareDate(x,S)<=0?null:{matStartDateInvalid:{end:S,actual:x}}},this._validator=sn.compose([...super._getValidators(),this._startValidator])}_getValueFromModel(e){return e.start}_shouldHandleChangeEvent(e){var i;return!(!super._shouldHandleChangeEvent(e)||((null===(i=e.oldValue)||void 0===i?void 0:i.start)?e.selection.start&&!this._dateAdapter.compareDate(e.oldValue.start,e.selection.start):!e.selection.start))}_assignValueToModel(e){if(this._model){const i=new dd(e,this._model.selection.end);this._model.updateSelection(i,this)}}_formatValue(e){super._formatValue(e),this._rangeInput._handleChildValueChange()}getMirrorValue(){const e=this._elementRef.nativeElement,i=e.value;return i.length>0?i:e.placeholder}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(UO),r.Y36(r.SBq),r.Y36(Tb),r.Y36(r.zs3),r.Y36(Mf,8),r.Y36(ya,8),r.Y36(al,8),r.Y36(V_,8))},t.\u0275dir=r.lG2({type:t,selectors:[["input","matStartDate",""]],hostAttrs:["type","text",1,"mat-start-date","mat-date-range-input-inner"],hostVars:6,hostBindings:function(e,i){1&e&&r.NdJ("input",function(s){return i._onInput(s.target.value)})("change",function(){return i._onChange()})("keydown",function(s){return i._onKeydown(s)})("blur",function(){return i._onBlur()}),2&e&&(r.Ikx("disabled",i.disabled),r.uIk("id",i._rangeInput.id)("aria-haspopup",i._rangeInput.rangePicker?"dialog":null)("aria-owns",(null==i._rangeInput.rangePicker?null:i._rangeInput.rangePicker.opened)&&i._rangeInput.rangePicker.id||null)("min",i._getMinDate()?i._dateAdapter.toIso8601(i._getMinDate()):null)("max",i._getMaxDate()?i._dateAdapter.toIso8601(i._getMaxDate()):null))},inputs:{errorStateMatcher:"errorStateMatcher"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[r._Bn([{provide:st,useExisting:t,multi:!0},{provide:No,useExisting:t,multi:!0}]),r.qOj]}),t})(),f6=(()=>{class t extends wZ{constructor(e,i,o,s,a,d,f,v){super(e,i,o,s,a,d,f,v),this._endValidator=w=>{const x=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(w.value)),S=this._model?this._model.selection.start:null;return!x||!S||this._dateAdapter.compareDate(x,S)>=0?null:{matEndDateInvalid:{start:S,actual:x}}},this._validator=sn.compose([...super._getValidators(),this._endValidator])}_getValueFromModel(e){return e.end}_shouldHandleChangeEvent(e){var i;return!(!super._shouldHandleChangeEvent(e)||((null===(i=e.oldValue)||void 0===i?void 0:i.end)?e.selection.end&&!this._dateAdapter.compareDate(e.oldValue.end,e.selection.end):!e.selection.end))}_assignValueToModel(e){if(this._model){const i=new dd(this._model.selection.start,e);this._model.updateSelection(i,this)}}_onKeydown(e){8===e.keyCode&&!this._elementRef.nativeElement.value&&this._rangeInput._startInput.focus(),super._onKeydown(e)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(UO),r.Y36(r.SBq),r.Y36(Tb),r.Y36(r.zs3),r.Y36(Mf,8),r.Y36(ya,8),r.Y36(al,8),r.Y36(V_,8))},t.\u0275dir=r.lG2({type:t,selectors:[["input","matEndDate",""]],hostAttrs:["type","text",1,"mat-end-date","mat-date-range-input-inner"],hostVars:5,hostBindings:function(e,i){1&e&&r.NdJ("input",function(s){return i._onInput(s.target.value)})("change",function(){return i._onChange()})("keydown",function(s){return i._onKeydown(s)})("blur",function(){return i._onBlur()}),2&e&&(r.Ikx("disabled",i.disabled),r.uIk("aria-haspopup",i._rangeInput.rangePicker?"dialog":null)("aria-owns",(null==i._rangeInput.rangePicker?null:i._rangeInput.rangePicker.opened)&&i._rangeInput.rangePicker.id||null)("min",i._getMinDate()?i._dateAdapter.toIso8601(i._getMinDate()):null)("max",i._getMaxDate()?i._dateAdapter.toIso8601(i._getMaxDate()):null))},inputs:{errorStateMatcher:"errorStateMatcher"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[r._Bn([{provide:st,useExisting:t,multi:!0},{provide:No,useExisting:t,multi:!0}]),r.qOj]}),t})(),yae=0,CZ=(()=>{class t{constructor(e,i,o,s,a){if(this._changeDetectorRef=e,this._elementRef=i,this._dateAdapter=s,this._formField=a,this._closedSubscription=Di.w0.EMPTY,this.id="mat-date-range-input-"+yae++,this.focused=!1,this.controlType="mat-date-range-input",this._groupDisabled=!1,this._ariaDescribedBy=null,this.separator="\u2013",this.comparisonStart=null,this.comparisonEnd=null,this.stateChanges=new Ht.x,null==a?void 0:a._elementRef.nativeElement.classList.contains("mat-mdc-form-field")){const d=i.nativeElement.classList;d.add("mat-mdc-input-element"),d.add("mat-mdc-form-field-input-control")}this.ngControl=o}get value(){return this._model?this._model.selection:null}get shouldLabelFloat(){return this.focused||!this.empty}get placeholder(){var e,i;const o=(null===(e=this._startInput)||void 0===e?void 0:e._getPlaceholder())||"",s=(null===(i=this._endInput)||void 0===i?void 0:i._getPlaceholder())||"";return o||s?`${o} ${this.separator} ${s}`:""}get rangePicker(){return this._rangePicker}set rangePicker(e){e&&(this._model=e.registerInput(this),this._rangePicker=e,this._closedSubscription.unsubscribe(),this._closedSubscription=e.closedStream.subscribe(()=>{var i,o;null===(i=this._startInput)||void 0===i||i._onTouched(),null===(o=this._endInput)||void 0===o||o._onTouched()}),this._registerModel(this._model))}get required(){return!!this._required}set required(e){this._required=Rn(e)}get dateFilter(){return this._dateFilter}set dateFilter(e){const i=this._startInput,o=this._endInput,s=i&&i._matchesFilter(i.value),a=o&&o._matchesFilter(i.value);this._dateFilter=e,i&&i._matchesFilter(i.value)!==s&&i._validatorOnChange(),o&&o._matchesFilter(o.value)!==a&&o._validatorOnChange()}get min(){return this._min}set min(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._revalidate())}get max(){return this._max}set max(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._revalidate())}get disabled(){return this._startInput&&this._endInput?this._startInput.disabled&&this._endInput.disabled:this._groupDisabled}set disabled(e){const i=Rn(e);i!==this._groupDisabled&&(this._groupDisabled=i,this.stateChanges.next(void 0))}get errorState(){return!(!this._startInput||!this._endInput)&&(this._startInput.errorState||this._endInput.errorState)}get empty(){const e=!!this._startInput&&this._startInput.isEmpty(),i=!!this._endInput&&this._endInput.isEmpty();return e&&i}setDescribedByIds(e){this._ariaDescribedBy=e.length?e.join(" "):null}onContainerClick(){!this.focused&&!this.disabled&&(this._model&&this._model.selection.start?this._endInput.focus():this._startInput.focus())}ngAfterContentInit(){this._model&&this._registerModel(this._model),(0,co.T)(this._startInput.stateChanges,this._endInput.stateChanges).subscribe(()=>{this.stateChanges.next(void 0)})}ngOnChanges(e){bZ(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._closedSubscription.unsubscribe(),this.stateChanges.complete()}getStartValue(){return this.value?this.value.start:null}getThemePalette(){return this._formField?this._formField.color:void 0}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():null}_getInputMirrorValue(){return this._startInput?this._startInput.getMirrorValue():""}_shouldHidePlaceholders(){return!!this._startInput&&!this._startInput.isEmpty()}_handleChildValueChange(){this.stateChanges.next(void 0),this._changeDetectorRef.markForCheck()}_openDatepicker(){this._rangePicker&&this._rangePicker.open()}_shouldHideSeparator(){return(!this._formField||this._formField.getLabelId()&&!this._formField._shouldLabelFloat())&&this.empty}_getAriaLabelledby(){const e=this._formField;return e&&e._hasFloatingLabel()?e._labelId:null}_updateFocus(e){this.focused=null!==e,this.stateChanges.next()}_revalidate(){this._startInput&&this._startInput._validatorOnChange(),this._endInput&&this._endInput._validatorOnChange()}_registerModel(e){this._startInput&&this._startInput._registerModel(e),this._endInput&&this._endInput._registerModel(e)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(Va,10),r.Y36(al,8),r.Y36(Z2,8))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-date-range-input"]],contentQueries:function(e,i,o){if(1&e&&(r.Suo(o,h6,5),r.Suo(o,f6,5)),2&e){let s;r.iGM(s=r.CRH())&&(i._startInput=s.first),r.iGM(s=r.CRH())&&(i._endInput=s.first)}},hostAttrs:["role","group",1,"mat-date-range-input"],hostVars:8,hostBindings:function(e,i){2&e&&(r.uIk("id",null)("aria-labelledby",i._getAriaLabelledby())("aria-describedby",i._ariaDescribedBy)("data-mat-calendar",i.rangePicker?i.rangePicker.id:null),r.ekj("mat-date-range-input-hide-placeholders",i._shouldHidePlaceholders())("mat-date-range-input-required",i.required))},inputs:{rangePicker:"rangePicker",required:"required",dateFilter:"dateFilter",min:"min",max:"max",disabled:"disabled",separator:"separator",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},exportAs:["matDateRangeInput"],features:[r._Bn([{provide:uT,useExisting:t},{provide:UO,useExisting:t}]),r.TTD],ngContentSelectors:Kse,decls:9,vars:4,consts:[["cdkMonitorSubtreeFocus","",1,"mat-date-range-input-container",3,"cdkFocusChange"],[1,"mat-date-range-input-start-wrapper"],["aria-hidden","true",1,"mat-date-range-input-mirror"],[1,"mat-date-range-input-separator"],[1,"mat-date-range-input-end-wrapper"]],template:function(e,i){1&e&&(r.F$t(Jse),r.TgZ(0,"div",0),r.NdJ("cdkFocusChange",function(s){return i._updateFocus(s)}),r.TgZ(1,"div",1),r.Hsn(2),r.TgZ(3,"span",2),r._uU(4),r.qZA()(),r.TgZ(5,"span",3),r._uU(6),r.qZA(),r.TgZ(7,"div",4),r.Hsn(8,1),r.qZA()()),2&e&&(r.xp6(4),r.Oqu(i._getInputMirrorValue()),r.xp6(1),r.ekj("mat-date-range-input-separator-hidden",i._shouldHideSeparator()),r.xp6(1),r.Oqu(i.separator))},directives:[Vx],styles:[".mat-date-range-input{display:block;width:100%}.mat-date-range-input-container{display:flex;align-items:center}.mat-date-range-input-separator{transition:opacity 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);margin:0 4px}.mat-date-range-input-separator-hidden{-webkit-user-select:none;user-select:none;opacity:0;transition:none}.mat-date-range-input-inner{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;vertical-align:bottom;text-align:inherit;-webkit-appearance:none;width:100%}.mat-date-range-input-inner:-moz-ui-invalid{box-shadow:none}.mat-date-range-input-inner::placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner::-moz-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner::-webkit-input-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner:-ms-input-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-date-range-input-inner::placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::placeholder{-webkit-user-select:none;user-select:none;color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner::placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-date-range-input-inner::-moz-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-moz-placeholder{-webkit-user-select:none;user-select:none;color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner::-moz-placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-date-range-input-inner::-webkit-input-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner::-webkit-input-placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-date-range-input-inner:-ms-input-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner:-ms-input-placeholder{-webkit-user-select:none;user-select:none;color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner:-ms-input-placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner:-ms-input-placeholder{opacity:0}.mat-date-range-input-mirror{-webkit-user-select:none;user-select:none;visibility:hidden;white-space:nowrap;display:inline-block;min-width:2px}.mat-date-range-input-start-wrapper{position:relative;overflow:hidden;max-width:calc(50% - 4px)}.mat-date-range-input-start-wrapper .mat-date-range-input-inner{position:absolute;top:0;left:0}.mat-date-range-input-end-wrapper{flex-grow:1;max-width:calc(50% - 4px)}.mat-form-field-type-mat-date-range-input .mat-form-field-infix{width:200px}\n"],encapsulation:2,changeDetection:0}),t})(),xZ=(()=>{class t extends PO{_forwardContentValues(e){super._forwardContentValues(e);const i=this.datepickerInput;i&&(e.comparisonStart=i.comparisonStart,e.comparisonEnd=i.comparisonEnd)}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=r.n5z(t)))(i||t)}}(),t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-date-range-picker"]],exportAs:["matDateRangePicker"],features:[r._Bn([iae,sae,{provide:PO,useExisting:t}]),r.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2,changeDetection:0}),t})(),p6=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[oE,hae],imports:[[wo,z2,tC,Gx,J2,ci],Sb]}),t})(),bae=(()=>{class t{constructor(e,i){this.passedData=e,this.userService=i}ngOnInit(){this.deadlineForm=new Il(this.passedData.user.startDate||this.passedData.user.endDate?{startDate:new mn(this.passedData.user.startDate.toDate(),sn.required),endDate:new mn(this.passedData.user.endDate.toDate(),{validators:[sn.required]})}:{startDate:new mn("",sn.required),endDate:new mn("",{validators:[sn.required]})})}onSubmit(){this.userService.updateUserDeadline(this.passedData.user.id,this.deadlineForm.value.startDate,this.deadlineForm.value.endDate),console.log(this.deadlineForm.value.startDate.to);let e={icon:"manage_accounts",heading:"Account Update",contents:"The admin has extended your submission deadline to: "+this.deadlineForm.value.startDate.toString().substring(4,15)+" - "+this.deadlineForm.value.endDate.toString().substring(4,15)};this.userService.updateChairpersonNotification(e,this.passedData.user)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36($p),r.Y36(oh))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-deadline-config"]],decls:20,vars:6,consts:[["fxLayout","column","fxLayoutAlign","center center",1,"main-div"],[1,"text-div"],[1,"form-div"],[3,"formGroup","ngSubmit"],[3,"rangePicker"],["matStartDate","","placeholder","Start date","formControlName","startDate"],["matEndDate","","placeholder","End date","formControlName","endDate"],["matSuffix","",3,"for"],["picker",""],["fxLayoutGap","10px","fxLayoutAlign","center center",1,"buttons"],["mat-raised-button","","color","primary","type","submit",3,"mat-dialog-close","disabled"],["mat-stroked-button","","color","primary","type","button",3,"mat-dialog-close"]],template:function(e,i){if(1&e&&(r.TgZ(0,"div",0)(1,"div",1)(2,"p"),r._uU(3,"Extend Submission"),r.qZA()(),r.TgZ(4,"div",2)(5,"form",3),r.NdJ("ngSubmit",function(){return i.onSubmit()}),r.TgZ(6,"mat-form-field")(7,"mat-label"),r._uU(8,"Enter a date range"),r.qZA(),r.TgZ(9,"mat-date-range-input",4),r._UZ(10,"input",5)(11,"input",6),r.qZA(),r._UZ(12,"mat-datepicker-toggle",7)(13,"mat-date-range-picker",null,8),r.qZA(),r.TgZ(15,"div",9)(16,"button",10),r._uU(17," Save "),r.qZA(),r.TgZ(18,"button",11),r._uU(19," Cancel "),r.qZA()()()()()),2&e){const o=r.MAs(14);r.xp6(5),r.Q6J("formGroup",i.deadlineForm),r.xp6(4),r.Q6J("rangePicker",o),r.xp6(3),r.Q6J("for",o),r.xp6(4),r.Q6J("mat-dialog-close",!0)("disabled",i.deadlineForm.invalid),r.xp6(2),r.Q6J("mat-dialog-close",!1)}},directives:[zr,uo,qd,Ud,ya,$d,id,CZ,h6,_i,Gc,Zc,f6,d6,G2,xZ,$s,Uo,Ey],styles:[".main-div[_ngcontent-%COMP%]{padding:5vh}.text-div[_ngcontent-%COMP%]{font-size:20px;font-family:var(--mont);color:var(--primary);text-align:left;width:100%;margin-bottom:5px}.buttons[_ngcontent-%COMP%]{margin-top:10px}"]}),t})();function wae(t,n){if(1&t&&(r.O4$(),r._UZ(0,"circle",4)),2&t){const e=r.oxw(),i=r.MAs(1);r.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),r.uIk("r",e._getCircleRadius())}}function Cae(t,n){if(1&t&&(r.O4$(),r._UZ(0,"circle",4)),2&t){const e=r.oxw(),i=r.MAs(1);r.Udp("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),r.uIk("r",e._getCircleRadius())}}const Tae=jh(class{constructor(t){this._elementRef=t}},"primary"),Aae=new r.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function Sae(){return{diameter:100}}});class Yh extends Tae{constructor(n,e,i,o,s,a,d,f){super(n),this._document=i,this._diameter=100,this._value=0,this._resizeSubscription=Di.w0.EMPTY,this.mode="determinate";const v=Yh._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),v.has(i.head)||v.set(i.head,new Set([100])),this._noopAnimations="NoopAnimations"===o&&!!s&&!s._forceAnimations,"mat-spinner"===n.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),s&&(s.diameter&&(this.diameter=s.diameter),s.strokeWidth&&(this.strokeWidth=s.strokeWidth)),e.isBrowser&&e.SAFARI&&d&&a&&f&&(this._resizeSubscription=d.change(150).subscribe(()=>{"indeterminate"===this.mode&&f.run(()=>a.markForCheck())}))}get diameter(){return this._diameter}set diameter(n){this._diameter=ac(n),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(n){this._strokeWidth=ac(n)}get value(){return"determinate"===this.mode?this._value:0}set value(n){this._value=Math.max(0,Math.min(100,ac(n)))}ngOnInit(){const n=this._elementRef.nativeElement;this._styleRoot=Pw(n)||this._document.head,this._attachStyleNode(),n.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const n=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${n} ${n}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(n){var e;const i=50*(null!==(e=n.currentScale)&&void 0!==e?e:1);return`${i}% ${i}%`}_attachStyleNode(){const n=this._styleRoot,e=this._diameter,i=Yh._diameters;let o=i.get(n);if(!o||!o.has(e)){const s=this._document.createElement("style");s.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),s.textContent=this._getAnimationText(),n.appendChild(s),o||(o=new Set,i.set(n,o)),o.add(e)}}_getAnimationText(){const n=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*n).replace(/END_VALUE/g,""+.2*n).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}Yh._diameters=new WeakMap,Yh.\u0275fac=function(n){return new(n||Yh)(r.Y36(r.SBq),r.Y36(ho),r.Y36(et,8),r.Y36(O,8),r.Y36(Aae),r.Y36(r.sBO),r.Y36(Sy),r.Y36(r.R0b))},Yh.\u0275cmp=r.Xpm({type:Yh,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(n,e){2&n&&(r.uIk("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),r.Udp("width",e.diameter,"px")("height",e.diameter,"px"),r.ekj("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[r.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(n,e){1&n&&(r.O4$(),r.TgZ(0,"svg",0,1),r.YNc(2,wae,1,11,"circle",2),r.YNc(3,Cae,1,9,"circle",3),r.qZA()),2&n&&(r.Udp("width",e.diameter,"px")("height",e.diameter,"px"),r.Q6J("ngSwitch","indeterminate"===e.mode),r.uIk("viewBox",e._getViewBox()),r.xp6(2),r.Q6J("ngSwitchCase",!0),r.xp6(1),r.Q6J("ngSwitchCase",!1))},directives:[Xr,Yi],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let g6=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[ci,wo],ci]}),t})();function _6(t){return(0,un.U)(()=>t)}function TZ(t,n){return n?e=>er(n.pipe((0,Er.q)(1),function Eae(){return(0,An.e)((t,n)=>{t.subscribe((0,L.x)(n,ES.Z))})}()),e.pipe(TZ(t))):(0,no.z)((e,i)=>t(e,i).pipe((0,Er.q)(1),_6(e)))}function AZ(t,n=ab.z){const e=JN(t,n);return TZ(()=>e)}const Mae=["mat-menu-item",""];function kae(t,n){1&t&&(r.O4$(),r.TgZ(0,"svg",2),r._UZ(1,"polygon",3),r.qZA())}const SZ=["*"];function Iae(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"div",0),r.NdJ("keydown",function(o){return r.CHM(e),r.oxw()._handleKeydown(o)})("click",function(){return r.CHM(e),r.oxw().closed.emit("click")})("@transformMenu.start",function(o){return r.CHM(e),r.oxw()._onAnimationStart(o)})("@transformMenu.done",function(o){return r.CHM(e),r.oxw()._onAnimationDone(o)}),r.TgZ(1,"div",1),r.Hsn(2),r.qZA()()}if(2&t){const e=r.oxw();r.Q6J("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),r.uIk("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const jO={transformMenu:zs("transformMenu",[Mr("void",Qt({opacity:0,transform:"scale(0.8)"})),pr("void => enter",Ar("120ms cubic-bezier(0, 0, 0.2, 1)",Qt({opacity:1,transform:"scale(1)"}))),pr("* => void",Ar("100ms 25ms linear",Qt({opacity:0})))]),fadeInItems:zs("fadeInItems",[Mr("showing",Qt({opacity:1})),pr("void => *",[Qt({opacity:0}),Ar("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},Oae=new r.OlP("MatMenuContent"),v6=new r.OlP("MAT_MENU_PANEL"),Lae=nd(td(class{}));let IC=(()=>{class t extends Lae{constructor(e,i,o,s,a){var d;super(),this._elementRef=e,this._document=i,this._focusMonitor=o,this._parentMenu=s,this._changeDetectorRef=a,this.role="menuitem",this._hovered=new Ht.x,this._focused=new Ht.x,this._highlighted=!1,this._triggersSubmenu=!1,null===(d=null==s?void 0:s.addItem)||void 0===d||d.call(s,this)}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){var e;const i=this._elementRef.nativeElement.cloneNode(!0),o=i.querySelectorAll("mat-icon, .material-icons");for(let s=0;s<o.length;s++)o[s].remove();return(null===(e=i.textContent)||void 0===e?void 0:e.trim())||""}_setHighlighted(e){var i;this._highlighted=e,null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(et),r.Y36(Bh),r.Y36(v6,8),r.Y36(r.sBO))},t.\u0275cmp=r.Xpm({type:t,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(e,i){1&e&&r.NdJ("click",function(s){return i._checkDisabled(s)})("mouseenter",function(){return i._handleMouseEnter()}),2&e&&(r.uIk("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled.toString())("disabled",i.disabled||null),r.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",i._highlighted)("mat-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[r.qOj],attrs:Mae,ngContentSelectors:SZ,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,i){1&e&&(r.F$t(),r.Hsn(0),r._UZ(1,"div",0),r.YNc(2,kae,2,0,"svg",1)),2&e&&(r.xp6(1),r.Q6J("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),r.xp6(1),r.Q6J("ngIf",i._triggersSubmenu))},directives:[Wp,Sn],encapsulation:2,changeDetection:0}),t})();const DZ=new r.OlP("mat-menu-default-options",{providedIn:"root",factory:function Fae(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Nae=0,sE=(()=>{class t{constructor(e,i,o,s){this._elementRef=e,this._ngZone=i,this._defaultOptions=o,this._changeDetectorRef=s,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new r.n_E,this._tabSubscription=Di.w0.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new Ht.x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new r.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+Nae++}get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=Rn(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Rn(e)}set panelClass(e){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(o=>{this._classList[o]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(o=>{this._classList[o]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new fb(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Ir(this._directDescendantItems),zo(e=>(0,co.T)(...e.map(i=>i._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{var i;const o=this._keyManager;if("enter"===this._panelAnimationState&&(null===(i=o.activeItem)||void 0===i?void 0:i._hasFocus())){const s=e.toArray(),a=Math.max(0,Math.min(s.length-1,o.activeItemIndex||0));s[a]&&!s[a].disabled?o.setActiveItem(a):o.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(Ir(this._directDescendantItems),zo(i=>(0,co.T)(...i.map(o=>o._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const i=e.keyCode,o=this._keyManager;switch(i){case 27:lc(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&o.setFocusOrigin("keyboard"),void o.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this.lazyContent?this._ngZone.onStable.pipe((0,Er.q)(1)).subscribe(()=>this._focusFirstItem(e)):this._focusFirstItem(e)}_focusFirstItem(e){const i=this._keyManager;if(i.setFocusOrigin(e).setFirstItemActive(),!i.activeItem&&this._directDescendantItems.length){let o=this._directDescendantItems.first._getHostElement().parentElement;for(;o;){if("menu"===o.getAttribute("role")){o.focus();break}o=o.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const i=Math.min(this._baseElevation+e,24),o=`${this._elevationPrefix}${i}`,s=Object.keys(this._classList).find(a=>a.startsWith(this._elevationPrefix));(!s||s===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[o]=!0,this._previousElevation=o)}setPositionClasses(e=this.xPosition,i=this.yPosition){var o;const s=this._classList;s["mat-menu-before"]="before"===e,s["mat-menu-after"]="after"===e,s["mat-menu-above"]="above"===i,s["mat-menu-below"]="below"===i,null===(o=this._changeDetectorRef)||void 0===o||o.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Ir(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.R0b),r.Y36(DZ),r.Y36(r.sBO))},t.\u0275dir=r.lG2({type:t,contentQueries:function(e,i,o){if(1&e&&(r.Suo(o,Oae,5),r.Suo(o,IC,5),r.Suo(o,IC,4)),2&e){let s;r.iGM(s=r.CRH())&&(i.lazyContent=s.first),r.iGM(s=r.CRH())&&(i._allItems=s),r.iGM(s=r.CRH())&&(i.items=s)}},viewQuery:function(e,i){if(1&e&&r.Gf(r.Rgc,5),2&e){let o;r.iGM(o=r.CRH())&&(i.templateRef=o.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),t})(),VO=(()=>{class t extends sE{constructor(e,i,o,s){super(e,i,o,s),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.R0b),r.Y36(DZ),r.Y36(r.sBO))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,i){2&e&&r.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[r._Bn([{provide:v6,useExisting:t}]),r.qOj],ngContentSelectors:SZ,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(e,i){1&e&&(r.F$t(),r.YNc(0,Iae,3,6,"ng-template"))},directives:[xr],styles:["mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n"],encapsulation:2,data:{animation:[jO.transformMenu,jO.fadeInItems]},changeDetection:0}),t})();const EZ=new r.OlP("mat-menu-scroll-strategy"),Pae={provide:EZ,deps:[Vh],useFactory:function Rae(t){return()=>t.scrollStrategies.reposition()}},kZ=N_({passive:!0});let Bae=(()=>{class t{constructor(e,i,o,s,a,d,f,v,w){this._overlay=e,this._element=i,this._viewContainerRef=o,this._menuItemInstance=d,this._dir=f,this._focusMonitor=v,this._ngZone=w,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Di.w0.EMPTY,this._hoverSubscription=Di.w0.EMPTY,this._menuCloseSubscription=Di.w0.EMPTY,this._handleTouchStart=x=>{yy(x)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new r.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new r.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=a instanceof sE?a:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,kZ),d&&(d._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,kZ),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const e=this._createOverlay(),i=e.getConfig(),o=i.positionStrategy;this._setPosition(o),i.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,e.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof sE&&(this.menu._startAnimation(),this.menu._directDescendantItems.changes.pipe(ai(this.menu.close)).subscribe(()=>{o.withLockedPosition(!1).reapplyLastPosition(),o.withLockedPosition(!0)}))}closeMenu(){this.menu.close.emit()}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}updatePosition(){var e;null===(e=this._overlayRef)||void 0===e||e.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof sE?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(hr(o=>"void"===o.toState),(0,Er.q)(1),ai(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i.lazyContent&&i.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this.menu.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(){if(this.menu.setElevation){let e=0,i=this.menu.parentMenu;for(;i;)e++,i=i.parentMenu;this.menu.setElevation(e)}}_setIsMenuOpen(e){this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e)}_checkMenu(){}_createOverlay(){if(!this._overlayRef){const e=this._getOverlayConfig();this._subscribeToPositions(e.positionStrategy),this._overlayRef=this._overlay.create(e),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new hT({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e){this.menu.setPositionClasses&&e.positionChanges.subscribe(i=>{const o="start"===i.connectionPair.overlayX?"after":"before",s="top"===i.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>this.menu.setPositionClasses(o,s)):this.menu.setPositionClasses(o,s)})}_setPosition(e){let[i,o]="before"===this.menu.xPosition?["end","start"]:["start","end"],[s,a]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[d,f]=[s,a],[v,w]=[i,o],x=0;this.triggersSubmenu()?(w=i="before"===this.menu.xPosition?"start":"end",o=v="end"===i?"start":"end",x="bottom"===s?8:-8):this.menu.overlapTrigger||(d="top"===s?"bottom":"top",f="top"===a?"bottom":"top"),e.withPositions([{originX:i,originY:d,overlayX:v,overlayY:s,offsetY:x},{originX:o,originY:d,overlayX:w,overlayY:s,offsetY:x},{originX:i,originY:f,overlayX:v,overlayY:a,offsetY:-x},{originX:o,originY:f,overlayX:w,overlayY:a,offsetY:-x}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),o=this._parentMaterialMenu?this._parentMaterialMenu.closed:Dn(),s=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(hr(a=>a!==this._menuItemInstance),hr(()=>this._menuOpen)):Dn();return(0,co.T)(e,o,s,i)}_handleMousedown(e){YS(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const i=e.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(hr(e=>e===this._menuItemInstance&&!e.disabled),AZ(0,QN)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof sE&&this.menu._isAnimating?this.menu._animationDone.pipe((0,Er.q)(1),AZ(0,QN),ai(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return(!this._portal||this._portal.templateRef!==this.menu.templateRef)&&(this._portal=new dT(this.menu.templateRef,this._viewContainerRef)),this._portal}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Vh),r.Y36(r.SBq),r.Y36(r.s_b),r.Y36(EZ),r.Y36(v6,8),r.Y36(IC,10),r.Y36(Us,8),r.Y36(Bh),r.Y36(r.R0b))},t.\u0275dir=r.lG2({type:t,hostAttrs:["aria-haspopup","true"],hostVars:2,hostBindings:function(e,i){1&e&&r.NdJ("click",function(s){return i._handleClick(s)})("mousedown",function(s){return i._handleMousedown(s)})("keydown",function(s){return i._handleKeydown(s)}),2&e&&r.uIk("aria-expanded",i.menuOpen||null)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),t})(),qO=(()=>{class t extends Bae{}return t.\u0275fac=function(){let n;return function(i){return(n||(n=r.n5z(t)))(i||t)}}(),t.\u0275dir=r.lG2({type:t,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[r.qOj]}),t})(),IZ=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[Pae],imports:[[wo,ci,Ab,tC],Sb,ci]}),t})(),OZ=(()=>{class t{transform(e,i){return e.length>i?e.substr(0,i)+" ...":e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Yjl({name:"shorten",type:t,pure:!0}),t})();function Uae(t,n){1&t&&r._UZ(0,"mat-spinner")}function jae(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"button",20),r.NdJ("click",function(){r.CHM(e);const o=r.oxw().index;return r.oxw().onEditDeadline(o)}),r.TgZ(1,"mat-icon",21),r._uU(2,"schedule"),r.qZA(),r.TgZ(3,"span"),r._uU(4,"Extend Submission"),r.qZA()()}}function Vae(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"div")(1,"div",14)(2,"p",15),r._uU(3),r.ALo(4,"shorten"),r.qZA(),r.TgZ(5,"p",15),r._uU(6),r.ALo(7,"shorten"),r.qZA(),r.TgZ(8,"p",15),r._uU(9),r.ALo(10,"shorten"),r.qZA(),r.TgZ(11,"p",15),r._uU(12),r.qZA(),r.TgZ(13,"p",15),r._uU(14),r.ALo(15,"date"),r.ALo(16,"date"),r.qZA(),r.TgZ(17,"p",15),r._uU(18),r.qZA(),r.TgZ(19,"button",16)(20,"mat-icon",17),r._uU(21),r.qZA()(),r.TgZ(22,"mat-menu",18,19)(24,"button",20),r.NdJ("click",function(){const s=r.CHM(e).index;return r.oxw().onEditAccount(s)}),r.TgZ(25,"mat-icon",21),r._uU(26,"edit"),r.qZA(),r.TgZ(27,"span"),r._uU(28,"Edit Account"),r.qZA()(),r.YNc(29,jae,5,0,"button",22),r.qZA()(),r._UZ(30,"hr",23),r.qZA()}if(2&t){const e=n.$implicit,i=r.MAs(23);r.xp6(3),r.hij(" ",r.xi3(4,9,e.idNumber,9)," "),r.xp6(3),r.hij(" ",r.xi3(7,12,e.fullName,25)," "),r.xp6(3),r.hij(" ",r.xi3(10,15,e.email,28)," "),r.xp6(3),r.hij(" ",e.department," "),r.xp6(2),r.hij(" ","admin"==e.department?"":e.startDate?r.lcZ(15,18,e.startDate.toDate())+" - "+r.lcZ(16,20,e.endDate.toDate()):"No Deadline Yet"," "),r.xp6(4),r.hij(" ",e.isActivated?"Active":"Inactive"," "),r.xp6(1),r.Q6J("matMenuTriggerFor",i),r.xp6(2),r.Oqu("more_vert"),r.xp6(8),r.Q6J("ngIf","admin"!=e.department)}}let qae=(()=>{class t{constructor(e,i){this.dialog=e,this.userService=i,this.users=[],this.isLoading=!0}ngOnInit(){this.userSubs=this.userService.usersChanged.subscribe(e=>{this.users=e,this.isLoading=!1}),this.userService.fetchUsers(),this.currentUser=this.userService.getCurrentUser()}onAddChairperson(){this.dialog.open(cZ,{data:{configType:"add",users:this.users}})}onEditAccount(e){this.dialog.open(cZ,{data:{configType:"edit",user:this.users[e],users:this.users}})}onEditDeadline(e){this.dialog.open(bae,{data:{user:this.users[e]}})}ngOnDestroy(){this.userSubs.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Eb),r.Y36(oh))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-chairperson"]],decls:27,vars:2,consts:[["fxLayout","column","fxLayoutAlign","center center",1,"main-div"],["fxLayout","column",1,"sub-div"],["fxLayout","row","fxLayoutAlign","space-between",1,"header-div"],["fxLayout","row"],[1,"header-text"],["color","primary",1,"add-button",3,"click"],["fxLayout","column",1,"content-div"],["fxLayout","row","fxLayoutAlign","center center",1,"content-header"],["fxFlex","16.66",1,"headline-text","center-text"],["fxFlex","4"],[1,"scrollable"],["fxLayoutAlign","center center"],[4,"ngIf"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","center center",1,"content-item"],["fxFlex","16.66",1,"header-sub-text","center-text"],["mat-icon-button","",3,"matMenuTriggerFor"],[1,"button-icon"],["xPosition","before"],["menu","matMenu"],["mat-menu-item","",3,"click"],[1,""],["mat-menu-item","",3,"click",4,"ngIf"],[2,"background-color","var(--primary)"]],template:function(e,i){1&e&&(r.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),r._uU(5,"Chairperson"),r.qZA(),r.TgZ(6,"mat-icon",5),r.NdJ("click",function(){return i.onAddChairperson()}),r._uU(7,"add_circle"),r.qZA()()(),r.TgZ(8,"div",6)(9,"div",7)(10,"p",8),r._uU(11,"ID Number"),r.qZA(),r.TgZ(12,"p",8),r._uU(13,"Full Name"),r.qZA(),r.TgZ(14,"p",8),r._uU(15,"Email"),r.qZA(),r.TgZ(16,"p",8),r._uU(17,"Department"),r.qZA(),r.TgZ(18,"p",8),r._uU(19,"Date Deadline"),r.qZA(),r.TgZ(20,"p",8),r._uU(21,"Account Status"),r.qZA(),r._UZ(22,"div",9),r.qZA(),r.TgZ(23,"div",10)(24,"div",11),r.YNc(25,Uae,1,0,"mat-spinner",12),r.qZA(),r.YNc(26,Vae,31,22,"div",13),r.qZA()()()()),2&e&&(r.xp6(25),r.Q6J("ngIf",i.isLoading),r.xp6(1),r.Q6J("ngForOf",i.users))},directives:[zr,uo,Wf,Yd,Sn,Yh,qn,Uo,qO,VO,IC],pipes:[OZ,Qa],styles:[".main-div[_ngcontent-%COMP%]{width:100%;height:92%;overflow:hidden}.sub-div[_ngcontent-%COMP%]{margin:30px;width:95%;height:93%;background-color:#fff;overflow:hidden;background-image:url(other-bg.dd5cf05b63541971.png)}.header-div[_ngcontent-%COMP%]{width:100%;height:20vh}.header-text[_ngcontent-%COMP%]{font-family:var(--incon);color:var(--primary);font-size:30px;margin-top:5vh;margin-left:4vh}.headline-text[_ngcontent-%COMP%]{margin-top:10px;color:var(--primary);font-size:18px}.acad-text[_ngcontent-%COMP%]{margin-top:4vh;margin-right:4vh;color:var(--primary);font-size:20px;text-decoration:underline;cursor:pointer}.content-div[_ngcontent-%COMP%]{width:100%;height:65vh;padding:0 5vh 5vh;overflow-y:scroll}.scrollable[_ngcontent-%COMP%]{width:100%}.add-button[_ngcontent-%COMP%]{font-size:25px;margin-top:5vh;margin-left:10px;transition:all ease-in-out .05s;cursor:pointer}.add-button[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.content-header[_ngcontent-%COMP%]{width:100%;height:6vh;background-color:var(--light);margin-bottom:15px}.header-sub-text[_ngcontent-%COMP%]{margin-top:10px;color:var(--primary);font-size:14px}.content-item[_ngcontent-%COMP%]{background-color:var(--light);height:5vh;width:100%;transition:ease-in-out all .05s}.content-item[_ngcontent-%COMP%]:hover{transform:translate(-10px)}.center-text[_ngcontent-%COMP%]{text-align:center}.button-icon[_ngcontent-%COMP%]{color:var(--primary)}.mat-focus-indicator[_ngcontent-%COMP%]:hover{background-color:var(--light);color:var(--primary)}[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--light);border-radius:20px;-webkit-transition:all ease-in-out 1s;transition:all ease-in-out 1s}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--primary)}"]}),t})();const LZ=new Set;let nA,Hae=(()=>{class t{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Zae}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function Gae(t){if(!LZ.has(t))try{nA||(nA=document.createElement("style"),nA.setAttribute("type","text/css"),document.head.appendChild(nA)),nA.sheet&&(nA.sheet.insertRule(`@media ${t} {body{ }}`,0),LZ.add(t))}catch(n){console.error(n)}}(e),this._matchMedia(e)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(ho))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Zae(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let HO=(()=>{class t{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new Ht.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return FZ(Dx(e)).some(o=>this._registerQuery(o).mql.matches)}observe(e){let s=X(FZ(Dx(e)).map(a=>this._registerQuery(a).observable));return s=er(s.pipe((0,Er.q)(1)),s.pipe(nk(1),Ow(0))),s.pipe((0,un.U)(a=>{const d={matches:!1,breakpoints:{}};return a.forEach(({matches:f,query:v})=>{d.matches=d.matches||f,d.breakpoints[v]=f}),d}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),s={observable:new Co.y(a=>{const d=f=>this._zone.run(()=>a.next(f));return i.addListener(d),()=>{i.removeListener(d)}}).pipe(Ir(i),(0,un.U)(({matches:a})=>({query:e,matches:a})),ai(this._destroySubject)),mql:i};return this._queries.set(e,s),s}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Hae),r.LFG(r.R0b))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function FZ(t){return t.map(n=>n.split(",")).reduce((n,e)=>n.concat(e)).map(n=>n.trim())}const y6_Handset="(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Yae=["tooltip"],NZ="tooltip-panel",RZ=N_({passive:!0}),PZ=new r.OlP("mat-tooltip-scroll-strategy"),Qae={provide:PZ,deps:[Vh],useFactory:function $ae(t){return()=>t.scrollStrategies.reposition({scrollThrottle:20})}},Jae=new r.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function Kae(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let Xae=(()=>{class t{constructor(e,i,o,s,a,d,f,v,w,x,S,E){this._overlay=e,this._elementRef=i,this._scrollDispatcher=o,this._viewContainerRef=s,this._ngZone=a,this._platform=d,this._ariaDescriber=f,this._focusMonitor=v,this._dir=x,this._defaultOptions=S,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Ht.x,this._scrollStrategy=w,this._document=E,S&&(S.position&&(this.position=S.position),S.touchGestures&&(this.touchGestures=S.touchGestures)),x.change.pipe(ai(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(e){var i;e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),null===(i=this._tooltipInstance)||void 0===i||i.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=Rn(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=ac(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=ac(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(ai(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,o])=>{e.removeEventListener(i,o,RZ)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const i=this._createOverlay();this._detach(),this._portal=this._portal||new Db(this._tooltipComponent,this._viewContainerRef);const o=this._tooltipInstance=i.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(ai(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(e)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){var e;if(this._overlayRef)return this._overlayRef;const i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),o=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return o.positionChanges.pipe(ai(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:o,panelClass:`${this._cssClassPrefix}-${NZ}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(ai(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(ai(this._destroyed)).subscribe(()=>{var s;return null===(s=this._tooltipInstance)||void 0===s?void 0:s._handleBodyInteraction()}),this._overlayRef.keydownEvents().pipe(ai(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&27===s.keyCode&&!lc(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),(null===(e=this._defaultOptions)||void 0===e?void 0:e.disableTooltipInteractivity)&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,o=this._getOrigin(),s=this._getOverlayPosition();i.withPositions([this._addOffset(Object.assign(Object.assign({},o.main),s.main)),this._addOffset(Object.assign(Object.assign({},o.fallback),s.fallback))])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let o;"above"==i||"below"==i?o={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?o={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(o={originX:"end",originY:"center"});const{x:s,y:a}=this._invertPosition(o.originX,o.originY);return{main:o,fallback:{originX:s,originY:a}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let o;"above"==i?o={overlayX:"center",overlayY:"bottom"}:"below"==i?o={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?o={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(o={overlayX:"start",overlayY:"center"});const{x:s,y:a}=this._invertPosition(o.overlayX,o.overlayY);return{main:o,fallback:{overlayX:s,overlayY:a}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,Er.q)(1),ai(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:o,originY:s}=e;let a;if(a="center"===i?this._dir&&"rtl"===this._dir.value?"end"===o?"left":"right":"start"===o?"left":"right":"bottom"===i&&"top"===s?"above":"below",a!==this._currentPosition){const d=this._overlayRef;if(d){const f=`${this._cssClassPrefix}-${NZ}-`;d.removePanelClass(f+this._currentPosition),d.addPanelClass(f+a)}this._currentPosition=a}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{var o;const s=i.relatedTarget;(!s||!(null===(o=this._overlayRef)||void 0===o?void 0:o.overlayElement.contains(s)))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,o])=>{this._elementRef.nativeElement.addEventListener(i,o,RZ)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),o=this._elementRef.nativeElement;i!==o&&!o.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,o=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(o.userSelect=o.msUserSelect=o.webkitUserSelect=o.MozUserSelect="none"),("on"===e||!i.draggable)&&(o.webkitUserDrag="none"),o.touchAction="none",o.webkitTapHighlightColor="transparent"}}}return t.\u0275fac=function(e){r.$Z()},t.\u0275dir=r.lG2({type:t,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),t})(),ele=(()=>{class t extends Xae{constructor(e,i,o,s,a,d,f,v,w,x,S,E){super(e,i,o,s,a,d,f,v,w,x,S,E),this._tooltipComponent=nle}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Vh),r.Y36(r.SBq),r.Y36($2),r.Y36(r.s_b),r.Y36(r.R0b),r.Y36(ho),r.Y36(GS),r.Y36(Bh),r.Y36(PZ),r.Y36(Us,8),r.Y36(Jae,8),r.Y36(et))},t.\u0275dir=r.lG2({type:t,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[r.qOj]}),t})(),tle=(()=>{class t{constructor(e,i){this._changeDetectorRef=e,this._visibility="initial",this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new Ht.x,this._animationsDisabled="NoopAnimations"===i}show(e){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&this.hide(this._mouseLeaveHideDelay)}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,o=this._showAnimation,s=this._hideAnimation;if(i.classList.remove(e?s:o),i.classList.add(e?o:s),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const a=getComputedStyle(i);("0s"===a.getPropertyValue("animation-duration")||"none"===a.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.sBO),r.Y36(O,8))},t.\u0275dir=r.lG2({type:t}),t})(),nle=(()=>{class t extends tle{constructor(e,i,o){super(e,o),this._breakpointObserver=i,this._isHandset=this._breakpointObserver.observe(y6_Handset),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.sBO),r.Y36(HO),r.Y36(O,8))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-tooltip-component"]],viewQuery:function(e,i){if(1&e&&r.Gf(Yae,7),2&e){let o;r.iGM(o=r.CRH())&&(i._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,i){1&e&&r.NdJ("mouseleave",function(s){return i._handleMouseLeave(s)}),2&e&&r.Udp("zoom",i.isVisible()?1:null)},features:[r.qOj],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(e,i){if(1&e&&(r.TgZ(0,"div",0,1),r.NdJ("animationend",function(s){return i._handleAnimationEnd(s)}),r.ALo(2,"async"),r._uU(3),r.qZA()),2&e){let o;r.ekj("mat-tooltip-handset",null==(o=r.lcZ(2,4,i._isHandset))?null:o.matches),r.Q6J("ngClass",i.tooltipClass),r.xp6(3),r.Oqu(i.message)}},directives:[xr],pipes:[uh],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}\n"],encapsulation:2,changeDetection:0}),t})(),ile=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[Qae],imports:[[Gx,wo,tC,ci],ci,Sb]}),t})();function rle(t,n){if(1&t&&(r.TgZ(0,"mat-option",19),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.Q6J("value",e),r.xp6(1),r.hij(" ",e," ")}}function ole(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"mat-form-field",16)(1,"mat-select",17),r.NdJ("selectionChange",function(o){return r.CHM(e),r.oxw(2)._changePageSize(o.value)}),r.YNc(2,rle,2,2,"mat-option",18),r.qZA()()}if(2&t){const e=r.oxw(2);r.Q6J("appearance",e._formFieldAppearance)("color",e.color),r.xp6(1),r.Q6J("value",e.pageSize)("disabled",e.disabled)("aria-label",e._intl.itemsPerPageLabel),r.xp6(1),r.Q6J("ngForOf",e._displayedPageSizeOptions)}}function sle(t,n){if(1&t&&(r.TgZ(0,"div",20),r._uU(1),r.qZA()),2&t){const e=r.oxw(2);r.xp6(1),r.Oqu(e.pageSize)}}function ale(t,n){if(1&t&&(r.TgZ(0,"div",12)(1,"div",13),r._uU(2),r.qZA(),r.YNc(3,ole,3,6,"mat-form-field",14),r.YNc(4,sle,2,1,"div",15),r.qZA()),2&t){const e=r.oxw();r.xp6(2),r.hij(" ",e._intl.itemsPerPageLabel," "),r.xp6(1),r.Q6J("ngIf",e._displayedPageSizeOptions.length>1),r.xp6(1),r.Q6J("ngIf",e._displayedPageSizeOptions.length<=1)}}function lle(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"button",21),r.NdJ("click",function(){return r.CHM(e),r.oxw().firstPage()}),r.O4$(),r.TgZ(1,"svg",7),r._UZ(2,"path",22),r.qZA()()}if(2&t){const e=r.oxw();r.Q6J("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),r.uIk("aria-label",e._intl.firstPageLabel)}}function cle(t,n){if(1&t){const e=r.EpF();r.O4$(),r.kcU(),r.TgZ(0,"button",23),r.NdJ("click",function(){return r.CHM(e),r.oxw().lastPage()}),r.O4$(),r.TgZ(1,"svg",7),r._UZ(2,"path",24),r.qZA()()}if(2&t){const e=r.oxw();r.Q6J("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),r.uIk("aria-label",e._intl.lastPageLabel)}}let GO=(()=>{class t{constructor(){this.changes=new Ht.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,i,o)=>{if(0==o||0==i)return`0 of ${o}`;const s=e*i;return`${s+1} \u2013 ${s<(o=Math.max(o,0))?Math.min(s+i,o):s+i} of ${o}`}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const dle={provide:GO,deps:[[new r.FiY,new r.tp0,GO]],useFactory:function ule(t){return t||new GO}},fle=new r.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),ple=td(cT(class{}));let mle=(()=>{class t extends ple{constructor(e,i,o){if(super(),this._intl=e,this._changeDetectorRef=i,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.page=new r.vpe,this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),o){const{pageSize:s,pageSizeOptions:a,hidePageSize:d,showFirstLastButtons:f}=o;null!=s&&(this._pageSize=s),null!=a&&(this._pageSizeOptions=a),null!=d&&(this._hidePageSize=d),null!=f&&(this._showFirstLastButtons=f)}}get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(ac(e),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(e){this._length=ac(e),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(ac(e),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(i=>ac(i)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(e){this._hidePageSize=Rn(e)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(e){this._showFirstLastButtons=Rn(e)}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(e)}previousPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(e)}firstPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=0,this._emitPageEvent(e)}lastPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(e)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const e=this.getNumberOfPages()-1;return this.pageIndex<e&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){const o=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/e)||0,this.pageSize=e,this._emitPageEvent(o)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){!this._initialized||(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,i)=>e-i),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return t.\u0275fac=function(e){r.$Z()},t.\u0275dir=r.lG2({type:t,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons"},outputs:{page:"page"},features:[r.qOj]}),t})(),aE=(()=>{class t extends mle{constructor(e,i,o){super(e,i,o),o&&null!=o.formFieldAppearance&&(this._formFieldAppearance=o.formFieldAppearance)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(GO),r.Y36(r.sBO),r.Y36(fle,8))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[r.qOj],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"appearance","color"],[3,"value","disabled","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0)(1,"div",1),r.YNc(2,ale,5,3,"div",2),r.TgZ(3,"div",3)(4,"div",4),r._uU(5),r.qZA(),r.YNc(6,lle,3,5,"button",5),r.TgZ(7,"button",6),r.NdJ("click",function(){return i.previousPage()}),r.O4$(),r.TgZ(8,"svg",7),r._UZ(9,"path",8),r.qZA()(),r.kcU(),r.TgZ(10,"button",9),r.NdJ("click",function(){return i.nextPage()}),r.O4$(),r.TgZ(11,"svg",7),r._UZ(12,"path",10),r.qZA()(),r.YNc(13,cle,3,5,"button",11),r.qZA()()()),2&e&&(r.xp6(2),r.Q6J("ngIf",!i.hidePageSize),r.xp6(3),r.hij(" ",i._intl.getRangeLabel(i.pageIndex,i.pageSize,i.length)," "),r.xp6(1),r.Q6J("ngIf",i.showFirstLastButtons),r.xp6(1),r.Q6J("matTooltip",i._intl.previousPageLabel)("matTooltipDisabled",i._previousButtonsDisabled())("matTooltipPosition","above")("disabled",i._previousButtonsDisabled()),r.uIk("aria-label",i._intl.previousPageLabel),r.xp6(3),r.Q6J("matTooltip",i._intl.nextPageLabel)("matTooltipDisabled",i._nextButtonsDisabled())("matTooltipPosition","above")("disabled",i._nextButtonsDisabled()),r.uIk("aria-label",i._intl.nextPageLabel),r.xp6(3),r.Q6J("ngIf",i.showFirstLastButtons))},directives:[$d,$_,ug,Uo,Sn,qn,ele],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-paginator-icon{fill:CanvasText}\n"],encapsulation:2,changeDetection:0}),t})(),BZ=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[dle],imports:[[wo,z2,e6,ile,ci]]}),t})();const gle=["mat-sort-header",""];function _le(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"div",3),r.NdJ("@arrowPosition.start",function(){return r.CHM(e),r.oxw()._disableViewStateAnimation=!0})("@arrowPosition.done",function(){return r.CHM(e),r.oxw()._disableViewStateAnimation=!1}),r._UZ(1,"div",4),r.TgZ(2,"div",5),r._UZ(3,"div",6)(4,"div",7)(5,"div",8),r.qZA()()}if(2&t){const e=r.oxw();r.Q6J("@arrowOpacity",e._getArrowViewState())("@arrowPosition",e._getArrowViewState())("@allowChildren",e._getArrowDirectionState()),r.xp6(2),r.Q6J("@indicator",e._getArrowDirectionState()),r.xp6(1),r.Q6J("@leftPointer",e._getArrowDirectionState()),r.xp6(1),r.Q6J("@rightPointer",e._getArrowDirectionState())}}const vle=["*"],Kb=Ti.ENTERING+" "+Xt.STANDARD_CURVE,iA={indicator:zs("indicator",[Mr("active-asc, asc",Qt({transform:"translateY(0px)"})),Mr("active-desc, desc",Qt({transform:"translateY(10px)"})),pr("active-asc <=> active-desc",Ar(Kb))]),leftPointer:zs("leftPointer",[Mr("active-asc, asc",Qt({transform:"rotate(-45deg)"})),Mr("active-desc, desc",Qt({transform:"rotate(45deg)"})),pr("active-asc <=> active-desc",Ar(Kb))]),rightPointer:zs("rightPointer",[Mr("active-asc, asc",Qt({transform:"rotate(45deg)"})),Mr("active-desc, desc",Qt({transform:"rotate(-45deg)"})),pr("active-asc <=> active-desc",Ar(Kb))]),arrowOpacity:zs("arrowOpacity",[Mr("desc-to-active, asc-to-active, active",Qt({opacity:1})),Mr("desc-to-hint, asc-to-hint, hint",Qt({opacity:.54})),Mr("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",Qt({opacity:0})),pr("* => asc, * => desc, * => active, * => hint, * => void",Ar("0ms")),pr("* <=> *",Ar(Kb))]),arrowPosition:zs("arrowPosition",[pr("* => desc-to-hint, * => desc-to-active",Ar(Kb,Nh([Qt({transform:"translateY(-25%)"}),Qt({transform:"translateY(0)"})]))),pr("* => hint-to-desc, * => active-to-desc",Ar(Kb,Nh([Qt({transform:"translateY(0)"}),Qt({transform:"translateY(25%)"})]))),pr("* => asc-to-hint, * => asc-to-active",Ar(Kb,Nh([Qt({transform:"translateY(25%)"}),Qt({transform:"translateY(0)"})]))),pr("* => hint-to-asc, * => active-to-asc",Ar(Kb,Nh([Qt({transform:"translateY(0)"}),Qt({transform:"translateY(-25%)"})]))),Mr("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",Qt({transform:"translateY(0)"})),Mr("hint-to-desc, active-to-desc, desc",Qt({transform:"translateY(-25%)"})),Mr("hint-to-asc, active-to-asc, asc",Qt({transform:"translateY(25%)"}))]),allowChildren:zs("allowChildren",[pr("* <=> *",[I_("@*",Pp(),{optional:!0})])])};let ZO=(()=>{class t{constructor(){this.changes=new Ht.x}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const ble={provide:ZO,deps:[[new r.FiY,new r.tp0,ZO]],useFactory:function yle(t){return t||new ZO}},wle=new r.OlP("MAT_SORT_DEFAULT_OPTIONS"),Cle=cT(td(class{}));let Xb=(()=>{class t extends Cle{constructor(e){super(),this._defaultOptions=e,this.sortables=new Map,this._stateChanges=new Ht.x,this.start="asc",this._direction="",this.sortChange=new r.vpe}get direction(){return this._direction}set direction(e){this._direction=e}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=Rn(e)}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){var i,o,s;if(!e)return"";const a=null!==(o=null!==(i=null==e?void 0:e.disableClear)&&void 0!==i?i:this.disableClear)&&void 0!==o?o:!!(null===(s=this._defaultOptions)||void 0===s?void 0:s.disableClear);let d=function xle(t,n){let e=["asc","desc"];return"desc"==t&&e.reverse(),n||e.push(""),e}(e.start||this.start,a),f=d.indexOf(this.direction)+1;return f>=d.length&&(f=0),d[f]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(wle,8))},t.\u0275dir=r.lG2({type:t,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[r.qOj,r.TTD]}),t})();const Tle=td(class{});let YO=(()=>{class t extends Tle{constructor(e,i,o,s,a,d,f){super(),this._intl=e,this._changeDetectorRef=i,this._sort=o,this._columnDef=s,this._focusMonitor=a,this._elementRef=d,this._ariaDescriber=f,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._sortActionDescription="Sort",this._handleStateChanges()}get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(e){this._updateSortActionDescription(e)}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=Rn(e)}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{const i=!!e;i!==this._showIndicatorHint&&(this._setIndicatorHintVisible(i),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(e){this._isDisabled()&&e||(this._showIndicatorHint=e,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(e){this._viewState=e||{},this._disableViewStateAnimation&&(this._viewState={toState:e.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(e){!this._isDisabled()&&(32===e.keyCode||13===e.keyCode)&&(e.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const e=this._viewState.fromState;return(e?`${e}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(e){var i,o;this._sortButton&&(null===(i=this._ariaDescriber)||void 0===i||i.removeDescription(this._sortButton,this._sortActionDescription),null===(o=this._ariaDescriber)||void 0===o||o.describe(this._sortButton,e)),this._sortActionDescription=e}_handleStateChanges(){this._rerenderSubscription=(0,co.T)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(ZO),r.Y36(r.sBO),r.Y36(Xb,8),r.Y36("MAT_SORT_HEADER_COLUMN_DEF",8),r.Y36(Bh),r.Y36(r.SBq),r.Y36(GS,8))},t.\u0275cmp=r.Xpm({type:t,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(e,i){1&e&&r.NdJ("click",function(){return i._handleClick()})("keydown",function(s){return i._handleKeydown(s)})("mouseenter",function(){return i._setIndicatorHintVisible(!0)})("mouseleave",function(){return i._setIndicatorHintVisible(!1)}),2&e&&(r.uIk("aria-sort",i._getAriaSortAttribute()),r.ekj("mat-sort-header-disabled",i._isDisabled()))},inputs:{disabled:"disabled",id:["mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",sortActionDescription:"sortActionDescription",disableClear:"disableClear"},exportAs:["matSortHeader"],features:[r.qOj],attrs:gle,ngContentSelectors:vle,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(e,i){1&e&&(r.F$t(),r.TgZ(0,"div",0)(1,"div",1),r.Hsn(2),r.qZA(),r.YNc(3,_le,6,6,"div",2),r.qZA()),2&e&&(r.ekj("mat-sort-header-sorted",i._isSorted())("mat-sort-header-position-before","before"==i.arrowPosition),r.uIk("tabindex",i._isDisabled()?null:0)("role",i._isDisabled()?null:"button"),r.xp6(3),r.Q6J("ngIf",i._renderArrow()))},directives:[Sn],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}\n"],encapsulation:2,data:{animation:[iA.indicator,iA.leftPointer,iA.rightPointer,iA.arrowOpacity,iA.arrowPosition,iA.allowChildren]},changeDetection:0}),t})(),UZ=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[ble],imports:[[wo,ci]]}),t})();const Sle=[[["caption"]],[["colgroup"],["col"]]],Dle=["caption","colgroup, col"];function b6(t){return class extends t{constructor(...n){super(...n),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(n){const e=this._sticky;this._sticky=Rn(n),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const n=this._hasStickyChanged;return this._hasStickyChanged=!1,n}resetStickyChanged(){this._hasStickyChanged=!1}}}const rA=new r.OlP("CDK_TABLE");let oA=(()=>{class t{constructor(e){this.template=e}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Rgc))},t.\u0275dir=r.lG2({type:t,selectors:[["","cdkCellDef",""]]}),t})(),sA=(()=>{class t{constructor(e){this.template=e}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Rgc))},t.\u0275dir=r.lG2({type:t,selectors:[["","cdkHeaderCellDef",""]]}),t})(),zO=(()=>{class t{constructor(e){this.template=e}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Rgc))},t.\u0275dir=r.lG2({type:t,selectors:[["","cdkFooterCellDef",""]]}),t})();class Ile{}const Ole=b6(Ile);let Vy=(()=>{class t extends Ole{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=Rn(e),this._hasStickyChanged=i!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(rA,8))},t.\u0275dir=r.lG2({type:t,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,i,o){if(1&e&&(r.Suo(o,oA,5),r.Suo(o,sA,5),r.Suo(o,zO,5)),2&e){let s;r.iGM(s=r.CRH())&&(i.cell=s.first),r.iGM(s=r.CRH())&&(i.headerCell=s.first),r.iGM(s=r.CRH())&&(i.footerCell=s.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[r._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),r.qOj]}),t})();class w6{constructor(n,e){e.nativeElement.classList.add(...n._columnCssClassName)}}let C6=(()=>{class t extends w6{constructor(e,i){super(e,i)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Vy),r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[r.qOj]}),t})(),x6=(()=>{class t extends w6{constructor(e,i){var o;if(super(e,i),1===(null===(o=e._table)||void 0===o?void 0:o._elementRef.nativeElement.nodeType)){const s=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===s||"treegrid"===s?"gridcell":"cell")}}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Vy),r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[r.qOj]}),t})();class VZ{constructor(){this.tasks=[],this.endTasks=[]}}const T6=new r.OlP("_COALESCED_STYLE_SCHEDULER");let qZ=(()=>{class t{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new Ht.x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new VZ,this._getScheduleObservable().pipe(ai(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new VZ;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,go.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,Er.q)(1))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.R0b))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),A6=(()=>{class t{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof lE?e.headerCell.template:this instanceof cE?e.footerCell.template:e.cell.template}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Rgc),r.Y36(r.ZZ4))},t.\u0275dir=r.lG2({type:t,features:[r.TTD]}),t})();class Lle extends A6{}const Fle=b6(Lle);let lE=(()=>{class t extends Fle{constructor(e,i,o){super(e,i),this._table=o}ngOnChanges(e){super.ngOnChanges(e)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Rgc),r.Y36(r.ZZ4),r.Y36(rA,8))},t.\u0275dir=r.lG2({type:t,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[r.qOj,r.TTD]}),t})();class Nle extends A6{}const Rle=b6(Nle);let cE=(()=>{class t extends Rle{constructor(e,i,o){super(e,i),this._table=o}ngOnChanges(e){super.ngOnChanges(e)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Rgc),r.Y36(r.ZZ4),r.Y36(rA,8))},t.\u0275dir=r.lG2({type:t,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[r.qOj,r.TTD]}),t})(),WO=(()=>{class t extends A6{constructor(e,i,o){super(e,i),this._table=o}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Rgc),r.Y36(r.ZZ4),r.Y36(rA,8))},t.\u0275dir=r.lG2({type:t,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[r.qOj]}),t})(),qy=(()=>{class t{constructor(e){this._viewContainer=e,t.mostRecentCellOutlet=this}ngOnDestroy(){t.mostRecentCellOutlet===this&&(t.mostRecentCellOutlet=null)}}return t.mostRecentCellOutlet=null,t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b))},t.\u0275dir=r.lG2({type:t,selectors:[["","cdkCellOutlet",""]]}),t})(),S6=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&r.GkF(0,0)},directives:[qy],encapsulation:2}),t})(),E6=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&r.GkF(0,0)},directives:[qy],encapsulation:2}),t})(),$O=(()=>{class t{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Rgc))},t.\u0275dir=r.lG2({type:t,selectors:[["ng-template","cdkNoDataRow",""]]}),t})();const HZ=["top","bottom","left","right"];class Ple{constructor(n,e,i,o,s=!0,a=!0,d){this._isNativeHtmlTable=n,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=o,this._isBrowser=s,this._needsPositionStickyOnElement=a,this._positionListener=d,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(n,e){const i=[];for(const o of n)if(o.nodeType===o.ELEMENT_NODE){i.push(o);for(let s=0;s<o.children.length;s++)i.push(o.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(const o of i)this._removeStickyStyle(o,e)})}updateStickyColumns(n,e,i,o=!0){if(!n.length||!this._isBrowser||!e.some(S=>S)&&!i.some(S=>S))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const s=n[0],a=s.children.length,d=this._getCellWidths(s,o),f=this._getStickyStartColumnPositions(d,e),v=this._getStickyEndColumnPositions(d,i),w=e.lastIndexOf(!0),x=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const S="rtl"===this.direction,E=S?"right":"left",q=S?"left":"right";for(const H of n)for(let ee=0;ee<a;ee++){const $=H.children[ee];e[ee]&&this._addStickyStyle($,E,f[ee],ee===w),i[ee]&&this._addStickyStyle($,q,v[ee],ee===x)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===w?[]:d.slice(0,w+1).map((H,ee)=>e[ee]?H:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===x?[]:d.slice(x).map((H,ee)=>i[ee+x]?H:null).reverse()}))})}stickRows(n,e,i){if(!this._isBrowser)return;const o="bottom"===i?n.slice().reverse():n,s="bottom"===i?e.slice().reverse():e,a=[],d=[],f=[];for(let w=0,x=0;w<o.length;w++){if(!s[w])continue;a[w]=x;const S=o[w];f[w]=this._isNativeHtmlTable?Array.from(S.children):[S];const E=S.getBoundingClientRect().height;x+=E,d[w]=E}const v=s.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var w,x;for(let S=0;S<o.length;S++){if(!s[S])continue;const E=a[S],q=S===v;for(const H of f[S])this._addStickyStyle(H,i,E,q)}"top"===i?null===(w=this._positionListener)||void 0===w||w.stickyHeaderRowsUpdated({sizes:d,offsets:a,elements:f}):null===(x=this._positionListener)||void 0===x||x.stickyFooterRowsUpdated({sizes:d,offsets:a,elements:f})})}updateStickyFooterContainer(n,e){if(!this._isNativeHtmlTable)return;const i=n.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(o=>!o)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(n,e){for(const o of e)n.style[o]="",n.classList.remove(this._borderCellCss[o]);HZ.some(o=>-1===e.indexOf(o)&&n.style[o])?n.style.zIndex=this._getCalculatedZIndex(n):(n.style.zIndex="",this._needsPositionStickyOnElement&&(n.style.position=""),n.classList.remove(this._stickCellCss))}_addStickyStyle(n,e,i,o){n.classList.add(this._stickCellCss),o&&n.classList.add(this._borderCellCss[e]),n.style[e]=`${i}px`,n.style.zIndex=this._getCalculatedZIndex(n),this._needsPositionStickyOnElement&&(n.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(n){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const o of HZ)n.style[o]&&(i+=e[o]);return i?`${i}`:""}_getCellWidths(n,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],o=n.children;for(let s=0;s<o.length;s++)i.push(o[s].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(n,e){const i=[];let o=0;for(let s=0;s<n.length;s++)e[s]&&(i[s]=o,o+=n[s]);return i}_getStickyEndColumnPositions(n,e){const i=[];let o=0;for(let s=n.length;s>0;s--)e[s]&&(i[s]=o,o+=n[s]);return i}}const M6=new r.OlP("CDK_SPL");let QO=(()=>{class t{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t,selectors:[["","rowOutlet",""]]}),t})(),JO=(()=>{class t{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t,selectors:[["","headerRowOutlet",""]]}),t})(),KO=(()=>{class t{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t,selectors:[["","footerRowOutlet",""]]}),t})(),XO=(()=>{class t{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t,selectors:[["","noDataRowOutlet",""]]}),t})(),e5=(()=>{class t{constructor(e,i,o,s,a,d,f,v,w,x,S,E){this._differs=e,this._changeDetectorRef=i,this._elementRef=o,this._dir=a,this._platform=f,this._viewRepeater=v,this._coalescedStyleScheduler=w,this._viewportRuler=x,this._stickyPositioningListener=S,this._ngZone=E,this._onDestroy=new Ht.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new r.vpe,this.viewChange=new Io({start:0,end:Number.MAX_VALUE}),s||this._elementRef.nativeElement.setAttribute("role","table"),this._document=d,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=Rn(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=Rn(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(ai(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),XP(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(o,s,a)=>this._getEmbeddedViewArgs(o.item,a),o=>o.item.data,o=>{1===o.operation&&o.context&&this._renderCellTemplateForItem(o.record.item.rowDef,o.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(o=>{i.get(o.currentIndex).context.$implicit=o.item.data}),this._updateNoDataRow(),this._ngZone&&r.R0b.isInAngularZone()?this._ngZone.onStable.pipe((0,Er.q)(1),ai(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),o=this._elementRef.nativeElement.querySelector("thead");o&&(o.style.display=e.length?"":"none");const s=this._headerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,s,"top"),this._headerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),o=this._elementRef.nativeElement.querySelector("tfoot");o&&(o.style.display=e.length?"":"none");const s=this._footerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,s,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,s),this._footerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),o=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...o],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((s,a)=>{this._addStickyColumnStyles([s],this._headerRowDefs[a])}),this._rowDefs.forEach(s=>{const a=[];for(let d=0;d<i.length;d++)this._renderRows[d].rowDef===s&&a.push(i[d]);this._addStickyColumnStyles(a,s)}),o.forEach((s,a)=>{this._addStickyColumnStyles([s],this._footerRowDefs[a])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let o=0;o<this._data.length;o++){let s=this._data[o];const a=this._getRenderRowsForData(s,o,i.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let d=0;d<a.length;d++){let f=a[d];const v=this._cachedRenderRowsMap.get(f.data);v.has(f.rowDef)?v.get(f.rowDef).push(f):v.set(f.rowDef,[f]),e.push(f)}}return e}_getRenderRowsForData(e,i,o){return this._getRowDefs(e,i).map(a=>{const d=o&&o.has(a)?o.get(a):[];if(d.length){const f=d.shift();return f.dataIndex=i,f}return{data:e,rowDef:a,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),t5(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=t5(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=t5(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=t5(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(a,d)=>a||!!d.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const o=this._headerRowDefs.reduce(e,!1);o&&this._forceRenderHeaderRows();const s=this._footerRowDefs.reduce(e,!1);return s&&this._forceRenderFooterRows(),i||o||s}_switchDataSource(e){this._data=[],XP(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;XP(this.dataSource)?e=this.dataSource.connect(this):function Ale(t){return!!t&&(t instanceof Co.y||(0,Ye.m)(t.lift)&&(0,Ye.m)(t.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=Dn(this.dataSource)),this._renderChangeSubscription=e.pipe(ai(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const o=Array.from(i.columns||[]).map(d=>this._columnDefsByName.get(d)),s=o.map(d=>d.sticky),a=o.map(d=>d.stickyEnd);this._stickyStyler.updateStickyColumns(e,s,a,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let o=0;o<e.viewContainer.length;o++){const s=e.viewContainer.get(o);i.push(s.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let o=[];if(this.multiTemplateDataRows)o=this._rowDefs.filter(s=>!s.when||s.when(i,e));else{let s=this._rowDefs.find(a=>a.when&&a.when(i,e))||this._defaultRowDef;s&&o.push(s)}return o}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,o,s={}){const a=e.viewContainer.createEmbeddedView(i.template,s,o);return this._renderCellTemplateForItem(i,s),a}_renderCellTemplateForItem(e,i){for(let o of this._getCellTemplates(e))qy.mostRecentCellOutlet&&qy.mostRecentCellOutlet._viewContainer.createEmbeddedView(o,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,o=e.length;i<o;i++){const a=e.get(i).context;a.count=o,a.first=0===i,a.last=i===o-1,a.even=i%2==0,a.odd=!a.even,this.multiTemplateDataRows?(a.dataIndex=this._renderRows[i].dataIndex,a.renderIndex=i):a.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const o=this._columnDefsByName.get(i);return e.extractCellTemplate(o)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const o of i){const s=this._document.createElement(o.tag);s.setAttribute("role","rowgroup");for(const a of o.outlets)s.appendChild(a.elementRef.nativeElement);e.appendChild(s)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,o)=>i||o.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new Ple(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:Dn()).pipe(ai(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const o=this._noDataRowOutlet.viewContainer;if(i){const s=o.createEmbeddedView(e.templateRef),a=s.rootNodes[0];1===s.rootNodes.length&&(null==a?void 0:a.nodeType)===this._document.ELEMENT_NODE&&(a.setAttribute("role","row"),a.classList.add(e._contentClassName))}else o.clear();this._isShowingNoDataRow=i}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.ZZ4),r.Y36(r.sBO),r.Y36(r.SBq),r.$8M("role"),r.Y36(Us,8),r.Y36(et),r.Y36(ho),r.Y36(eE),r.Y36(T6),r.Y36(Sy),r.Y36(M6,12),r.Y36(r.R0b,8))},t.\u0275cmp=r.Xpm({type:t,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,i,o){if(1&e&&(r.Suo(o,$O,5),r.Suo(o,Vy,5),r.Suo(o,WO,5),r.Suo(o,lE,5),r.Suo(o,cE,5)),2&e){let s;r.iGM(s=r.CRH())&&(i._noDataRow=s.first),r.iGM(s=r.CRH())&&(i._contentColumnDefs=s),r.iGM(s=r.CRH())&&(i._contentRowDefs=s),r.iGM(s=r.CRH())&&(i._contentHeaderRowDefs=s),r.iGM(s=r.CRH())&&(i._contentFooterRowDefs=s)}},viewQuery:function(e,i){if(1&e&&(r.Gf(QO,7),r.Gf(JO,7),r.Gf(KO,7),r.Gf(XO,7)),2&e){let o;r.iGM(o=r.CRH())&&(i._rowOutlet=o.first),r.iGM(o=r.CRH())&&(i._headerRowOutlet=o.first),r.iGM(o=r.CRH())&&(i._footerRowOutlet=o.first),r.iGM(o=r.CRH())&&(i._noDataRowOutlet=o.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,i){2&e&&r.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[r._Bn([{provide:rA,useExisting:t},{provide:eE,useClass:VG},{provide:T6,useClass:qZ},{provide:M6,useValue:null}])],ngContentSelectors:Dle,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(r.F$t(Sle),r.Hsn(0),r.Hsn(1,1),r.GkF(2,0)(3,1)(4,2)(5,3))},directives:[JO,QO,XO,KO],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),t})();function t5(t,n){return t.concat(Array.from(n))}let Ule=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[KN]]}),t})();const jle=[[["caption"]],[["colgroup"],["col"]]],Vle=["caption","colgroup, col"];let uE=(()=>{class t extends e5{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=r.n5z(t)))(i||t)}}(),t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,i){2&e&&r.ekj("mat-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[r._Bn([{provide:eE,useClass:VG},{provide:e5,useExisting:t},{provide:rA,useExisting:t},{provide:T6,useClass:qZ},{provide:M6,useValue:null}]),r.qOj],ngContentSelectors:Vle,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(r.F$t(jle),r.Hsn(0),r.Hsn(1,1),r.GkF(2,0)(3,1)(4,2)(5,3))},directives:[JO,QO,XO,KO],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),t})(),aA=(()=>{class t extends oA{}return t.\u0275fac=function(){let n;return function(i){return(n||(n=r.n5z(t)))(i||t)}}(),t.\u0275dir=r.lG2({type:t,selectors:[["","matCellDef",""]],features:[r._Bn([{provide:oA,useExisting:t}]),r.qOj]}),t})(),lA=(()=>{class t extends sA{}return t.\u0275fac=function(){let n;return function(i){return(n||(n=r.n5z(t)))(i||t)}}(),t.\u0275dir=r.lG2({type:t,selectors:[["","matHeaderCellDef",""]],features:[r._Bn([{provide:sA,useExisting:t}]),r.qOj]}),t})(),cA=(()=>{class t extends Vy{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=r.n5z(t)))(i||t)}}(),t.\u0275dir=r.lG2({type:t,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[r._Bn([{provide:Vy,useExisting:t},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),r.qOj]}),t})(),uA=(()=>{class t extends C6{}return t.\u0275fac=function(){let n;return function(i){return(n||(n=r.n5z(t)))(i||t)}}(),t.\u0275dir=r.lG2({type:t,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[r.qOj]}),t})(),dA=(()=>{class t extends x6{}return t.\u0275fac=function(){let n;return function(i){return(n||(n=r.n5z(t)))(i||t)}}(),t.\u0275dir=r.lG2({type:t,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[r.qOj]}),t})(),dE=(()=>{class t extends lE{}return t.\u0275fac=function(){let n;return function(i){return(n||(n=r.n5z(t)))(i||t)}}(),t.\u0275dir=r.lG2({type:t,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[r._Bn([{provide:lE,useExisting:t}]),r.qOj]}),t})(),hE=(()=>{class t extends WO{}return t.\u0275fac=function(){let n;return function(i){return(n||(n=r.n5z(t)))(i||t)}}(),t.\u0275dir=r.lG2({type:t,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[r._Bn([{provide:WO,useExisting:t}]),r.qOj]}),t})(),fE=(()=>{class t extends S6{}return t.\u0275fac=function(){let n;return function(i){return(n||(n=r.n5z(t)))(i||t)}}(),t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[r._Bn([{provide:S6,useExisting:t}]),r.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&r.GkF(0,0)},directives:[qy],encapsulation:2}),t})(),pE=(()=>{class t extends E6{}return t.\u0275fac=function(){let n;return function(i){return(n||(n=r.n5z(t)))(i||t)}}(),t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[r._Bn([{provide:E6,useExisting:t}]),r.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&r.GkF(0,0)},directives:[qy],encapsulation:2}),t})(),ZZ=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[Ule,ci],ci]}),t})();class mE extends class Kle extends class Loe{}{constructor(n=[]){super(),this._renderData=new Io([]),this._filter=new Io(""),this._internalPageChanges=new Ht.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,i)=>{const o=e[i];if(qM(o)){const s=Number(o);return s<9007199254740991?s:o}return o},this.sortData=(e,i)=>{const o=i.active,s=i.direction;return o&&""!=s?e.sort((a,d)=>{let f=this.sortingDataAccessor(a,o),v=this.sortingDataAccessor(d,o);const w=typeof f,x=typeof v;w!==x&&("number"===w&&(f+=""),"number"===x&&(v+=""));let S=0;return null!=f&&null!=v?f>v?S=1:f<v&&(S=-1):null!=f?S=1:null!=v&&(S=-1),S*("asc"==s?1:-1)}):e},this.filterPredicate=(e,i)=>{const o=Object.keys(e).reduce((a,d)=>a+e[d]+"\u25ec","").toLowerCase(),s=i.trim().toLowerCase();return-1!=o.indexOf(s)},this._data=new Io(n),this._updateChangeSubscription()}get data(){return this._data.value}set data(n){n=Array.isArray(n)?n:[],this._data.next(n),this._renderChangesSubscription||this._filterData(n)}get filter(){return this._filter.value}set filter(n){this._filter.next(n),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(n){this._sort=n,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(n){this._paginator=n,this._updateChangeSubscription()}_updateChangeSubscription(){var n;const e=this._sort?(0,co.T)(this._sort.sortChange,this._sort.initialized):Dn(null),i=this._paginator?(0,co.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):Dn(null),s=X([this._data,this._filter]).pipe((0,un.U)(([f])=>this._filterData(f))),a=X([s,e]).pipe((0,un.U)(([f])=>this._orderData(f))),d=X([a,i]).pipe((0,un.U)(([f])=>this._pageData(f)));null===(n=this._renderChangesSubscription)||void 0===n||n.unsubscribe(),this._renderChangesSubscription=d.subscribe(f=>this._renderData.next(f))}_filterData(n){return this.filteredData=null==this.filter||""===this.filter?n:n.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(n){return this.sort?this.sortData(n.slice(),this.sort):n}_pageData(n){if(!this.paginator)return n;const e=this.paginator.pageIndex*this.paginator.pageSize;return n.slice(e,e+this.paginator.pageSize)}_updatePaginator(n){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=n,e.pageIndex>0)){const i=Math.ceil(e.length/e.pageSize)-1||0,o=Math.min(e.pageIndex,i);o!==e.pageIndex&&(e.pageIndex=o,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){var n;null===(n=this._renderChangesSubscription)||void 0===n||n.unsubscribe(),this._renderChangesSubscription=null}}{}function ts(t){return(ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(t)}var hs=Uint8Array,Jc=Uint16Array,e1=Uint32Array,hA=new hs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fA=new hs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),gE=new hs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),zZ=function(t,n){for(var e=new Jc(31),i=0;i<31;++i)e[i]=n+=1<<t[i-1];var o=new e1(e[30]);for(i=1;i<30;++i)for(var s=e[i];s<e[i+1];++s)o[s]=s-e[i]<<5|i;return[e,o]},WZ=zZ(hA,2),k6=WZ[0],n5=WZ[1];k6[28]=258,n5[258]=28;for(var $Z=zZ(fA,0),QZ=$Z[0],I6=$Z[1],_E=new Jc(32768),Js=0;Js<32768;++Js){var t1=(43690&Js)>>>1|(21845&Js)<<1;_E[Js]=((65280&(t1=(61680&(t1=(52428&t1)>>>2|(13107&t1)<<2))>>>4|(3855&t1)<<4))>>>8|(255&t1)<<8)>>>1}var nm=function(t,n,e){for(var i=t.length,o=0,s=new Jc(n);o<i;++o)++s[t[o]-1];var d,a=new Jc(n);for(o=0;o<n;++o)a[o]=a[o-1]+s[o-1]<<1;if(e){d=new Jc(1<<n);var f=15-n;for(o=0;o<i;++o)if(t[o])for(var v=o<<4|t[o],w=n-t[o],x=a[t[o]-1]++<<w,S=x|(1<<w)-1;x<=S;++x)d[_E[x]>>>f]=v}else for(d=new Jc(i),o=0;o<i;++o)d[o]=_E[a[t[o]-1]++]>>>15-t[o];return d},Hy=new hs(288);for(Js=0;Js<144;++Js)Hy[Js]=8;for(Js=144;Js<256;++Js)Hy[Js]=9;for(Js=256;Js<280;++Js)Hy[Js]=7;for(Js=280;Js<288;++Js)Hy[Js]=8;var pA=new hs(32);for(Js=0;Js<32;++Js)pA[Js]=5;var JZ=nm(Hy,9,0),KZ=nm(Hy,9,1),XZ=nm(pA,5,0),eY=nm(pA,5,1),r5=function(t){for(var n=t[0],e=1;e<t.length;++e)t[e]>n&&(n=t[e]);return n},im=function(t,n,e){var i=n/8>>0;return(t[i]|t[i+1]<<8)>>>(7&n)&e},o5=function(t,n){var e=n/8>>0;return(t[e]|t[e+1]<<8|t[e+2]<<16)>>>(7&n)},vE=function(t){return(t/8>>0)+(7&t&&1)},OC=function(t,n,e){(null==n||n<0)&&(n=0),(null==e||e>t.length)&&(e=t.length);var i=new(t instanceof Jc?Jc:t instanceof e1?e1:hs)(e-n);return i.set(t.subarray(n,e)),i},Q_=function(t,n,e){var i=n/8>>0;t[i]|=e<<=7&n,t[i+1]|=e>>>8},mA=function(t,n,e){var i=n/8>>0;t[i]|=e<<=7&n,t[i+1]|=e>>>8,t[i+2]|=e>>>16},a5=function(t,n){for(var e=[],i=0;i<t.length;++i)t[i]&&e.push({s:i,f:t[i]});var o=e.length,s=e.slice();if(!o)return[new hs(0),0];if(1==o){var a=new hs(e[0].s+1);return a[e[0].s]=1,[a,1]}e.sort(function(Be,gt){return Be.f-gt.f}),e.push({s:-1,f:25001});var d=e[0],f=e[1],v=0,w=1,x=2;for(e[0]={s:-1,f:d.f+f.f,l:d,r:f};w!=o-1;)d=e[e[v].f<e[x].f?v++:x++],f=e[v!=w&&e[v].f<e[x].f?v++:x++],e[w++]={s:-1,f:d.f+f.f,l:d,r:f};var S=s[0].s;for(i=1;i<o;++i)s[i].s>S&&(S=s[i].s);var E=new Jc(S+1),q=l5(e[w-1],E,0);if(q>n){i=0;var H=0,ee=q-n,$=1<<ee;for(s.sort(function(gt,tt){return E[tt.s]-E[gt.s]||gt.f-tt.f});i<o;++i){var oe=s[i].s;if(!(E[oe]>n))break;H+=$-(1<<q-E[oe]),E[oe]=n}for(H>>>=ee;H>0;){var ve=s[i].s;E[ve]<n?H-=1<<n-E[ve]++-1:++i}for(;i>=0&&H;--i){var Fe=s[i].s;E[Fe]==n&&(--E[Fe],++H)}q=n}return[new hs(E),q]},l5=function(t,n,e){return-1==t.s?Math.max(l5(t.l,n,e+1),l5(t.r,n,e+1)):n[t.s]=e},O6=function(t){for(var n=t.length;n&&!t[--n];);for(var e=new Jc(++n),i=0,o=t[0],s=1,a=function(f){e[i++]=f},d=1;d<=n;++d)if(t[d]==o&&d!=n)++s;else{if(!o&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(o),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(o);s=1,o=t[d]}return[e.subarray(0,i),n]},gA=function(t,n){for(var e=0,i=0;i<n.length;++i)e+=t[i]*n[i];return e},yE=function(t,n,e){var i=e.length,o=vE(n+2);t[o]=255&i,t[o+1]=i>>>8,t[o+2]=255^t[o],t[o+3]=255^t[o+1];for(var s=0;s<i;++s)t[o+s+4]=e[s];return 8*(o+4+i)},L6=function(t,n,e,i,o,s,a,d,f,v,w){Q_(n,w++,e),++o[256];for(var x=a5(o,15),S=x[0],E=x[1],q=a5(s,15),H=q[0],ee=q[1],$=O6(S),oe=$[0],ve=$[1],Fe=O6(H),Be=Fe[0],gt=Fe[1],tt=new Jc(19),Le=0;Le<oe.length;++Le)tt[31&oe[Le]]++;for(Le=0;Le<Be.length;++Le)tt[31&Be[Le]]++;for(var St=a5(tt,7),Bt=St[0],Ce=St[1],we=19;we>4&&!Bt[gE[we-1]];--we);var ze,ct,Ke,bt,He=v+5<<3,je=gA(o,Hy)+gA(s,pA)+a,Rt=gA(o,S)+gA(s,H)+a+14+3*we+gA(tt,Bt)+(2*tt[16]+3*tt[17]+7*tt[18]);if(He<=je&&He<=Rt)return yE(n,w,t.subarray(f,f+v));if(Q_(n,w,1+(Rt<je)),w+=2,Rt<je){ze=nm(S,E,0),ct=S,Ke=nm(H,ee,0),bt=H;var Et=nm(Bt,Ce,0);for(Q_(n,w,ve-257),Q_(n,w+5,gt-1),Q_(n,w+10,we-4),w+=14,Le=0;Le<we;++Le)Q_(n,w+3*Le,Bt[gE[Le]]);w+=3*we;for(var Fn=[oe,Be],ae=0;ae<2;++ae){var De=Fn[ae];for(Le=0;Le<De.length;++Le)Q_(n,w,Et[Ee=31&De[Le]]),w+=Bt[Ee],Ee>15&&(Q_(n,w,De[Le]>>>5&127),w+=De[Le]>>>12)}}else ze=JZ,ct=Hy,Ke=XZ,bt=pA;for(Le=0;Le<d;++Le)if(i[Le]>255){var Ee;mA(n,w,ze[257+(Ee=i[Le]>>>18&31)]),w+=ct[Ee+257],Ee>7&&(Q_(n,w,i[Le]>>>23&31),w+=hA[Ee]);var Qe=31&i[Le];mA(n,w,Ke[Qe]),w+=bt[Qe],Qe>3&&(mA(n,w,i[Le]>>>5&8191),w+=fA[Qe])}else mA(n,w,ze[i[Le]]),w+=ct[i[Le]];return mA(n,w,ze[256]),w+ct[256]},tY=new e1([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),nY=new hs(0),u5=function(t,n,e,i,o){return function(t,n,e,i,o,s){var a=t.length,d=new hs(i+a+5*(1+Math.floor(a/7e3))+o),f=d.subarray(i,d.length-o),v=0;if(!n||a<8)for(var w=0;w<=a;w+=65535){var x=w+65535;x<a?v=yE(f,v,t.subarray(w,x)):(f[w]=s,v=yE(f,v,t.subarray(w,a)))}else{for(var S=tY[n-1],E=S>>>13,q=8191&S,H=(1<<e)-1,ee=new Jc(32768),$=new Jc(H+1),oe=Math.ceil(e/3),ve=2*oe,Fe=function(Ji){return(t[Ji]^t[Ji+1]<<oe^t[Ji+2]<<ve)&H},Be=new e1(25e3),gt=new Jc(288),tt=new Jc(32),Le=0,St=0,Bt=(w=0,0),Ce=0,we=0;w<a;++w){var He=Fe(w),je=32767&w,Rt=$[He];if(ee[je]=Rt,$[He]=je,Ce<=w){var ze=a-w;if((Le>7e3||Bt>24576)&&ze>423){v=L6(t,f,0,Be,gt,tt,St,Bt,we,w-we,v),Bt=Le=St=0,we=w;for(var ct=0;ct<286;++ct)gt[ct]=0;for(ct=0;ct<30;++ct)tt[ct]=0}var Ke=2,bt=0,Et=q,Fn=je-Rt&32767;if(ze>2&&He==Fe(w-Fn))for(var ae=Math.min(E,ze)-1,De=Math.min(32767,w),Ee=Math.min(258,ze);Fn<=De&&--Et&&je!=Rt;){if(t[w+Ke]==t[w+Ke-Fn]){for(var Qe=0;Qe<Ee&&t[w+Qe]==t[w+Qe-Fn];++Qe);if(Qe>Ke){if(Ke=Qe,bt=Fn,Qe>ae)break;var ut=Math.min(Fn,Qe-2),pt=0;for(ct=0;ct<ut;++ct){var Ct=w-Fn+ct+32768&32767,wn=Ct-ee[Ct]+32768&32767;wn>pt&&(pt=wn,Rt=Ct)}}}Fn+=(je=Rt)-(Rt=ee[je])+32768&32767}if(bt){Be[Bt++]=268435456|n5[Ke]<<18|I6[bt];var Cn=31&n5[Ke],Jn=31&I6[bt];St+=hA[Cn]+fA[Jn],++gt[257+Cn],++tt[Jn],Ce=w+Ke,++Le}else Be[Bt++]=t[w],++gt[t[w]]}}v=L6(t,f,s,Be,gt,tt,St,Bt,we,w-we,v),s||(v=yE(f,v,nY))}return OC(d,0,i+vE(v)+o)}(t,null==n.level?6:n.level,null==n.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):12+n.mem,e,i,!o)};function wE(t,n){void 0===n&&(n={});var e=function(){var t=1,n=0;return{p:function(e){for(var i=t,o=n,s=e.length,a=0;a!=s;){for(var d=Math.min(a+5552,s);a<d;++a)o+=i+=e[a];i%=65521,o%=65521}t=i,n=o},d:function(){return(t>>>8<<16|(255&n)<<8|n>>>8)+2*((255&t)<<23)}}}();e.p(t);var i=u5(t,n,2,4);return function(t,n){var e=n.level,i=0==e?0:e<6?1:9==e?3:2;t[0]=120,t[1]=i<<6|(i?32-2*i:1)}(i,n),function(t,n,e){for(;e;++n)t[n]=e,e>>>=8}(i,i.length-4,e.d()),i}function f5(t,n){return function(t,n,e){var i=t.length,o=!n||e,s=!e||e.i;e||(e={}),n||(n=new hs(3*i));var a=function(ut){var pt=n.length;if(ut>pt){var Ct=new hs(Math.max(2*pt,ut));Ct.set(n),n=Ct}},d=e.f||0,f=e.p||0,v=e.b||0,w=e.l,x=e.d,S=e.m,E=e.n,q=8*i;do{if(!w){e.f=d=im(t,f,1);var H=im(t,f+1,3);if(f+=3,!H){var $=t[(ee=vE(f)+4)-4]|t[ee-3]<<8,oe=ee+$;if(oe>i){if(s)throw"unexpected EOF";break}o&&a(v+$),n.set(t.subarray(ee,oe),v),e.b=v+=$,e.p=f=8*oe;continue}if(1==H)w=KZ,x=eY,S=9,E=5;else{if(2!=H)throw"invalid block type";var ve=im(t,f,31)+257,Fe=im(t,f+10,15)+4,Be=ve+im(t,f+5,31)+1;f+=14;for(var gt=new hs(Be),tt=new hs(19),Le=0;Le<Fe;++Le)tt[gE[Le]]=im(t,f+3*Le,7);f+=3*Fe;var St=r5(tt),Bt=(1<<St)-1;if(!s&&f+Be*(St+7)>q)break;var Ce=nm(tt,St,1);for(Le=0;Le<Be;){var ee,we=Ce[im(t,f,Bt)];if(f+=15&we,(ee=we>>>4)<16)gt[Le++]=ee;else{var He=0,je=0;for(16==ee?(je=3+im(t,f,3),f+=2,He=gt[Le-1]):17==ee?(je=3+im(t,f,7),f+=3):18==ee&&(je=11+im(t,f,127),f+=7);je--;)gt[Le++]=He}}var Rt=gt.subarray(0,ve),ze=gt.subarray(ve);S=r5(Rt),E=r5(ze),w=nm(Rt,S,1),x=nm(ze,E,1)}if(f>q)throw"unexpected EOF"}o&&a(v+131072);for(var ct=(1<<S)-1,Ke=(1<<E)-1,bt=S+E+18;s||f+bt<q;){var Et=(He=w[o5(t,f)&ct])>>>4;if((f+=15&He)>q)throw"unexpected EOF";if(!He)throw"invalid length/literal";if(Et<256)n[v++]=Et;else{if(256==Et){w=null;break}var Fn=Et-254;Et>264&&(Fn=im(t,f,(1<<(ae=hA[Le=Et-257]))-1)+k6[Le],f+=ae);var De=x[o5(t,f)&Ke],Ee=De>>>4;if(!De)throw"invalid distance";if(f+=15&De,ze=QZ[Ee],Ee>3){var ae=fA[Ee];ze+=o5(t,f)&(1<<ae)-1,f+=ae}if(f>q)throw"unexpected EOF";o&&a(v+131072);for(var Qe=v+Fn;v<Qe;v+=4)n[v]=n[v-ze],n[v+1]=n[v+1-ze],n[v+2]=n[v+2-ze],n[v+3]=n[v+3-ze];v=Qe}}e.l=w,e.p=f,e.b=v,w&&(d=1,e.m=S,e.d=x,e.n=E)}while(!d);return v==n.length?n:OC(n,0,v)}((function(t){if(8!=(15&t[0])||t[0]>>>4>7||(t[0]<<8|t[1])%31)throw"invalid zlib data";if(32&t[1])throw"invalid zlib data: preset dictionaries not supported"}(t),t.subarray(2,-4)),n)}var Qi=function(){return"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this}();function U6(){Qi.console&&"function"==typeof Qi.console.log&&Qi.console.log.apply(Qi.console,arguments)}var As={log:U6,warn:function(t){Qi.console&&("function"==typeof Qi.console.warn?Qi.console.warn.apply(Qi.console,arguments):U6.call(null,arguments))},error:function(t){Qi.console&&("function"==typeof Qi.console.error?Qi.console.error.apply(Qi.console,arguments):U6(t))}};function j6(t,n,e){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){LC(i.response,n,e)},i.onerror=function(){As.error("could not download file")},i.send()}function wY(t){var n=new XMLHttpRequest;n.open("HEAD",t,!1);try{n.send()}catch(e){}return n.status>=200&&n.status<=299}function m5(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(e){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(n)}}var CE,V6,LC=Qi.saveAs||("object"!==("undefined"==typeof window?"undefined":ts(window))||window!==Qi?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(t,n,e){var i=Qi.URL||Qi.webkitURL,o=document.createElement("a");o.download=n=n||t.name||"download",o.rel="noopener","string"==typeof t?(o.href=t,o.origin!==location.origin?wY(o.href)?j6(t,n,e):m5(o,o.target="_blank"):m5(o)):(o.href=i.createObjectURL(t),setTimeout(function(){i.revokeObjectURL(o.href)},4e4),setTimeout(function(){m5(o)},0))}:"msSaveOrOpenBlob"in navigator?function(t,n,e){if(n=n||t.name||"download","string"==typeof t)if(wY(t))j6(t,n,e);else{var i=document.createElement("a");i.href=t,i.target="_blank",setTimeout(function(){m5(i)})}else navigator.msSaveOrOpenBlob((o=t,void 0===(s=e)?s={autoBom:!1}:"object"!==ts(s)&&(As.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(o.type)?new Blob([String.fromCharCode(65279),o],{type:o.type}):o),n);var o,s}:function(t,n,e,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof t)return j6(t,n,e);var o="application/octet-stream"===t.type,s=/constructor/i.test(Qi.HTMLElement)||Qi.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||o&&s)&&"object"===("undefined"==typeof FileReader?"undefined":ts(FileReader))){var d=new FileReader;d.onloadend=function(){var w=d.result;w=a?w:w.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=w:location=w,i=null},d.readAsDataURL(t)}else{var f=Qi.URL||Qi.webkitURL,v=f.createObjectURL(t);i?i.location=v:location.href=v,i=null,setTimeout(function(){f.revokeObjectURL(v)},4e4)}});function CY(t){var n;t=t||"",this.ok=!1,"#"==t.charAt(0)&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(d){return[parseInt(d[1]),parseInt(d[2]),parseInt(d[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(d){return[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(d){return[parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16)]}}],i=0;i<e.length;i++){var s=e[i].process,a=e[i].re.exec(t);a&&(n=s(a),this.r=n[0],this.g=n[1],this.b=n[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var d=this.r.toString(16),f=this.g.toString(16),v=this.b.toString(16);return 1==d.length&&(d="0"+d),1==f.length&&(f="0"+f),1==v.length&&(v="0"+v),"#"+d+f+v}}function q6(t,n){var e=t[0],i=t[1],o=t[2],s=t[3];e=hd(e,i,o,s,n[0],7,-680876936),s=hd(s,e,i,o,n[1],12,-389564586),o=hd(o,s,e,i,n[2],17,606105819),i=hd(i,o,s,e,n[3],22,-1044525330),e=hd(e,i,o,s,n[4],7,-176418897),s=hd(s,e,i,o,n[5],12,1200080426),o=hd(o,s,e,i,n[6],17,-1473231341),i=hd(i,o,s,e,n[7],22,-45705983),e=hd(e,i,o,s,n[8],7,1770035416),s=hd(s,e,i,o,n[9],12,-1958414417),o=hd(o,s,e,i,n[10],17,-42063),i=hd(i,o,s,e,n[11],22,-1990404162),e=hd(e,i,o,s,n[12],7,1804603682),s=hd(s,e,i,o,n[13],12,-40341101),o=hd(o,s,e,i,n[14],17,-1502002290),e=fd(e,i=hd(i,o,s,e,n[15],22,1236535329),o,s,n[1],5,-165796510),s=fd(s,e,i,o,n[6],9,-1069501632),o=fd(o,s,e,i,n[11],14,643717713),i=fd(i,o,s,e,n[0],20,-373897302),e=fd(e,i,o,s,n[5],5,-701558691),s=fd(s,e,i,o,n[10],9,38016083),o=fd(o,s,e,i,n[15],14,-660478335),i=fd(i,o,s,e,n[4],20,-405537848),e=fd(e,i,o,s,n[9],5,568446438),s=fd(s,e,i,o,n[14],9,-1019803690),o=fd(o,s,e,i,n[3],14,-187363961),i=fd(i,o,s,e,n[8],20,1163531501),e=fd(e,i,o,s,n[13],5,-1444681467),s=fd(s,e,i,o,n[2],9,-51403784),o=fd(o,s,e,i,n[7],14,1735328473),e=pd(e,i=fd(i,o,s,e,n[12],20,-1926607734),o,s,n[5],4,-378558),s=pd(s,e,i,o,n[8],11,-2022574463),o=pd(o,s,e,i,n[11],16,1839030562),i=pd(i,o,s,e,n[14],23,-35309556),e=pd(e,i,o,s,n[1],4,-1530992060),s=pd(s,e,i,o,n[4],11,1272893353),o=pd(o,s,e,i,n[7],16,-155497632),i=pd(i,o,s,e,n[10],23,-1094730640),e=pd(e,i,o,s,n[13],4,681279174),s=pd(s,e,i,o,n[0],11,-358537222),o=pd(o,s,e,i,n[3],16,-722521979),i=pd(i,o,s,e,n[6],23,76029189),e=pd(e,i,o,s,n[9],4,-640364487),s=pd(s,e,i,o,n[12],11,-421815835),o=pd(o,s,e,i,n[15],16,530742520),e=md(e,i=pd(i,o,s,e,n[2],23,-995338651),o,s,n[0],6,-198630844),s=md(s,e,i,o,n[7],10,1126891415),o=md(o,s,e,i,n[14],15,-1416354905),i=md(i,o,s,e,n[5],21,-57434055),e=md(e,i,o,s,n[12],6,1700485571),s=md(s,e,i,o,n[3],10,-1894986606),o=md(o,s,e,i,n[10],15,-1051523),i=md(i,o,s,e,n[1],21,-2054922799),e=md(e,i,o,s,n[8],6,1873313359),s=md(s,e,i,o,n[15],10,-30611744),o=md(o,s,e,i,n[6],15,-1560198380),i=md(i,o,s,e,n[13],21,1309151649),e=md(e,i,o,s,n[4],6,-145523070),s=md(s,e,i,o,n[11],10,-1120210379),o=md(o,s,e,i,n[2],15,718787259),i=md(i,o,s,e,n[9],21,-343485551),t[0]=r1(e,t[0]),t[1]=r1(i,t[1]),t[2]=r1(o,t[2]),t[3]=r1(s,t[3])}function g5(t,n,e,i,o,s){return n=r1(r1(n,t),r1(i,s)),r1(n<<o|n>>>32-o,e)}function hd(t,n,e,i,o,s,a){return g5(n&e|~n&i,t,n,o,s,a)}function fd(t,n,e,i,o,s,a){return g5(n&i|e&~i,t,n,o,s,a)}function pd(t,n,e,i,o,s,a){return g5(n^e^i,t,n,o,s,a)}function md(t,n,e,i,o,s,a){return g5(e^(n|~i),t,n,o,s,a)}function xY(t){var n,e=t.length,i=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=t.length;n+=64)q6(i,uce(t.substring(n-64,n)));t=t.substring(n-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<t.length;n++)o[n>>2]|=t.charCodeAt(n)<<(n%4<<3);if(o[n>>2]|=128<<(n%4<<3),n>55)for(q6(i,o),n=0;n<16;n++)o[n]=0;return o[14]=8*e,q6(i,o),i}function uce(t){var n,e=[];for(n=0;n<64;n+=4)e[n>>2]=t.charCodeAt(n)+(t.charCodeAt(n+1)<<8)+(t.charCodeAt(n+2)<<16)+(t.charCodeAt(n+3)<<24);return e}CE=Qi.atob.bind(Qi),V6=Qi.btoa.bind(Qi);var TY="0123456789abcdef".split("");function dce(t){for(var n="",e=0;e<4;e++)n+=TY[t>>8*e+4&15]+TY[t>>8*e&15];return n}function hce(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function H6(t){return xY(t).map(hce).join("")}var fce="5d41402abc4b2a76b9719d911017c592"!=function(t){for(var n=0;n<t.length;n++)t[n]=dce(t[n]);return t.join("")}(xY("hello"));function r1(t,n){if(fce){var e=(65535&t)+(65535&n);return(t>>16)+(n>>16)+(e>>16)<<16|65535&e}return t+n&4294967295}function G6(t,n){var e,i,o;if(t!==e){for(var a=(o=t,new Array(1+(256/t.length>>0)+1).join(o)),d=[],f=0;f<256;f++)d[f]=f;var v=0;for(f=0;f<256;f++){var w=d[f];v=(v+w+a.charCodeAt(f))%256,d[f]=d[v],d[v]=w}e=t,i=d}else d=i;var x=n.length,S=0,E=0,q="";for(f=0;f<x;f++)E=(E+(w=d[S=(S+1)%256]))%256,d[S]=d[E],d[E]=w,a=d[(d[S]+d[E])%256],q+=String.fromCharCode(n.charCodeAt(f)^a);return q}var AY={print:4,modify:8,copy:16,"annot-forms":32};function vA(t,n,e,i){this.v=1,this.r=2;var o=192;t.forEach(function(d){if(void 0!==AY.perm)throw new Error("Invalid permission: "+d);o+=AY[d]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var s=(n+this.padding).substr(0,32),a=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^o)),this.encryptionKey=H6(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=G6(this.encryptionKey,this.padding)}function yA(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var n="",e=t.length,i=0;i<e;i++){var o=t.charCodeAt(i);n+=o<33||35===o||37===o||40===o||41===o||47===o||60===o||62===o||91===o||93===o||123===o||125===o||o>126?"#"+("0"+o.toString(16)).slice(-2):t[i]}return n}function SY(t){if("object"!==ts(t))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var n={};this.subscribe=function(e,i,o){if(o=o||!1,"string"!=typeof e||"function"!=typeof i||"boolean"!=typeof o)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");n.hasOwnProperty(e)||(n[e]={});var s=Math.random().toString(35);return n[e][s]=[i,!!o],s},this.unsubscribe=function(e){for(var i in n)if(n[i][e])return delete n[i][e],0===Object.keys(n[i]).length&&delete n[i],!0;return!1},this.publish=function(e){if(n.hasOwnProperty(e)){var i=Array.prototype.slice.call(arguments,1),o=[];for(var s in n[e]){var a=n[e][s];try{a[0].apply(t,i)}catch(d){Qi.console&&As.error("jsPDF PubSub Error",d.message,d)}a[1]&&o.push(s)}o.length&&o.forEach(this.unsubscribe)}},this.getTopics=function(){return n}}function _5(t){if(!(this instanceof _5))return new _5(t);var n="opacity,stroke-opacity".split(",");for(var e in t)t.hasOwnProperty(e)&&n.indexOf(e)>=0&&(this[e]=t[e]);this.id="",this.objectNumber=-1}function DY(t,n){this.gState=t,this.matrix=n,this.id="",this.objectNumber=-1}function FC(t,n,e,i,o){if(!(this instanceof FC))return new FC(t,n,e,i,o);this.type="axial"===t?2:3,this.coords=n,this.colors=e,DY.call(this,i,o)}function bA(t,n,e,i,o){if(!(this instanceof bA))return new bA(t,n,e,i,o);this.boundingBox=t,this.xStep=n,this.yStep=e,this.stream="",this.cloneIndex=0,DY.call(this,i,o)}function Hi(t){var n,e="string"==typeof arguments[0]?arguments[0]:"p",i=arguments[1],o=arguments[2],s=arguments[3],a=[],d=1,f=16,v="S",w=null;"object"===ts(t=t||{})&&(e=t.orientation,i=t.unit||i,o=t.format||o,s=t.compress||t.compressPdf||s,null!==(w=t.encryption||null)&&(w.userPassword=w.userPassword||"",w.ownerPassword=w.ownerPassword||"",w.userPermissions=w.userPermissions||[]),d="number"==typeof t.userUnit?Math.abs(t.userUnit):1,void 0!==t.precision&&(n=t.precision),void 0!==t.floatPrecision&&(f=t.floatPrecision),v=t.defaultPathOperation||"S"),a=t.filters||(!0===s?["FlateEncode"]:a),i=i||"mm",e=(""+(e||"P")).toLowerCase();var x=t.putOnlyUsedFonts||!1,S={},E={internal:{},__private__:{}};E.__private__.PubSub=SY;var q="1.3",H=E.__private__.getPdfVersion=function(){return q};E.__private__.setPdfVersion=function(F){q=F};var ee={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};E.__private__.getPageFormats=function(){return ee};var $=E.__private__.getPageFormat=function(F){return ee[F]};o=o||"a4";var oe={COMPAT:"compat",ADVANCED:"advanced"},ve=oe.COMPAT;function Fe(){this.saveGraphicsState(),Ne(new Gi(Qn,0,0,-Qn,0,u1()*Qn).toString()+" cm"),this.setFontSize(this.getFontSize()/Qn),v="n",ve=oe.ADVANCED}function Be(){this.restoreGraphicsState(),v="S",ve=oe.COMPAT}var gt=E.__private__.combineFontStyleAndFontWeight=function(F,ne){if("bold"==F&&"normal"==ne||"bold"==F&&400==ne||"normal"==F&&"italic"==ne||"bold"==F&&"italic"==ne)throw new Error("Invalid Combination of fontweight and fontstyle");return ne&&(F=400==ne||"normal"===ne?"italic"===F?"italic":"normal":700!=ne&&"bold"!==ne||"normal"!==F?(700==ne?"bold":ne)+""+F:"bold"),F};E.advancedAPI=function(F){var ne=ve===oe.COMPAT;return ne&&Fe.call(this),"function"!=typeof F||(F(this),ne&&Be.call(this)),this},E.compatAPI=function(F){var ne=ve===oe.ADVANCED;return ne&&Be.call(this),"function"!=typeof F||(F(this),ne&&Fe.call(this)),this},E.isAdvancedAPI=function(){return ve===oe.ADVANCED};var tt,Le=function(F){if(ve!==oe.ADVANCED)throw new Error(F+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},St=E.roundToPrecision=E.__private__.roundToPrecision=function(F,ne){var Me=n||ne;if(isNaN(F)||isNaN(Me))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return F.toFixed(Me).replace(/0+$/,"")};tt=E.hpf=E.__private__.hpf="number"==typeof f?function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return St(F,f)}:"smart"===f?function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return St(F,F>-1&&F<1?16:5)}:function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return St(F,16)};var Bt=E.f2=E.__private__.f2=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.f2");return St(F,2)},Ce=E.__private__.f3=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.f3");return St(F,3)},we=E.scale=E.__private__.scale=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.scale");return ve===oe.COMPAT?F*Qn:ve===oe.ADVANCED?F:void 0},He=function(F){return ve===oe.COMPAT?u1()-F:ve===oe.ADVANCED?F:void 0},je=function(F){return we(He(F))};E.__private__.setPrecision=E.setPrecision=function(F){"number"==typeof parseInt(F,10)&&(n=parseInt(F,10))};var Rt,ze="00000000000000000000000000000000",ct=E.__private__.getFileId=function(){return ze},Ke=E.__private__.setFileId=function(F){return ze=void 0!==F&&/^[a-fA-F0-9]{32}$/.test(F)?F.toUpperCase():ze.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==w&&(vd=new vA(w.userPermissions,w.userPassword,w.ownerPassword,ze)),ze};E.setFileId=function(F){return Ke(F),this},E.getFileId=function(){return ct()};var bt=E.__private__.convertDateToPDFDate=function(F){var ne=F.getTimezoneOffset(),Me=ne<0?"+":"-",Ge=Math.floor(Math.abs(ne/60)),ft=Math.abs(ne%60),Yt=[Me,Ee(Ge),"'",Ee(ft),"'"].join("");return["D:",F.getFullYear(),Ee(F.getMonth()+1),Ee(F.getDate()),Ee(F.getHours()),Ee(F.getMinutes()),Ee(F.getSeconds()),Yt].join("")},Et=E.__private__.convertPDFDateToDate=function(F){var ne=parseInt(F.substr(2,4),10),Me=parseInt(F.substr(6,2),10)-1,Ge=parseInt(F.substr(8,2),10),ft=parseInt(F.substr(10,2),10),Yt=parseInt(F.substr(12,2),10),_n=parseInt(F.substr(14,2),10);return new Date(ne,Me,Ge,ft,Yt,_n,0)},Fn=E.__private__.setCreationDate=function(F){var ne;if(void 0===F&&(F=new Date),F instanceof Date)ne=bt(F);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(F))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ne=F}return Rt=ne},ae=E.__private__.getCreationDate=function(F){var ne=Rt;return"jsDate"===F&&(ne=Et(Rt)),ne};E.setCreationDate=function(F){return Fn(F),this},E.getCreationDate=function(F){return ae(F)};var De,Ee=E.__private__.padd2=function(F){return("0"+parseInt(F)).slice(-2)},Qe=E.__private__.padd2Hex=function(F){return("00"+(F=F.toString())).substr(F.length)},ut=0,pt=[],Ct=[],Tt=0,wn=[],Cn=[],Jn=!1,ni=Ct,Ji=function(){ut=0,Tt=0,Ct=[],pt=[],wn=[],Yy=Pl(),Eg=Pl()};E.__private__.setCustomOutputDestination=function(F){Jn=!0,ni=F};var zt=function(F){Jn||(ni=F)};E.__private__.resetCustomOutputDestination=function(){Jn=!1,ni=Ct};var Ne=E.__private__.out=function(F){return F=F.toString(),Tt+=F.length+1,ni.push(F),ni},yr=E.__private__.write=function(F){return Ne(1===arguments.length?F.toString():Array.prototype.join.call(arguments," "))},bi=E.__private__.getArrayBuffer=function(F){for(var ne=F.length,Me=new ArrayBuffer(ne),Ge=new Uint8Array(Me);ne--;)Ge[ne]=F.charCodeAt(ne);return Me},xn=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];E.__private__.getStandardFonts=function(){return xn};var Un=t.fontSize||16;E.__private__.setFontSize=E.setFontSize=function(F){return Un=ve===oe.ADVANCED?F/Qn:F,this};var $n,Yn=E.__private__.getFontSize=E.getFontSize=function(){return ve===oe.COMPAT?Un:Un*Qn},Mi=t.R2L||!1;E.__private__.setR2L=E.setR2L=function(F){return Mi=F,this},E.__private__.getR2L=E.getR2L=function(){return Mi};var gr,kr=E.__private__.setZoomMode=function(F){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(F))$n=F;else if(isNaN(F)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(F))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+F+'" is not recognized.');$n=F}else $n=parseInt(F,10)};E.__private__.getZoomMode=function(){return $n};var Br,_o=E.__private__.setPageMode=function(F){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(F))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+F+'" is not recognized.');gr=F};E.__private__.getPageMode=function(){return gr};var fs=E.__private__.setLayoutMode=function(F){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(F))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+F+'" is not recognized.');Br=F};E.__private__.getLayoutMode=function(){return Br},E.__private__.setDisplayMode=E.setDisplayMode=function(F,ne,Me){return kr(F),fs(ne),_o(Me),this};var ir={title:"",subject:"",author:"",keywords:"",creator:""};E.__private__.getDocumentProperty=function(F){if(-1===Object.keys(ir).indexOf(F))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ir[F]},E.__private__.getDocumentProperties=function(){return ir},E.__private__.setDocumentProperties=E.setProperties=E.setDocumentProperties=function(F){for(var ne in ir)ir.hasOwnProperty(ne)&&F[ne]&&(ir[ne]=F[ne]);return this},E.__private__.setDocumentProperty=function(F,ne){if(-1===Object.keys(ir).indexOf(F))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ir[F]=ne};var Vr,Qn,_d,Eo,Ag,Ss={},ca={},ev=[],jo={},qC={},Za={},Sg={},Zy=null,Ya=0,_r=[],Vo=new SY(E),HC=t.hotfixes||[],Ou={},tv={},nv=[],Gi=function F(ne,Me,Ge,ft,Yt,_n){if(!(this instanceof F))return new F(ne,Me,Ge,ft,Yt,_n);isNaN(ne)&&(ne=1),isNaN(Me)&&(Me=0),isNaN(Ge)&&(Ge=0),isNaN(ft)&&(ft=1),isNaN(Yt)&&(Yt=0),isNaN(_n)&&(_n=0),this._matrix=[ne,Me,Ge,ft,Yt,_n]};Object.defineProperty(Gi.prototype,"sx",{get:function(){return this._matrix[0]},set:function(F){this._matrix[0]=F}}),Object.defineProperty(Gi.prototype,"shy",{get:function(){return this._matrix[1]},set:function(F){this._matrix[1]=F}}),Object.defineProperty(Gi.prototype,"shx",{get:function(){return this._matrix[2]},set:function(F){this._matrix[2]=F}}),Object.defineProperty(Gi.prototype,"sy",{get:function(){return this._matrix[3]},set:function(F){this._matrix[3]=F}}),Object.defineProperty(Gi.prototype,"tx",{get:function(){return this._matrix[4]},set:function(F){this._matrix[4]=F}}),Object.defineProperty(Gi.prototype,"ty",{get:function(){return this._matrix[5]},set:function(F){this._matrix[5]=F}}),Object.defineProperty(Gi.prototype,"a",{get:function(){return this._matrix[0]},set:function(F){this._matrix[0]=F}}),Object.defineProperty(Gi.prototype,"b",{get:function(){return this._matrix[1]},set:function(F){this._matrix[1]=F}}),Object.defineProperty(Gi.prototype,"c",{get:function(){return this._matrix[2]},set:function(F){this._matrix[2]=F}}),Object.defineProperty(Gi.prototype,"d",{get:function(){return this._matrix[3]},set:function(F){this._matrix[3]=F}}),Object.defineProperty(Gi.prototype,"e",{get:function(){return this._matrix[4]},set:function(F){this._matrix[4]=F}}),Object.defineProperty(Gi.prototype,"f",{get:function(){return this._matrix[5]},set:function(F){this._matrix[5]=F}}),Object.defineProperty(Gi.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Gi.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Gi.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Gi.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Gi.prototype.join=function(F){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(tt).join(F)},Gi.prototype.multiply=function(F){return new Gi(F.sx*this.sx+F.shy*this.shx,F.sx*this.shy+F.shy*this.sy,F.shx*this.sx+F.sy*this.shx,F.shx*this.shy+F.sy*this.sy,F.tx*this.sx+F.ty*this.shx+this.tx,F.tx*this.shy+F.ty*this.sy+this.ty)},Gi.prototype.decompose=function(){var F=this.sx,ne=this.shy,Me=this.shx,Ge=this.sy,ft=this.tx,Yt=this.ty,_n=Math.sqrt(F*F+ne*ne),Kn=(F/=_n)*Me+(ne/=_n)*Ge;Me-=F*Kn,Ge-=ne*Kn;var Ii=Math.sqrt(Me*Me+Ge*Ge);return Kn/=Ii,F*(Ge/=Ii)<ne*(Me/=Ii)&&(F=-F,ne=-ne,Kn=-Kn,_n=-_n),{scale:new Gi(_n,0,0,Ii,0,0),translate:new Gi(1,0,0,1,ft,Yt),rotate:new Gi(F,ne,-ne,F,0,0),skew:new Gi(1,0,Kn,1,0,0)}},Gi.prototype.toString=function(F){return this.join(" ")},Gi.prototype.inversed=function(){var F=this.sx,ne=this.shy,Me=this.shx,Ge=this.sy,ft=this.tx,Yt=this.ty,_n=1/(F*Ge-ne*Me),Kn=Ge*_n,Ii=-ne*_n,br=-Me*_n,Or=F*_n;return new Gi(Kn,Ii,br,Or,-Kn*ft-br*Yt,-Ii*ft-Or*Yt)},Gi.prototype.applyToPoint=function(F){return new GA(F.x*this.sx+F.y*this.shx+this.tx,F.x*this.shy+F.y*this.sy+this.ty)},Gi.prototype.applyToRectangle=function(F){var ne=this.applyToPoint(F),Me=this.applyToPoint(new GA(F.x+F.w,F.y+F.h));return new NE(ne.x,ne.y,Me.x-ne.x,Me.y-ne.y)},Gi.prototype.clone=function(){return new Gi(this.sx,this.shy,this.shx,this.sy,this.tx,this.ty)},E.Matrix=Gi;var Dg=E.matrixMult=function(F,ne){return ne.multiply(F)},iv=new Gi(1,0,0,1,0,0);E.unitMatrix=E.identityMatrix=iv;var Wh=function(F,ne){if(!qC[F]){var Me=(ne instanceof FC?"Sh":"P")+(Object.keys(jo).length+1).toString(10);ne.id=Me,qC[F]=Me,jo[Me]=ne,Vo.publish("addPattern",ne)}};E.ShadingPattern=FC,E.TilingPattern=bA,E.addShadingPattern=function(F,ne){return Le("addShadingPattern()"),Wh(F,ne),this},E.beginTilingPattern=function(F){Le("beginTilingPattern()"),X5(F.boundingBox[0],F.boundingBox[1],F.boundingBox[2]-F.boundingBox[0],F.boundingBox[3]-F.boundingBox[1],F.matrix)},E.endTilingPattern=function(F,ne){Le("endTilingPattern()"),ne.stream=Cn[De].join("\n"),Wh(F,ne),Vo.publish("endTilingPattern",ne),nv.pop().restore()};var gc=E.__private__.newObject=function(){var F=Pl();return Jf(F,!0),F},Pl=E.__private__.newObjectDeferred=function(){return ut++,pt[ut]=function(){return Tt},ut},Jf=function(F,ne){return ne="boolean"==typeof ne&&ne,pt[F]=Tt,ne&&Ne(F+" 0 obj"),F},IA=E.__private__.newAdditionalObject=function(){var F={objId:Pl(),content:""};return wn.push(F),F},Yy=Pl(),Eg=Pl(),Mg=E.__private__.decodeColorString=function(F){var ne=F.split(" ");if(2!==ne.length||"g"!==ne[1]&&"G"!==ne[1])5===ne.length&&("k"===ne[4]||"K"===ne[4])&&(ne=[(1-ne[0])*(1-ne[3]),(1-ne[1])*(1-ne[3]),(1-ne[2])*(1-ne[3]),"r"]);else{var Me=parseFloat(ne[0]);ne=[Me,Me,Me,"r"]}for(var Ge="#",ft=0;ft<3;ft++)Ge+=("0"+Math.floor(255*parseFloat(ne[ft])).toString(16)).slice(-2);return Ge},kg=E.__private__.encodeColorString=function(F){var ne;"string"==typeof F&&(F={ch1:F});var Me=F.ch1,Ge=F.ch2,ft=F.ch3,Yt=F.ch4,_n="draw"===F.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof Me&&"#"!==Me.charAt(0)){var Kn=new CY(Me);if(Kn.ok)Me=Kn.toHex();else if(!/^\d*\.?\d*$/.test(Me))throw new Error('Invalid color "'+Me+'" passed to jsPDF.encodeColorString.')}if("string"==typeof Me&&/^#[0-9A-Fa-f]{3}$/.test(Me)&&(Me="#"+Me[1]+Me[1]+Me[2]+Me[2]+Me[3]+Me[3]),"string"==typeof Me&&/^#[0-9A-Fa-f]{6}$/.test(Me)){var Ii=parseInt(Me.substr(1),16);Me=Ii>>16&255,Ge=Ii>>8&255,ft=255&Ii}if(void 0===Ge||void 0===Yt&&Me===Ge&&Ge===ft)ne="string"==typeof Me?Me+" "+_n[0]:2===F.precision?Bt(Me/255)+" "+_n[0]:Ce(Me/255)+" "+_n[0];else if(void 0===Yt||"object"===ts(Yt)){if(Yt&&!isNaN(Yt.a)&&0===Yt.a)return["1.","1.","1.",_n[1]].join(" ");ne="string"==typeof Me?[Me,Ge,ft,_n[1]].join(" "):2===F.precision?[Bt(Me/255),Bt(Ge/255),Bt(ft/255),_n[1]].join(" "):[Ce(Me/255),Ce(Ge/255),Ce(ft/255),_n[1]].join(" ")}else ne="string"==typeof Me?[Me,Ge,ft,Yt,_n[2]].join(" "):2===F.precision?[Bt(Me),Bt(Ge),Bt(ft),Bt(Yt),_n[2]].join(" "):[Ce(Me),Ce(Ge),Ce(ft),Ce(Yt),_n[2]].join(" ");return ne},rv=E.__private__.getFilters=function(){return a},rm=E.__private__.putStream=function(F){var ne=(F=F||{}).data||"",Me=F.filters||rv(),Ge=F.alreadyAppliedFilters||[],ft=F.addLength1||!1,Yt=ne.length,_n=F.objectId,Kn=function(yd){return yd};if(null!==w&&void 0===_n)throw new Error("ObjectId must be passed to putStream for file encryption");null!==w&&(Kn=vd.encryptor(_n,0));var Ii={};!0===Me&&(Me=["FlateEncode"]);var br=F.additionalKeyValues||[],Or=(Ii=void 0!==Hi.API.processDataByFilters?Hi.API.processDataByFilters(ne,Me):{data:ne,reverseChain:[]}).reverseChain+(Array.isArray(Ge)?Ge.join(" "):Ge.toString());if(0!==Ii.data.length&&(br.push({key:"Length",value:Ii.data.length}),!0===ft&&br.push({key:"Length1",value:Yt})),0!=Or.length)if(Or.split("/").length-1==1)br.push({key:"Filter",value:Or});else{br.push({key:"Filter",value:"["+Or+"]"});for(var po=0;po<br.length;po+=1)if("DecodeParms"===br[po].key){for(var Aa=[],za=0;za<Ii.reverseChain.split("/").length-1;za+=1)Aa.push("null");Aa.push(br[po].value),br[po].value="["+Aa.join(" ")+"]"}}Ne("<<");for(var Bl=0;Bl<br.length;Bl++)Ne("/"+br[Bl].key+" "+br[Bl].value);Ne(">>"),0!==Ii.data.length&&(Ne("stream"),Ne(Kn(Ii.data)),Ne("endstream"))},ov=E.__private__.putPage=function(F){var ne=F.number,Me=F.data,Ge=F.objId,ft=F.contentsObjId;Jf(Ge,!0),Ne("<</Type /Page"),Ne("/Parent "+F.rootDictionaryObjId+" 0 R"),Ne("/Resources "+F.resourceDictionaryObjId+" 0 R"),Ne("/MediaBox ["+parseFloat(tt(F.mediaBox.bottomLeftX))+" "+parseFloat(tt(F.mediaBox.bottomLeftY))+" "+tt(F.mediaBox.topRightX)+" "+tt(F.mediaBox.topRightY)+"]"),null!==F.cropBox&&Ne("/CropBox ["+tt(F.cropBox.bottomLeftX)+" "+tt(F.cropBox.bottomLeftY)+" "+tt(F.cropBox.topRightX)+" "+tt(F.cropBox.topRightY)+"]"),null!==F.bleedBox&&Ne("/BleedBox ["+tt(F.bleedBox.bottomLeftX)+" "+tt(F.bleedBox.bottomLeftY)+" "+tt(F.bleedBox.topRightX)+" "+tt(F.bleedBox.topRightY)+"]"),null!==F.trimBox&&Ne("/TrimBox ["+tt(F.trimBox.bottomLeftX)+" "+tt(F.trimBox.bottomLeftY)+" "+tt(F.trimBox.topRightX)+" "+tt(F.trimBox.topRightY)+"]"),null!==F.artBox&&Ne("/ArtBox ["+tt(F.artBox.bottomLeftX)+" "+tt(F.artBox.bottomLeftY)+" "+tt(F.artBox.topRightX)+" "+tt(F.artBox.topRightY)+"]"),"number"==typeof F.userUnit&&1!==F.userUnit&&Ne("/UserUnit "+F.userUnit),Vo.publish("putPage",{objId:Ge,pageContext:_r[ne],pageNumber:ne,page:Me}),Ne("/Contents "+ft+" 0 R"),Ne(">>"),Ne("endobj");var Yt=Me.join("\n");return ve===oe.ADVANCED&&(Yt+="\nQ"),Jf(ft,!0),rm({data:Yt,filters:rv(),objectId:ft}),Ne("endobj"),Ge},GC=E.__private__.putPages=function(){var F,ne,Me=[];for(F=1;F<=Ya;F++)_r[F].objId=Pl(),_r[F].contentsObjId=Pl();for(F=1;F<=Ya;F++)Me.push(ov({number:F,data:Cn[F],objId:_r[F].objId,contentsObjId:_r[F].contentsObjId,mediaBox:_r[F].mediaBox,cropBox:_r[F].cropBox,bleedBox:_r[F].bleedBox,trimBox:_r[F].trimBox,artBox:_r[F].artBox,userUnit:_r[F].userUnit,rootDictionaryObjId:Yy,resourceDictionaryObjId:Eg}));Jf(Yy,!0),Ne("<</Type /Pages");var Ge="/Kids [";for(ne=0;ne<Ya;ne++)Ge+=Me[ne]+" 0 R ";Ne(Ge+"]"),Ne("/Count "+Ya),Ne(">>"),Ne("endobj"),Vo.publish("postPutPages")},OA=function(F){Vo.publish("putFont",{font:F,out:Ne,newObject:gc,putStream:rm}),!0!==F.isAlreadyPutted&&(F.objectNumber=gc(),Ne("<<"),Ne("/Type /Font"),Ne("/BaseFont /"+yA(F.postScriptName)),Ne("/Subtype /Type1"),"string"==typeof F.encoding&&Ne("/Encoding /"+F.encoding),Ne("/FirstChar 32"),Ne("/LastChar 255"),Ne(">>"),Ne("endobj"))},LA=function(){for(var F in Ss)Ss.hasOwnProperty(F)&&(!1===x||!0===x&&S.hasOwnProperty(F))&&OA(Ss[F])},FA=function(F){F.objectNumber=gc();var ne=[];ne.push({key:"Type",value:"/XObject"}),ne.push({key:"Subtype",value:"/Form"}),ne.push({key:"BBox",value:"["+[tt(F.x),tt(F.y),tt(F.x+F.width),tt(F.y+F.height)].join(" ")+"]"}),ne.push({key:"Matrix",value:"["+F.matrix.toString()+"]"});var Me=F.pages[1].join("\n");rm({data:Me,additionalKeyValues:ne,objectId:F.objectNumber}),Ne("endobj")},NA=function(){for(var F in Ou)Ou.hasOwnProperty(F)&&FA(Ou[F])},N5=function(F,ne){var Me,Ge=[],ft=1/(ne-1);for(Me=0;Me<1;Me+=ft)Ge.push(Me);Ge.push(1),0!=F[0].offset&&F.unshift({offset:0,color:F[0].color}),1!=F[F.length-1].offset&&F.push({offset:1,color:F[F.length-1].color});for(var Kn="",Ii=0,br=0;br<Ge.length;br++){for(Me=Ge[br];Me>F[Ii+1].offset;)Ii++;var Or=F[Ii].offset,po=(Me-Or)/(F[Ii+1].offset-Or),Aa=F[Ii].color,za=F[Ii+1].color;Kn+=Qe(Math.round((1-po)*Aa[0]+po*za[0]).toString(16))+Qe(Math.round((1-po)*Aa[1]+po*za[1]).toString(16))+Qe(Math.round((1-po)*Aa[2]+po*za[2]).toString(16))}return Kn.trim()},_4=function(F,ne){ne||(ne=21);var Me=gc(),Ge=N5(F.colors,ne),ft=[];ft.push({key:"FunctionType",value:"0"}),ft.push({key:"Domain",value:"[0.0 1.0]"}),ft.push({key:"Size",value:"["+ne+"]"}),ft.push({key:"BitsPerSample",value:"8"}),ft.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ft.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),rm({data:Ge,additionalKeyValues:ft,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Me}),Ne("endobj"),F.objectNumber=gc(),Ne("<< /ShadingType "+F.type),Ne("/ColorSpace /DeviceRGB");var Yt="/Coords ["+tt(parseFloat(F.coords[0]))+" "+tt(parseFloat(F.coords[1]))+" ";Yt+=2===F.type?tt(parseFloat(F.coords[2]))+" "+tt(parseFloat(F.coords[3])):tt(parseFloat(F.coords[2]))+" "+tt(parseFloat(F.coords[3]))+" "+tt(parseFloat(F.coords[4]))+" "+tt(parseFloat(F.coords[5])),Ne(Yt+="]"),F.matrix&&Ne("/Matrix ["+F.matrix.toString()+"]"),Ne("/Function "+Me+" 0 R"),Ne("/Extend [true true]"),Ne(">>"),Ne("endobj")},v4=function(F,ne){var Me=Pl(),Ge=gc();ne.push({resourcesOid:Me,objectOid:Ge}),F.objectNumber=Ge;var ft=[];ft.push({key:"Type",value:"/Pattern"}),ft.push({key:"PatternType",value:"1"}),ft.push({key:"PaintType",value:"1"}),ft.push({key:"TilingType",value:"1"}),ft.push({key:"BBox",value:"["+F.boundingBox.map(tt).join(" ")+"]"}),ft.push({key:"XStep",value:tt(F.xStep)}),ft.push({key:"YStep",value:tt(F.yStep)}),ft.push({key:"Resources",value:Me+" 0 R"}),F.matrix&&ft.push({key:"Matrix",value:"["+F.matrix.toString()+"]"}),rm({data:F.stream,additionalKeyValues:ft,objectId:F.objectNumber}),Ne("endobj")},RA=function(F){var ne;for(ne in jo)jo.hasOwnProperty(ne)&&(jo[ne]instanceof FC?_4(jo[ne]):jo[ne]instanceof bA&&v4(jo[ne],F))},R5=function(F){for(var ne in F.objectNumber=gc(),Ne("<<"),F)switch(ne){case"opacity":Ne("/ca "+Bt(F[ne]));break;case"stroke-opacity":Ne("/CA "+Bt(F[ne]))}Ne(">>"),Ne("endobj")},y4=function(){var F;for(F in Za)Za.hasOwnProperty(F)&&R5(Za[F])},AE=function(){for(var F in Ne("/XObject <<"),Ou)Ou.hasOwnProperty(F)&&Ou[F].objectNumber>=0&&Ne("/"+F+" "+Ou[F].objectNumber+" 0 R");Vo.publish("putXobjectDict"),Ne(">>")},b4=function(){vd.oid=gc(),Ne("<<"),Ne("/Filter /Standard"),Ne("/V "+vd.v),Ne("/R "+vd.r),Ne("/U <"+vd.toHexString(vd.U)+">"),Ne("/O <"+vd.toHexString(vd.O)+">"),Ne("/P "+vd.P),Ne(">>"),Ne("endobj")},P5=function(){for(var F in Ne("/Font <<"),Ss)Ss.hasOwnProperty(F)&&(!1===x||!0===x&&S.hasOwnProperty(F))&&Ne("/"+F+" "+Ss[F].objectNumber+" 0 R");Ne(">>")},w4=function(){if(Object.keys(jo).length>0){for(var F in Ne("/Shading <<"),jo)jo.hasOwnProperty(F)&&jo[F]instanceof FC&&jo[F].objectNumber>=0&&Ne("/"+F+" "+jo[F].objectNumber+" 0 R");Vo.publish("putShadingPatternDict"),Ne(">>")}},PA=function(F){if(Object.keys(jo).length>0){for(var ne in Ne("/Pattern <<"),jo)jo.hasOwnProperty(ne)&&jo[ne]instanceof E.TilingPattern&&jo[ne].objectNumber>=0&&jo[ne].objectNumber<F&&Ne("/"+ne+" "+jo[ne].objectNumber+" 0 R");Vo.publish("putTilingPatternDict"),Ne(">>")}},C4=function(){if(Object.keys(Za).length>0){var F;for(F in Ne("/ExtGState <<"),Za)Za.hasOwnProperty(F)&&Za[F].objectNumber>=0&&Ne("/"+F+" "+Za[F].objectNumber+" 0 R");Vo.publish("putGStateDict"),Ne(">>")}},hl=function(F){Jf(F.resourcesOid,!0),Ne("<<"),Ne("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),P5(),w4(),PA(F.objectOid),C4(),AE(),Ne(">>"),Ne("endobj")},B5=function(){var F=[];LA(),y4(),NA(),RA(F),Vo.publish("putResources"),F.forEach(hl),hl({resourcesOid:Eg,objectOid:Number.MAX_SAFE_INTEGER}),Vo.publish("postPutResources")},U5=function(){Vo.publish("putAdditionalObjects");for(var F=0;F<wn.length;F++){var ne=wn[F];Jf(ne.objId,!0),Ne(ne.content),Ne("endobj")}Vo.publish("postPutAdditionalObjects")},j5=function(F){ca[F.fontName]=ca[F.fontName]||{},ca[F.fontName][F.fontStyle]=F.id},SE=function(F,ne,Me,Ge,ft){var Yt={id:"F"+(Object.keys(Ss).length+1).toString(10),postScriptName:F,fontName:ne,fontStyle:Me,encoding:Ge,isStandardFont:ft||!1,metadata:{}};return Vo.publish("addFont",{font:Yt,instance:this}),Ss[Yt.id]=Yt,j5(Yt),Yt.id},x4=function(F){for(var ne=0,Me=xn.length;ne<Me;ne++){var Ge=SE.call(this,F[ne][0],F[ne][1],F[ne][2],xn[ne][3],!0);!1===x&&(S[Ge]=!0);var ft=F[ne][0].split("-");j5({id:Ge,fontName:ft[0],fontStyle:ft[1]||""})}Vo.publish("addFonts",{fonts:Ss,dictionary:ca})},Ig=function(F){return F.foo=function(){try{return F.apply(this,arguments)}catch(Ge){var ne=Ge.stack||"";~ne.indexOf(" at ")&&(ne=ne.split(" at ")[1]);var Me="Error in function "+ne.split("\n")[0].split("<")[0]+": "+Ge.message;if(!Qi.console)throw new Error(Me);Qi.console.error(Me,Ge),Qi.alert&&alert(Me)}},F.foo.bar=F,F.foo},BA=function(F,ne){var Me,Ge,ft,Yt,_n,Kn,Ii,br,Or;if(ft=(ne=ne||{}).sourceEncoding||"Unicode",_n=ne.outputEncoding,(ne.autoencode||_n)&&Ss[Vr].metadata&&Ss[Vr].metadata[ft]&&Ss[Vr].metadata[ft].encoding&&(Yt=Ss[Vr].metadata[ft].encoding,!_n&&Ss[Vr].encoding&&(_n=Ss[Vr].encoding),!_n&&Yt.codePages&&(_n=Yt.codePages[0]),"string"==typeof _n&&(_n=Yt[_n]),_n)){for(Ii=!1,Kn=[],Me=0,Ge=F.length;Me<Ge;Me++)(br=_n[F.charCodeAt(Me)])?Kn.push(String.fromCharCode(br)):Kn.push(F[Me]),Kn[Me].charCodeAt(0)>>8&&(Ii=!0);F=Kn.join("")}for(Me=F.length;void 0===Ii&&0!==Me;)F.charCodeAt(Me-1)>>8&&(Ii=!0),Me--;if(!Ii)return F;for(Kn=ne.noBOM?[]:[254,255],Me=0,Ge=F.length;Me<Ge;Me++){if((Or=(br=F.charCodeAt(Me))>>8)>>8)throw new Error("Character at position "+Me+" of string '"+F+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Kn.push(Or),Kn.push(br-(Or<<8))}return String.fromCharCode.apply(void 0,Kn)},$h=E.__private__.pdfEscape=E.pdfEscape=function(F,ne){return BA(F,ne).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},DE=E.__private__.beginPage=function(F){Cn[++Ya]=[],_r[Ya]={objId:0,contentsObjId:0,userUnit:Number(d),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(F[0]),topRightY:Number(F[1])}},q5(Ya),zt(Cn[De])},V5=function(F,ne){var Me,Ge,ft;switch(e=ne||e,"string"==typeof F&&(Me=$(F.toLowerCase()),Array.isArray(Me)&&(Ge=Me[0],ft=Me[1])),Array.isArray(F)&&(Ge=F[0]*Qn,ft=F[1]*Qn),isNaN(Ge)&&(Ge=o[0],ft=o[1]),(Ge>14400||ft>14400)&&(As.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ge=Math.min(14400,Ge),ft=Math.min(14400,ft)),o=[Ge,ft],e.substr(0,1)){case"l":ft>Ge&&(o=[ft,Ge]);break;case"p":Ge>ft&&(o=[ft,Ge])}DE(o),W5(IE),Ne(Og),0!==LE&&Ne(LE+" J"),0!==FE&&Ne(FE+" j"),Vo.publish("addPage",{pageNumber:Ya})},T4=function(F){F>0&&F<=Ya&&(Cn.splice(F,1),_r.splice(F,1),Ya--,De>Ya&&(De=Ya),this.setPage(De))},q5=function(F){F>0&&F<=Ya&&(De=F)},A4=E.__private__.getNumberOfPages=E.getNumberOfPages=function(){return Cn.length-1},H5=function(F,ne,Me){var Ge,ft=void 0;return Me=Me||{},ne=void 0!==ne?ne:Ss[Vr].fontStyle,Ge=(F=void 0!==F?F:Ss[Vr].fontName).toLowerCase(),void 0!==ca[Ge]&&void 0!==ca[Ge][ne]?ft=ca[Ge][ne]:void 0!==ca[F]&&void 0!==ca[F][ne]?ft=ca[F][ne]:!1===Me.disableWarning&&As.warn("Unable to look up font label for font '"+F+"', '"+ne+"'. Refer to getFontList() for available fonts."),ft||Me.noFallback||null==(ft=ca.times[ne])&&(ft=ca.times.normal),ft},S4=E.__private__.putInfo=function(){var F=gc(),ne=function(Ge){return Ge};for(var Me in null!==w&&(ne=vd.encryptor(F,0)),Ne("<<"),Ne("/Producer ("+$h(ne("jsPDF "+Hi.version))+")"),ir)ir.hasOwnProperty(Me)&&ir[Me]&&Ne("/"+Me.substr(0,1).toUpperCase()+Me.substr(1)+" ("+$h(ne(ir[Me]))+")");Ne("/CreationDate ("+$h(ne(Rt))+")"),Ne(">>"),Ne("endobj")},EE=E.__private__.putCatalog=function(F){var ne=(F=F||{}).rootDictionaryObjId||Yy;switch(gc(),Ne("<<"),Ne("/Type /Catalog"),Ne("/Pages "+ne+" 0 R"),$n||($n="fullwidth"),$n){case"fullwidth":Ne("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Ne("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Ne("/OpenAction [3 0 R /Fit]");break;case"original":Ne("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Me=""+$n;"%"===Me.substr(Me.length-1)&&($n=parseInt($n)/100),"number"==typeof $n&&Ne("/OpenAction [3 0 R /XYZ null null "+Bt($n)+"]")}switch(Br||(Br="continuous"),Br){case"continuous":Ne("/PageLayout /OneColumn");break;case"single":Ne("/PageLayout /SinglePage");break;case"two":case"twoleft":Ne("/PageLayout /TwoColumnLeft");break;case"tworight":Ne("/PageLayout /TwoColumnRight")}gr&&Ne("/PageMode /"+gr),Vo.publish("putCatalog"),Ne(">>"),Ne("endobj")},D4=E.__private__.putTrailer=function(){Ne("trailer"),Ne("<<"),Ne("/Size "+(ut+1)),Ne("/Root "+ut+" 0 R"),Ne("/Info "+(ut-1)+" 0 R"),null!==w&&Ne("/Encrypt "+vd.oid+" 0 R"),Ne("/ID [ <"+ze+"> <"+ze+"> ]"),Ne(">>")},E4=E.__private__.putHeader=function(){Ne("%PDF-"+q),Ne("%\xba\xdf\xac\xe0")},M4=E.__private__.putXRef=function(){var F="0000000000";Ne("xref"),Ne("0 "+(ut+1)),Ne("0000000000 65535 f ");for(var ne=1;ne<=ut;ne++)Ne("function"==typeof pt[ne]?(F+pt[ne]()).slice(-10)+" 00000 n ":void 0!==pt[ne]?(F+pt[ne]).slice(-10)+" 00000 n ":"0000000000 00000 n ")},zy=E.__private__.buildDocument=function(){Ji(),zt(Ct),Vo.publish("buildDocument"),E4(),GC(),U5(),B5(),null!==w&&b4(),S4(),EE();var F=Tt;return M4(),D4(),Ne("startxref"),Ne(""+F),Ne("%%EOF"),zt(Cn[De]),Ct.join("\n")},UA=E.__private__.getBlob=function(F){return new Blob([bi(F)],{type:"application/pdf"})},jA=E.output=E.__private__.output=Ig(function(F,ne){switch("string"==typeof(ne=ne||{})?ne={filename:ne}:ne.filename=ne.filename||"generated.pdf",F){case void 0:return zy();case"save":E.save(ne.filename);break;case"arraybuffer":return bi(zy());case"blob":return UA(zy());case"bloburi":case"bloburl":if(void 0!==Qi.URL&&"function"==typeof Qi.URL.createObjectURL)return Qi.URL&&Qi.URL.createObjectURL(UA(zy()))||void 0;As.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Me="",Ge=zy();try{Me=V6(Ge)}catch(za){Me=V6(unescape(encodeURIComponent(Ge)))}return"data:application/pdf;filename="+ne.filename+";base64,"+Me;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(Qi)){var ft="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Yt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ne.pdfObjectUrl&&(ft=ne.pdfObjectUrl,Yt="");var _n='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ft+'"'+Yt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ne)+");<\/script></body></html>",Kn=Qi.open();return null!==Kn&&Kn.document.write(_n),Kn}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(Qi)){var Ii='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ne.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ne.filename+'" width="500px" height="400px" /></body></html>',br=Qi.open();if(null!==br){br.document.write(Ii);var Or=this;br.document.documentElement.querySelector("#pdfViewer").onload=function(){br.document.title=ne.filename,br.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Or.output("bloburl"))}}return br}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(Qi))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var po='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ne)+'"></iframe></body></html>',Aa=Qi.open();if(null!==Aa&&(Aa.document.write(po),Aa.document.title=ne.filename),Aa||"undefined"==typeof safari)return Aa;break;case"datauri":case"dataurl":return Qi.document.location.href=this.output("datauristring",ne);default:return null}}),G5=function(F){return!0===Array.isArray(HC)&&HC.indexOf(F)>-1};switch(i){case"pt":Qn=1;break;case"mm":Qn=72/25.4;break;case"cm":Qn=72/2.54;break;case"in":Qn=72;break;case"px":Qn=1==G5("px_scaling")?.75:96/72;break;case"pc":case"em":Qn=12;break;case"ex":Qn=6;break;default:if("number"!=typeof i)throw new Error("Invalid unit: "+i);Qn=i}var vd=null;Fn(),Ke();var k4=function(F){return null!==w?vd.encryptor(F,0):function(ne){return ne}},Z5=E.__private__.getPageInfo=E.getPageInfo=function(F){if(isNaN(F)||F%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:_r[F].objId,pageNumber:F,pageContext:_r[F]}},dr=E.__private__.getPageInfoByObjId=function(F){if(isNaN(F)||F%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ne in _r)if(_r[ne].objId===F)break;return Z5(ne)},I4=E.__private__.getCurrentPageInfo=E.getCurrentPageInfo=function(){return{objId:_r[De].objId,pageNumber:De,pageContext:_r[De]}};E.addPage=function(){return V5.apply(this,arguments),this},E.setPage=function(){return q5.apply(this,arguments),zt.call(this,Cn[De]),this},E.insertPage=function(F){return this.addPage(),this.movePage(De,F),this},E.movePage=function(F,ne){var Me,Ge;if(F>ne){Me=Cn[F],Ge=_r[F];for(var ft=F;ft>ne;ft--)Cn[ft]=Cn[ft-1],_r[ft]=_r[ft-1];Cn[ne]=Me,_r[ne]=Ge,this.setPage(ne)}else if(F<ne){Me=Cn[F],Ge=_r[F];for(var Yt=F;Yt<ne;Yt++)Cn[Yt]=Cn[Yt+1],_r[Yt]=_r[Yt+1];Cn[ne]=Me,_r[ne]=Ge,this.setPage(ne)}return this},E.deletePage=function(){return T4.apply(this,arguments),this},E.__private__.text=E.text=function(F,ne,Me,Ge,ft){var Yt,_n,Kn,Ii,br,Or,po,Aa,za,Bl=(Ge=Ge||{}).scope||this;if("number"==typeof F&&"number"==typeof ne&&("string"==typeof Me||Array.isArray(Me))){var yd=Me;Me=ne,ne=F,F=yd}if(arguments[3]instanceof Gi?(Le("The transform parameter of text() with a Matrix value"),za=ft):(Kn=arguments[4],Ii=arguments[5],"object"===ts(po=arguments[3])&&null!==po||("string"==typeof Kn&&(Ii=Kn,Kn=null),"string"==typeof po&&(Ii=po,po=null),"number"==typeof po&&(Kn=po,po=null),Ge={flags:po,angle:Kn,align:Ii})),isNaN(ne)||isNaN(Me)||null==F)throw new Error("Invalid arguments passed to jsPDF.text");if(0===F.length)return Bl;var nu="",Lg=!1,Kf="number"==typeof Ge.lineHeightFactor?Ge.lineHeightFactor:YC,$y=Bl.internal.scaleFactor;function eL(js){return js=js.split("\t").join(Array(Ge.TabLen||9).join(" ")),$h(js,po)}function UE(js){for(var Vs,fl=js.concat(),_c=[],Xy=fl.length;Xy--;)"string"==typeof(Vs=fl.shift())?_c.push(Vs):Array.isArray(js)&&(1===Vs.length||void 0===Vs[1]&&void 0===Vs[2])?_c.push(Vs[0]):_c.push([Vs[0],Vs[1],Vs[2]]);return _c}function jE(js,Vs){var fl;if("string"==typeof js)fl=Vs(js)[0];else if(Array.isArray(js)){for(var _c,Xy,m1=js.concat(),eS=[],nL=m1.length;nL--;)"string"==typeof(_c=m1.shift())?eS.push(Vs(_c)[0]):Array.isArray(_c)&&"string"==typeof _c[0]&&(Xy=Vs(_c[0],_c[1],_c[2]),eS.push([Xy[0],Xy[1],Xy[2]]));fl=eS}return fl}var YA=!1,VE=!0;if("string"==typeof F)YA=!0;else if(Array.isArray(F)){var qE=F.concat();_n=[];for(var zA,Qh=qE.length;Qh--;)("string"!=typeof(zA=qE.shift())||Array.isArray(zA)&&"string"!=typeof zA[0])&&(VE=!1);YA=VE}if(!1===YA)throw new Error('Type of text must be string or Array. "'+F+'" is not recognized.');"string"==typeof F&&(F=F.match(/[\r?\n]/)?F.split(/\r\n|\r|\n/g):[F]);var WA=Un/Bl.internal.scaleFactor,$A=WA*(Kf-1);switch(Ge.baseline){case"bottom":Me-=$A;break;case"top":Me+=WA-$A;break;case"hanging":Me+=WA-2*$A;break;case"middle":Me+=WA/2-$A}if((Or=Ge.maxWidth||0)>0&&("string"==typeof F?F=Bl.splitTextToSize(F,Or):"[object Array]"===Object.prototype.toString.call(F)&&(F=F.reduce(function(js,Vs){return js.concat(Bl.splitTextToSize(Vs,Or))},[]))),Vo.publish("preProcessText",Yt={text:F,x:ne,y:Me,options:Ge,mutex:{pdfEscape:$h,activeFontKey:Vr,fonts:Ss,activeFontSize:Un}}),F=Yt.text,Kn=(Ge=Yt.options).angle,za instanceof Gi||!Kn||"number"!=typeof Kn)Kn&&Kn instanceof Gi&&(za=Kn);else{Kn*=Math.PI/180,0===Ge.rotationDirection&&(Kn=-Kn),ve===oe.ADVANCED&&(Kn=-Kn);var QA=Math.cos(Kn),HE=Math.sin(Kn);za=new Gi(QA,HE,-HE,QA,0,0)}ve!==oe.ADVANCED||za||(za=iv),void 0!==(br=Ge.charSpace||HA)&&(nu+=tt(we(br))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(Aa=Ge.horizontalScale)&&(nu+=tt(100*Aa)+" Tz\n");var Jh=-1,V4=void 0!==Ge.renderingMode?Ge.renderingMode:Ge.stroke,GE=Bl.internal.getCurrentPageInfo().pageContext;switch(V4){case 0:case!1:case"fill":Jh=0;break;case 1:case!0:case"stroke":Jh=1;break;case 2:case"fillThenStroke":Jh=2;break;case 3:case"invisible":Jh=3;break;case 4:case"fillAndAddForClipping":Jh=4;break;case 5:case"strokeAndAddPathForClipping":Jh=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Jh=6;break;case 7:case"addToPathForClipping":Jh=7}var tL=void 0!==GE.usedRenderingMode?GE.usedRenderingMode:-1;-1!==Jh?nu+=Jh+" Tr\n":-1!==tL&&(nu+="0 Tr\n"),-1!==Jh&&(GE.usedRenderingMode=Jh),Ii=Ge.align||"left";var Fg,ZE=Un*Kf,q4=Bl.internal.pageSize.getWidth(),H4=Ss[Vr];br=Ge.charSpace||HA,Or=Ge.maxWidth||0,po=Object.assign({autoencode:!0,noBOM:!0},Ge.flags);var d1=[];if("[object Array]"===Object.prototype.toString.call(F)){var om;_n=UE(F),"left"!==Ii&&(Fg=_n.map(function(js){return Bl.getStringUnitWidth(js,{font:H4,charSpace:br,fontSize:Un,doKerning:!1})*Un/$y}));var Ng,h1=0;if("right"===Ii){ne-=Fg[0],F=[],Qh=_n.length;for(var av=0;av<Qh;av++)0===av?(Ng=Wy(ne),om=l1(Me)):(Ng=we(h1-Fg[av]),om=-ZE),F.push([_n[av],Ng,om]),h1=Fg[av]}else if("center"===Ii){ne-=Fg[0]/2,F=[],Qh=_n.length;for(var Qy=0;Qy<Qh;Qy++)0===Qy?(Ng=Wy(ne),om=l1(Me)):(Ng=we((h1-Fg[Qy])/2),om=-ZE),F.push([_n[Qy],Ng,om]),h1=Fg[Qy]}else if("left"===Ii){F=[],Qh=_n.length;for(var JA=0;JA<Qh;JA++)F.push(_n[JA])}else{if("justify"!==Ii)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');F=[],Qh=_n.length,Or=0!==Or?Or:q4;for(var Rg=0;Rg<Qh;Rg++)om=0===Rg?l1(Me):-ZE,Ng=0===Rg?Wy(ne):0,d1.push(Rg<Qh-1?tt(we((Or-Fg[Rg])/(_n[Rg].split(" ").length-1))):0),F.push([_n[Rg],Ng,om])}}var KA="boolean"==typeof Ge.R2L?Ge.R2L:Mi;!0===KA&&(F=jE(F,function(js,Vs,fl){return[js.split("").reverse().join(""),Vs,fl]})),Vo.publish("postProcessText",Yt={text:F,x:ne,y:Me,options:Ge,mutex:{pdfEscape:$h,activeFontKey:Vr,fonts:Ss,activeFontSize:Un}}),F=Yt.text,Lg=Yt.mutex.isHex||!1;var YE=Ss[Vr].encoding;"WinAnsiEncoding"!==YE&&"StandardEncoding"!==YE||(F=jE(F,function(js,Vs,fl){return[eL(js),Vs,fl]})),_n=UE(F),F=[];for(var f1,Pg,Jy,$C=0,XA=1,QC=Array.isArray(_n[0])?XA:$C,p1="",zE=function(js,Vs,fl){var _c="";return fl instanceof Gi?(fl="number"==typeof Ge.angle?Dg(fl,new Gi(1,0,0,1,js,Vs)):Dg(new Gi(1,0,0,1,js,Vs),fl),ve===oe.ADVANCED&&(fl=Dg(new Gi(1,0,0,-1,0,0),fl)),_c=fl.join(" ")+" Tm\n"):_c=tt(js)+" "+tt(Vs)+" Td\n",_c},sm=0;sm<_n.length;sm++){switch(p1="",QC){case XA:Jy=(Lg?"<":"(")+_n[sm][0]+(Lg?">":")"),f1=parseFloat(_n[sm][1]),Pg=parseFloat(_n[sm][2]);break;case $C:Jy=(Lg?"<":"(")+_n[sm]+(Lg?">":")"),f1=Wy(ne),Pg=l1(Me)}void 0!==d1&&void 0!==d1[sm]&&(p1=d1[sm]+" Tw\n"),0===sm?F.push(p1+zE(f1,Pg,za)+Jy):QC===$C?F.push(p1+Jy):QC===XA&&F.push(p1+zE(f1,Pg,za)+Jy)}F=F.join(QC===$C?" Tj\nT* ":" Tj\n"),F+=" Tj\n";var Ky="BT\n/";return Ky+=Vr+" "+Un+" Tf\n",Ky+=tt(Un*Kf)+" TL\n",Ky+=zC+"\n",Ky+=nu,Ky+=F,Ne(Ky+="ET"),S[Vr]=!0,Bl};var O4=E.__private__.clip=E.clip=function(F){return Ne("evenodd"===F?"W*":"W"),this};E.clipEvenOdd=function(){return O4("evenodd")},E.__private__.discardPath=E.discardPath=function(){return Ne("n"),this};var sv=E.__private__.isValidStyle=function(F){var ne=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(F)&&(ne=!0),ne};E.__private__.setDefaultPathOperation=E.setDefaultPathOperation=function(F){return sv(F)&&(v=F),this};var Y5=E.__private__.getStyle=E.getStyle=function(F){var ne=v;switch(F){case"D":case"S":ne="S";break;case"F":ne="f";break;case"FD":case"DF":ne="B";break;case"f":case"f*":case"B":case"B*":ne=F}return ne},z5=E.close=function(){return Ne("h"),this};E.stroke=function(){return Ne("S"),this},E.fill=function(F){return VA("f",F),this},E.fillEvenOdd=function(F){return VA("f*",F),this},E.fillStroke=function(F){return VA("B",F),this},E.fillStrokeEvenOdd=function(F){return VA("B*",F),this};var VA=function(F,ne){"object"===ts(ne)?F4(ne,F):Ne(F)},ME=function(F){null===F||ve===oe.ADVANCED&&void 0===F||(F=Y5(F),Ne(F))};function L4(F,ne,Me,Ge,ft){var Yt=new bA(ne||this.boundingBox,Me||this.xStep,Ge||this.yStep,this.gState,ft||this.matrix);Yt.stream=this.stream;var _n=F+"$$"+this.cloneIndex+++"$$";return Wh(_n,Yt),Yt}var F4=function(F,ne){var Me=qC[F.key],Ge=jo[Me];if(Ge instanceof FC)Ne("q"),Ne(N4(ne)),Ge.gState&&E.setGState(Ge.gState),Ne(F.matrix.toString()+" cm"),Ne("/"+Me+" sh"),Ne("Q");else if(Ge instanceof bA){var ft=new Gi(1,0,0,-1,0,u1());F.matrix&&(ft=ft.multiply(F.matrix||iv),Me=L4.call(Ge,F.key,F.boundingBox,F.xStep,F.yStep,ft).id),Ne("q"),Ne("/Pattern cs"),Ne("/"+Me+" scn"),Ge.gState&&E.setGState(Ge.gState),Ne(ne),Ne("Q")}},N4=function(F){switch(F){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},kE=E.moveTo=function(F,ne){return Ne(tt(we(F))+" "+tt(je(ne))+" m"),this},ZC=E.lineTo=function(F,ne){return Ne(tt(we(F))+" "+tt(je(ne))+" l"),this},a1=E.curveTo=function(F,ne,Me,Ge,ft,Yt){return Ne([tt(we(F)),tt(je(ne)),tt(we(Me)),tt(je(Ge)),tt(we(ft)),tt(je(Yt)),"c"].join(" ")),this};E.__private__.line=E.line=function(F,ne,Me,Ge,ft){if(isNaN(F)||isNaN(ne)||isNaN(Me)||isNaN(Ge)||!sv(ft))throw new Error("Invalid arguments passed to jsPDF.line");return ve===oe.COMPAT?this.lines([[Me-F,Ge-ne]],F,ne,[1,1],ft||"S"):this.lines([[Me-F,Ge-ne]],F,ne,[1,1]).stroke()},E.__private__.lines=E.lines=function(F,ne,Me,Ge,ft,Yt){var _n,Kn,Ii,br,Or,yd,nu,Lg;if("number"==typeof F&&(Lg=Me,Me=ne,ne=F,F=Lg),Ge=Ge||[1,1],Yt=Yt||!1,isNaN(ne)||isNaN(Me)||!Array.isArray(F)||!Array.isArray(Ge)||!sv(ft)||"boolean"!=typeof Yt)throw new Error("Invalid arguments passed to jsPDF.lines");for(kE(ne,Me),_n=Ge[0],Kn=Ge[1],br=F.length,yd=ne,nu=Me,Ii=0;Ii<br;Ii++)2===(Or=F[Ii]).length?ZC(yd=Or[0]*_n+yd,nu=Or[1]*Kn+nu):a1(Or[0]*_n+yd,Or[1]*Kn+nu,Or[2]*_n+yd,Or[3]*Kn+nu,yd=Or[4]*_n+yd,nu=Or[5]*Kn+nu);return Yt&&z5(),ME(ft),this},E.path=function(F){for(var ne=0;ne<F.length;ne++){var Me=F[ne],Ge=Me.c;switch(Me.op){case"m":kE(Ge[0],Ge[1]);break;case"l":ZC(Ge[0],Ge[1]);break;case"c":a1.apply(this,Ge);break;case"h":z5()}}return this},E.__private__.rect=E.rect=function(F,ne,Me,Ge,ft){if(isNaN(F)||isNaN(ne)||isNaN(Me)||isNaN(Ge)||!sv(ft))throw new Error("Invalid arguments passed to jsPDF.rect");return ve===oe.COMPAT&&(Ge=-Ge),Ne([tt(we(F)),tt(je(ne)),tt(we(Me)),tt(we(Ge)),"re"].join(" ")),ME(ft),this},E.__private__.triangle=E.triangle=function(F,ne,Me,Ge,ft,Yt,_n){if(isNaN(F)||isNaN(ne)||isNaN(Me)||isNaN(Ge)||isNaN(ft)||isNaN(Yt)||!sv(_n))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Me-F,Ge-ne],[ft-Me,Yt-Ge],[F-ft,ne-Yt]],F,ne,[1,1],_n,!0),this},E.__private__.roundedRect=E.roundedRect=function(F,ne,Me,Ge,ft,Yt,_n){if(isNaN(F)||isNaN(ne)||isNaN(Me)||isNaN(Ge)||isNaN(ft)||isNaN(Yt)||!sv(_n))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Kn=4/3*(Math.SQRT2-1);return ft=Math.min(ft,.5*Me),Yt=Math.min(Yt,.5*Ge),this.lines([[Me-2*ft,0],[ft*Kn,0,ft,Yt-Yt*Kn,ft,Yt],[0,Ge-2*Yt],[0,Yt*Kn,-ft*Kn,Yt,-ft,Yt],[2*ft-Me,0],[-ft*Kn,0,-ft,-Yt*Kn,-ft,-Yt],[0,2*Yt-Ge],[0,-Yt*Kn,ft*Kn,-Yt,ft,-Yt]],F+ft,ne,[1,1],_n,!0),this},E.__private__.ellipse=E.ellipse=function(F,ne,Me,Ge,ft){if(isNaN(F)||isNaN(ne)||isNaN(Me)||isNaN(Ge)||!sv(ft))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Yt=4/3*(Math.SQRT2-1)*Me,_n=4/3*(Math.SQRT2-1)*Ge;return kE(F+Me,ne),a1(F+Me,ne-_n,F+Yt,ne-Ge,F,ne-Ge),a1(F-Yt,ne-Ge,F-Me,ne-_n,F-Me,ne),a1(F-Me,ne+_n,F-Yt,ne+Ge,F,ne+Ge),a1(F+Yt,ne+Ge,F+Me,ne+_n,F+Me,ne),ME(ft),this},E.__private__.circle=E.circle=function(F,ne,Me,Ge){if(isNaN(F)||isNaN(ne)||isNaN(Me)||!sv(Ge))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(F,ne,Me,Me,Ge)},E.setFont=function(F,ne,Me){return Me&&(ne=gt(ne,Me)),Vr=H5(F,ne,{disableWarning:!1}),this};var R4=E.__private__.getFont=E.getFont=function(){return Ss[H5.apply(E,arguments)]};E.__private__.getFontList=E.getFontList=function(){var F,ne,Me={};for(F in ca)if(ca.hasOwnProperty(F))for(ne in Me[F]=[],ca[F])ca[F].hasOwnProperty(ne)&&Me[F].push(ne);return Me},E.addFont=function(F,ne,Me,Ge,ft){var Yt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==Yt.indexOf(arguments[3])?ft=arguments[3]:arguments[3]&&-1==Yt.indexOf(arguments[3])&&(Me=gt(Me,Ge)),SE.call(this,F,ne,Me,ft=ft||"Identity-H")};var YC,IE=t.lineWidth||.200025,qA=E.__private__.getLineWidth=E.getLineWidth=function(){return IE},W5=E.__private__.setLineWidth=E.setLineWidth=function(F){return IE=F,Ne(tt(we(F))+" w"),this};E.__private__.setLineDash=Hi.API.setLineDash=Hi.API.setLineDashPattern=function(F,ne){if(F=F||[],ne=ne||0,isNaN(ne)||!Array.isArray(F))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return F=F.map(function(Me){return tt(we(Me))}).join(" "),ne=tt(we(ne)),Ne("["+F+"] "+ne+" d"),this};var $5=E.__private__.getLineHeight=E.getLineHeight=function(){return Un*YC};E.__private__.getLineHeight=E.getLineHeight=function(){return Un*YC};var Q5=E.__private__.setLineHeightFactor=E.setLineHeightFactor=function(F){return"number"==typeof(F=F||1.15)&&(YC=F),this},J5=E.__private__.getLineHeightFactor=E.getLineHeightFactor=function(){return YC};Q5(t.lineHeight);var Wy=E.__private__.getHorizontalCoordinate=function(F){return we(F)},l1=E.__private__.getVerticalCoordinate=function(F){return ve===oe.ADVANCED?F:_r[De].mediaBox.topRightY-_r[De].mediaBox.bottomLeftY-we(F)},P4=E.__private__.getHorizontalCoordinateString=E.getHorizontalCoordinateString=function(F){return tt(Wy(F))},c1=E.__private__.getVerticalCoordinateString=E.getVerticalCoordinateString=function(F){return tt(l1(F))},Og=t.strokeColor||"0 G";E.__private__.getStrokeColor=E.getDrawColor=function(){return Mg(Og)},E.__private__.setStrokeColor=E.setDrawColor=function(F,ne,Me,Ge){return Og=kg({ch1:F,ch2:ne,ch3:Me,ch4:Ge,pdfColorType:"draw",precision:2}),Ne(Og),this};var OE=t.fillColor||"0 g";E.__private__.getFillColor=E.getFillColor=function(){return Mg(OE)},E.__private__.setFillColor=E.setFillColor=function(F,ne,Me,Ge){return OE=kg({ch1:F,ch2:ne,ch3:Me,ch4:Ge,pdfColorType:"fill",precision:2}),Ne(OE),this};var zC=t.textColor||"0 g",B4=E.__private__.getTextColor=E.getTextColor=function(){return Mg(zC)};E.__private__.setTextColor=E.setTextColor=function(F,ne,Me,Ge){return zC=kg({ch1:F,ch2:ne,ch3:Me,ch4:Ge,pdfColorType:"text",precision:3}),this};var HA=t.charSpace,U4=E.__private__.getCharSpace=E.getCharSpace=function(){return parseFloat(HA||0)};E.__private__.setCharSpace=E.setCharSpace=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return HA=F,this};var LE=0;E.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},E.__private__.setLineCap=E.setLineCap=function(F){var ne=E.CapJoinStyles[F];if(void 0===ne)throw new Error("Line cap style of '"+F+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return LE=ne,Ne(ne+" J"),this};var FE=0;E.__private__.setLineJoin=E.setLineJoin=function(F){var ne=E.CapJoinStyles[F];if(void 0===ne)throw new Error("Line join style of '"+F+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return FE=ne,Ne(ne+" j"),this},E.__private__.setLineMiterLimit=E.__private__.setMiterLimit=E.setLineMiterLimit=E.setMiterLimit=function(F){if(F=F||0,isNaN(F))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Ne(tt(we(F))+" M"),this},E.GState=_5,E.setGState=function(F){(F="string"==typeof F?Za[Sg[F]]:K5(null,F)).equals(Zy)||(Ne("/"+F.id+" gs"),Zy=F)};var K5=function(F,ne){if(!F||!Sg[F]){var Me=!1;for(var Ge in Za)if(Za.hasOwnProperty(Ge)&&Za[Ge].equals(ne)){Me=!0;break}if(Me)ne=Za[Ge];else{var ft="GS"+(Object.keys(Za).length+1).toString(10);Za[ft]=ne,ne.id=ft}return F&&(Sg[F]=ne.id),Vo.publish("addGState",ne),ne}};E.addGState=function(F,ne){return K5(F,ne),this},E.saveGraphicsState=function(){return Ne("q"),ev.push({key:Vr,size:Un,color:zC}),this},E.restoreGraphicsState=function(){Ne("Q");var F=ev.pop();return Vr=F.key,Un=F.size,zC=F.color,Zy=null,this},E.setCurrentTransformationMatrix=function(F){return Ne(F.toString()+" cm"),this},E.comment=function(F){return Ne("#"+F),this};var GA=function(F,ne){var Me=F||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Me},set:function(Yt){isNaN(Yt)||(Me=parseFloat(Yt))}});var Ge=ne||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ge},set:function(Yt){isNaN(Yt)||(Ge=parseFloat(Yt))}});var ft="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ft},set:function(Yt){ft=Yt.toString()}}),this},NE=function(F,ne,Me,Ge){GA.call(this,F,ne),this.type="rect";var ft=Me||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ft},set:function(_n){isNaN(_n)||(ft=parseFloat(_n))}});var Yt=Ge||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Yt},set:function(_n){isNaN(_n)||(Yt=parseFloat(_n))}}),this},RE=function(){this.page=Ya,this.currentPage=De,this.pages=Cn.slice(0),this.pagesContext=_r.slice(0),this.x=_d,this.y=Eo,this.matrix=Ag,this.width=WC(De),this.height=u1(De),this.outputDestination=ni,this.id="",this.objectNumber=-1};RE.prototype.restore=function(){Ya=this.page,_r=this.pagesContext,Cn=this.pages,_d=this.x,Eo=this.y,Ag=this.matrix,PE(De=this.currentPage,this.width),BE(De,this.height),ni=this.outputDestination};var X5=function(F,ne,Me,Ge,ft){nv.push(new RE),Ya=De=0,Cn=[],_d=F,Eo=ne,Ag=ft,DE([Me,Ge])},j4=function(F){if(tv[F])nv.pop().restore();else{var ne=new RE,Me="Xo"+(Object.keys(Ou).length+1).toString(10);ne.id=Me,tv[F]=Me,Ou[Me]=ne,Vo.publish("addFormObject",ne),nv.pop().restore()}};for(var ZA in E.beginFormObject=function(F,ne,Me,Ge,ft){return X5(F,ne,Me,Ge,ft),this},E.endFormObject=function(F){return j4(F),this},E.doFormObject=function(F,ne){var Me=Ou[tv[F]];return Ne("q"),Ne(ne.toString()+" cm"),Ne("/"+Me.id+" Do"),Ne("Q"),this},E.getFormObject=function(F){var ne=Ou[tv[F]];return{x:ne.x,y:ne.y,width:ne.width,height:ne.height,matrix:ne.matrix}},E.save=function(F,ne){return F=F||"generated.pdf",(ne=ne||{}).returnPromise=ne.returnPromise||!1,!1===ne.returnPromise?(LC(UA(zy()),F),"function"==typeof LC.unload&&Qi.setTimeout&&setTimeout(LC.unload,911),this):new Promise(function(Me,Ge){try{var ft=LC(UA(zy()),F);"function"==typeof LC.unload&&Qi.setTimeout&&setTimeout(LC.unload,911),Me(ft)}catch(Yt){Ge(Yt.message)}})},Hi.API)Hi.API.hasOwnProperty(ZA)&&("events"===ZA&&Hi.API.events.length?function(F,ne){var Ge,ft;for(ft=ne.length-1;-1!==ft;ft--)F.subscribe.apply(F,[ne[ft][0]].concat("function"==typeof(Ge=ne[ft][1])?[Ge]:Ge))}(Vo,Hi.API.events):E[ZA]=Hi.API[ZA]);var WC=E.getPageWidth=function(F){return(_r[F=F||De].mediaBox.topRightX-_r[F].mediaBox.bottomLeftX)/Qn},PE=E.setPageWidth=function(F,ne){_r[F].mediaBox.topRightX=ne*Qn+_r[F].mediaBox.bottomLeftX},u1=E.getPageHeight=function(F){return(_r[F=F||De].mediaBox.topRightY-_r[F].mediaBox.bottomLeftY)/Qn},BE=E.setPageHeight=function(F,ne){_r[F].mediaBox.topRightY=ne*Qn+_r[F].mediaBox.bottomLeftY};return E.internal={pdfEscape:$h,getStyle:Y5,getFont:R4,getFontSize:Yn,getCharSpace:U4,getTextColor:B4,getLineHeight:$5,getLineHeightFactor:J5,getLineWidth:qA,write:yr,getHorizontalCoordinate:Wy,getVerticalCoordinate:l1,getCoordinateString:P4,getVerticalCoordinateString:c1,collections:{},newObject:gc,newAdditionalObject:IA,newObjectDeferred:Pl,newObjectDeferredBegin:Jf,getFilters:rv,putStream:rm,events:Vo,scaleFactor:Qn,pageSize:{getWidth:function(){return WC(De)},setWidth:function(F){PE(De,F)},getHeight:function(){return u1(De)},setHeight:function(F){BE(De,F)}},encryptionOptions:w,encryption:vd,getEncryptor:k4,output:jA,getNumberOfPages:A4,pages:Cn,out:Ne,f2:Bt,f3:Ce,getPageInfo:Z5,getPageInfoByObjId:dr,getCurrentPageInfo:I4,getPDFVersion:H,Point:GA,Rectangle:NE,Matrix:Gi,hasHotfix:G5},Object.defineProperty(E.internal.pageSize,"width",{get:function(){return WC(De)},set:function(F){PE(De,F)},enumerable:!0,configurable:!0}),Object.defineProperty(E.internal.pageSize,"height",{get:function(){return u1(De)},set:function(F){BE(De,F)},enumerable:!0,configurable:!0}),x4.call(E,xn),Vr="F1",V5(o,e),Vo.publish("initialized"),E}vA.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},vA.prototype.toHexString=function(t){return t.split("").map(function(n){return("0"+(255&n.charCodeAt(0)).toString(16)).slice(-2)}).join("")},vA.prototype.hexToBytes=function(t){for(var n=[],e=0;e<t.length;e+=2)n.push(String.fromCharCode(parseInt(t.substr(e,2),16)));return n.join("")},vA.prototype.processOwnerPassword=function(t,n){return G6(H6(n).substr(0,5),t)},vA.prototype.encryptor=function(t,n){var e=H6(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&n,n>>8&255)).substr(0,10);return function(i){return G6(e,i)}},_5.prototype.equals=function(t){var n,e="id,objectNumber,equals";if(!t||ts(t)!==ts(this))return!1;var i=0;for(n in this)if(!(e.indexOf(n)>=0)){if(this.hasOwnProperty(n)&&!t.hasOwnProperty(n)||this[n]!==t[n])return!1;i++}for(n in t)t.hasOwnProperty(n)&&e.indexOf(n)<0&&i--;return 0===i},Hi.API={events:[]},Hi.version="2.5.1";var Ga=Hi.API,Z6=1,NC=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},wA=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},mr=function(t){return t.toFixed(2)},o1=function(t){return t.toFixed(5)};Ga.__acroform__={};var zh=function(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t},EY=function(t){return t*Z6},J_=function(t){var n=new kY,e=ui.internal.getHeight(t)||0,i=ui.internal.getWidth(t)||0;return n.BBox=[0,0,Number(mr(i)),Number(mr(e))],n},pce=Ga.__acroform__.setBit=function(t,n){if(t=t||0,n=n||0,isNaN(t)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<n},mce=Ga.__acroform__.clearBit=function(t,n){if(t=t||0,n=n||0,isNaN(t)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<n)},gce=Ga.__acroform__.getBit=function(t,n){if(isNaN(t)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(t&1<<n)?0:1},cl=Ga.__acroform__.getBitForPdf=function(t,n){if(isNaN(t)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return gce(t,n-1)},ul=Ga.__acroform__.setBitForPdf=function(t,n){if(isNaN(t)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return pce(t,n-1)},dl=Ga.__acroform__.clearBitForPdf=function(t,n){if(isNaN(t)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return mce(t,n-1)},_ce=Ga.__acroform__.calculateCoordinates=function(t,n){var e=n.internal.getHorizontalCoordinate,i=n.internal.getVerticalCoordinate,o=t[0],s=t[1],a=t[2],d=t[3],f={};return f.lowerLeft_X=e(o)||0,f.lowerLeft_Y=i(s+d)||0,f.upperRight_X=e(o+a)||0,f.upperRight_Y=i(s)||0,[Number(mr(f.lowerLeft_X)),Number(mr(f.lowerLeft_Y)),Number(mr(f.upperRight_X)),Number(mr(f.upperRight_Y))]},vce=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var n=[],i=Y6(t,t._V||t.DV),o=t.scope.internal.getFont(t.fontName,t.fontStyle).id;n.push("/Tx BMC"),n.push("q"),n.push("BT"),n.push(t.scope.__private__.encodeColorString(t.color)),n.push("/"+o+" "+mr(i.fontSize)+" Tf"),n.push("1 0 0 1 0 0 Tm"),n.push(i.text),n.push("ET"),n.push("Q"),n.push("EMC");var s=J_(t);return s.scope=t.scope,s.stream=n.join("\n"),s}},Y6=function(t,n){var e=0===t.fontSize?t.maxFontSize:t.fontSize,i={text:"",fontSize:""},o=(n=")"==(n="("==n.substr(0,1)?n.substr(1):n).substr(n.length-1)?n.substr(0,n.length-1):n).split(" ");o=o.map(t.multiline?function(Ce){return Ce.split("\n")}:function(Ce){return[Ce]});var s=e,a=ui.internal.getHeight(t)||0;a=a<0?-a:a;var Ce,d=ui.internal.getWidth(t)||0;d=d<0?-d:d,s++;e:for(;s>0;){n="",s--;var v,w,x=v5("3",t,s).height,S=t.multiline?a-s:(a-x)/2,E=S+=2,q=0,H=0,ee=0;if(s<=0){n="(...) Tj\n",n+="% Width of Text: "+v5(n,t,s=12).width+", FieldWidth:"+d+"\n";break}for(var $="",oe=0,ve=0;ve<o.length;ve++)if(o.hasOwnProperty(ve)){var Fe=!1;if(1!==o[ve].length&&ee!==o[ve].length-1){if((x+2)*(oe+2)+2>a)continue e;$+=o[ve][ee],Fe=!0,H=ve,ve--}else{$=" "==($+=o[ve][ee]+" ").substr($.length-1)?$.substr(0,$.length-1):$;var Be=parseInt(ve),gt=(Ce=Be)+1<o.length&&v5($+" "+o[Ce+1][0],t,s).width<=d-4,tt=ve>=o.length-1;if(gt&&!tt){$+=" ",ee=0;continue}if(gt||tt){if(tt)H=Be;else if(t.multiline&&(x+2)*(oe+2)+2>a)continue e}else{if(!t.multiline||(x+2)*(oe+2)+2>a)continue e;H=Be}}for(var Le="",St=q;St<=H;St++){var Bt=o[St];if(t.multiline){if(St===H){Le+=Bt[ee]+" ",ee=(ee+1)%Bt.length;continue}if(St===q){Le+=Bt[Bt.length-1]+" ";continue}}Le+=Bt[0]+" "}switch(Le=" "==Le.substr(Le.length-1)?Le.substr(0,Le.length-1):Le,w=v5(Le,t,s).width,t.textAlign){case"right":v=d-w-2;break;case"center":v=(d-w)/2;break;default:v=2}n+=mr(v)+" "+mr(E)+" Td\n",n+="("+NC(Le)+") Tj\n",n+=-mr(v)+" 0 Td\n",E=-(s+2),w=0,q=Fe?H:H+1,oe++,$=""}break}return i.text=n,i.fontSize=s,i},v5=function(t,n,e){var i=n.scope.internal.getFont(n.fontName,n.fontStyle),o=n.scope.getStringUnitWidth(t,{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:n.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:o}},yce={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},bce=function(t,n){var e={type:"reference",object:t};void 0===n.internal.getPageInfo(t.page).pageContext.annotations.find(function(i){return i.type===e.type&&i.object===e.object})&&n.internal.getPageInfo(t.page).pageContext.annotations.push(e)},MY=Ga.__acroform__.arrayToPdfArray=function(t,n,e){var i=function(a){return a};if(Array.isArray(t)){for(var o="[",s=0;s<t.length;s++)switch(0!==s&&(o+=" "),ts(t[s])){case"boolean":case"number":case"object":o+=t[s].toString();break;case"string":"/"!==t[s].substr(0,1)?(void 0!==n&&e&&(i=e.internal.getEncryptor(n)),o+="("+NC(i(t[s].toString()))+")"):o+=t[s].toString()}return o+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},z6=function(t,n,e){var i=function(o){return o};return void 0!==n&&e&&(i=e.internal.getEncryptor(n)),(t=t||"").toString(),"("+NC(i(t))+")"},K_=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};K_.prototype.toString=function(){return this.objId+" 0 R"},K_.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},K_.prototype.getKeyValueListForStream=function(){var t=[],n=Object.getOwnPropertyNames(this).filter(function(s){return"content"!=s&&"appearanceStreamContent"!=s&&"scope"!=s&&"objId"!=s&&"_"!=s.substring(0,1)});for(var e in n)if(!1===Object.getOwnPropertyDescriptor(this,n[e]).configurable){var i=n[e],o=this[i];o&&(Array.isArray(o)?t.push({key:i,value:MY(o,this.objId,this.scope)}):o instanceof K_?(o.scope=this.scope,t.push({key:i,value:o.objId+" 0 R"})):"function"!=typeof o&&t.push({key:i,value:o}))}return t};var kY=function(){K_.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,n=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){t=e.trim()},get:function(){return t||null}})};zh(kY,K_);var IY=function(){K_.call(this);var t,n=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return n.length>0?n:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return n}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var e=function(i){return i};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+NC(e(t))+")"}},set:function(e){t=e}})};zh(IY,K_);var _g=function t(){K_.call(this);var n=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return n},set:function($){if(isNaN($))throw new Error('Invalid value "'+$+'" for attribute F supplied.');n=$}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(cl(n,3))},set:function($){this.F=!0===Boolean($)?ul(n,3):dl(n,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function($){if(isNaN($))throw new Error('Invalid value "'+$+'" for attribute Ff supplied.');e=$}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==i.length)return i},set:function($){i=void 0!==$?$:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function($){i[0]=$}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function($){i[1]=$}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function($){i[2]=$}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function($){i[3]=$}});var o="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return o},set:function($){switch($){case"/Btn":case"/Tx":case"/Ch":case"/Sig":o=$;break;default:throw new Error('Invalid value "'+$+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof w5)return;s="FieldObject"+t.FieldNum++}var $=function(oe){return oe};return this.scope&&($=this.scope.internal.getEncryptor(this.objId)),"("+NC($(s))+")"},set:function($){s=$.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function($){s=$}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function($){a=$}});var d="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return d},set:function($){d=$}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function($){f=$}});var v=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===v?50/Z6:v},set:function($){v=$}});var w="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return w},set:function($){w=$}});var x="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!x||this instanceof w5||this instanceof RC))return z6(x,this.objId,this.scope)},set:function($){$=$.toString(),x=$}});var S=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(S)return this instanceof eu?S:z6(S,this.objId,this.scope)},set:function($){$=$.toString(),S=this instanceof eu?$:"("===$.substr(0,1)?wA($.substr(1,$.length-2)):wA($)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof eu?wA(S.substr(1,S.length-1)):S},set:function($){$=$.toString(),S=this instanceof eu?"/"+$:$}});var E=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(E)return E},set:function($){this.V=$}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(E)return this instanceof eu?E:z6(E,this.objId,this.scope)},set:function($){$=$.toString(),E=this instanceof eu?$:"("===$.substr(0,1)?wA($.substr(1,$.length-2)):wA($)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof eu?wA(E.substr(1,E.length-1)):E},set:function($){$=$.toString(),E=this instanceof eu?"/"+$:$}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var q,H=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return H},set:function($){$=Boolean($),H=$}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(q)return q},set:function($){q=$}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(cl(this.Ff,1))},set:function($){this.Ff=!0===Boolean($)?ul(this.Ff,1):dl(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(cl(this.Ff,2))},set:function($){this.Ff=!0===Boolean($)?ul(this.Ff,2):dl(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(cl(this.Ff,3))},set:function($){this.Ff=!0===Boolean($)?ul(this.Ff,3):dl(this.Ff,3)}});var ee=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==ee)return ee},set:function($){if(-1===[0,1,2].indexOf($))throw new Error('Invalid value "'+$+'" for attribute Q supplied.');ee=$}}),Object.defineProperty(this,"textAlign",{get:function(){var $;switch(ee){case 0:default:$="left";break;case 1:$="center";break;case 2:$="right"}return $},configurable:!0,enumerable:!0,set:function($){switch($){case"right":case 2:ee=2;break;case"center":case 1:ee=1;break;default:ee=0}}})};zh(_g,K_);var CA=function(){_g.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){t=e}});var n=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return MY(n,this.objId,this.scope)},set:function(e){var i,o;o=[],"string"==typeof(i=e)&&(o=function(s,a,d){d||(d=1);for(var f,v=[];f=a.exec(s);)v.push(f[d]);return v}(i,/\((.*?)\)/g)),n=o}}),this.getOptions=function(){return n},this.setOptions=function(e){n=e,this.sort&&n.sort()},this.addOption=function(e){e=(e=e||"").toString(),n.push(e),this.sort&&n.sort()},this.removeOption=function(e,i){for(i=i||!1,e=(e=e||"").toString();-1!==n.indexOf(e)&&(n.splice(n.indexOf(e),1),!1!==i););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(cl(this.Ff,18))},set:function(e){this.Ff=!0===Boolean(e)?ul(this.Ff,18):dl(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(cl(this.Ff,19))},set:function(e){!0===this.combo&&(this.Ff=!0===Boolean(e)?ul(this.Ff,19):dl(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(cl(this.Ff,20))},set:function(e){!0===Boolean(e)?(this.Ff=ul(this.Ff,20),n.sort()):this.Ff=dl(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(cl(this.Ff,22))},set:function(e){this.Ff=!0===Boolean(e)?ul(this.Ff,22):dl(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(cl(this.Ff,23))},set:function(e){this.Ff=!0===Boolean(e)?ul(this.Ff,23):dl(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(cl(this.Ff,27))},set:function(e){this.Ff=!0===Boolean(e)?ul(this.Ff,27):dl(this.Ff,27)}}),this.hasAppearanceStream=!1};zh(CA,_g);var xA=function(){CA.call(this),this.fontName="helvetica",this.combo=!1};zh(xA,CA);var TA=function(){xA.call(this),this.combo=!0};zh(TA,xA);var y5=function(){TA.call(this),this.edit=!0};zh(y5,TA);var eu=function(){_g.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(cl(this.Ff,15))},set:function(e){this.Ff=!0===Boolean(e)?ul(this.Ff,15):dl(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(cl(this.Ff,16))},set:function(e){this.Ff=!0===Boolean(e)?ul(this.Ff,16):dl(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(cl(this.Ff,17))},set:function(e){this.Ff=!0===Boolean(e)?ul(this.Ff,17):dl(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(cl(this.Ff,26))},set:function(e){this.Ff=!0===Boolean(e)?ul(this.Ff,26):dl(this.Ff,26)}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(s){return s};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(n).length){var i,o=[];for(i in o.push("<<"),n)o.push("/"+i+" ("+NC(e(n[i]))+")");return o.push(">>"),o.join("\n")}},set:function(e){"object"===ts(e)&&(n=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(e){"string"==typeof e&&(n.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(e){t="/"+e}})};zh(eu,_g);var b5=function(){eu.call(this),this.pushButton=!0};zh(b5,eu);var AA=function(){eu.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=void 0!==n?n:[]}})};zh(AA,eu);var w5=function(){var t,n;_g.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(o){t=o}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return n},set:function(o){n=o}});var e,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var o=function(d){return d};this.scope&&(o=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),i)a.push("/"+s+" ("+NC(o(i[s]))+")");return a.push(">>"),a.join("\n")},set:function(o){"object"===ts(o)&&(i=o)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(o){"string"==typeof o&&(i.CA=o)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(o){e=o}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(o){e="/"+o}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ui.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};zh(w5,_g),AA.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var n in this.Kids)if(this.Kids.hasOwnProperty(n)){var e=this.Kids[n];e.appearanceStreamContent=t.createAppearanceStream(e.optionName),e.caption=t.getCA()}},AA.prototype.createOption=function(t){var n=new w5;return n.Parent=this,n.optionName=t,this.Kids.push(n),xce.call(this.scope,n),n};var C5=function(){eu.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ui.CheckBox.createAppearanceStream()};zh(C5,eu);var RC=function(){_g.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(cl(this.Ff,13))},set:function(n){this.Ff=!0===Boolean(n)?ul(this.Ff,13):dl(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(cl(this.Ff,21))},set:function(n){this.Ff=!0===Boolean(n)?ul(this.Ff,21):dl(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(cl(this.Ff,23))},set:function(n){this.Ff=!0===Boolean(n)?ul(this.Ff,23):dl(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(cl(this.Ff,24))},set:function(n){this.Ff=!0===Boolean(n)?ul(this.Ff,24):dl(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(cl(this.Ff,25))},set:function(n){this.Ff=!0===Boolean(n)?ul(this.Ff,25):dl(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(cl(this.Ff,26))},set:function(n){this.Ff=!0===Boolean(n)?ul(this.Ff,26):dl(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){Number.isInteger(n)&&(t=n)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};zh(RC,_g);var x5=function(){RC.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(cl(this.Ff,14))},set:function(t){this.Ff=!0===Boolean(t)?ul(this.Ff,14):dl(this.Ff,14)}}),this.password=!0};zh(x5,RC);var ui={CheckBox:{createAppearanceStream:function(){return{N:{On:ui.CheckBox.YesNormal},D:{On:ui.CheckBox.YesPushDown,Off:ui.CheckBox.OffPushDown}}},YesPushDown:function(t){var n=J_(t);n.scope=t.scope;var e=[],i=t.scope.internal.getFont(t.fontName,t.fontStyle).id,o=t.scope.__private__.encodeColorString(t.color),s=Y6(t,t.caption);return e.push("0.749023 g"),e.push("0 0 "+mr(ui.internal.getWidth(t))+" "+mr(ui.internal.getHeight(t))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+i+" "+mr(s.fontSize)+" Tf "+o),e.push("BT"),e.push(s.text),e.push("ET"),e.push("Q"),e.push("EMC"),n.stream=e.join("\n"),n},YesNormal:function(t){var n=J_(t);n.scope=t.scope;var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),o=[],s=ui.internal.getHeight(t),a=ui.internal.getWidth(t),d=Y6(t,t.caption);return o.push("1 g"),o.push("0 0 "+mr(a)+" "+mr(s)+" re"),o.push("f"),o.push("q"),o.push("0 0 1 rg"),o.push("0 0 "+mr(a-1)+" "+mr(s-1)+" re"),o.push("W"),o.push("n"),o.push("0 g"),o.push("BT"),o.push("/"+e+" "+mr(d.fontSize)+" Tf "+i),o.push(d.text),o.push("ET"),o.push("Q"),n.stream=o.join("\n"),n},OffPushDown:function(t){var n=J_(t);n.scope=t.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+mr(ui.internal.getWidth(t))+" "+mr(ui.internal.getHeight(t))+" re"),e.push("f"),n.stream=e.join("\n"),n}},RadioButton:{Circle:{createAppearanceStream:function(t){var n={D:{Off:ui.RadioButton.Circle.OffPushDown},N:{}};return n.N[t]=ui.RadioButton.Circle.YesNormal,n.D[t]=ui.RadioButton.Circle.YesPushDown,n},getCA:function(){return"l"},YesNormal:function(t){var n=J_(t);n.scope=t.scope;var e=[],i=ui.internal.getWidth(t)<=ui.internal.getHeight(t)?ui.internal.getWidth(t)/4:ui.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var s=Number((i*ui.internal.Bezier_C).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+o1(ui.internal.getWidth(t)/2)+" "+o1(ui.internal.getHeight(t)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),e.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),e.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),e.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),e.push("f"),e.push("Q"),n.stream=e.join("\n"),n},YesPushDown:function(t){var n=J_(t);n.scope=t.scope;var e=[],i=ui.internal.getWidth(t)<=ui.internal.getHeight(t)?ui.internal.getWidth(t)/4:ui.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var o=Number((2*i).toFixed(5)),s=Number((o*ui.internal.Bezier_C).toFixed(5)),a=Number((i*ui.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+o1(ui.internal.getWidth(t)/2)+" "+o1(ui.internal.getHeight(t)/2)+" cm"),e.push(o+" 0 m"),e.push(o+" "+s+" "+s+" "+o+" 0 "+o+" c"),e.push("-"+s+" "+o+" -"+o+" "+s+" -"+o+" 0 c"),e.push("-"+o+" -"+s+" -"+s+" -"+o+" 0 -"+o+" c"),e.push(s+" -"+o+" "+o+" -"+s+" "+o+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+o1(ui.internal.getWidth(t)/2)+" "+o1(ui.internal.getHeight(t)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),e.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),e.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),e.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),e.push("f"),e.push("Q"),n.stream=e.join("\n"),n},OffPushDown:function(t){var n=J_(t);n.scope=t.scope;var e=[],i=ui.internal.getWidth(t)<=ui.internal.getHeight(t)?ui.internal.getWidth(t)/4:ui.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var o=Number((2*i).toFixed(5)),s=Number((o*ui.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+o1(ui.internal.getWidth(t)/2)+" "+o1(ui.internal.getHeight(t)/2)+" cm"),e.push(o+" 0 m"),e.push(o+" "+s+" "+s+" "+o+" 0 "+o+" c"),e.push("-"+s+" "+o+" -"+o+" "+s+" -"+o+" 0 c"),e.push("-"+o+" -"+s+" -"+s+" -"+o+" 0 -"+o+" c"),e.push(s+" -"+o+" "+o+" -"+s+" "+o+" 0 c"),e.push("f"),e.push("Q"),n.stream=e.join("\n"),n}},Cross:{createAppearanceStream:function(t){var n={D:{Off:ui.RadioButton.Cross.OffPushDown},N:{}};return n.N[t]=ui.RadioButton.Cross.YesNormal,n.D[t]=ui.RadioButton.Cross.YesPushDown,n},getCA:function(){return"8"},YesNormal:function(t){var n=J_(t);n.scope=t.scope;var e=[],i=ui.internal.calculateCross(t);return e.push("q"),e.push("1 1 "+mr(ui.internal.getWidth(t)-2)+" "+mr(ui.internal.getHeight(t)-2)+" re"),e.push("W"),e.push("n"),e.push(mr(i.x1.x)+" "+mr(i.x1.y)+" m"),e.push(mr(i.x2.x)+" "+mr(i.x2.y)+" l"),e.push(mr(i.x4.x)+" "+mr(i.x4.y)+" m"),e.push(mr(i.x3.x)+" "+mr(i.x3.y)+" l"),e.push("s"),e.push("Q"),n.stream=e.join("\n"),n},YesPushDown:function(t){var n=J_(t);n.scope=t.scope;var e=ui.internal.calculateCross(t),i=[];return i.push("0.749023 g"),i.push("0 0 "+mr(ui.internal.getWidth(t))+" "+mr(ui.internal.getHeight(t))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+mr(ui.internal.getWidth(t)-2)+" "+mr(ui.internal.getHeight(t)-2)+" re"),i.push("W"),i.push("n"),i.push(mr(e.x1.x)+" "+mr(e.x1.y)+" m"),i.push(mr(e.x2.x)+" "+mr(e.x2.y)+" l"),i.push(mr(e.x4.x)+" "+mr(e.x4.y)+" m"),i.push(mr(e.x3.x)+" "+mr(e.x3.y)+" l"),i.push("s"),i.push("Q"),n.stream=i.join("\n"),n},OffPushDown:function(t){var n=J_(t);n.scope=t.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+mr(ui.internal.getWidth(t))+" "+mr(ui.internal.getHeight(t))+" re"),e.push("f"),n.stream=e.join("\n"),n}}},createDefaultAppearanceStream:function(t){var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,e=t.scope.__private__.encodeColorString(t.color);return"/"+n+" "+t.fontSize+" Tf "+e}};ui.internal={Bezier_C:.551915024494,calculateCross:function(t){var n=ui.internal.getWidth(t),e=ui.internal.getHeight(t),i=Math.min(n,e);return{x1:{x:(n-i)/2,y:(e-i)/2+i},x2:{x:(n-i)/2+i,y:(e-i)/2},x3:{x:(n-i)/2,y:(e-i)/2},x4:{x:(n-i)/2+i,y:(e-i)/2+i}}}},ui.internal.getWidth=function(t){var n=0;return"object"===ts(t)&&(n=EY(t.Rect[2])),n},ui.internal.getHeight=function(t){var n=0;return"object"===ts(t)&&(n=EY(t.Rect[3])),n};var xce=Ga.addField=function(t){if(function(t,n){if(n.scope=t,void 0!==t.internal&&(void 0===t.internal.acroformPlugin||!1===t.internal.acroformPlugin.isInitialized)){if(_g.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(yce)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Z6=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new IY,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){var e;(e=t).internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0}),t.internal.events.subscribe("buildDocument",function(){!function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var o in i)if(i.hasOwnProperty(o)){var s=i[o];s.objId=void 0,s.hasAnnotation&&bce(s,e)}}(t)}),t.internal.events.subscribe("putCatalog",function(){!function(e){if(void 0===e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(t)}),t.internal.events.subscribe("postPutPages",function(e){!function(i,o){var s=!i;for(var a in i||(o.internal.newObjectDeferredBegin(o.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),o.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||o.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(a)){var d=i[a],f=[],v=d.Rect;if(d.Rect&&(d.Rect=_ce(d.Rect,o)),o.internal.newObjectDeferredBegin(d.objId,!0),d.DA=ui.createDefaultAppearanceStream(d),"object"===ts(d)&&"function"==typeof d.getKeyValueListForStream&&(f=d.getKeyValueListForStream()),d.Rect=v,d.hasAppearanceStream&&!d.appearanceStreamContent){var w=vce(d);f.push({key:"AP",value:"<</N "+w+">>"}),o.internal.acroformPlugin.xForms.push(w)}if(d.appearanceStreamContent){var x="";for(var S in d.appearanceStreamContent)if(d.appearanceStreamContent.hasOwnProperty(S)){var E=d.appearanceStreamContent[S];if(x+="/"+S+" ",x+="<<",Object.keys(E).length>=1||Array.isArray(E)){for(var a in E)if(E.hasOwnProperty(a)){var q=E[a];"function"==typeof q&&(q=q.call(o,d)),x+="/"+a+" "+q+" ",o.internal.acroformPlugin.xForms.indexOf(q)>=0||o.internal.acroformPlugin.xForms.push(q)}}else"function"==typeof(q=E)&&(q=q.call(o,d)),x+="/"+a+" "+q,o.internal.acroformPlugin.xForms.indexOf(q)>=0||o.internal.acroformPlugin.xForms.push(q);x+=">>"}f.push({key:"AP",value:"<<\n"+x+">>"})}o.internal.putStream({additionalKeyValues:f,objectId:d.objId}),o.internal.out("endobj")}s&&function(t,n){for(var e in t)if(t.hasOwnProperty(e)){var i=e,o=t[e];n.internal.newObjectDeferredBegin(o.objId,!0),"object"===ts(o)&&"function"==typeof o.putStream&&o.putStream(),delete t[i]}}(o.internal.acroformPlugin.xForms,o)}(e,t)}),t.internal.acroformPlugin.isInitialized=!0}}(this,t),!(t instanceof _g))throw new Error("Invalid argument passed to jsPDF.addField.");var n;return(n=t).scope.internal.acroformPlugin.printedOut&&(n.scope.internal.acroformPlugin.printedOut=!1,n.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),n.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(n),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};function OY(t){return t.reduce(function(n,e,i){return n[e]=i,n},{})}Ga.AcroFormChoiceField=CA,Ga.AcroFormListBox=xA,Ga.AcroFormComboBox=TA,Ga.AcroFormEditBox=y5,Ga.AcroFormButton=eu,Ga.AcroFormPushButton=b5,Ga.AcroFormRadioButton=AA,Ga.AcroFormCheckBox=C5,Ga.AcroFormTextField=RC,Ga.AcroFormPasswordField=x5,Ga.AcroFormAppearance=ui,Ga.AcroForm={ChoiceField:CA,ListBox:xA,ComboBox:TA,EditBox:y5,Button:eu,PushButton:b5,RadioButton:AA,CheckBox:C5,TextField:RC,PasswordField:x5,Appearance:ui},Hi.AcroForm={ChoiceField:CA,ListBox:xA,ComboBox:TA,EditBox:y5,Button:eu,PushButton:b5,RadioButton:AA,CheckBox:C5,TextField:RC,PasswordField:x5,Appearance:ui},function(t){t.__addimage__={};var n="UNKNOWN",e={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(Ce,we){var He,je,Rt,ze,ct,Ke=n;if("RGBA"===(we=we||n)||void 0!==Ce.data&&Ce.data instanceof Uint8ClampedArray&&"height"in Ce&&"width"in Ce)return"RGBA";if(gt(Ce))for(ct in e)for(Rt=e[ct],He=0;He<Rt.length;He+=1){for(ze=!0,je=0;je<Rt[He].length;je+=1)if(void 0!==Rt[He][je]&&Rt[He][je]!==Ce[je]){ze=!1;break}if(!0===ze){Ke=ct;break}}else for(ct in e)for(Rt=e[ct],He=0;He<Rt.length;He+=1){for(ze=!0,je=0;je<Rt[He].length;je+=1)if(void 0!==Rt[He][je]&&Rt[He][je]!==Ce.charCodeAt(je)){ze=!1;break}if(!0===ze){Ke=ct;break}}return Ke===n&&we!==n&&(Ke=we),Ke},o=function Ce(we){for(var He=this.internal.write,je=this.internal.putStream,Rt=(0,this.internal.getFilters)();-1!==Rt.indexOf("FlateEncode");)Rt.splice(Rt.indexOf("FlateEncode"),1);we.objectId=this.internal.newObject();var ze=[];if(ze.push({key:"Type",value:"/XObject"}),ze.push({key:"Subtype",value:"/Image"}),ze.push({key:"Width",value:we.width}),ze.push({key:"Height",value:we.height}),we.colorSpace===ee.INDEXED?ze.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(we.palette.length/3-1)+" "+("sMask"in we&&void 0!==we.sMask?we.objectId+2:we.objectId+1)+" 0 R]"}):(ze.push({key:"ColorSpace",value:"/"+we.colorSpace}),we.colorSpace===ee.DEVICE_CMYK&&ze.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ze.push({key:"BitsPerComponent",value:we.bitsPerComponent}),"decodeParameters"in we&&void 0!==we.decodeParameters&&ze.push({key:"DecodeParms",value:"<<"+we.decodeParameters+">>"}),"transparency"in we&&Array.isArray(we.transparency)){for(var ct="",Ke=0,bt=we.transparency.length;Ke<bt;Ke++)ct+=we.transparency[Ke]+" "+we.transparency[Ke]+" ";ze.push({key:"Mask",value:"["+ct+"]"})}if(void 0!==we.sMask&&ze.push({key:"SMask",value:we.objectId+1+" 0 R"}),je({data:we.data,additionalKeyValues:ze,alreadyAppliedFilters:void 0!==we.filter?["/"+we.filter]:void 0,objectId:we.objectId}),He("endobj"),"sMask"in we&&void 0!==we.sMask){var ae={width:we.width,height:we.height,colorSpace:"DeviceGray",bitsPerComponent:we.bitsPerComponent,decodeParameters:"/Predictor "+we.predictor+" /Colors 1 /BitsPerComponent "+we.bitsPerComponent+" /Columns "+we.width,data:we.sMask};"filter"in we&&(ae.filter=we.filter),Ce.call(this,ae)}if(we.colorSpace===ee.INDEXED){var De=this.internal.newObject();je({data:Le(new Uint8Array(we.palette)),objectId:De}),He("endobj")}},s=function(){var Ce=this.internal.collections.addImage_images;for(var we in Ce)o.call(this,Ce[we])},a=function(){var Ce,we=this.internal.collections.addImage_images,He=this.internal.write;for(var je in we)He("/I"+(Ce=we[je]).index,Ce.objectId,"0","R")},d=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},f=function(){var Ce=this.internal.collections.addImage_images;return d.call(this),Ce},v=function(){return Object.keys(this.internal.collections.addImage_images).length},w=function(Ce){return"function"==typeof t["process"+Ce.toUpperCase()]},x=function(Ce){return"object"===ts(Ce)&&1===Ce.nodeType},S=function(Ce,we){if("IMG"===Ce.nodeName&&Ce.hasAttribute("src")){var He=""+Ce.getAttribute("src");if(0===He.indexOf("data:image/"))return CE(unescape(He).split("base64,").pop());var je=t.loadFile(He,!0);if(void 0!==je)return je}if("CANVAS"===Ce.nodeName){if(0===Ce.width||0===Ce.height)throw new Error("Given canvas must have data. Canvas width: "+Ce.width+", height: "+Ce.height);var Rt;switch(we){case"PNG":Rt="image/png";break;case"WEBP":Rt="image/webp";break;default:Rt="image/jpeg"}return CE(Ce.toDataURL(Rt,1).split("base64,").pop())}},E=function(Ce){var we=this.internal.collections.addImage_images;if(we)for(var He in we)if(Ce===we[He].alias)return we[He]},q=function(Ce,we,He){return Ce||we||(Ce=-96,we=-96),Ce<0&&(Ce=-1*He.width*72/Ce/this.internal.scaleFactor),we<0&&(we=-1*He.height*72/we/this.internal.scaleFactor),0===Ce&&(Ce=we*He.width/He.height),0===we&&(we=Ce*He.height/He.width),[Ce,we]},H=function(Ce,we,He,je,Rt,ze){var ct=q.call(this,He,je,Rt),Ke=this.internal.getCoordinateString,bt=this.internal.getVerticalCoordinateString,Et=f.call(this);if(He=ct[0],je=ct[1],Et[Rt.index]=Rt,ze){ze*=Math.PI/180;var Fn=Math.cos(ze),ae=Math.sin(ze),De=function(Qe){return Qe.toFixed(4)},Ee=[De(Fn),De(ae),De(-1*ae),De(Fn),0,0,"cm"]}this.internal.write("q"),ze?(this.internal.write([1,"0","0",1,Ke(Ce),bt(we+je),"cm"].join(" ")),this.internal.write(Ee.join(" ")),this.internal.write([Ke(He),"0","0",Ke(je),"0","0","cm"].join(" "))):this.internal.write([Ke(He),"0","0",Ke(je),Ke(Ce),bt(we+je),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Rt.index+" Do"),this.internal.write("Q")},ee=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var $=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},oe=t.__addimage__.sHashCode=function(Ce){var we,He,je=0;if("string"==typeof Ce)for(He=Ce.length,we=0;we<He;we++)je=(je<<5)-je+Ce.charCodeAt(we),je|=0;else if(gt(Ce))for(He=Ce.byteLength/2,we=0;we<He;we++)je=(je<<5)-je+Ce[we],je|=0;return je},ve=t.__addimage__.validateStringAsBase64=function(Ce){(Ce=Ce||"").toString().trim();var we=!0;return 0===Ce.length&&(we=!1),Ce.length%4!=0&&(we=!1),!1===/^[A-Za-z0-9+/]+$/.test(Ce.substr(0,Ce.length-2))&&(we=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(Ce.substr(-2))&&(we=!1),we},Fe=t.__addimage__.extractImageFromDataUrl=function(Ce){var we=(Ce=Ce||"").split("base64,"),He=null;if(2===we.length){var je=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(we[0]);Array.isArray(je)&&(He={mimeType:je[1],charset:je[2],data:we[1]})}return He},Be=t.__addimage__.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array};t.__addimage__.isArrayBuffer=function(Ce){return Be()&&Ce instanceof ArrayBuffer};var gt=t.__addimage__.isArrayBufferView=function(Ce){return Be()&&"undefined"!=typeof Uint32Array&&(Ce instanceof Int8Array||Ce instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&Ce instanceof Uint8ClampedArray||Ce instanceof Int16Array||Ce instanceof Uint16Array||Ce instanceof Int32Array||Ce instanceof Uint32Array||Ce instanceof Float32Array||Ce instanceof Float64Array)},tt=t.__addimage__.binaryStringToUint8Array=function(Ce){for(var we=Ce.length,He=new Uint8Array(we),je=0;je<we;je++)He[je]=Ce.charCodeAt(je);return He},Le=t.__addimage__.arrayBufferToBinaryString=function(Ce){for(var we="",He=gt(Ce)?Ce:new Uint8Array(Ce),je=0;je<He.length;je+=8192)we+=String.fromCharCode.apply(null,He.subarray(je,je+8192));return we};t.addImage=function(){var Ce,we,He,je,Rt,ze,ct,Ke,bt;if("number"==typeof arguments[1]?(we=n,He=arguments[1],je=arguments[2],Rt=arguments[3],ze=arguments[4],ct=arguments[5],Ke=arguments[6],bt=arguments[7]):(we=arguments[1],He=arguments[2],je=arguments[3],Rt=arguments[4],ze=arguments[5],ct=arguments[6],Ke=arguments[7],bt=arguments[8]),"object"===ts(Ce=arguments[0])&&!x(Ce)&&"imageData"in Ce){var Et=Ce;Ce=Et.imageData,we=Et.format||we||n,He=Et.x||He||0,je=Et.y||je||0,Rt=Et.w||Et.width||Rt,ze=Et.h||Et.height||ze,ct=Et.alias||ct,Ke=Et.compression||Ke,bt=Et.rotation||Et.angle||bt}var Fn=this.internal.getFilters();if(void 0===Ke&&-1!==Fn.indexOf("FlateEncode")&&(Ke="SLOW"),isNaN(He)||isNaN(je))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var ae=St.call(this,Ce,we,ct,Ke);return H.call(this,He,je,Rt,ze,ae,bt),this};var St=function(Ce,we,He,je){var Rt,ze,ct,bt;if("string"==typeof Ce&&i(Ce)===n){Ce=unescape(Ce);var Ke=Bt(Ce,!1);(""!==Ke||void 0!==(Ke=t.loadFile(Ce,!0)))&&(Ce=Ke)}if(x(Ce)&&(Ce=S(Ce,we)),we=i(Ce,we),!w(we))throw new Error("addImage does not support files of type '"+we+"', please ensure that a plugin for '"+we+"' support is added.");if((null==(ct=He)||0===ct.length)&&(He="string"==typeof(bt=Ce)||gt(bt)?oe(bt):gt(bt.data)?oe(bt.data):null),(Rt=E.call(this,He))||(Be()&&(Ce instanceof Uint8Array||"RGBA"===we||(ze=Ce,Ce=tt(Ce))),Rt=this["process"+we.toUpperCase()](Ce,v.call(this),He,function(bt){return bt&&"string"==typeof bt&&(bt=bt.toUpperCase()),bt in t.image_compression?bt:$.NONE}(je),ze)),!Rt)throw new Error("An unknown error occurred whilst processing the image.");return Rt},Bt=t.__addimage__.convertBase64ToBinaryString=function(Ce,we){var He;we="boolean"!=typeof we||we;var je,Rt="";if("string"==typeof Ce){je=null!==(He=Fe(Ce))?He.data:Ce;try{Rt=CE(je)}catch(ze){if(we)throw ve(je)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ze.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Rt};t.getImageProperties=function(Ce){var we,He,je="";if(x(Ce)&&(Ce=S(Ce)),"string"==typeof Ce&&i(Ce)===n&&(""===(je=Bt(Ce,!1))&&(je=t.loadFile(Ce)||""),Ce=je),He=i(Ce),!w(He))throw new Error("addImage does not support files of type '"+He+"', please ensure that a plugin for '"+He+"' support is added.");if(!Be()||Ce instanceof Uint8Array||(Ce=tt(Ce)),!(we=this["process"+He.toUpperCase()](Ce)))throw new Error("An unknown error occurred whilst processing the image");return we.fileType=He,we}}(Hi.API),function(t){var n=function(e){if(void 0!==e&&""!=e)return!0};Hi.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(e){for(var i,o,s,a=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(e.objId),v=e.pageContext.annotations,w=!1,x=0;x<v.length&&!w;x++)switch((i=v[x]).type){case"link":(n(i.options.url)||n(i.options.pageNumber))&&(w=!0);break;case"reference":case"text":case"freetext":w=!0}if(0!=w){this.internal.write("/Annots [");for(var S=0;S<v.length;S++){i=v[S];var E=this.internal.pdfEscape,q=this.internal.getEncryptor(e.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var H=this.internal.newAdditionalObject(),ee=this.internal.newAdditionalObject(),$=this.internal.getEncryptor(H.objId),oe=i.title||"Note";s="<</Type /Annot /Subtype /Text "+(o="/Rect ["+a(i.bounds.x)+" "+d(i.bounds.y+i.bounds.h)+" "+a(i.bounds.x+i.bounds.w)+" "+d(i.bounds.y)+"] ")+"/Contents ("+E($(i.contents))+")",s+=" /Popup "+ee.objId+" 0 R",s+=" /P "+f.objId+" 0 R",s+=" /T ("+E($(oe))+") >>",H.content=s;var ve=H.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(o="/Rect ["+a(i.bounds.x+30)+" "+d(i.bounds.y+i.bounds.h)+" "+a(i.bounds.x+i.bounds.w+30)+" "+d(i.bounds.y)+"] ")+" /Parent "+ve,i.open&&(s+=" /Open true"),ee.content=s+=" >>",this.internal.write(H.objId,"0 R",ee.objId,"0 R");break;case"freetext":o="/Rect ["+a(i.bounds.x)+" "+d(i.bounds.y)+" "+a(i.bounds.x+i.bounds.w)+" "+d(i.bounds.y+i.bounds.h)+"] ";var Fe=i.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+o+"/Contents ("+E(q(i.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+Fe+")",s+=" /Border [0 0 0]",this.internal.write(s+=" >>");break;case"link":if(i.options.name){var Be=this.annotations._nameMap[i.options.name];i.options.pageNumber=Be.page,i.options.top=Be.y}else i.options.top||(i.options.top=0);if(o="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",s="",i.options.url)s="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /A <</S /URI /URI ("+E(q(i.options.url))+") >>";else if(i.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,s+=" /FitV "+i.options.left+"]";break;default:var gt=d(i.options.top);i.options.left=i.options.left||0,void 0===i.options.zoom&&(i.options.zoom=0),s+=" /XYZ "+i.options.left+" "+gt+" "+i.options.zoom+"]"}""!=s&&this.internal.write(s+=" >>")}}this.internal.write("]")}}]),t.createAnnotation=function(e){var i=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":i.pageContext.annotations.push(e)}},t.link=function(e,i,o,s,a){var d=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,v=this.internal.getVerticalCoordinateString;d.pageContext.annotations.push({finalBounds:{x:f(e),y:v(i),w:f(e+o),h:v(i+s)},options:a,type:"link"})},t.textWithLink=function(e,i,o,s){var a,d,f=this.getTextWidth(e),v=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==s.maxWidth){var w=this.splitTextToSize(e,d=s.maxWidth).length;a=Math.ceil(v*w)}else d=f,a=v;return this.text(e,i,o,s),"center"===s.align&&(i-=f/2),"right"===s.align&&(i-=f),this.link(i,(o+=.2*v)-v,d,a,s),f},t.getTextWidth=function(e){var i=this.internal.getFontSize();return this.getStringUnitWidth(e)*i/this.internal.scaleFactor}}(Hi.API),function(t){var n={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},o=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(H){return void 0!==n[H.charCodeAt(0)]},a=t.__arabicParser__.isArabicLetter=function(H){return"string"==typeof H&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(H)},d=t.__arabicParser__.isArabicEndLetter=function(H){return a(H)&&s(H)&&n[H.charCodeAt(0)].length<=2},f=t.__arabicParser__.isArabicAlfLetter=function(H){return a(H)&&o.indexOf(H.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(H){return a(H)&&s(H)&&n[H.charCodeAt(0)].length>=1};var v=t.__arabicParser__.arabicLetterHasFinalForm=function(H){return a(H)&&s(H)&&n[H.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(H){return a(H)&&s(H)&&n[H.charCodeAt(0)].length>=3};var w=t.__arabicParser__.arabicLetterHasMedialForm=function(H){return a(H)&&s(H)&&4==n[H.charCodeAt(0)].length},x=t.__arabicParser__.resolveLigatures=function(H){var ee=0,$=e,oe="",ve=0;for(ee=0;ee<H.length;ee+=1)void 0!==$[H.charCodeAt(ee)]?(ve++,"number"==typeof($=$[H.charCodeAt(ee)])&&(oe+=String.fromCharCode($),$=e,ve=0),ee===H.length-1&&($=e,oe+=H.charAt(ee-(ve-1)),ee-=ve-1,ve=0)):($=e,oe+=H.charAt(ee-ve),ee-=ve,ve=0);return oe};t.__arabicParser__.isArabicDiacritic=function(H){return void 0!==H&&void 0!==i[H.charCodeAt(0)]};var S=t.__arabicParser__.getCorrectForm=function(H,ee,$){return a(H)?!1===s(H)?-1:!v(H)||!a(ee)&&!a($)||!a($)&&d(ee)||d(H)&&!a(ee)||d(H)&&f(ee)||d(H)&&d(ee)?0:w(H)&&a(ee)&&!d(ee)&&a($)&&v($)?3:d(H)||!a($)?1:2:-1},E=function(H){var ee=0,$=0,oe=0,ve="",Fe="",Be="",gt=(H=H||"").split("\\s+"),tt=[];for(ee=0;ee<gt.length;ee+=1){for(tt.push(""),$=0;$<gt[ee].length;$+=1)Fe=gt[ee][$-1],Be=gt[ee][$+1],a(ve=gt[ee][$])?(oe=S(ve,Fe,Be),tt[ee]+=-1!==oe?String.fromCharCode(n[ve.charCodeAt(0)][oe]):ve):tt[ee]+=ve;tt[ee]=x(tt[ee])}return tt.join(" ")},q=t.__arabicParser__.processArabic=t.processArabic=function(){var H,ee="string"==typeof arguments[0]?arguments[0]:arguments[0].text,$=[];if(Array.isArray(ee)){var oe=0;for($=[],oe=0;oe<ee.length;oe+=1)Array.isArray(ee[oe])?$.push([E(ee[oe][0]),ee[oe][1],ee[oe][2]]):$.push([E(ee[oe])]);H=$}else H=E(ee);return"string"==typeof arguments[0]?H:(arguments[0].text=H,arguments[0])};t.events.push(["preProcessText",q])}(Hi.API),Hi.API.autoPrint=function(t){var n;return"javascript"===((t=t||{}).variant=t.variant||"non-conform",t.variant)?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){n=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+n+" 0 R")})),this},function(t){var n=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(d){e=d}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(d){i=isNaN(d)||!1===Number.isInteger(d)||d<0?150:d,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var o=300;Object.defineProperty(this,"height",{get:function(){return o},set:function(d){o=isNaN(d)||!1===Number.isInteger(d)||d<0?300:d,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=o+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(d){s=d}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(d){a=d}}),Object.defineProperty(this,"parentNode",{})};n.prototype.getContext=function(e,i){var o;if("2d"!==(e=e||"2d"))return null;for(o in i)this.pdf.context2d.hasOwnProperty(o)&&(this.pdf.context2d[o]=i[o]);return this.pdf.context2d._canvas=this,this.pdf.context2d},n.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new n,this.canvas.pdf=this}])}(Hi.API),function(t){var n={left:0,top:0,bottom:0,right:0},e=!1,i=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},n),this.internal.__cell__.margins.width=this.getPageWidth(),o.call(this))},o=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(H){f=H}});var v=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return v},set:function(H){v=H}});var w=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return w},set:function(H){w=H}});var x=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return x},set:function(H){x=H}});var S=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return S},set:function(H){S=H}});var E=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return E},set:function(H){E=H}});var q=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return q},set:function(H){q=H}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(f){return i.call(this),this.internal.__cell__.headerFunction="function"==typeof f?f:void 0,this},t.getTextDimensions=function(f,v){i.call(this);var w=(v=v||{}).fontSize||this.getFontSize(),x=v.font||this.getFont(),S=v.scaleFactor||this.internal.scaleFactor,E=0,q=0,H=0,ee=this;if(!Array.isArray(f)&&"string"!=typeof f){if("number"!=typeof f)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var $=v.maxWidth;$>0?"string"==typeof f?f=this.splitTextToSize(f,$):"[object Array]"===Object.prototype.toString.call(f)&&(f=f.reduce(function(ve,Fe){return ve.concat(ee.splitTextToSize(Fe,$))},[])):f=Array.isArray(f)?f:[f];for(var oe=0;oe<f.length;oe++)E<(H=this.getStringUnitWidth(f[oe],{font:x})*w)&&(E=H);return 0!==E&&(q=f.length),{w:E/=S,h:Math.max((q*w*this.getLineHeightFactor()-w*(this.getLineHeightFactor()-1))/S,0)}},t.cellAddPage=function(){i.call(this),this.addPage();var f=this.internal.__cell__.margins||n;return this.internal.__cell__.lastCell=new s(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var f;f=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var v=this.internal.__cell__.lastCell,w=this.internal.__cell__.padding,x=this.internal.__cell__.margins||n,S=this.internal.__cell__.tableHeaderRow,E=this.internal.__cell__.printHeaders;return void 0!==v.lineNumber&&(v.lineNumber===f.lineNumber?(f.x=(v.x||0)+(v.width||0),f.y=v.y||0):v.y+v.height+f.height+x.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=x.top,E&&S&&(this.printHeaderRow(f.lineNumber,!0),f.y+=S[0].height)):f.y=v.y+v.height||f.y),void 0!==f.text[0]&&(this.rect(f.x,f.y,f.width,f.height,!0===e?"FD":void 0),"right"===f.align?this.text(f.text,f.x+f.width-w,f.y+w,{align:"right",baseline:"top"}):"center"===f.align?this.text(f.text,f.x+f.width/2,f.y+w,{align:"center",baseline:"top",maxWidth:f.width-w-w}):this.text(f.text,f.x+w,f.y+w,{align:"left",baseline:"top",maxWidth:f.width-w-w})),this.internal.__cell__.lastCell=f,this};t.table=function(f,v,w,x,S){if(i.call(this),!w)throw new Error("No data for PDF table.");var E,q,H,ee,$=[],oe=[],ve=[],Fe={},Be={},gt=[],tt=[],Le=(S=S||{}).autoSize||!1,St=!1!==S.printHeaders,Bt=S.css&&void 0!==S.css["font-size"]?16*S.css["font-size"]:S.fontSize||12,Ce=S.margins||Object.assign({width:this.getPageWidth()},n),we="number"==typeof S.padding?S.padding:3,He=S.headerBackgroundColor||"#c8c8c8",je=S.headerTextColor||"#000";if(o.call(this),this.internal.__cell__.printHeaders=St,this.internal.__cell__.margins=Ce,this.internal.__cell__.table_font_size=Bt,this.internal.__cell__.padding=we,this.internal.__cell__.headerBackgroundColor=He,this.internal.__cell__.headerTextColor=je,this.setFontSize(Bt),null==x)oe=$=Object.keys(w[0]),ve=$.map(function(){return"left"});else if(Array.isArray(x)&&"object"===ts(x[0]))for($=x.map(function(Et){return Et.name}),oe=x.map(function(Et){return Et.prompt||Et.name||""}),ve=x.map(function(Et){return Et.align||"left"}),E=0;E<x.length;E+=1)Be[x[E].name]=x[E].width*(19.049976/25.4);else Array.isArray(x)&&"string"==typeof x[0]&&(oe=$=x,ve=$.map(function(){return"left"}));if(Le||Array.isArray(x)&&"string"==typeof x[0])for(E=0;E<$.length;E+=1){for(Fe[ee=$[E]]=w.map(function(Et){return Et[ee]}),this.setFont(void 0,"bold"),gt.push(this.getTextDimensions(oe[E],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),q=Fe[ee],this.setFont(void 0,"normal"),H=0;H<q.length;H+=1)gt.push(this.getTextDimensions(q[H],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Be[ee]=Math.max.apply(null,gt)+we+we,gt=[]}if(St){var Rt={};for(E=0;E<$.length;E+=1)Rt[$[E]]={},Rt[$[E]].text=oe[E],Rt[$[E]].align=ve[E];var ze=d.call(this,Rt,Be);tt=$.map(function(Et){return new s(f,v,Be[Et],ze,Rt[Et].text,void 0,Rt[Et].align)}),this.setTableHeaderRow(tt),this.printHeaderRow(1,!1)}var ct=x.reduce(function(Et,Fn){return Et[Fn.name]=Fn.align,Et},{});for(E=0;E<w.length;E+=1){"rowStart"in S&&S.rowStart instanceof Function&&S.rowStart({row:E,data:w[E]},this);var Ke=d.call(this,w[E],Be);for(H=0;H<$.length;H+=1){var bt=w[E][$[H]];"cellStart"in S&&S.cellStart instanceof Function&&S.cellStart({row:E,col:H,data:bt},this),a.call(this,new s(f,v,Be[$[H]],Ke,bt,E+2,ct[$[H]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=v,this};var d=function(f,v){var w=this.internal.__cell__.padding,x=this.internal.__cell__.table_font_size,S=this.internal.scaleFactor;return Object.keys(f).map(function(E){var q=f[E];return this.splitTextToSize(q.hasOwnProperty("text")?q.text:q,v[E]-w-w)},this).map(function(E){return this.getLineHeightFactor()*E.length*x/S+w+w},this).reduce(function(E,q){return Math.max(E,q)},0)};t.setTableHeaderRow=function(f){i.call(this),this.internal.__cell__.tableHeaderRow=f},t.printHeaderRow=function(f,v){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var w;if(e=!0,"function"==typeof this.internal.__cell__.headerFunction){var x=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(x[0],x[1],x[2],x[3],void 0,-1)}this.setFont(void 0,"bold");for(var S=[],E=0;E<this.internal.__cell__.tableHeaderRow.length;E+=1){w=this.internal.__cell__.tableHeaderRow[E].clone(),v&&(w.y=this.internal.__cell__.margins.top||0,S.push(w)),w.lineNumber=f;var q=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,w),this.setTextColor(q)}S.length>0&&this.setTableHeaderRow(S),this.setFont(void 0,"normal"),e=!1}}(Hi.API);var LY={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},FY=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],W6=OY(FY),NY=[100,200,300,400,500,600,700,800,900],Tce=OY(NY);function $6(t){var s,n=t.family.replace(/"|'/g,"").toLowerCase(),e=LY[s=(s=t.style)||"normal"]?s:"normal",i=function(s){return s?"number"==typeof s?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):"bold"===s?700:400:400}(t.weight),o=function(s){return"number"==typeof W6[s=s||"normal"]?s:"normal"}(t.stretch);return{family:n,style:e,weight:i,stretch:o,src:t.src||[],ref:t.ref||{name:n,style:[o,e,i].join(" ")}}}function RY(t,n,e,i){var o;for(o=e;o>=0&&o<n.length;o+=i)if(t[n[o]])return t[n[o]];for(o=e;o>=0&&o<n.length;o-=i)if(t[n[o]])return t[n[o]]}var Ace={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},PY={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function BY(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function UY(t){return t.trimLeft()}function Dce(t,n){for(var e=0;e<t.length;){if(t.charAt(e)===n)return[t.substring(0,e),t.substring(e+1)];e+=1}return null}function Ece(t){var n=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===n?null:[n[0],t.substring(n[0].length)]}var T5,jY,VY,Q6=["times"];(function(t){var n,e,i,o,s,a,d,f,v,w=function(ae){return this.isStrokeTransparent=(ae=ae||{}).isStrokeTransparent||!1,this.strokeOpacity=ae.strokeOpacity||1,this.strokeStyle=ae.strokeStyle||"#000000",this.fillStyle=ae.fillStyle||"#000000",this.isFillTransparent=ae.isFillTransparent||!1,this.fillOpacity=ae.fillOpacity||1,this.font=ae.font||"10px sans-serif",this.textBaseline=ae.textBaseline||"alphabetic",this.textAlign=ae.textAlign||"left",this.lineWidth=ae.lineWidth||1,this.lineJoin=ae.lineJoin||"miter",this.lineCap=ae.lineCap||"butt",this.path=ae.path||[],this.transform=void 0!==ae.transform?ae.transform.clone():new f,this.globalCompositeOperation=ae.globalCompositeOperation||"normal",this.globalAlpha=ae.globalAlpha||1,this.clip_path=ae.clip_path||[],this.currentPoint=ae.currentPoint||new a,this.miterLimit=ae.miterLimit||10,this.lastPoint=ae.lastPoint||new a,this.lineDashOffset=ae.lineDashOffset||0,this.lineDash=ae.lineDash||[],this.margin=ae.margin||[0,0,0,0],this.prevPageLastElemOffset=ae.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof ae.ignoreClearRect||ae.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new x(this),n=this.internal.f2,e=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,o=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,d=this.internal.Rectangle,f=this.internal.Matrix,v=new w}]);var x=function(ae){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var De=ae;Object.defineProperty(this,"pdf",{get:function(){return De}});var Ee=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Ee},set:function(zt){Ee=Boolean(zt)}});var Qe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Qe},set:function(zt){Qe=Boolean(zt)}});var ut=0;Object.defineProperty(this,"posX",{get:function(){return ut},set:function(zt){isNaN(zt)||(ut=zt)}});var pt=0;Object.defineProperty(this,"posY",{get:function(){return pt},set:function(zt){isNaN(zt)||(pt=zt)}}),Object.defineProperty(this,"margin",{get:function(){return v.margin},set:function(zt){var Ne;"number"==typeof zt?Ne=[zt,zt,zt,zt]:((Ne=new Array(4))[0]=zt[0],Ne[1]=zt.length>=2?zt[1]:Ne[0],Ne[2]=zt.length>=3?zt[2]:Ne[0],Ne[3]=zt.length>=4?zt[3]:Ne[1]),v.margin=Ne}});var Ct=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ct},set:function(zt){Ct=zt}});var Tt=0;Object.defineProperty(this,"lastBreak",{get:function(){return Tt},set:function(zt){Tt=zt}});var wn=[];Object.defineProperty(this,"pageBreaks",{get:function(){return wn},set:function(zt){wn=zt}}),Object.defineProperty(this,"ctx",{get:function(){return v},set:function(zt){zt instanceof w&&(v=zt)}}),Object.defineProperty(this,"path",{get:function(){return v.path},set:function(zt){v.path=zt}});var Cn=[];Object.defineProperty(this,"ctxStack",{get:function(){return Cn},set:function(zt){Cn=zt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(zt){var Ne;Ne=S(zt),this.ctx.fillStyle=Ne.style,this.ctx.isFillTransparent=0===Ne.a,this.ctx.fillOpacity=Ne.a,this.pdf.setFillColor(Ne.r,Ne.g,Ne.b,{a:Ne.a}),this.pdf.setTextColor(Ne.r,Ne.g,Ne.b,{a:Ne.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(zt){var Ne=S(zt);this.ctx.strokeStyle=Ne.style,this.ctx.isStrokeTransparent=0===Ne.a,this.ctx.strokeOpacity=Ne.a,0===Ne.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(Ne.r,Ne.g,Ne.b)}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(zt){-1!==["butt","round","square"].indexOf(zt)&&(this.ctx.lineCap=zt,this.pdf.setLineCap(zt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(zt){isNaN(zt)||(this.ctx.lineWidth=zt,this.pdf.setLineWidth(zt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(zt){-1!==["bevel","round","miter"].indexOf(zt)&&(this.ctx.lineJoin=zt,this.pdf.setLineJoin(zt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(zt){isNaN(zt)||(this.ctx.miterLimit=zt,this.pdf.setMiterLimit(zt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(zt){this.ctx.textBaseline=zt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(zt){-1!==["right","end","center","left","start"].indexOf(zt)&&(this.ctx.textAlign=zt)}});var Jn=null,Ji=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ji},set:function(zt){Jn=null,Ji=zt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(zt){var Ne;if(this.ctx.font=zt,null!==(Ne=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(zt))){var yr=Ne[1],bi=Ne[3],xn=Ne[4],Un=Ne[6],$n=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(xn)[2];xn=Math.floor("px"===$n?parseFloat(xn)*this.pdf.internal.scaleFactor:"em"===$n?parseFloat(xn)*this.pdf.getFontSize():parseFloat(xn)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(xn);var Yn=function(ir){var Vr,Qn,_d=[],Eo=ir.trim();if(""===Eo)return Q6;if(Eo in PY)return[PY[Eo]];for(;""!==Eo;){switch(Qn=null,Vr=(Eo=UY(Eo)).charAt(0)){case'"':case"'":Qn=Dce(Eo.substring(1),Vr);break;default:Qn=Ece(Eo)}if(null===Qn||(_d.push(Qn[0]),""!==(Eo=UY(Qn[1]))&&","!==Eo.charAt(0)))return Q6;Eo=Eo.replace(/^,/,"")}return _d}(Un);if(this.fontFaces){var Mi=function Sce(t,n,e){for(var i=(e=e||{}).defaultFontFamily||"times",o=Object.assign({},Ace,e.genericFontFamilies||{}),s=null,a=null,d=0;d<n.length;++d)if(o[(s=$6(n[d])).family]&&(s.family=o[s.family]),t.hasOwnProperty(s.family)){a=t[s.family];break}if(!(a=a||t[i]))throw new Error("Could not find a font-family for the rule '"+BY(s)+"' and default family '"+i+"'.");if(a=function(f,v){if(v[f])return v[f];var w=W6[f],S=RY(v,FY,w,w<=W6.normal?-1:1);if(!S)throw new Error("Could not find a matching font-stretch value for "+f);return S}(s.stretch,a),a=function(f,v){if(v[f])return v[f];for(var w=LY[f],x=0;x<w.length;++x)if(v[w[x]])return v[w[x]];throw new Error("Could not find a matching font-style for "+f)}(s.style,a),!(a=function(f,v){if(v[f])return v[f];if(400===f&&v[500])return v[500];if(500===f&&v[400])return v[400];var x=RY(v,NY,Tce[f],f<400?-1:1);if(!x)throw new Error("Could not find a matching font-weight for value "+f);return x}(s.weight,a)))throw new Error("Failed to resolve a font for the rule '"+BY(s)+"'.");return a}(function ni(zt,Ne){if(null===Jn){var yr=(bi=zt.getFontList(),xn=[],Object.keys(bi).forEach(function(Un){bi[Un].forEach(function($n){var Yn=null;switch($n){case"bold":Yn={family:Un,weight:"bold"};break;case"italic":Yn={family:Un,style:"italic"};break;case"bolditalic":Yn={family:Un,weight:"bold",style:"italic"};break;case"":case"normal":Yn={family:Un}}null!==Yn&&(Yn.ref={name:Un,style:$n},xn.push(Yn))})}),xn);Jn=function(bi){for(var xn={},Un=0;Un<bi.length;++Un){var $n=$6(bi[Un]),Yn=$n.family,Mi=$n.stretch,gr=$n.style,kr=$n.weight;xn[Yn]=xn[Yn]||{},xn[Yn][Mi]=xn[Yn][Mi]||{},xn[Yn][Mi][gr]=xn[Yn][Mi][gr]||{},xn[Yn][Mi][gr][kr]=$n}return xn}(yr.concat(Ne))}var bi,xn;return Jn}(this.pdf,this.fontFaces),Yn.map(function(ir){return{family:ir,stretch:"normal",weight:bi,style:yr}}));this.pdf.setFont(Mi.ref.name,Mi.ref.style)}else{var gr="";("bold"===bi||parseInt(bi,10)>=700||"bold"===yr)&&(gr="bold"),"italic"===yr&&(gr+="italic"),0===gr.length&&(gr="normal");for(var kr="",Br={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},_o=0;_o<Yn.length;_o++){if(void 0!==this.pdf.internal.getFont(Yn[_o],gr,{noFallback:!0,disableWarning:!0})){kr=Yn[_o];break}if("bolditalic"===gr&&void 0!==this.pdf.internal.getFont(Yn[_o],"bold",{noFallback:!0,disableWarning:!0}))kr=Yn[_o],gr="bold";else if(void 0!==this.pdf.internal.getFont(Yn[_o],"normal",{noFallback:!0,disableWarning:!0})){kr=Yn[_o],gr="normal";break}}if(""===kr)for(var fs=0;fs<Yn.length;fs++)if(Br[Yn[fs]]){kr=Br[Yn[fs]];break}this.pdf.setFont(kr=""===kr?"Times":kr,gr)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(zt){this.ctx.globalCompositeOperation=zt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(zt){this.ctx.globalAlpha=zt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(zt){this.ctx.lineDashOffset=zt,Fn.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(zt){this.ctx.lineDash=zt,Fn.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(zt){this.ctx.ignoreClearRect=Boolean(zt)}})};x.prototype.setLineDash=function(ae){this.lineDash=ae},x.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},x.prototype.fill=function(){Fe.call(this,"fill",!1)},x.prototype.stroke=function(){Fe.call(this,"stroke",!1)},x.prototype.beginPath=function(){this.path=[{type:"begin"}]},x.prototype.moveTo=function(ae,De){if(isNaN(ae)||isNaN(De))throw As.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Ee=this.ctx.transform.applyToPoint(new a(ae,De));this.path.push({type:"mt",x:Ee.x,y:Ee.y}),this.ctx.lastPoint=new a(ae,De)},x.prototype.closePath=function(){var ae=new a(0,0),De=0;for(De=this.path.length-1;-1!==De;De--)if("begin"===this.path[De].type&&"object"===ts(this.path[De+1])&&"number"==typeof this.path[De+1].x){ae=new a(this.path[De+1].x,this.path[De+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(ae.x,ae.y)},x.prototype.lineTo=function(ae,De){if(isNaN(ae)||isNaN(De))throw As.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Ee=this.ctx.transform.applyToPoint(new a(ae,De));this.path.push({type:"lt",x:Ee.x,y:Ee.y}),this.ctx.lastPoint=new a(Ee.x,Ee.y)},x.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),Fe.call(this,null,!0)},x.prototype.quadraticCurveTo=function(ae,De,Ee,Qe){if(isNaN(Ee)||isNaN(Qe)||isNaN(ae)||isNaN(De))throw As.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ut=this.ctx.transform.applyToPoint(new a(Ee,Qe)),pt=this.ctx.transform.applyToPoint(new a(ae,De));this.path.push({type:"qct",x1:pt.x,y1:pt.y,x:ut.x,y:ut.y}),this.ctx.lastPoint=new a(ut.x,ut.y)},x.prototype.bezierCurveTo=function(ae,De,Ee,Qe,ut,pt){if(isNaN(ut)||isNaN(pt)||isNaN(ae)||isNaN(De)||isNaN(Ee)||isNaN(Qe))throw As.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ct=this.ctx.transform.applyToPoint(new a(ut,pt)),Tt=this.ctx.transform.applyToPoint(new a(ae,De)),wn=this.ctx.transform.applyToPoint(new a(Ee,Qe));this.path.push({type:"bct",x1:Tt.x,y1:Tt.y,x2:wn.x,y2:wn.y,x:Ct.x,y:Ct.y}),this.ctx.lastPoint=new a(Ct.x,Ct.y)},x.prototype.arc=function(ae,De,Ee,Qe,ut,pt){if(isNaN(ae)||isNaN(De)||isNaN(Ee)||isNaN(Qe)||isNaN(ut))throw As.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(pt=Boolean(pt),!this.ctx.transform.isIdentity){var Ct=this.ctx.transform.applyToPoint(new a(ae,De));ae=Ct.x,De=Ct.y;var Tt=this.ctx.transform.applyToPoint(new a(0,Ee)),wn=this.ctx.transform.applyToPoint(new a(0,0));Ee=Math.sqrt(Math.pow(Tt.x-wn.x,2)+Math.pow(Tt.y-wn.y,2))}Math.abs(ut-Qe)>=2*Math.PI&&(Qe=0,ut=2*Math.PI),this.path.push({type:"arc",x:ae,y:De,radius:Ee,startAngle:Qe,endAngle:ut,counterclockwise:pt})},x.prototype.arcTo=function(ae,De,Ee,Qe,ut){throw new Error("arcTo not implemented.")},x.prototype.rect=function(ae,De,Ee,Qe){if(isNaN(ae)||isNaN(De)||isNaN(Ee)||isNaN(Qe))throw As.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(ae,De),this.lineTo(ae+Ee,De),this.lineTo(ae+Ee,De+Qe),this.lineTo(ae,De+Qe),this.lineTo(ae,De),this.lineTo(ae+Ee,De),this.lineTo(ae,De)},x.prototype.fillRect=function(ae,De,Ee,Qe){if(isNaN(ae)||isNaN(De)||isNaN(Ee)||isNaN(Qe))throw As.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!E.call(this)){var ut={};"butt"!==this.lineCap&&(ut.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(ut.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(ae,De,Ee,Qe),this.fill(),ut.hasOwnProperty("lineCap")&&(this.lineCap=ut.lineCap),ut.hasOwnProperty("lineJoin")&&(this.lineJoin=ut.lineJoin)}},x.prototype.strokeRect=function(ae,De,Ee,Qe){if(isNaN(ae)||isNaN(De)||isNaN(Ee)||isNaN(Qe))throw As.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");q.call(this)||(this.beginPath(),this.rect(ae,De,Ee,Qe),this.stroke())},x.prototype.clearRect=function(ae,De,Ee,Qe){if(isNaN(ae)||isNaN(De)||isNaN(Ee)||isNaN(Qe))throw As.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(ae,De,Ee,Qe))},x.prototype.save=function(ae){ae="boolean"!=typeof ae||ae;for(var De=this.pdf.internal.getCurrentPageInfo().pageNumber,Ee=0;Ee<this.pdf.internal.getNumberOfPages();Ee++)this.pdf.setPage(Ee+1),this.pdf.internal.out("q");if(this.pdf.setPage(De),ae){this.ctx.fontSize=this.pdf.internal.getFontSize();var Qe=new w(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Qe}},x.prototype.restore=function(ae){ae="boolean"!=typeof ae||ae;for(var De=this.pdf.internal.getCurrentPageInfo().pageNumber,Ee=0;Ee<this.pdf.internal.getNumberOfPages();Ee++)this.pdf.setPage(Ee+1),this.pdf.internal.out("Q");this.pdf.setPage(De),ae&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},x.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var S=function(ae){var De,Ee,Qe,ut;if(!0===ae.isCanvasGradient&&(ae=ae.getColor()),!ae)return{r:0,g:0,b:0,a:0,style:ae};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(ae))De=0,Ee=0,Qe=0,ut=0;else{var pt=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(ae);if(null!==pt)De=parseInt(pt[1]),Ee=parseInt(pt[2]),Qe=parseInt(pt[3]),ut=1;else if(null!==(pt=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(ae)))De=parseInt(pt[1]),Ee=parseInt(pt[2]),Qe=parseInt(pt[3]),ut=parseFloat(pt[4]);else{if(ut=1,"string"==typeof ae&&"#"!==ae.charAt(0)){var Ct=new CY(ae);ae=Ct.ok?Ct.toHex():"#000000"}4===ae.length?(De=ae.substring(1,2),De+=De,Ee=ae.substring(2,3),Ee+=Ee,Qe=ae.substring(3,4),Qe+=Qe):(De=ae.substring(1,3),Ee=ae.substring(3,5),Qe=ae.substring(5,7)),De=parseInt(De,16),Ee=parseInt(Ee,16),Qe=parseInt(Qe,16)}}return{r:De,g:Ee,b:Qe,a:ut,style:ae}},E=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},q=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};x.prototype.fillText=function(ae,De,Ee,Qe){if(isNaN(De)||isNaN(Ee)||"string"!=typeof ae)throw As.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Qe=isNaN(Qe)?void 0:Qe,!E.call(this)){var ut=Ke(this.ctx.transform.rotation),pt=this.ctx.transform.scaleX;we.call(this,{text:ae,x:De,y:Ee,scale:pt,angle:ut,align:this.textAlign,maxWidth:Qe})}},x.prototype.strokeText=function(ae,De,Ee,Qe){if(isNaN(De)||isNaN(Ee)||"string"!=typeof ae)throw As.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!q.call(this)){Qe=isNaN(Qe)?void 0:Qe;var ut=Ke(this.ctx.transform.rotation),pt=this.ctx.transform.scaleX;we.call(this,{text:ae,x:De,y:Ee,scale:pt,renderingMode:"stroke",angle:ut,align:this.textAlign,maxWidth:Qe})}},x.prototype.measureText=function(ae){if("string"!=typeof ae)throw As.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var De=this.pdf,Ee=this.pdf.internal.scaleFactor,Qe=De.internal.getFontSize(),ut=De.getStringUnitWidth(ae)*Qe/De.internal.scaleFactor,pt=function(Ct){var Tt=(Ct=Ct||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Tt}}),this};return new pt({width:ut*=Math.round(96*Ee/72*1e4)/1e4})},x.prototype.scale=function(ae,De){if(isNaN(ae)||isNaN(De))throw As.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Ee=new f(ae,0,0,De,0,0);this.ctx.transform=this.ctx.transform.multiply(Ee)},x.prototype.rotate=function(ae){if(isNaN(ae))throw As.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var De=new f(Math.cos(ae),Math.sin(ae),-Math.sin(ae),Math.cos(ae),0,0);this.ctx.transform=this.ctx.transform.multiply(De)},x.prototype.translate=function(ae,De){if(isNaN(ae)||isNaN(De))throw As.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Ee=new f(1,0,0,1,ae,De);this.ctx.transform=this.ctx.transform.multiply(Ee)},x.prototype.transform=function(ae,De,Ee,Qe,ut,pt){if(isNaN(ae)||isNaN(De)||isNaN(Ee)||isNaN(Qe)||isNaN(ut)||isNaN(pt))throw As.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ct=new f(ae,De,Ee,Qe,ut,pt);this.ctx.transform=this.ctx.transform.multiply(Ct)},x.prototype.setTransform=function(ae,De,Ee,Qe,ut,pt){ae=isNaN(ae)?1:ae,De=isNaN(De)?0:De,Ee=isNaN(Ee)?0:Ee,Qe=isNaN(Qe)?1:Qe,ut=isNaN(ut)?0:ut,pt=isNaN(pt)?0:pt,this.ctx.transform=new f(ae,De,Ee,Qe,ut,pt)};var H=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};x.prototype.drawImage=function(ae,De,Ee,Qe,ut,pt,Ct,Tt,wn){var Cn=this.pdf.getImageProperties(ae),Jn=1,ni=1,Ji=1,zt=1;void 0!==Qe&&void 0!==Tt&&(Ji=Tt/Qe,zt=wn/ut,Jn=Cn.width/Qe*Tt/Qe,ni=Cn.height/ut*wn/ut),void 0===pt&&(pt=De,Ct=Ee,De=0,Ee=0),void 0!==Qe&&void 0===Tt&&(Tt=Qe,wn=ut),void 0===Qe&&void 0===Tt&&(Tt=Cn.width,wn=Cn.height);for(var Ne,yr=this.ctx.transform.decompose(),bi=Ke(yr.rotate.shx),xn=new f,Un=(xn=(xn=(xn=xn.multiply(yr.translate)).multiply(yr.skew)).multiply(yr.scale)).applyToRectangle(new d(pt-De*Ji,Ct-Ee*zt,Qe*Jn,ut*ni)),$n=ee.call(this,Un),Yn=[],Mi=0;Mi<$n.length;Mi+=1)-1===Yn.indexOf($n[Mi])&&Yn.push($n[Mi]);if(ve(Yn),this.autoPaging)for(var gr=Yn[0],kr=Yn[Yn.length-1],Br=gr;Br<kr+1;Br++){this.pdf.setPage(Br);var _o=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],fs=1===Br?this.posY+this.margin[0]:this.margin[0],Vr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Qn=1===Br?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Br-2)*Vr;if(0!==this.ctx.clip_path.length){var _d=this.path;Ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=oe(Ne,this.posX+this.margin[3],-Qn+fs+this.ctx.prevPageLastElemOffset),Be.call(this,"fill",!0),this.path=_d}var Eo=JSON.parse(JSON.stringify(Un));Eo=oe([Eo],this.posX+this.margin[3],-Qn+fs+this.ctx.prevPageLastElemOffset)[0];var Ag=(Br>gr||Br<kr)&&H.call(this);Ag&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_o,Vr,null).clip().discardPath()),this.pdf.addImage(ae,"JPEG",Eo.x,Eo.y,Eo.w,Eo.h,null,null,bi),Ag&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(ae,"JPEG",Un.x,Un.y,Un.w,Un.h,null,null,bi)};var ee=function(ae,De,Ee){var Qe=[];De=De||this.pdf.internal.pageSize.width,Ee=Ee||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ut=this.posY+this.ctx.prevPageLastElemOffset;switch(ae.type){default:case"mt":case"lt":Qe.push(Math.floor((ae.y+ut)/Ee)+1);break;case"arc":Qe.push(Math.floor((ae.y+ut-ae.radius)/Ee)+1),Qe.push(Math.floor((ae.y+ut+ae.radius)/Ee)+1);break;case"qct":var pt=bt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,ae.x1,ae.y1,ae.x,ae.y);Qe.push(Math.floor((pt.y+ut)/Ee)+1),Qe.push(Math.floor((pt.y+pt.h+ut)/Ee)+1);break;case"bct":var Ct=Et(this.ctx.lastPoint.x,this.ctx.lastPoint.y,ae.x1,ae.y1,ae.x2,ae.y2,ae.x,ae.y);Qe.push(Math.floor((Ct.y+ut)/Ee)+1),Qe.push(Math.floor((Ct.y+Ct.h+ut)/Ee)+1);break;case"rect":Qe.push(Math.floor((ae.y+ut)/Ee)+1),Qe.push(Math.floor((ae.y+ae.h+ut)/Ee)+1)}for(var Tt=0;Tt<Qe.length;Tt+=1)for(;this.pdf.internal.getNumberOfPages()<Qe[Tt];)$.call(this);return Qe},$=function(){var ae=this.fillStyle,De=this.strokeStyle,Ee=this.font,Qe=this.lineCap,ut=this.lineWidth,pt=this.lineJoin;this.pdf.addPage(),this.fillStyle=ae,this.strokeStyle=De,this.font=Ee,this.lineCap=Qe,this.lineWidth=ut,this.lineJoin=pt},oe=function(ae,De,Ee){for(var Qe=0;Qe<ae.length;Qe++)switch(ae[Qe].type){case"bct":ae[Qe].x2+=De,ae[Qe].y2+=Ee;case"qct":ae[Qe].x1+=De,ae[Qe].y1+=Ee;default:ae[Qe].x+=De,ae[Qe].y+=Ee}return ae},ve=function(ae){return ae.sort(function(De,Ee){return De-Ee})},Fe=function(ae,De){for(var Ee,Qe,ut=this.fillStyle,pt=this.strokeStyle,Ct=this.lineCap,Tt=this.lineWidth,wn=Math.abs(Tt*this.ctx.transform.scaleX),Cn=this.lineJoin,Jn=JSON.parse(JSON.stringify(this.path)),ni=JSON.parse(JSON.stringify(this.path)),Ji=[],zt=0;zt<ni.length;zt++)if(void 0!==ni[zt].x)for(var Ne=ee.call(this,ni[zt]),yr=0;yr<Ne.length;yr+=1)-1===Ji.indexOf(Ne[yr])&&Ji.push(Ne[yr]);for(var bi=0;bi<Ji.length;bi++)for(;this.pdf.internal.getNumberOfPages()<Ji[bi];)$.call(this);if(ve(Ji),this.autoPaging)for(var xn=Ji[0],Un=Ji[Ji.length-1],$n=xn;$n<Un+1;$n++){this.pdf.setPage($n),this.fillStyle=ut,this.strokeStyle=pt,this.lineCap=Ct,this.lineWidth=wn,this.lineJoin=Cn;var Yn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Mi=1===$n?this.posY+this.margin[0]:this.margin[0],kr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Br=1===$n?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+($n-2)*kr;if(0!==this.ctx.clip_path.length){var _o=this.path;Ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=oe(Ee,this.posX+this.margin[3],-Br+Mi+this.ctx.prevPageLastElemOffset),Be.call(this,ae,!0),this.path=_o}if(Qe=JSON.parse(JSON.stringify(Jn)),this.path=oe(Qe,this.posX+this.margin[3],-Br+Mi+this.ctx.prevPageLastElemOffset),!1===De||0===$n){var fs=($n>xn||$n<Un)&&H.call(this);fs&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Yn,kr,null).clip().discardPath()),Be.call(this,ae,De),fs&&this.pdf.restoreGraphicsState()}this.lineWidth=Tt}else this.lineWidth=wn,Be.call(this,ae,De),this.lineWidth=Tt;this.path=Jn},Be=function(ae,De){if(("stroke"!==ae||De||!q.call(this))&&("stroke"===ae||De||!E.call(this))){for(var Ee,Qe,ut=[],pt=this.path,Ct=0;Ct<pt.length;Ct++){var Tt=pt[Ct];switch(Tt.type){case"begin":ut.push({begin:!0});break;case"close":ut.push({close:!0});break;case"mt":ut.push({start:Tt,deltas:[],abs:[]});break;case"lt":var wn=ut.length;if(pt[Ct-1]&&!isNaN(pt[Ct-1].x)&&(Ee=[Tt.x-pt[Ct-1].x,Tt.y-pt[Ct-1].y],wn>0))for(;wn>=0;wn--)if(!0!==ut[wn-1].close&&!0!==ut[wn-1].begin){ut[wn-1].deltas.push(Ee),ut[wn-1].abs.push(Tt);break}break;case"bct":ut[ut.length-1].deltas.push(Ee=[Tt.x1-pt[Ct-1].x,Tt.y1-pt[Ct-1].y,Tt.x2-pt[Ct-1].x,Tt.y2-pt[Ct-1].y,Tt.x-pt[Ct-1].x,Tt.y-pt[Ct-1].y]);break;case"qct":ut[ut.length-1].deltas.push(Ee=[pt[Ct-1].x+2/3*(Tt.x1-pt[Ct-1].x)-pt[Ct-1].x,pt[Ct-1].y+2/3*(Tt.y1-pt[Ct-1].y)-pt[Ct-1].y,Tt.x+2/3*(Tt.x1-Tt.x)-pt[Ct-1].x,Tt.y+2/3*(Tt.y1-Tt.y)-pt[Ct-1].y,Tt.x-pt[Ct-1].x,Tt.y-pt[Ct-1].y]);break;case"arc":ut.push({deltas:[],abs:[],arc:!0}),Array.isArray(ut[ut.length-1].abs)&&ut[ut.length-1].abs.push(Tt)}}Qe=De?null:"stroke"===ae?"stroke":"fill";for(var yr=!1,bi=0;bi<ut.length;bi++)if(ut[bi].arc)for(var xn=ut[bi].abs,Un=0;Un<xn.length;Un++){var $n=xn[Un];"arc"===$n.type?Le.call(this,$n.x,$n.y,$n.radius,$n.startAngle,$n.endAngle,$n.counterclockwise,void 0,De,!yr):He.call(this,$n.x,$n.y),yr=!0}else!0===ut[bi].close?(this.pdf.internal.out("h"),yr=!1):!0!==ut[bi].begin&&(je.call(this,ut[bi].deltas,ut[bi].start.x,ut[bi].start.y),yr=!0);Qe&&St.call(this,Qe),De&&Bt.call(this)}},gt=function(ae){var De=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Ee=De*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return ae-Ee;case"top":return ae+De-Ee;case"hanging":return ae+De-2*Ee;case"middle":return ae+De/2-Ee;default:return ae}},tt=function(ae){return ae+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};x.prototype.createLinearGradient=function(){var ae=function(){};return ae.colorStops=[],ae.addColorStop=function(De,Ee){this.colorStops.push([De,Ee])},ae.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},ae.isCanvasGradient=!0,ae},x.prototype.createPattern=function(){return this.createLinearGradient()},x.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Le=function(ae,De,Ee,Qe,ut,pt,Ct,Tt,wn){for(var Cn=ze.call(this,Ee,Qe,ut,pt),Jn=0;Jn<Cn.length;Jn++){var ni=Cn[Jn];0===Jn&&(wn?Ce.call(this,ni.x1+ae,ni.y1+De):He.call(this,ni.x1+ae,ni.y1+De)),Rt.call(this,ae,De,ni.x2,ni.y2,ni.x3,ni.y3,ni.x4,ni.y4)}Tt?Bt.call(this):St.call(this,Ct)},St=function(ae){switch(ae){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Bt=function(){this.pdf.clip(),this.pdf.discardPath()},Ce=function(ae,De){this.pdf.internal.out(e(ae)+" "+i(De)+" m")},we=function(ae){var De;switch(ae.align){case"right":case"end":De="right";break;case"center":De="center";break;default:De="left"}var Ee=this.pdf.getTextDimensions(ae.text),Qe=gt.call(this,ae.y),ut=tt.call(this,Qe)-Ee.h,pt=this.ctx.transform.applyToPoint(new a(ae.x,Qe)),Ct=this.ctx.transform.decompose(),Tt=new f;Tt=(Tt=(Tt=Tt.multiply(Ct.translate)).multiply(Ct.skew)).multiply(Ct.scale);for(var wn,Cn,Jn,ni=this.ctx.transform.applyToRectangle(new d(ae.x,Qe,Ee.w,Ee.h)),Ji=Tt.applyToRectangle(new d(ae.x,ut,Ee.w,Ee.h)),zt=ee.call(this,Ji),Ne=[],yr=0;yr<zt.length;yr+=1)-1===Ne.indexOf(zt[yr])&&Ne.push(zt[yr]);if(ve(Ne),this.autoPaging)for(var bi=Ne[0],xn=Ne[Ne.length-1],Un=bi;Un<xn+1;Un++){this.pdf.setPage(Un);var $n=1===Un?this.posY+this.margin[0]:this.margin[0],Mi=this.pdf.internal.pageSize.height-this.margin[2],gr=Mi-this.margin[0],kr=this.pdf.internal.pageSize.width-this.margin[1],Br=kr-this.margin[3],_o=1===Un?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Un-2)*gr;if(0!==this.ctx.clip_path.length){var fs=this.path;wn=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=oe(wn,this.posX+this.margin[3],-1*_o+$n),Be.call(this,"fill",!0),this.path=fs}var ir=oe([JSON.parse(JSON.stringify(Ji))],this.posX+this.margin[3],-_o+$n+this.ctx.prevPageLastElemOffset)[0];ae.scale>=.01&&(Cn=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Cn*ae.scale),this.lineWidth=(Jn=this.lineWidth)*ae.scale);var Vr="text"!==this.autoPaging;if(Vr||ir.y+ir.h<=Mi){if(Vr||ir.y>=$n&&ir.x<=kr){var Qn=Vr?ae.text:this.pdf.splitTextToSize(ae.text,ae.maxWidth||kr-ir.x)[0],_d=oe([JSON.parse(JSON.stringify(ni))],this.posX+this.margin[3],-_o+$n+this.ctx.prevPageLastElemOffset)[0],Eo=Vr&&(Un>bi||Un<xn)&&H.call(this);Eo&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Br,gr,null).clip().discardPath()),this.pdf.text(Qn,_d.x,_d.y,{angle:ae.angle,align:De,renderingMode:ae.renderingMode}),Eo&&this.pdf.restoreGraphicsState()}}else ir.y<Mi&&(this.ctx.prevPageLastElemOffset+=Mi-ir.y);ae.scale>=.01&&(this.pdf.setFontSize(Cn),this.lineWidth=Jn)}else ae.scale>=.01&&(Cn=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Cn*ae.scale),this.lineWidth=(Jn=this.lineWidth)*ae.scale),this.pdf.text(ae.text,pt.x+this.posX,pt.y+this.posY,{angle:ae.angle,align:De,renderingMode:ae.renderingMode,maxWidth:ae.maxWidth}),ae.scale>=.01&&(this.pdf.setFontSize(Cn),this.lineWidth=Jn)},He=function(ae,De,Ee,Qe){Qe=Qe||0,this.pdf.internal.out(e(ae+(Ee=Ee||0))+" "+i(De+Qe)+" l")},je=function(ae,De,Ee){return this.pdf.lines(ae,De,Ee,null,null)},Rt=function(ae,De,Ee,Qe,ut,pt,Ct,Tt){this.pdf.internal.out([n(o(Ee+ae)),n(s(Qe+De)),n(o(ut+ae)),n(s(pt+De)),n(o(Ct+ae)),n(s(Tt+De)),"c"].join(" "))},ze=function(ae,De,Ee,Qe){for(var ut=2*Math.PI,pt=Math.PI/2;De>Ee;)De-=ut;var Ct=Math.abs(Ee-De);Ct<ut&&Qe&&(Ct=ut-Ct);for(var Tt=[],wn=Qe?-1:1,Cn=De;Ct>1e-5;){var Jn=Cn+wn*Math.min(Ct,pt);Tt.push(ct.call(this,ae,Cn,Jn)),Ct-=Math.abs(Jn-Cn),Cn=Jn}return Tt},ct=function(ae,De,Ee){var Qe=(Ee-De)/2,ut=ae*Math.cos(Qe),pt=ae*Math.sin(Qe),Ct=ut,Tt=-pt,wn=Ct*Ct+Tt*Tt,Cn=wn+Ct*ut+Tt*pt,Jn=4/3*(Math.sqrt(2*wn*Cn)-Cn)/(Ct*pt-Tt*ut),ni=Ct-Jn*Tt,Ji=Tt+Jn*Ct,zt=ni,Ne=-Ji,yr=Qe+De,bi=Math.cos(yr),xn=Math.sin(yr);return{x1:ae*Math.cos(De),y1:ae*Math.sin(De),x2:ni*bi-Ji*xn,y2:ni*xn+Ji*bi,x3:zt*bi-Ne*xn,y3:zt*xn+Ne*bi,x4:ae*Math.cos(Ee),y4:ae*Math.sin(Ee)}},Ke=function(ae){return 180*ae/Math.PI},bt=function(ae,De,Ee,Qe,ut,pt){var Ct=ae+.5*(Ee-ae),Tt=De+.5*(Qe-De),wn=ut+.5*(Ee-ut),Cn=pt+.5*(Qe-pt),Jn=Math.min(ae,ut,Ct,wn),ni=Math.max(ae,ut,Ct,wn),Ji=Math.min(De,pt,Tt,Cn),zt=Math.max(De,pt,Tt,Cn);return new d(Jn,Ji,ni-Jn,zt-Ji)},Et=function(ae,De,Ee,Qe,ut,pt,Ct,Tt){var wn,Cn,Jn,ni,Ji,zt,Ne,yr,bi,xn,Un,$n,Yn,Mi,gr=Ee-ae,kr=Qe-De,Br=ut-Ee,_o=pt-Qe,fs=Ct-ut,ir=Tt-pt;for(Cn=0;Cn<41;Cn++)bi=(Ne=(Jn=ae+(wn=Cn/40)*gr)+wn*((Ji=Ee+wn*Br)-Jn))+wn*(Ji+wn*(ut+wn*fs-Ji)-Ne),xn=(yr=(ni=De+wn*kr)+wn*((zt=Qe+wn*_o)-ni))+wn*(zt+wn*(pt+wn*ir-zt)-yr),0==Cn?(Un=bi,$n=xn,Yn=bi,Mi=xn):(Un=Math.min(Un,bi),$n=Math.min($n,xn),Yn=Math.max(Yn,bi),Mi=Math.max(Mi,xn));return new d(Math.round(Un),Math.round($n),Math.round(Yn-Un),Math.round(Mi-$n))},Fn=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var Ee=JSON.stringify({lineDash:this.ctx.lineDash,lineDashOffset:this.ctx.lineDashOffset});this.prevLineDash!==Ee&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Ee)}}})(Hi.API),function(t){var n=function(s){var a,d,f,v,w,x,S,E,q,H;for(/[^\x00-\xFF]/.test(s),d=[],f=0,v=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;v>f;f+=4)0!==(w=(s.charCodeAt(f)<<24)+(s.charCodeAt(f+1)<<16)+(s.charCodeAt(f+2)<<8)+s.charCodeAt(f+3))?(x=(w=((w=((w=((w=(w-(H=w%85))/85)-(q=w%85))/85)-(E=w%85))/85)-(S=w%85))/85)%85,d.push(x+33,S+33,E+33,q+33,H+33)):d.push(122);return function(ee,$){for(var oe=$;oe>0;oe--)ee.pop()}(d,a.length),String.fromCharCode.apply(String,d)+"~>"},e=function(s){var a,d,f,v,w,x=String,S="length",E=255,q="charCodeAt",H="slice",ee="replace";for(s[H](-2),s=s[H](0,-2)[ee](/\s/g,"")[ee]("z","!!!!!"),f=[],v=0,w=(s+=a="uuuuu"[H](s[S]%5||5))[S];w>v;v+=5)d=52200625*(s[q](v)-33)+614125*(s[q](v+1)-33)+7225*(s[q](v+2)-33)+85*(s[q](v+3)-33)+(s[q](v+4)-33),f.push(E&d>>24,E&d>>16,E&d>>8,E&d);return function($,oe){for(var ve=oe;ve>0;ve--)$.pop()}(f,a[S]),x.fromCharCode.apply(x,f)},i=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(s=s.replace(/\s/g,"")).indexOf(">")&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),!1===a.test(s))return"";for(var d="",f=0;f<s.length;f+=2)d+=String.fromCharCode("0x"+(s[f]+s[f+1]));return d},o=function(s){for(var a=new Uint8Array(s.length),d=s.length;d--;)a[d]=s.charCodeAt(d);return(a=wE(a)).reduce(function(f,v){return f+String.fromCharCode(v)},"")};t.processDataByFilters=function(s,a){var d=0,f=s||"",v=[];for("string"==typeof(a=a||[])&&(a=[a]),d=0;d<a.length;d+=1)switch(a[d]){case"ASCII85Decode":case"/ASCII85Decode":f=e(f),v.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=n(f),v.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=i(f),v.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=f.split("").map(function(w){return("0"+w.charCodeAt().toString(16)).slice(-2)}).join("")+">",v.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=o(f),v.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[d]+'" is not implemented')}return{data:f,reverseChain:v.reverse().join(" ")}}}(Hi.API),function(t){t.loadFile=function(n,e,i){return function(o,s,a){s=!1!==s,a="function"==typeof a?a:function(){};var d=void 0;try{d=function(f,v,w){var x=new XMLHttpRequest,S=0,E=function(q){var H=q.length,ee=[],$=String.fromCharCode;for(S=0;S<H;S+=1)ee.push($(255&q.charCodeAt(S)));return ee.join("")};if(x.open("GET",f,!v),x.overrideMimeType("text/plain; charset=x-user-defined"),!1===v&&(x.onload=function(){w(200===x.status?E(this.responseText):void 0)}),x.send(null),v&&200===x.status)return E(x.responseText)}(o,s,a)}catch(f){}return d}(n,e,i)},t.loadImageFile=t.loadFile}(Hi.API),function(t){function n(){return(Qi.html2canvas?Promise.resolve(Qi.html2canvas):me.e(159).then(me.t.bind(me,4159,23))).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function e(){return(Qi.DOMPurify?Promise.resolve(Qi.DOMPurify):me.e(735).then(me.t.bind(me,2735,23))).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var i=function(a){var d=ts(a);return"undefined"===d?"undefined":"string"===d||a instanceof String?"string":"number"===d||a instanceof Number?"number":"function"===d||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&1===a.nodeType?"element":"object"===d?"object":"unknown"},o=function(a,d){var f=document.createElement(a);for(var v in d.className&&(f.className=d.className),d.innerHTML&&d.dompurify&&(f.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)f.style[v]=d.style[v];return f},s=function a(d){var f=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),v=a.convert(Promise.resolve(),f);return(v=v.setProgress(1,a,1,[a])).set(d)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,d){return a.__proto__=d||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,d){return this.then(function(){switch(d=d||function(f){switch(i(f)){case"string":return"string";case"element":return"canvas"===f.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(e).then(function(f){return this.set({src:o("div",{innerHTML:a,dompurify:f})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=function f(v,w){for(var x=3===v.nodeType?document.createTextNode(v.nodeValue):v.cloneNode(!1),S=v.firstChild;S;S=S.nextSibling)!0!==w&&1===S.nodeType&&"SCRIPT"===S.nodeName||x.appendChild(f(S,w));return 1===v.nodeType&&("CANVAS"===v.nodeName?(x.width=v.width,x.height=v.height,x.getContext("2d").drawImage(v,0,0)):"TEXTAREA"!==v.nodeName&&"SELECT"!==v.nodeName||(x.value=v.value),x.addEventListener("load",function(){x.scrollTop=v.scrollTop,x.scrollLeft=v.scrollLeft},!0)),x}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===d.tagName&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=o("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=o("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(o("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(n).then(function(d){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,d(this.prop.container,f)}).then(function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(n).then(function(d){var f=this.opt.jsPDF,v=this.opt.fontFaces,w="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,x=Object.assign({async:!0,allowTaint:!0,scale:w,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete x.onrendered,f.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=v,v)for(var S=0;S<v.length;++S){var E=v[S],q=E.src.find(function(H){return"truetype"===H.format});q&&f.addFont(q.url,E.ref.name,E.ref.style)}return x.windowHeight=x.windowHeight||0,x.windowHeight=0==x.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):x.windowHeight,f.context2d.save(!0),d(this.prop.container,x)}).then(function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,d,f){return"img"===(f=f||"pdf").toLowerCase()||"image"===f.toLowerCase()?this.outputImg(a,d):this.outputPdf(a,d)},s.prototype.outputPdf=function(a,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,d)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if("object"!==i(a))return this;var d=Object.keys(a||{}).map(function(f){if(f in s.template.prop)return function(){this.prop[f]=a[f]};switch(f){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[f]=a[f]}}},this);return this.then(function(){return this.thenList(d)})},s.prototype.get=function(a,d){return this.then(function(){var f=a in s.template.prop?this.prop[a]:this.opt[a];return d?d(f):f})},s.prototype.setMargin=function(a){return this.then(function(){switch(i(a)){case"number":a=[a,a,a,a];case"array":if(2===a.length&&(a=[a[0],a[1],a[0],a[1]]),4===a.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function d(f,v){return Math.floor(f*v/72*96)}return this.then(function(){(a=a||Hi.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:d(a.inner.width,a.k),height:d(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,d,f,v){return null!=a&&(this.progress.val=a),null!=d&&(this.progress.state=d),null!=f&&(this.progress.n=f),null!=v&&(this.progress.stack=v),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,d,f,v){return this.setProgress(a?this.progress.val+a:null,d||null,f?this.progress.n+f:null,v?this.progress.stack.concat(v):null)},s.prototype.then=function(a,d){var f=this;return this.thenCore(a,d,function(v,w){return f.updateProgress(null,null,1,[v]),Promise.prototype.then.call(this,function(x){return f.updateProgress(null,v),x}).then(v,w).then(function(x){return f.updateProgress(1),x})})},s.prototype.thenCore=function(a,d,f){f=f||Promise.prototype.then,a&&(a=a.bind(this)),d&&(d=d.bind(this));var v=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:s.convert(Object.assign({},this),Promise.prototype),w=f.call(v,a,d);return s.convert(w,this.__proto__)},s.prototype.thenExternal=function(a,d){return Promise.prototype.then.call(this,a,d)},s.prototype.thenList=function(a){var d=this;return a.forEach(function(f){d=d.thenCore(f)}),d},s.prototype.catch=function(a){a&&(a=a.bind(this));var d=Promise.prototype.catch.call(this,a);return s.convert(d,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Hi.getPageSize=function(a,d,f){if("object"===ts(a)){var v=a;a=v.orientation,d=v.unit||d,f=v.format||f}d=d||"mm",f=f||"a4",a=(""+(a||"P")).toLowerCase();var w,x=(""+f).toLowerCase(),S={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":w=1;break;case"mm":w=72/25.4;break;case"cm":w=72/2.54;break;case"in":w=72;break;case"px":w=.75;break;case"pc":case"em":w=12;break;case"ex":w=6;break;default:throw"Invalid unit: "+d}var E,q=0,H=0;if(S.hasOwnProperty(x))q=S[x][1]/w,H=S[x][0]/w;else try{q=f[1],H=f[0]}catch(ee){throw new Error("Invalid format: "+f)}if("p"===a||"portrait"===a)a="p",H>q&&(E=H,H=q,q=E);else{if("l"!==a&&"landscape"!==a)throw"Invalid orientation: "+a;a="l",q>H&&(E=H,H=q,q=E)}return{width:H,height:q,unit:d,k:w,orientation:a}},t.html=function(a,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map($6):null;var f=new s(d);return d.worker?f:f.from(a).doCallback()}}(Hi.API),Hi.API.addJS=function(t){return VY=t,this.internal.events.subscribe("postPutResources",function(){T5=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(T5+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),jY=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+VY+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==T5&&void 0!==jY&&this.internal.out("/Names <</JavaScript "+T5+" 0 R>>")}),this},function(t){var n;t.events.push(["postPutResources",function(){var e=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var o=e.outline.render().split(/\r\n/),s=0;s<o.length;s++){var a=o[s],d=i.exec(a);null!=d&&e.internal.newObjectDeferredBegin(d[1],!1),e.internal.write(a)}if(this.outline.createNamedDestinations){var v=this.internal.pages.length,w=[];for(s=0;s<v;s++){var x=e.internal.newObject();w.push(x);var S=e.internal.getPageInfo(s+1);e.internal.write("<< /D["+S.objId+" 0 R /XYZ null null null]>> endobj")}var E=e.internal.newObject();for(e.internal.write("<< /Names [ "),s=0;s<w.length;s++)e.internal.write("(page_"+(s+1)+")"+w[s]+" 0 R");e.internal.write(" ] >>","endobj"),n=e.internal.newObject(),e.internal.write("<< /Dests "+E+" 0 R"),e.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+n+" 0 R"))}]),t.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(i,o,s){var a={title:o,options:s,children:[]};return null==i&&(i=this.root),i.children.push(a),a},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(i){i.id=e.internal.newObjectDeferred();for(var o=0;o<i.children.length;o++)this.genIds_r(i.children[o])},e.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},e.outline.renderItems=function(i){for(var o=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<i.children.length;s++){var a=i.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(i)),s>0&&this.line("/Prev "+this.makeRef(i.children[s-1])),s<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var d=this.count=this.count_r({count:0},a);if(d>0&&this.line("/Count "+d),a.options&&a.options.pageNumber){var f=e.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+o(0)+" 0]")}this.objEnd()}for(var v=0;v<i.children.length;v++)this.renderItems(i.children[v])},e.outline.line=function(i){this.ctx.val+=i+"\r\n"},e.outline.makeRef=function(i){return i.id+" 0 R"},e.outline.makeString=function(i){return"("+e.internal.pdfEscape(i)+")"},e.outline.objStart=function(i){this.ctx.val+="\r\n"+i.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(i,o){for(var s=0;s<o.children.length;s++)i.count++,this.count_r(i,o.children[s]);return i.count}}])}(Hi.API),function(t){var n=[192,193,194,195,196,197,198,199];t.processJPEG=function(e,i,o,s,a,d){var f,v=this.decode.DCT_DECODE,w=null;if("string"==typeof e||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=this.__addimage__.isArrayBuffer(e=a||e)?new Uint8Array(e):e,(f=function(x){for(var S,E=256*x.charCodeAt(4)+x.charCodeAt(5),q=x.length,H={width:0,height:0,numcomponents:1},ee=4;ee<q;ee+=2){if(-1!==n.indexOf(x.charCodeAt((ee+=E)+1))){S=256*x.charCodeAt(ee+5)+x.charCodeAt(ee+6),H={width:256*x.charCodeAt(ee+7)+x.charCodeAt(ee+8),height:S,numcomponents:x.charCodeAt(ee+9)};break}E=256*x.charCodeAt(ee+2)+x.charCodeAt(ee+3)}return H}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:d=this.color_spaces.DEVICE_GRAY;break;case 4:d=this.color_spaces.DEVICE_CMYK;break;case 3:d=this.color_spaces.DEVICE_RGB}w={data:e,width:f.width,height:f.height,colorSpace:d,bitsPerComponent:8,filter:v,index:i,alias:o}}return w}}(Hi.API);var SA,A5,qY,HY,GY,Mce=function(){var t,n,e;function i(s){var a,f,v,w,x,S,E,q,H,ee,$,oe,ve;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},x=null;;){switch(a=this.readUInt32(),q=function(){var Fe,Be;for(Be=[],Fe=0;Fe<4;++Fe)Be.push(String.fromCharCode(this.data[this.pos++]));return Be}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":x&&this.animation.frames.push(x),this.pos+=4,x={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},w=this.readUInt16(),v=this.readUInt16()||100,x.delay=1e3*w/v,x.disposeOp=this.data[this.pos++],x.blendOp=this.data[this.pos++],x.data=[];break;case"IDAT":case"fdAT":for("fdAT"===q&&(this.pos+=4,a-=4),s=(null!=x?x.data:void 0)||this.imgData,$=0;0<=a?$<a:$>a;0<=a?++$:--$)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(f=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>f)throw new Error("More transparent colors than palette size");if((H=f-this.transparency.indexed.length)>0)for(oe=0;0<=H?oe<H:oe>H;0<=H?++oe:--oe)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":S=(ee=this.read(a)).indexOf(0),E=String.fromCharCode.apply(String,ee.slice(0,S)),this.text[E]=String.fromCharCode.apply(String,ee.slice(S+1));break;case"IEND":return x&&this.animation.frames.push(x),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(ve=this.colorType)||6===ve,this.pixelBitlength=this.bits*(this.colors+(this.hasAlphaChannel?1:0)),this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(s){var a,d;for(d=[],a=0;0<=s?a<s:a>s;0<=s?++a:--a)d.push(this.data[this.pos++]);return d},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(s){var a=this.pixelBitlength/8,d=new Uint8Array(this.width*this.height*a),f=0,v=this;if(null==s&&(s=this.imgData),0===s.length)return new Uint8Array(0);function w(x,S,E,q){var H,ee,$,oe,ve,Fe,Be,gt,Le,St,Bt,Ce,we,He,je,Rt,ze,ct,Ke,bt,Et=Math.ceil((v.width-x)/E),Fn=Math.ceil((v.height-S)/q),ae=v.width==Et&&v.height==Fn;for(we=a*Et,Bt=ae?d:new Uint8Array(we*Fn),Fe=s.length,Ce=0,ee=0;Ce<Fn&&f<Fe;){switch(s[f++]){case 0:for(oe=Rt=0;Rt<we;oe=Rt+=1)Bt[ee++]=s[f++];break;case 1:for(oe=ze=0;ze<we;oe=ze+=1)H=s[f++],ve=oe<a?0:Bt[ee-a],Bt[ee++]=(H+ve)%256;break;case 2:for(oe=ct=0;ct<we;oe=ct+=1)H=s[f++],$=(oe-oe%a)/a,Bt[ee++]=((He=Ce&&Bt[(Ce-1)*we+$*a+oe%a])+H)%256;break;case 3:for(oe=Ke=0;Ke<we;oe=Ke+=1)H=s[f++],$=(oe-oe%a)/a,ve=oe<a?0:Bt[ee-a],He=Ce&&Bt[(Ce-1)*we+$*a+oe%a],Bt[ee++]=(H+Math.floor((ve+He)/2))%256;break;case 4:for(oe=bt=0;bt<we;oe=bt+=1)H=s[f++],$=(oe-oe%a)/a,0===Ce?He=je=0:(He=Bt[(Ce-1)*we+$*a+oe%a],je=$&&Bt[(Ce-1)*we+($-1)*a+oe%a]),Be=(ve=oe<a?0:Bt[ee-a])+He-je,gt=Math.abs(Be-ve),Le=Math.abs(Be-He),St=Math.abs(Be-je),Bt[ee++]=(H+(gt<=Le&&gt<=St?ve:Le<=St?He:je))%256;break;default:throw new Error("Invalid filter algorithm: "+s[f-1])}if(!ae){var De=((S+Ce*q)*v.width+x)*a,Ee=Ce*we;for(oe=0;oe<Et;oe+=1){for(var Qe=0;Qe<a;Qe+=1)d[De++]=Bt[Ee++];De+=(E-1)*a}}Ce++}}return s=f5(s),1==v.interlaceMethod?(w(0,0,8,8),w(4,0,8,8),w(0,4,4,8),w(2,0,4,4),w(0,2,2,4),w(1,0,2,2),w(0,1,1,2)):w(0,0,1,1),d},i.prototype.decodePalette=function(){var s,a,d,f,v,w,x,S,E;for(d=this.palette,w=this.transparency.indexed||[],v=new Uint8Array((w.length||0)+d.length),f=0,s=0,a=x=0,S=d.length;x<S;a=x+=3)v[f++]=d[a],v[f++]=d[a+1],v[f++]=d[a+2],v[f++]=null!=(E=w[s++])?E:255;return v},i.prototype.copyToImageData=function(s,a){var d,f,v,w,x,S,E,q,H,ee,$;if(f=this.colors,H=null,d=this.hasAlphaChannel,this.palette.length&&(H=null!=($=this._decodedPalette)?$:this._decodedPalette=this.decodePalette(),f=4,d=!0),q=(v=s.data||s).length,x=H||a,w=S=0,1===f)for(;w<q;)E=H?4*a[w/4]:S,ee=x[E++],v[w++]=ee,v[w++]=ee,v[w++]=ee,v[w++]=d?x[E++]:255,S=E;else for(;w<q;)E=H?4*a[w/4]:S,v[w++]=x[E++],v[w++]=x[E++],v[w++]=x[E++],v[w++]=d?x[E++]:255,S=E},i.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var o=function(){if("[object Window]"===Object.prototype.toString.call(Qi)){try{n=Qi.document.createElement("canvas"),e=n.getContext("2d")}catch(s){return!1}return!0}return!1};return o(),t=function(s){var a;if(!0===o())return e.width=s.width,e.height=s.height,e.clearRect(0,0,s.width,s.height),e.putImageData(s,0,0),(a=new Image).src=n.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(s){var a,d,f,v,w,x,S,E;if(this.animation){for(E=[],d=w=0,x=(S=this.animation.frames).length;w<x;d=++w)f=s.createImageData((a=S[d]).width,a.height),v=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(f,v),a.imageData=f,E.push(a.image=t(f));return E}},i.prototype.renderFrame=function(s,a){var d,f,v;return d=(f=this.animation.frames)[a],v=f[a-1],0===a&&s.clearRect(0,0,this.width,this.height),1===(null!=v?v.disposeOp:void 0)?s.clearRect(v.xOffset,v.yOffset,v.width,v.height):2===(null!=v?v.disposeOp:void 0)&&s.putImageData(v.imageData,v.xOffset,v.yOffset),0===d.blendOp&&s.clearRect(d.xOffset,d.yOffset,d.width,d.height),s.drawImage(d.image,d.xOffset,d.yOffset)},i.prototype.animate=function(s){var a,d,f,v,w,x,S=this;return d=0,v=(x=this.animation).numFrames,f=x.frames,w=x.numPlays,(a=function(){var E,q;if(E=d++%v,q=f[E],S.renderFrame(s,E),v>1&&d/v<w)return S.animation._timeout=setTimeout(a,q.delay)})()},i.prototype.stopAnimation=function(){var s;return clearTimeout(null!=(s=this.animation)?s._timeout:void 0)},i.prototype.render=function(s){var a,d;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,a=s.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(d=a.createImageData(this.width,this.height),this.copyToImageData(d,this.decodePixels()),a.putImageData(d,0,0))},i}();function kce(t){var n=0;if(71!==t[n++]||73!==t[n++]||70!==t[n++]||56!==t[n++]||56!=(t[n++]+1&253)||97!==t[n++])throw new Error("Invalid GIF 87a/89a header.");var e=t[n++]|t[n++]<<8,i=t[n++]|t[n++]<<8,o=t[n++],a=1<<1+(7&o);n++,n++;var d=null,f=null;o>>7&&(d=n,f=a,n+=3*a);var v=!0,w=[],x=0,S=null,E=0,q=null;for(this.width=e,this.height=i;v&&n<t.length;)switch(t[n++]){case 33:switch(t[n++]){case 255:if(11!==t[n]||78==t[n+1]&&69==t[n+2]&&84==t[n+3]&&83==t[n+4]&&67==t[n+5]&&65==t[n+6]&&80==t[n+7]&&69==t[n+8]&&50==t[n+9]&&46==t[n+10]&&48==t[n+11]&&3==t[n+12]&&1==t[n+13]&&0==t[n+16])n+=14,q=t[n++]|t[n++]<<8,n++;else for(n+=12;;){if(!((Ce=t[n++])>=0))throw Error("Invalid block size");if(0===Ce)break;n+=Ce}break;case 249:if(4!==t[n++]||0!==t[n+4])throw new Error("Invalid graphics extension block.");var H=t[n++];x=t[n++]|t[n++]<<8,S=t[n++],0==(1&H)&&(S=null),E=H>>2&7,n++;break;case 254:for(;;){if(!((Ce=t[n++])>=0))throw Error("Invalid block size");if(0===Ce)break;n+=Ce}break;default:throw new Error("Unknown graphic control label: 0x"+t[n-1].toString(16))}break;case 44:var ee=t[n++]|t[n++]<<8,$=t[n++]|t[n++]<<8,oe=t[n++]|t[n++]<<8,ve=t[n++]|t[n++]<<8,Fe=t[n++],Be=Fe>>6&1,gt=1<<1+(7&Fe),tt=d,Le=f,St=!1;Fe>>7&&(St=!0,tt=n,Le=gt,n+=3*gt);var Bt=n;for(n++;;){var Ce;if(!((Ce=t[n++])>=0))throw Error("Invalid block size");if(0===Ce)break;n+=Ce}w.push({x:ee,y:$,width:oe,height:ve,has_local_palette:St,palette_offset:tt,palette_size:Le,data_offset:Bt,data_length:n-Bt,transparent_index:S,interlaced:!!Be,delay:x,disposal:E});break;case 59:v=!1;break;default:throw new Error("Unknown gif block: 0x"+t[n-1].toString(16))}this.numFrames=function(){return w.length},this.loopCount=function(){return q},this.frameInfo=function(we){if(we<0||we>=w.length)throw new Error("Frame index out of range.");return w[we]},this.decodeAndBlitFrameBGRA=function(we,He){var je=this.frameInfo(we),Rt=je.width*je.height,ze=new Uint8Array(Rt);ZY(t,je.data_offset,ze,Rt);var ct=je.palette_offset,Ke=je.transparent_index;null===Ke&&(Ke=256);var bt=je.width,Et=e-bt,Fn=bt,ae=4*(je.y*e+je.x),De=4*((je.y+je.height)*e+je.x),Ee=ae,Qe=4*Et;!0===je.interlaced&&(Qe+=4*e*7);for(var ut=8,pt=0,Ct=ze.length;pt<Ct;++pt){var Tt=ze[pt];if(0===Fn&&(Fn=bt,(Ee+=Qe)>=De&&(Qe=4*Et+4*e*(ut-1),Ee=ae+(bt+Et)*(ut<<1),ut>>=1)),Tt===Ke)Ee+=4;else{var wn=t[ct+3*Tt],Cn=t[ct+3*Tt+1];He[Ee++]=t[ct+3*Tt+2],He[Ee++]=Cn,He[Ee++]=wn,He[Ee++]=255}--Fn}},this.decodeAndBlitFrameRGBA=function(we,He){var je=this.frameInfo(we),Rt=je.width*je.height,ze=new Uint8Array(Rt);ZY(t,je.data_offset,ze,Rt);var ct=je.palette_offset,Ke=je.transparent_index;null===Ke&&(Ke=256);var bt=je.width,Et=e-bt,Fn=bt,ae=4*(je.y*e+je.x),De=4*((je.y+je.height)*e+je.x),Ee=ae,Qe=4*Et;!0===je.interlaced&&(Qe+=4*e*7);for(var ut=8,pt=0,Ct=ze.length;pt<Ct;++pt){var Tt=ze[pt];if(0===Fn&&(Fn=bt,(Ee+=Qe)>=De&&(Qe=4*Et+4*e*(ut-1),Ee=ae+(bt+Et)*(ut<<1),ut>>=1)),Tt===Ke)Ee+=4;else{var Cn=t[ct+3*Tt+1],Jn=t[ct+3*Tt+2];He[Ee++]=t[ct+3*Tt],He[Ee++]=Cn,He[Ee++]=Jn,He[Ee++]=255}--Fn}}}function ZY(t,n,e,i){for(var o=t[n++],s=1<<o,a=s+1,d=a+1,f=o+1,v=(1<<f)-1,w=0,x=0,S=0,E=t[n++],q=new Int32Array(4096),H=null;;){for(;w<16&&0!==E;)x|=t[n++]<<w,w+=8,1===E?E=t[n++]:--E;if(w<f)break;var ee=x&v;if(x>>=f,w-=f,ee!==s){if(ee===a)break;for(var $=ee<d?ee:H,oe=0,ve=$;ve>s;)ve=q[ve]>>8,++oe;var Fe=ve;if(S+oe+($!==ee?1:0)>i)return void As.log("Warning, gif stream longer than expected.");e[S++]=Fe;var Be=S+=oe;for($!==ee&&(e[S++]=Fe),ve=$;oe--;)e[--Be]=255&(ve=q[ve]),ve>>=8;null!==H&&d<4096&&(q[d++]=H<<8|Fe,d>=v+1&&f<12&&(++f,v=v<<1|1)),H=ee}else d=a+1,v=(1<<(f=o+1))-1,H=null}return S!==i&&As.log("Warning, gif stream shorter than expected."),e}function J6(t){var n,e,i,o,s,a=Math.floor,d=new Array(64),f=new Array(64),v=new Array(64),w=new Array(64),x=new Array(65535),S=new Array(65535),E=new Array(64),q=new Array(64),H=[],ee=0,$=7,oe=new Array(64),ve=new Array(64),Fe=new Array(64),Be=new Array(256),gt=new Array(2048),tt=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Le=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],St=[0,1,2,3,4,5,6,7,8,9,10,11],Bt=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Ce=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],we=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],He=[0,1,2,3,4,5,6,7,8,9,10,11],je=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Rt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ze(ae,De){for(var Ee=0,Qe=0,ut=new Array,pt=1;pt<=16;pt++){for(var Ct=1;Ct<=ae[pt];Ct++)ut[De[Qe]]=[],ut[De[Qe]][0]=Ee,ut[De[Qe]][1]=pt,Qe++,Ee++;Ee*=2}return ut}function ct(ae){for(var De=ae[0],Ee=ae[1]-1;Ee>=0;)De&1<<Ee&&(ee|=1<<$),Ee--,--$<0&&(255==ee?(Ke(255),Ke(0)):Ke(ee),$=7,ee=0)}function Ke(ae){H.push(ae)}function bt(ae){Ke(ae>>8&255),Ke(255&ae)}function Et(ae,De,Ee,Qe,ut){for(var pt,Ct=ut[0],Tt=ut[240],wn=function(xn,Un){var $n,Yn,Mi,gr,kr,Br,_o,fs,ir,Vr,Qn=0;for(ir=0;ir<8;++ir){var _d=($n=xn[Qn])+(fs=xn[Qn+7]),Eo=$n-fs,Ag=(Yn=xn[Qn+1])+(_o=xn[Qn+6]),Ss=Yn-_o,ca=(Mi=xn[Qn+2])+(Br=xn[Qn+5]),ev=Mi-Br,jo=(gr=xn[Qn+3])+(kr=xn[Qn+4]),qC=gr-kr,Za=_d+jo,Sg=_d-jo,Zy=Ag+ca,Ya=Ag-ca;xn[Qn]=Za+Zy,xn[Qn+4]=Za-Zy;var _r=.707106781*(Ya+Sg);xn[Qn+2]=Sg+_r,xn[Qn+6]=Sg-_r;var Vo=.382683433*((Za=qC+ev)-(Ya=Ss+Eo)),HC=.5411961*Za+Vo,Ou=1.306562965*Ya+Vo,tv=.707106781*(Zy=ev+Ss),nv=Eo+tv,Gi=Eo-tv;xn[Qn+5]=Gi+HC,xn[Qn+3]=Gi-HC,xn[Qn+1]=nv+Ou,xn[Qn+7]=nv-Ou,Qn+=8}for(Qn=0,ir=0;ir<8;++ir){var Dg=($n=xn[Qn])+(fs=xn[Qn+56]),iv=$n-fs,Wh=(Yn=xn[Qn+8])+(_o=xn[Qn+48]),gc=Yn-_o,Pl=(Mi=xn[Qn+16])+(Br=xn[Qn+40]),Jf=Mi-Br,IA=(gr=xn[Qn+24])+(kr=xn[Qn+32]),Yy=gr-kr,Eg=Dg+IA,Mg=Dg-IA,kg=Wh+Pl,rv=Wh-Pl;xn[Qn]=Eg+kg,xn[Qn+32]=Eg-kg;var rm=.707106781*(rv+Mg);xn[Qn+16]=Mg+rm,xn[Qn+48]=Mg-rm;var ov=.382683433*((Eg=Yy+Jf)-(rv=gc+iv)),GC=.5411961*Eg+ov,OA=1.306562965*rv+ov,LA=.707106781*(kg=Jf+gc),FA=iv+LA,NA=iv-LA;xn[Qn+40]=NA+GC,xn[Qn+24]=NA-GC,xn[Qn+8]=FA+OA,xn[Qn+56]=FA-OA,Qn++}for(ir=0;ir<64;++ir)E[ir]=(Vr=xn[ir]*Un[ir])>0?Vr+.5|0:Vr-.5|0;return E}(ae,De),Cn=0;Cn<64;++Cn)q[tt[Cn]]=wn[Cn];var Jn=q[0]-Ee;Ee=q[0],0==Jn?ct(Qe[0]):(ct(Qe[S[pt=32767+Jn]]),ct(x[pt]));for(var ni=63;ni>0&&0==q[ni];)ni--;if(0==ni)return ct(Ct),Ee;for(var Ji,zt=1;zt<=ni;){for(var Ne=zt;0==q[zt]&&zt<=ni;)++zt;var yr=zt-Ne;if(yr>=16){Ji=yr>>4;for(var bi=1;bi<=Ji;++bi)ct(Tt);yr&=15}ct(ut[(yr<<4)+S[pt=32767+q[zt]]]),ct(x[pt]),zt++}return 63!=ni&&ct(Ct),Ee}function Fn(ae){ae=Math.min(Math.max(ae,1),100),s!=ae&&(function(De){for(var Ee=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Qe=0;Qe<64;Qe++){var ut=a((Ee[Qe]*De+50)/100);ut=Math.min(Math.max(ut,1),255),d[tt[Qe]]=ut}for(var pt=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ct=0;Ct<64;Ct++){var Tt=a((pt[Ct]*De+50)/100);Tt=Math.min(Math.max(Tt,1),255),f[tt[Ct]]=Tt}for(var wn=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Cn=0,Jn=0;Jn<8;Jn++)for(var ni=0;ni<8;ni++)v[Cn]=1/(d[tt[Cn]]*wn[Jn]*wn[ni]*8),w[Cn]=1/(f[tt[Cn]]*wn[Jn]*wn[ni]*8),Cn++}(ae<50?Math.floor(5e3/ae):Math.floor(200-2*ae)),s=ae)}this.encode=function(ae,De){var Yn,Mi;De&&Fn(De),H=new Array,ee=0,$=7,bt(65496),bt(65504),bt(16),Ke(74),Ke(70),Ke(73),Ke(70),Ke(0),Ke(1),Ke(1),Ke(0),bt(1),bt(1),Ke(0),Ke(0),function(){bt(65499),bt(132),Ke(0);for(var Yn=0;Yn<64;Yn++)Ke(d[Yn]);Ke(1);for(var Mi=0;Mi<64;Mi++)Ke(f[Mi])}(),Yn=ae.width,Mi=ae.height,bt(65472),bt(17),Ke(8),bt(Mi),bt(Yn),Ke(3),Ke(1),Ke(17),Ke(0),Ke(2),Ke(17),Ke(1),Ke(3),Ke(17),Ke(1),function(){bt(65476),bt(418),Ke(0);for(var Yn=0;Yn<16;Yn++)Ke(Le[Yn+1]);for(var Mi=0;Mi<=11;Mi++)Ke(St[Mi]);Ke(16);for(var gr=0;gr<16;gr++)Ke(Bt[gr+1]);for(var kr=0;kr<=161;kr++)Ke(Ce[kr]);Ke(1);for(var Br=0;Br<16;Br++)Ke(we[Br+1]);for(var _o=0;_o<=11;_o++)Ke(He[_o]);Ke(17);for(var fs=0;fs<16;fs++)Ke(je[fs+1]);for(var ir=0;ir<=161;ir++)Ke(Rt[ir])}(),bt(65498),bt(12),Ke(3),Ke(1),Ke(0),Ke(2),Ke(17),Ke(3),Ke(17),Ke(0),Ke(63),Ke(0);var Ee=0,Qe=0,ut=0;ee=0,$=7,this.encode.displayName="_encode_";for(var pt,Ct,Tt,wn,Cn,Jn,ni,Ji,zt,Ne=ae.data,bi=ae.height,xn=4*ae.width,Un=0;Un<bi;){for(pt=0;pt<xn;){for(Cn=xn*Un+pt,ni=-1,Ji=0,zt=0;zt<64;zt++)Jn=Cn+(Ji=zt>>3)*xn+(ni=4*(7&zt)),Un+Ji>=bi&&(Jn-=xn*(Un+1+Ji-bi)),pt+ni>=xn&&(Jn-=pt+ni-xn+4),Ct=Ne[Jn++],Tt=Ne[Jn++],wn=Ne[Jn++],oe[zt]=(gt[Ct]+gt[Tt+256>>0]+gt[wn+512>>0]>>16)-128,ve[zt]=(gt[Ct+768>>0]+gt[Tt+1024>>0]+gt[wn+1280>>0]>>16)-128,Fe[zt]=(gt[Ct+1280>>0]+gt[Tt+1536>>0]+gt[wn+1792>>0]>>16)-128;Ee=Et(oe,v,Ee,n,i),Qe=Et(ve,w,Qe,e,o),ut=Et(Fe,w,ut,e,o),pt+=32}Un+=8}if($>=0){var $n=[];$n[1]=$+1,$n[0]=(1<<$+1)-1,ct($n)}return bt(65497),new Uint8Array(H)},t=t||50,function(){for(var ae=String.fromCharCode,De=0;De<256;De++)Be[De]=ae(De)}(),n=ze(Le,St),e=ze(we,He),i=ze(Bt,Ce),o=ze(je,Rt),function(){for(var ae=1,De=2,Ee=1;Ee<=15;Ee++){for(var Qe=ae;Qe<De;Qe++)S[32767+Qe]=Ee,x[32767+Qe]=[],x[32767+Qe][1]=Ee,x[32767+Qe][0]=Qe;for(var ut=-(De-1);ut<=-ae;ut++)S[32767+ut]=Ee,x[32767+ut]=[],x[32767+ut][1]=Ee,x[32767+ut][0]=De-1+ut;ae<<=1,De<<=1}}(),function(){for(var ae=0;ae<256;ae++)gt[ae]=19595*ae,gt[ae+256>>0]=38470*ae,gt[ae+512>>0]=7471*ae+32768,gt[ae+768>>0]=-11059*ae,gt[ae+1024>>0]=-21709*ae,gt[ae+1280>>0]=32768*ae+8421375,gt[ae+1536>>0]=-27439*ae,gt[ae+1792>>0]=-5329*ae}(),Fn(t)}function vg(t,n){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!n,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function YY(t){function n(Le){if(!Le)throw Error("assert :P")}function e(Le,St,Bt){for(var Ce=0;4>Ce;Ce++)if(Le[St+Ce]!=Bt.charCodeAt(Ce))return!0;return!1}function i(Le,St,Bt,Ce,we){for(var He=0;He<we;He++)Le[St+He]=Bt[Ce+He]}function o(Le,St,Bt,Ce){for(var we=0;we<Ce;we++)Le[St+we]=Bt}function s(Le){return new Int32Array(Le)}function a(Le,St){for(var Bt=[],Ce=0;Ce<Le;Ce++)Bt.push(new St);return Bt}function d(Le,St){var Bt=[];return function Ce(we,He,je){for(var Rt=je[He],ze=0;ze<Rt&&(we.push(je.length>He+1?[]:new St),!(je.length<He+1));ze++)Ce(we[ze],He+1,je)}(Bt,0,Le),Bt}var f=function(){var Le=this;function St(A,M){for(var P=1<<M-1>>>0;A&P;)P>>>=1;return P?(A&P-1)+P:A}function Bt(A,M,P,Y,te){n(!(Y%P));do{A[M+(Y-=P)]=te}while(0<Y)}function Ce(A,M,P,Y,te){if(n(2328>=te),512>=te)var le=s(512);else if(null==(le=s(te)))return 0;return function(ce,he,fe,Te,$e,_t){var vt,lt,nn=he,Pt=1<<fe,Je=s(16),nt=s(16);for(n(0!=$e),n(null!=Te),n(null!=ce),n(0<fe),lt=0;lt<$e;++lt){if(15<Te[lt])return 0;++Je[Te[lt]]}if(Je[0]==$e)return 0;for(nt[1]=0,vt=1;15>vt;++vt){if(Je[vt]>1<<vt)return 0;nt[vt+1]=nt[vt]+Je[vt]}for(lt=0;lt<$e;++lt)vt=Te[lt],0<Te[lt]&&(_t[nt[vt]++]=lt);if(1==nt[15])return(Te=new we).g=0,Te.value=_t[0],Bt(ce,nn,1,Pt,Te),Pt;var Jt,an=-1,en=Pt-1,Xn=0,jn=1,Pi=1,Zn=1<<fe;for(lt=0,vt=1,$e=2;vt<=fe;++vt,$e<<=1){if(jn+=Pi<<=1,0>(Pi-=Je[vt]))return 0;for(;0<Je[vt];--Je[vt])(Te=new we).g=vt,Te.value=_t[lt++],Bt(ce,nn+Xn,$e,Zn,Te),Xn=St(Xn,vt)}for(vt=fe+1,$e=2;15>=vt;++vt,$e<<=1){if(jn+=Pi<<=1,0>(Pi-=Je[vt]))return 0;for(;0<Je[vt];--Je[vt]){if(Te=new we,(Xn&en)!=an){for(nn+=Zn,Jt=1<<(an=vt)-fe;15>an&&!(0>=(Jt-=Je[an]));)++an,Jt<<=1;Pt+=Zn=1<<(Jt=an-fe),ce[he+(an=Xn&en)].g=Jt+fe,ce[he+an].value=nn-he-an}Te.g=vt-fe,Te.value=_t[lt++],Bt(ce,nn+(Xn>>fe),$e,Zn,Te),Xn=St(Xn,vt)}}return jn!=2*nt[15]-1?0:Pt}(A,M,P,Y,te,le)}function we(){this.value=this.g=0}function He(){this.value=this.g=0}function je(){this.G=a(5,we),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Qh,He)}function Rt(A,M,P,Y){n(null!=A),n(null!=M),n(2147483648>Y),A.Ca=254,A.I=0,A.b=-8,A.Ka=0,A.oa=M,A.pa=P,A.Jd=M,A.Yc=P+Y,A.Zc=4<=Y?P+Y-4+1:P,pt(A)}function ze(A,M){for(var P=0;0<M--;)P|=Tt(A,128)<<M;return P}function ct(A,M){var P=ze(A,M);return Ct(A)?-P:P}function Ke(A,M,P,Y){var te,le=0;for(n(null!=A),n(null!=M),n(4294967288>Y),A.Sb=Y,A.Ra=0,A.u=0,A.h=0,4<Y&&(Y=4),te=0;te<Y;++te)le+=M[P+te]<<8*te;A.Ra=le,A.bb=Y,A.oa=M,A.pa=P}function bt(A){for(;8<=A.u&&A.bb<A.Sb;)A.Ra>>>=8,A.Ra+=A.oa[A.pa+A.bb]<<QA-8>>>0,++A.bb,A.u-=8;Ee(A)&&(A.h=1,A.u=0)}function Et(A,M){if(n(0<=M),!A.h&&M<=$A){var P=De(A)&WA[M];return A.u+=M,bt(A),P}return A.h=1,A.u=0}function Fn(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function ae(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function De(A){return A.Ra>>>(A.u&QA-1)>>>0}function Ee(A){return n(A.bb<=A.Sb),A.h||A.bb==A.Sb&&A.u>QA}function Qe(A,M){A.u=M,A.h=Ee(A)}function ut(A){A.u>=HE&&(n(A.u>=HE),bt(A))}function pt(A){n(null!=A&&null!=A.oa),A.pa<A.Zc?(A.I=(A.oa[A.pa++]|A.I<<8)>>>0,A.b+=8):(n(null!=A&&null!=A.oa),A.pa<A.Yc?(A.b+=8,A.I=A.oa[A.pa++]|A.I<<8):A.Ka?A.b=0:(A.I<<=8,A.b+=8,A.Ka=1))}function Ct(A){return ze(A,1)}function Tt(A,M){var P=A.Ca;0>A.b&&pt(A);var Y=A.b,te=P*M>>>8,le=(A.I>>>Y>te)+0;for(le?(P-=te,A.I-=te+1<<Y>>>0):P=te+1,Y=P,te=0;256<=Y;)te+=8,Y>>=8;return A.b-=Y=7^te+Jh[Y],A.Ca=(P<<Y)-1,le}function wn(A,M,P){A[M+0]=P>>24&255,A[M+1]=P>>16&255,A[M+2]=P>>8&255,A[M+3]=P>>0&255}function Cn(A,M){return A[M+0]<<0|A[M+1]<<8}function Jn(A,M){return Cn(A,M)|A[M+2]<<16}function ni(A,M){return Cn(A,M)|Cn(A,M+2)<<16}function Ji(A,M){var P=1<<M;return n(null!=A),n(0<M),A.X=s(P),null==A.X?0:(A.Mb=32-M,A.Xa=M,1)}function zt(A,M){n(null!=A),n(null!=M),n(A.Xa==M.Xa),i(M.X,0,A.X,0,1<<M.Xa)}function Ne(){this.X=[],this.Xa=this.Mb=0}function yr(A,M,P,Y){n(null!=P),n(null!=Y);var te=P[0],le=Y[0];return 0==te&&(te=(A*le+M/2)/M),0==le&&(le=(M*te+A/2)/A),0>=te||0>=le?0:(P[0]=te,Y[0]=le,1)}function bi(A,M){return A+(1<<M)-1>>>M}function xn(A,M){return((4278255360&A)+(4278255360&M)>>>0&4278255360)+((16711935&A)+(16711935&M)>>>0&16711935)>>>0}function Un(A,M){Le[M]=function(P,Y,te,le,ce,he,fe){var Te;for(Te=0;Te<ce;++Te){var $e=Le[A](he[fe+Te-1],te,le+Te);he[fe+Te]=xn(P[Y+Te],$e)}}}function $n(){this.ud=this.hd=this.jd=0}function Yn(A,M){return((4278124286&(A^M))>>>1)+(A&M)>>>0}function Mi(A){return 0<=A&&256>A?A:0>A?0:255<A?255:void 0}function gr(A,M){return Mi(A+(A-M+.5>>1))}function kr(A,M,P){return Math.abs(M-P)-Math.abs(A-P)}function Br(A,M,P,Y,te,le,ce){for(Y=le[ce-1],P=0;P<te;++P)le[ce+P]=Y=xn(A[M+P],Y)}function _o(A,M,P,Y,te){var le;for(le=0;le<P;++le){var ce=A[M+le],he=ce>>8&255,fe=16711935&(fe=(fe=16711935&ce)+((he<<16)+he));Y[te+le]=(4278255360&ce)+fe>>>0}}function fs(A,M){M.jd=A>>0&255,M.hd=A>>8&255,M.ud=A>>16&255}function ir(A,M,P,Y,te,le){var ce;for(ce=0;ce<Y;++ce){var he=M[P+ce],fe=he>>>8,Te=he,$e=255&($e=($e=he>>>16)+((A.jd<<24>>24)*(fe<<24>>24)>>>5));Te=255&(Te=(Te+=(A.hd<<24>>24)*(fe<<24>>24)>>>5)+((A.ud<<24>>24)*($e<<24>>24)>>>5)),te[le+ce]=(4278255360&he)+($e<<16)+Te}}function Vr(A,M,P,Y,te){Le[M]=function(le,ce,he,fe,Te,$e,_t,vt,lt){for(fe=_t;fe<vt;++fe)for(_t=0;_t<lt;++_t)Te[$e++]=te(he[Y(le[ce++])])},Le[A]=function(le,ce,he,fe,Te,$e,_t){var vt=8>>le.b,lt=le.Ea,nn=le.K[0],Pt=le.w;if(8>vt)for(le=(1<<le.b)-1,Pt=(1<<vt)-1;ce<he;++ce){var Je,nt=0;for(Je=0;Je<lt;++Je)Je&le||(nt=Y(fe[Te++])),$e[_t++]=te(nn[nt&Pt]),nt>>=vt}else Le["VP8LMapColor"+P](fe,Te,nn,Pt,$e,_t,ce,he,lt)}}function Qn(A,M,P,Y,te){for(P=M+P;M<P;){var le=A[M++];Y[te++]=le>>16&255,Y[te++]=le>>8&255,Y[te++]=le>>0&255}}function _d(A,M,P,Y,te){for(P=M+P;M<P;){var le=A[M++];Y[te++]=le>>16&255,Y[te++]=le>>8&255,Y[te++]=le>>0&255,Y[te++]=le>>24&255}}function Eo(A,M,P,Y,te){for(P=M+P;M<P;){var le=(ce=A[M++])>>16&240|ce>>12&15,ce=ce>>0&240|ce>>28&15;Y[te++]=le,Y[te++]=ce}}function Ag(A,M,P,Y,te){for(P=M+P;M<P;){var le=(ce=A[M++])>>16&248|ce>>13&7,ce=ce>>5&224|ce>>3&31;Y[te++]=le,Y[te++]=ce}}function Ss(A,M,P,Y,te){for(P=M+P;M<P;){var le=A[M++];Y[te++]=le>>0&255,Y[te++]=le>>8&255,Y[te++]=le>>16&255}}function ca(A,M,P,Y,te,le){if(0==le)for(P=M+P;M<P;)wn(Y,((le=A[M++])[0]>>24|le[1]>>8&65280|le[2]<<8&16711680|le[3]<<24)>>>0),te+=32;else i(Y,te,A,M,P)}function ev(A,M){Le[M][0]=Le[A+"0"],Le[M][1]=Le[A+"1"],Le[M][2]=Le[A+"2"],Le[M][3]=Le[A+"3"],Le[M][4]=Le[A+"4"],Le[M][5]=Le[A+"5"],Le[M][6]=Le[A+"6"],Le[M][7]=Le[A+"7"],Le[M][8]=Le[A+"8"],Le[M][9]=Le[A+"9"],Le[M][10]=Le[A+"10"],Le[M][11]=Le[A+"11"],Le[M][12]=Le[A+"12"],Le[M][13]=Le[A+"13"],Le[M][14]=Le[A+"0"],Le[M][15]=Le[A+"0"]}function jo(A){return A==Y4||A==z4||A==lL||A==W4}function qC(){this.eb=[],this.size=this.A=this.fb=0}function Za(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Sg(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new qC,this.f.kb=new Za,this.sd=null}function Zy(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ya(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function _r(A){return alert("todo:WebPSamplerProcessPlane"),A.T}function Vo(A,M){var P=A.T,Y=M.ba.f.RGBA,te=Y.eb,le=Y.fb+A.ka*Y.A,ce=lm[M.ba.S],he=A.y,fe=A.O,Te=A.f,$e=A.N,_t=A.ea,vt=A.W,lt=M.cc,nn=M.dc,Pt=M.Mc,Je=M.Nc,nt=A.ka,Jt=A.ka+A.T,an=A.U,en=an+1>>1;for(0==nt?ce(he,fe,null,null,Te,$e,_t,vt,Te,$e,_t,vt,te,le,null,null,an):(ce(M.ec,M.fc,he,fe,lt,nn,Pt,Je,Te,$e,_t,vt,te,le-Y.A,te,le,an),++P);nt+2<Jt;nt+=2)ce(he,(fe+=2*A.fa)-A.fa,he,fe,lt=Te,nn=$e,Pt=_t,Je=vt,Te,$e+=A.Rc,_t,vt+=A.Rc,te,(le+=2*Y.A)-Y.A,te,le,an);return fe+=A.fa,A.j+Jt<A.o?(i(M.ec,M.fc,he,fe,an),i(M.cc,M.dc,Te,$e,en),i(M.Mc,M.Nc,_t,vt,en),P--):1&Jt||ce(he,fe,null,null,Te,$e,_t,vt,Te,$e,_t,vt,te,le+Y.A,null,null,an),P}function HC(A,M,P){var Y=A.F,te=[A.J];if(null!=Y){var le=A.U,ce=M.ba.S,he=ce==aL||ce==lL;M=M.ba.f.RGBA;var fe=[0],Te=A.ka;fe[0]=A.T,A.Kb&&(0==Te?--fe[0]:(--Te,te[0]-=A.width),A.j+A.ka+A.T==A.o&&(fe[0]=A.o-A.j-Te));var $e=M.eb;A=nL(Y,te[0],A.width,le,fe,$e,(Te=M.fb+Te*M.A)+(he?0:3),M.A),n(P==fe),A&&jo(ce)&&m1($e,Te,he,le,fe,M.A)}return 0}function Ou(A){var M=A.ma,P=M.ba.S,Y=11>P,te=P==oL||P==sL||P==aL||P==Z4||12==P||jo(P);if(M.memory=null,M.Ib=null,M.Jb=null,M.Nd=null,!VE(M.Oa,A,te?11:12))return 0;if(te&&jo(P)&&_n(),A.da)alert("todo:use_scaling");else{if(Y){if(M.Ib=_r,A.Kb){if(M.memory=s(A.U+2*(P=A.U+1>>1)),null==M.memory)return 0;M.ec=M.memory,M.fc=0,M.cc=M.ec,M.dc=M.fc+A.U,M.Mc=M.cc,M.Nc=M.dc+P,M.Ib=Vo,_n()}}else alert("todo:EmitYUV");te&&(M.Jb=HC,Y&&ft())}if(Y&&!L9){for(A=0;256>A;++A)zye[A]=89858*(A-128)+uL>>cL,Qye[A]=-22014*(A-128)+uL,$ye[A]=-45773*(A-128),Wye[A]=113618*(A-128)+uL>>cL;for(A=$E;A<J4;++A)Jye[A-$E]=Kf(M=76283*(A-16)+uL>>cL,255),Kye[A-$E]=Kf(M+8>>4,15);L9=1}return 1}function tv(A){var M=A.ma,P=A.U,Y=A.T;return n(!(1&A.ka)),0>=P||0>=Y?0:(P=M.Ib(A,M),null!=M.Jb&&M.Jb(A,M,P),M.Dc+=P,1)}function nv(A){A.ma.memory=null}function Gi(A,M,P,Y){return 47!=Et(A,8)?0:(M[0]=Et(A,14)+1,P[0]=Et(A,14)+1,Y[0]=Et(A,1),0!=Et(A,3)?0:!A.h)}function Dg(A,M){if(4>A)return A+1;var P=A-2>>1;return(2+(1&A)<<P)+Et(M,P)+1}function iv(A,M){return 120<M?M-120:1<=(P=((P=Lye[M-1])>>4)*A+(8-(15&P)))?P:1;var P}function Wh(A,M,P){var Y=De(P),te=A[M+=255&Y].g-8;return 0<te&&(Qe(P,P.u+8),Y=De(P),M+=A[M].value,M+=Y&(1<<te)-1),Qe(P,P.u+A[M].g),A[M].value}function gc(A,M,P){return P.g+=A.g,P.value+=A.value<<M>>>0,n(8>=P.g),A.g}function Pl(A,M,P){var Y=A.xc;return n((M=0==Y?0:A.vc[A.md*(P>>Y)+(M>>Y)])<A.Wb),A.Ya[M]}function Jf(A,M,P,Y){var te=A.ab,le=A.c*M,ce=A.C;M=ce+M;var he=P,fe=Y;for(Y=A.Ta,P=A.Ua;0<te--;){var Te=A.gc[te],$e=ce,_t=M,vt=he,lt=fe,nn=(fe=Y,he=P,Te.Ea);switch(n($e<_t),n(_t<=Te.nc),Te.hc){case 2:tL(vt,lt,(_t-$e)*nn,fe,he);break;case 0:var Pt=$e,Je=_t,nt=fe,Jt=he,an=(Zn=Te).Ea;0==Pt&&(V4(vt,lt,null,null,1,nt,Jt),Br(vt,lt+1,0,0,an-1,nt,Jt+1),lt+=an,Jt+=an,++Pt);for(var en=1<<Zn.b,Xn=en-1,jn=bi(an,Zn.b),Pi=Zn.K,Zn=Zn.w+(Pt>>Zn.b)*jn;Pt<Je;){var Oo=Pi,ns=Zn,vo=1;for(GE(vt,lt,nt,Jt-an,1,nt,Jt);vo<an;){var $r=(vo&~Xn)+en;$r>an&&($r=an),(0,d1[Oo[ns++]>>8&15])(vt,lt+ +vo,nt,Jt+vo-an,$r-vo,nt,Jt+vo),vo=$r}lt+=an,Jt+=an,++Pt&Xn||(Zn+=jn)}_t!=Te.nc&&i(fe,he-nn,fe,he+(_t-$e-1)*nn,nn);break;case 1:for(nn=vt,Je=lt,an=(vt=Te.Ea)-(Jt=vt&~(nt=(lt=1<<Te.b)-1)),Pt=bi(vt,Te.b),en=Te.K,Te=Te.w+($e>>Te.b)*Pt;$e<_t;){for(Xn=en,jn=Te,Pi=new $n,Zn=Je+Jt,Oo=Je+vt;Je<Zn;)fs(Xn[jn++],Pi),om(Pi,nn,Je,lt,fe,he),Je+=lt,he+=lt;Je<Oo&&(fs(Xn[jn++],Pi),om(Pi,nn,Je,an,fe,he),Je+=an,he+=an),++$e&nt||(Te+=Pt)}break;case 3:if(vt==fe&&lt==he&&0<Te.b){for(Je=fe,vt=nn=he+(_t-$e)*nn-(Jt=(_t-$e)*bi(Te.Ea,Te.b)),lt=fe,nt=he,Pt=[],Jt=(an=Jt)-1;0<=Jt;--Jt)Pt[Jt]=lt[nt+Jt];for(Jt=an-1;0<=Jt;--Jt)Je[vt+Jt]=Pt[Jt];Fg(Te,$e,_t,fe,nn,fe,he)}else Fg(Te,$e,_t,vt,lt,fe,he)}he=Y,fe=P}fe!=P&&i(Y,P,he,fe,le)}function IA(A,M){var P=A.V,Y=A.Ba+A.c*A.C,te=M-A.C;if(n(M<=A.l.o),n(16>=te),0<te){var le=A.l,ce=A.Ta,he=A.Ua,fe=le.width;if(Jf(A,te,P,Y),te=he=[he],n((P=A.C)<(Y=M)),n(le.v<le.va),Y>le.o&&(Y=le.o),P<le.j){var Te=le.j-P;P=le.j,te[0]+=Te*fe}if(P>=Y?P=0:(te[0]+=4*le.v,le.ka=P-le.j,le.U=le.va-le.v,le.T=Y-P,P=1),P){if(he=he[0],11>(P=A.ca).S){var $e=P.f.RGBA,_t=(Y=P.S,te=le.U,le=le.T,Te=$e.eb,$e.A),vt=le;for($e=$e.fb+A.Ma*$e.A;0<vt--;){var lt=ce,nn=he,Pt=te,Je=Te,nt=$e;switch(Y){case rL:Ng(lt,nn,Pt,Je,nt);break;case oL:h1(lt,nn,Pt,Je,nt);break;case Y4:h1(lt,nn,Pt,Je,nt),m1(Je,nt,0,Pt,1,0);break;case x9:JA(lt,nn,Pt,Je,nt);break;case sL:ca(lt,nn,Pt,Je,nt,1);break;case z4:ca(lt,nn,Pt,Je,nt,1),m1(Je,nt,0,Pt,1,0);break;case aL:ca(lt,nn,Pt,Je,nt,0);break;case lL:ca(lt,nn,Pt,Je,nt,0),m1(Je,nt,1,Pt,1,0);break;case Z4:av(lt,nn,Pt,Je,nt);break;case W4:av(lt,nn,Pt,Je,nt),eS(Je,nt,Pt,1,0);break;case T9:Qy(lt,nn,Pt,Je,nt);break;default:n(0)}he+=fe,$e+=_t}A.Ma+=le}else alert("todo:EmitRescaledRowsYUVA");n(A.Ma<=P.height)}}A.C=M,n(A.C<=A.i)}function Yy(A){var M;if(0<A.ua)return 0;for(M=0;M<A.Wb;++M){var P=A.Ya[M].G,Y=A.Ya[M].H;if(0<P[1][Y[1]+0].g||0<P[2][Y[2]+0].g||0<P[3][Y[3]+0].g)return 0}return 1}function Eg(A,M,P,Y,te,le){if(0!=A.Z){var ce=A.qd,he=A.rd;for(n(null!=_1[A.Z]);M<P;++M)_1[A.Z](ce,he,Y,te,Y,te,le),ce=Y,he=te,te+=le;A.qd=ce,A.rd=he}}function Mg(A,M){var P=A.l.ma,Y=0==P.Z||1==P.Z?A.l.j:A.C;if(Y=A.C<Y?Y:A.C,n(M<=A.l.o),M>Y){var te=A.l.width,le=P.ca,ce=P.tb+te*Y,he=A.V,fe=A.Ba+A.c*Y,Te=A.gc;n(1==A.ab),n(3==Te[0].hc),q4(Te[0],Y,M,he,fe,le,ce),Eg(P,Y,M,le,ce,te)}A.C=A.Ma=M}function kg(A,M,P,Y,te,le,ce){var he=A.$/Y,fe=A.$%Y,Te=A.m,$e=A.s,_t=P+A.$,vt=_t;te=P+Y*te;var lt=P+Y*le,nn=280+$e.ua,Pt=A.Pb?he:16777216,Je=0<$e.ua?$e.Wa:null,nt=$e.wc,Jt=_t<lt?Pl($e,fe,he):null;n(A.C<le),n(lt<=te);var an=!1;e:for(;;){for(;an||_t<lt;){var en=0;if(he>=Pt){var Xn=_t-P;n((Pt=A).Pb),Pt.wd=Pt.m,Pt.xd=Xn,0<Pt.s.ua&&zt(Pt.s.Wa,Pt.s.vb),Pt=he+Nye}if(fe&nt||(Jt=Pl($e,fe,he)),n(null!=Jt),Jt.Qb&&(M[_t]=Jt.qb,an=!0),!an)if(ut(Te),Jt.jc){Xn=M;var jn=_t,Pi=Jt.pd[De(en=Te)&Qh-1];n(Jt.jc),256>Pi.g?(Qe(en,en.u+Pi.g),Xn[jn]=Pi.value,en=0):(Qe(en,en.u+Pi.g-256),n(256<=Pi.value),en=Pi.value),0==en&&(an=!0)}else en=Wh(Jt.G[0],Jt.H[0],Te);if(Te.h)break;if(an||256>en){if(!an)if(Jt.nd)M[_t]=(Jt.qb|en<<8)>>>0;else{if(ut(Te),an=Wh(Jt.G[1],Jt.H[1],Te),ut(Te),Xn=Wh(Jt.G[2],Jt.H[2],Te),jn=Wh(Jt.G[3],Jt.H[3],Te),Te.h)break;M[_t]=(jn<<24|an<<16|en<<8|Xn)>>>0}if(an=!1,++_t,++fe>=Y&&(fe=0,++he,null!=ce&&he<=le&&!(he%16)&&ce(A,he),null!=Je))for(;vt<_t;)en=M[vt++],Je.X[(506832829*en&4294967295)>>>Je.Mb]=en}else if(280>en){if(en=Dg(en-256,Te),Xn=Wh(Jt.G[4],Jt.H[4],Te),ut(Te),Xn=iv(Y,Xn=Dg(Xn,Te)),Te.h)break;if(_t-P<Xn||te-_t<en)break e;for(jn=0;jn<en;++jn)M[_t+jn]=M[_t+jn-Xn];for(_t+=en,fe+=en;fe>=Y;)fe-=Y,++he,null!=ce&&he<=le&&!(he%16)&&ce(A,he);if(n(_t<=te),fe&nt&&(Jt=Pl($e,fe,he)),null!=Je)for(;vt<_t;)en=M[vt++],Je.X[(506832829*en&4294967295)>>>Je.Mb]=en}else{if(!(en<nn))break e;for(an=en-280,n(null!=Je);vt<_t;)en=M[vt++],Je.X[(506832829*en&4294967295)>>>Je.Mb]=en;en=_t,n(!(an>>>(Xn=Je).Xa)),M[en]=Xn.X[an],an=!0}an||n(Te.h==Ee(Te))}if(A.Pb&&Te.h&&_t<te)n(A.m.h),A.a=5,A.m=A.wd,A.$=A.xd,0<A.s.ua&&zt(A.s.vb,A.s.Wa);else{if(Te.h)break e;null!=ce&&ce(A,he>le?le:he),A.a=0,A.$=_t-P}return 1}return A.a=3,0}function rv(A){n(null!=A),A.vc=null,A.yc=null,A.Ya=null;var M=A.Wa;null!=M&&(M.X=null),A.vb=null,n(null!=A)}function rm(){var A=new j4;return null==A?null:(A.a=0,A.xb=D9,ev("Predictor","VP8LPredictors"),ev("Predictor","VP8LPredictors_C"),ev("PredictorAdd","VP8LPredictorsAdd"),ev("PredictorAdd","VP8LPredictorsAdd_C"),tL=_o,om=ir,Ng=Qn,h1=_d,av=Eo,Qy=Ag,JA=Ss,Le.VP8LMapColor32b=ZE,Le.VP8LMapColor8b=H4,A)}function ov(A,M,P,Y,te){var le=1,ce=[A],he=[M],fe=Y.m,Te=Y.s,$e=null,_t=0;e:for(;;){if(P)for(;le&&Et(fe,1);){var vt=ce,lt=he,nn=Y,Pt=1,Je=nn.m,nt=nn.gc[nn.ab],Jt=Et(Je,2);if(nn.Oc&1<<Jt)le=0;else{switch(nn.Oc|=1<<Jt,nt.hc=Jt,nt.Ea=vt[0],nt.nc=lt[0],nt.K=[null],++nn.ab,n(4>=nn.ab),Jt){case 0:case 1:nt.b=Et(Je,3)+2,Pt=ov(bi(nt.Ea,nt.b),bi(nt.nc,nt.b),0,nn,nt.K),nt.K=nt.K[0];break;case 3:var an,en=Et(Je,8)+1,Xn=16<en?0:4<en?1:2<en?2:3;if(vt[0]=bi(nt.Ea,Xn),nt.b=Xn,an=Pt=ov(en,1,0,nn,nt.K)){var jn,Pi=en,Zn=nt,Oo=1<<(8>>Zn.b),ns=s(Oo);if(null==ns)an=0;else{var vo=Zn.K[0],$r=Zn.w;for(ns[0]=Zn.K[0][0],jn=1;jn<1*Pi;++jn)ns[jn]=xn(vo[$r+jn],ns[jn-1]);for(;jn<4*Oo;++jn)ns[jn]=0;Zn.K[0]=null,Zn.K[0]=ns,an=1}}Pt=an;break;case 2:break;default:n(0)}le=Pt}}if(ce=ce[0],he=he[0],le&&Et(fe,1)&&!(le=1<=(_t=Et(fe,4))&&11>=_t)){Y.a=3;break e}var Ds;if(Ds=le)t:{var ps,Sr,Ul,Kh=Y,jl=ce,Xh=he,is=_t,ep=P,tp=Kh.m,iu=Kh.s,Lu=[null],ah=1,cm=0,lv=Fye[is];n:for(;;){if(ep&&Et(tp,1)){var ru=Et(tp,3)+2,t0=bi(jl,ru),JC=bi(Xh,ru),tS=t0*JC;if(!ov(t0,JC,0,Kh,Lu))break n;for(Lu=Lu[0],iu.xc=ru,ps=0;ps<tS;++ps){var v1=Lu[ps]>>8&65535;Lu[ps]=v1,v1>=ah&&(ah=v1+1)}}if(tp.h)break n;for(Sr=0;5>Sr;++Sr){var Wa=A9[Sr];!Sr&&0<is&&(Wa+=1<<is),cm<Wa&&(cm=Wa)}var K4=a(ah*lv,we),R9=ah,P9=a(R9,je);if(null==P9)var hL=null;else n(65536>=R9),hL=P9;var QE=s(cm);if(null==hL||null==QE||null==K4){Kh.a=1;break n}var fL=K4;for(ps=Ul=0;ps<ah;++ps){var Ug=hL[ps],nS=Ug.G,iS=Ug.H,B9=0,pL=1,U9=0;for(Sr=0;5>Sr;++Sr){Wa=A9[Sr],nS[Sr]=fL,iS[Sr]=Ul,!Sr&&0<is&&(Wa+=1<<is);r:{var mL,X4=Wa,gL=Kh,JE=QE,t0e=fL,n0e=Ul,eB=0,y1=gL.m,i0e=Et(y1,1);if(o(JE,0,0,X4),i0e){var r0e=Et(y1,1)+1,o0e=Et(y1,1),j9=Et(y1,0==o0e?1:8);JE[j9]=1,2==r0e&&(JE[j9=Et(y1,8)]=1);var _L=1}else{var V9=s(19),q9=Et(y1,4)+4;if(19<q9){gL.a=3;var vL=0;break r}for(mL=0;mL<q9;++mL)V9[Oye[mL]]=Et(y1,3);var tB=void 0,KE=void 0,H9=gL,s0e=V9,yL=X4,G9=JE,nB=0,b1=H9.m,Z9=8,Y9=a(128,we);i:for(;Ce(Y9,0,7,s0e,19);){if(Et(b1,1)){var a0e=2+2*Et(b1,3);if((tB=2+Et(b1,a0e))>yL)break i}else tB=yL;for(KE=0;KE<yL&&tB--;){ut(b1);var z9=Y9[0+(127&De(b1))];Qe(b1,b1.u+z9.g);var rS=z9.value;if(16>rS)G9[KE++]=rS,0!=rS&&(Z9=rS);else{var l0e=16==rS,W9=rS-16,c0e=kye[W9],$9=Et(b1,Mye[W9])+c0e;if(KE+$9>yL)break i;for(var u0e=l0e?Z9:0;0<$9--;)G9[KE++]=u0e}}nB=1;break i}nB||(H9.a=3),_L=nB}(_L=_L&&!y1.h)&&(eB=Ce(t0e,n0e,8,JE,X4)),_L&&0!=eB?vL=eB:(gL.a=3,vL=0)}if(0==vL)break n;if(pL&&1==Iye[Sr]&&(pL=0==fL[Ul].g),B9+=fL[Ul].g,Ul+=vL,3>=Sr){var XE,iB=QE[0];for(XE=1;XE<Wa;++XE)QE[XE]>iB&&(iB=QE[XE]);U9+=iB}}if(Ug.nd=pL,Ug.Qb=0,pL&&(Ug.qb=(nS[3][iS[3]+0].value<<24|nS[1][iS[1]+0].value<<16|nS[2][iS[2]+0].value)>>>0,0==B9&&256>nS[0][iS[0]+0].value&&(Ug.Qb=1,Ug.qb+=nS[0][iS[0]+0].value<<8)),Ug.jc=!Ug.Qb&&6>U9,Ug.jc){var bL,n0=Ug;for(bL=0;bL<Qh;++bL){var w1=bL,C1=n0.pd[w1],wL=n0.G[0][n0.H[0]+w1];256<=wL.value?(C1.g=wL.g+256,C1.value=wL.value):(C1.g=0,C1.value=0,w1>>=gc(wL,8,C1),w1>>=gc(n0.G[1][n0.H[1]+w1],16,C1),w1>>=gc(n0.G[2][n0.H[2]+w1],0,C1),gc(n0.G[3][n0.H[3]+w1],24,C1))}}}iu.vc=Lu,iu.Wb=ah,iu.Ya=hL,iu.yc=K4,Ds=1;break t}Ds=0}if(!(le=Ds)){Y.a=3;break e}if(0<_t){if(Te.ua=1<<_t,!Ji(Te.Wa,_t)){Y.a=1,le=0;break e}}else Te.ua=0;var rB=Y,Q9=ce,d0e=he,oB=rB.s,sB=oB.xc;if(rB.c=Q9,rB.i=d0e,oB.md=bi(Q9,sB),oB.wc=0==sB?-1:(1<<sB)-1,P){Y.xb=qye;break e}if(null==($e=s(ce*he))){Y.a=1,le=0;break e}le=(le=kg(Y,$e,0,ce,he,he,null))&&!fe.h;break e}return le?(null!=te?te[0]=$e:(n(null==$e),n(P)),Y.$=0,P||rv(Te)):rv(Te),le}function GC(A,M){var P=A.c*A.i,Y=P+M+16*M;return n(A.c<=M),A.V=s(Y),null==A.V?(A.Ta=null,A.Ua=0,A.a=1,0):(A.Ta=A.V,A.Ua=A.Ba+P+M,1)}function OA(A,M){var P=A.C,Y=M-P,te=A.V,le=A.Ba+A.c*P;for(n(M<=A.l.o);0<Y;){var ce=16<Y?16:Y,he=A.l.ma,fe=A.l.width,Te=fe*ce,$e=he.ca,_t=he.tb+fe*P,vt=A.Ta,lt=A.Ua;Jf(A,ce,te,le),_9(vt,lt,$e,_t,Te),Eg(he,P,P+ce,$e,_t,fe),Y-=ce,te+=ce*A.c,P+=ce}n(P==M),A.C=A.Ma=M}function LA(){this.ub=this.yd=this.td=this.Rb=0}function FA(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function NA(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function N5(){var A;this.Yb=(function M(P,Y,te){for(var le=te[Y],ce=0;ce<le&&(P.push(te.length>Y+1?[]:0),!(te.length<Y+1));ce++)M(P[ce],Y+1,te)}(A=[],0,[3,11]),A)}function _4(){this.jb=s(3),this.Wc=d([4,8],N5),this.Xc=d([4,17],N5)}function v4(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function RA(){this.ld=this.La=this.dd=this.tc=0}function R5(){this.Na=this.la=0}function y4(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function AE(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function b4(){this.uc=this.M=this.Nb=0,this.wa=Array(new RA),this.Y=0,this.ya=Array(new AE),this.aa=0,this.l=new PA}function P5(){this.y=s(16),this.f=s(8),this.ea=s(8)}function w4(){this.cb=this.a=0,this.sc="",this.m=new Fn,this.Od=new LA,this.Kc=new FA,this.ed=new v4,this.Qa=new NA,this.Ic=this.$c=this.Aa=0,this.D=new b4,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,Fn),this.ia=0,this.pb=a(4,y4),this.Pa=new _4,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new P5),this.Hd=0,this.rb=Array(new R5),this.sb=0,this.wa=Array(new RA),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new AE),this.L=this.aa=0,this.gd=d([4,2],RA),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function PA(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function C4(){var A=new w4;return null!=A&&(A.a=0,A.sc="OK",A.cb=0,A.Xb=0,WE||(WE=j5)),A}function hl(A,M,P){return 0==A.a&&(A.a=M,A.sc=P,A.cb=0),0}function B5(A,M,P){return 3<=P&&157==A[M+0]&&1==A[M+1]&&42==A[M+2]}function U5(A,M){if(null==A)return 0;if(A.a=0,A.sc="OK",null==M)return hl(A,2,"null VP8Io passed to VP8GetHeaders()");var P=M.data,Y=M.w,te=M.ha;if(4>te)return hl(A,7,"Truncated header.");var le=P[Y+0]|P[Y+1]<<8|P[Y+2]<<16,ce=A.Od;if(ce.Rb=!(1&le),ce.td=le>>1&7,ce.yd=le>>4&1,ce.ub=le>>5,3<ce.td)return hl(A,3,"Incorrect keyframe parameters.");if(!ce.yd)return hl(A,4,"Frame not displayable.");Y+=3,te-=3;var he=A.Kc;if(ce.Rb){if(7>te)return hl(A,7,"cannot parse picture header");if(!B5(P,Y,te))return hl(A,3,"Bad code word");he.c=16383&(P[Y+4]<<8|P[Y+3]),he.Td=P[Y+4]>>6,he.i=16383&(P[Y+6]<<8|P[Y+5]),he.Ud=P[Y+6]>>6,Y+=7,te-=7,A.za=he.c+15>>4,A.Ub=he.i+15>>4,M.width=he.c,M.height=he.i,M.Da=0,M.j=0,M.v=0,M.va=M.width,M.o=M.height,M.da=0,M.ib=M.width,M.hb=M.height,M.U=M.width,M.T=M.height,o((le=A.Pa).jb,0,255,le.jb.length),n(null!=(le=A.Qa)),le.Cb=0,le.Bb=0,le.Fb=1,o(le.Zb,0,0,le.Zb.length),o(le.Lb,0,0,le.Lb)}if(ce.ub>te)return hl(A,7,"bad partition length");Rt(le=A.m,P,Y,ce.ub),Y+=ce.ub,te-=ce.ub,ce.Rb&&(he.Ld=Ct(le),he.Kd=Ct(le)),he=A.Qa;var fe,Te=A.Pa;if(n(null!=le),n(null!=he),he.Cb=Ct(le),he.Cb){if(he.Bb=Ct(le),Ct(le)){for(he.Fb=Ct(le),fe=0;4>fe;++fe)he.Zb[fe]=Ct(le)?ct(le,7):0;for(fe=0;4>fe;++fe)he.Lb[fe]=Ct(le)?ct(le,6):0}if(he.Bb)for(fe=0;3>fe;++fe)Te.jb[fe]=Ct(le)?ze(le,8):255}else he.Bb=0;if(le.Ka)return hl(A,3,"cannot parse segment header");if((he=A.ed).zd=Ct(le),he.Tb=ze(le,6),he.wb=ze(le,3),he.Pc=Ct(le),he.Pc&&Ct(le)){for(Te=0;4>Te;++Te)Ct(le)&&(he.vd[Te]=ct(le,6));for(Te=0;4>Te;++Te)Ct(le)&&(he.od[Te]=ct(le,6))}if(A.L=0==he.Tb?0:he.zd?1:2,le.Ka)return hl(A,3,"cannot parse filter header");var $e=te;if(te=fe=Y,Y=fe+$e,he=$e,A.Xb=(1<<ze(A.m,2))-1,$e<3*(Te=A.Xb))P=7;else{for(fe+=3*Te,he-=3*Te,$e=0;$e<Te;++$e){var _t=P[te+0]|P[te+1]<<8|P[te+2]<<16;_t>he&&(_t=he),Rt(A.Jc[+$e],P,fe,_t),fe+=_t,he-=_t,te+=3}Rt(A.Jc[+Te],P,fe,he),P=fe<Y?0:5}if(0!=P)return hl(A,P,"cannot parse partitions");for(P=ze(fe=A.m,7),te=Ct(fe)?ct(fe,4):0,Y=Ct(fe)?ct(fe,4):0,he=Ct(fe)?ct(fe,4):0,Te=Ct(fe)?ct(fe,4):0,fe=Ct(fe)?ct(fe,4):0,$e=A.Qa,_t=0;4>_t;++_t){if($e.Cb){var vt=$e.Zb[_t];$e.Fb||(vt+=P)}else{if(0<_t){A.pb[_t]=A.pb[0];continue}vt=P}var lt=A.pb[_t];lt.Sc[0]=$4[Kf(vt+te,127)],lt.Sc[1]=Q4[Kf(vt+0,127)],lt.Eb[0]=2*$4[Kf(vt+Y,127)],lt.Eb[1]=101581*Q4[Kf(vt+he,127)]>>16,8>lt.Eb[1]&&(lt.Eb[1]=8),lt.Qc[0]=$4[Kf(vt+Te,117)],lt.Qc[1]=Q4[Kf(vt+fe,127)],lt.lc=vt+fe}if(!ce.Rb)return hl(A,4,"Not a key frame.");for(Ct(le),ce=A.Pa,P=0;4>P;++P){for(te=0;8>te;++te)for(Y=0;3>Y;++Y)for(he=0;11>he;++he)Te=Tt(le,jye[P][te][Y][he])?ze(le,8):Bye[P][te][Y][he],ce.Wc[P][te].Yb[Y][he]=Te;for(te=0;17>te;++te)ce.Xc[P][te]=ce.Wc[P][Vye[te]]}return A.kc=Ct(le),A.kc&&(A.Bd=ze(le,8)),A.cb=1}function j5(A,M,P,Y,te,le,ce){var he=M[te].Yb[P];for(P=0;16>te;++te){if(!Tt(A,he[P+0]))return te;for(;!Tt(A,he[P+1]);)if(he=M[++te].Yb[0],P=0,16==te)return 16;var fe=M[te+1].Yb;if(Tt(A,he[P+2])){var Te=A,$e=0;if(Tt(Te,(vt=he)[(_t=P)+3]))if(Tt(Te,vt[_t+6])){for(he=0,_t=2*($e=Tt(Te,vt[_t+8]))+(vt=Tt(Te,vt[_t+9+$e])),$e=0,vt=Rye[_t];vt[he];++he)$e+=$e+Tt(Te,vt[he]);$e+=3+(8<<_t)}else Tt(Te,vt[_t+7])?($e=7+2*Tt(Te,165),$e+=Tt(Te,145)):$e=5+Tt(Te,159);else $e=Tt(Te,vt[_t+4])?3+Tt(Te,vt[_t+5]):2;he=fe[2]}else $e=1,he=fe[1];fe=ce+Pye[te],0>(Te=A).b&&pt(Te);var _t,vt=Te.b,lt=(_t=Te.Ca>>1)-(Te.I>>vt)>>31;--Te.b,Te.Ca+=lt,Te.Ca|=1,Te.I-=(_t+1&lt)<<vt,le[fe]=(($e^lt)-lt)*Y[(0<te)+0]}return 16}function SE(A){var M=A.rb[A.sb-1];M.la=0,M.Na=0,o(A.zc,0,0,A.zc.length),A.ja=0}function Ig(A,M,P,Y,te){A[M+P+32*Y]=-256&(te=A[M+P+32*Y]+(te>>3))?0>te?0:255:te}function BA(A,M,P,Y,te,le){Ig(A,M,0,P,Y+te),Ig(A,M,1,P,Y+le),Ig(A,M,2,P,Y-le),Ig(A,M,3,P,Y-te)}function $h(A){return(20091*A>>16)+A}function DE(A,M,P,Y){var te,le=0,ce=s(16);for(te=0;4>te;++te){var he=A[M+0]+A[M+8],fe=A[M+0]-A[M+8],Te=(35468*A[M+4]>>16)-$h(A[M+12]),$e=$h(A[M+4])+(35468*A[M+12]>>16);ce[le+0]=he+$e,ce[le+1]=fe+Te,ce[le+2]=fe-Te,ce[le+3]=he-$e,le+=4,M++}for(te=le=0;4>te;++te)he=(A=ce[le+0]+4)+ce[le+8],fe=A-ce[le+8],Te=(35468*ce[le+4]>>16)-$h(ce[le+12]),Ig(P,Y,0,0,he+($e=$h(ce[le+4])+(35468*ce[le+12]>>16))),Ig(P,Y,1,0,fe+Te),Ig(P,Y,2,0,fe-Te),Ig(P,Y,3,0,he-$e),le++,Y+=32}function V5(A,M,P,Y){var te=A[M+0]+4,le=35468*A[M+4]>>16,ce=$h(A[M+4]),he=35468*A[M+1]>>16;BA(P,Y,0,te+ce,A=$h(A[M+1]),he),BA(P,Y,1,te+le,A,he),BA(P,Y,2,te-le,A,he),BA(P,Y,3,te-ce,A,he)}function T4(A,M,P,Y,te){DE(A,M,P,Y),te&&DE(A,M+16,P,Y+4)}function q5(A,M,P,Y){KA(A,M+0,P,Y,1),KA(A,M+32,P,Y+128,1)}function A4(A,M,P,Y){var te;for(A=A[M+0]+4,te=0;4>te;++te)for(M=0;4>M;++M)Ig(P,Y,M,te,A)}function H5(A,M,P,Y){A[M+0]&&Pg(A,M+0,P,Y),A[M+16]&&Pg(A,M+16,P,Y+4),A[M+32]&&Pg(A,M+32,P,Y+128),A[M+48]&&Pg(A,M+48,P,Y+128+4)}function S4(A,M,P,Y){var te,le=s(16);for(te=0;4>te;++te){var ce=A[M+0+te]+A[M+12+te],he=A[M+4+te]+A[M+8+te],fe=A[M+4+te]-A[M+8+te],Te=A[M+0+te]-A[M+12+te];le[0+te]=ce+he,le[8+te]=ce-he,le[4+te]=Te+fe,le[12+te]=Te-fe}for(te=0;4>te;++te)ce=(A=le[0+4*te]+3)+le[3+4*te],fe=le[1+4*te]-le[2+4*te],Te=A-le[3+4*te],P[Y+0]=ce+(he=le[1+4*te]+le[2+4*te])>>3,P[Y+16]=Te+fe>>3,P[Y+32]=ce-he>>3,P[Y+48]=Te-fe>>3,Y+=64}function EE(A,M,P){var Y,te=M-32,le=Xf,ce=255-A[te-1];for(Y=0;Y<P;++Y){var he,fe=le,Te=ce+A[M-1];for(he=0;he<P;++he)A[M+he]=fe[Te+A[te+he]];M+=32}}function D4(A,M){EE(A,M,4)}function E4(A,M){EE(A,M,8)}function M4(A,M){EE(A,M,16)}function zy(A,M){var P;for(P=0;16>P;++P)i(A,M+32*P,A,M-32,16)}function UA(A,M){var P;for(P=16;0<P;--P)o(A,M,A[M-1],16),M+=32}function jA(A,M,P){var Y;for(Y=0;16>Y;++Y)o(M,P+32*Y,A,16)}function G5(A,M){var P,Y=16;for(P=0;16>P;++P)Y+=A[M-1+32*P]+A[M+P-32];jA(Y>>5,A,M)}function vd(A,M){var P,Y=8;for(P=0;16>P;++P)Y+=A[M-1+32*P];jA(Y>>4,A,M)}function k4(A,M){var P,Y=8;for(P=0;16>P;++P)Y+=A[M+P-32];jA(Y>>4,A,M)}function Z5(A,M){jA(128,A,M)}function dr(A,M,P){return A+2*M+P+2>>2}function I4(A,M){var P,Y=M-32;for(Y=new Uint8Array([dr(A[Y-1],A[Y+0],A[Y+1]),dr(A[Y+0],A[Y+1],A[Y+2]),dr(A[Y+1],A[Y+2],A[Y+3]),dr(A[Y+2],A[Y+3],A[Y+4])]),P=0;4>P;++P)i(A,M+32*P,Y,0,Y.length)}function O4(A,M){var P=A[M-1],Y=A[M-1+32],te=A[M-1+64],le=A[M-1+96];wn(A,M+0,16843009*dr(A[M-1-32],P,Y)),wn(A,M+32,16843009*dr(P,Y,te)),wn(A,M+64,16843009*dr(Y,te,le)),wn(A,M+96,16843009*dr(te,le,le))}function sv(A,M){var P,Y=4;for(P=0;4>P;++P)Y+=A[M+P-32]+A[M-1+32*P];for(Y>>=3,P=0;4>P;++P)o(A,M+32*P,Y,4)}function Y5(A,M){var P=A[M-1+0],Y=A[M-1+32],te=A[M-1+64],le=A[M-1-32],ce=A[M+0-32],he=A[M+1-32],fe=A[M+2-32],Te=A[M+3-32];A[M+0+96]=dr(Y,te,A[M-1+96]),A[M+1+96]=A[M+0+64]=dr(P,Y,te),A[M+2+96]=A[M+1+64]=A[M+0+32]=dr(le,P,Y),A[M+3+96]=A[M+2+64]=A[M+1+32]=A[M+0+0]=dr(ce,le,P),A[M+3+64]=A[M+2+32]=A[M+1+0]=dr(he,ce,le),A[M+3+32]=A[M+2+0]=dr(fe,he,ce),A[M+3+0]=dr(Te,fe,he)}function z5(A,M){var P=A[M+1-32],Y=A[M+2-32],te=A[M+3-32],le=A[M+4-32],ce=A[M+5-32],he=A[M+6-32],fe=A[M+7-32];A[M+0+0]=dr(A[M+0-32],P,Y),A[M+1+0]=A[M+0+32]=dr(P,Y,te),A[M+2+0]=A[M+1+32]=A[M+0+64]=dr(Y,te,le),A[M+3+0]=A[M+2+32]=A[M+1+64]=A[M+0+96]=dr(te,le,ce),A[M+3+32]=A[M+2+64]=A[M+1+96]=dr(le,ce,he),A[M+3+64]=A[M+2+96]=dr(ce,he,fe),A[M+3+96]=dr(he,fe,fe)}function VA(A,M){var P=A[M-1+0],Y=A[M-1+32],te=A[M-1+64],le=A[M-1-32],ce=A[M+0-32],he=A[M+1-32],fe=A[M+2-32],Te=A[M+3-32];A[M+0+0]=A[M+1+64]=le+ce+1>>1,A[M+1+0]=A[M+2+64]=ce+he+1>>1,A[M+2+0]=A[M+3+64]=he+fe+1>>1,A[M+3+0]=fe+Te+1>>1,A[M+0+96]=dr(te,Y,P),A[M+0+64]=dr(Y,P,le),A[M+0+32]=A[M+1+96]=dr(P,le,ce),A[M+1+32]=A[M+2+96]=dr(le,ce,he),A[M+2+32]=A[M+3+96]=dr(ce,he,fe),A[M+3+32]=dr(he,fe,Te)}function ME(A,M){var P=A[M+0-32],Y=A[M+1-32],te=A[M+2-32],le=A[M+3-32],ce=A[M+4-32],he=A[M+5-32],fe=A[M+6-32],Te=A[M+7-32];A[M+0+0]=P+Y+1>>1,A[M+1+0]=A[M+0+64]=Y+te+1>>1,A[M+2+0]=A[M+1+64]=te+le+1>>1,A[M+3+0]=A[M+2+64]=le+ce+1>>1,A[M+0+32]=dr(P,Y,te),A[M+1+32]=A[M+0+96]=dr(Y,te,le),A[M+2+32]=A[M+1+96]=dr(te,le,ce),A[M+3+32]=A[M+2+96]=dr(le,ce,he),A[M+3+64]=dr(ce,he,fe),A[M+3+96]=dr(he,fe,Te)}function L4(A,M){var P=A[M-1+0],Y=A[M-1+32],te=A[M-1+64],le=A[M-1+96];A[M+0+0]=P+Y+1>>1,A[M+2+0]=A[M+0+32]=Y+te+1>>1,A[M+2+32]=A[M+0+64]=te+le+1>>1,A[M+1+0]=dr(P,Y,te),A[M+3+0]=A[M+1+32]=dr(Y,te,le),A[M+3+32]=A[M+1+64]=dr(te,le,le),A[M+3+64]=A[M+2+64]=A[M+0+96]=A[M+1+96]=A[M+2+96]=A[M+3+96]=le}function F4(A,M){var P=A[M-1+0],Y=A[M-1+32],te=A[M-1+64],le=A[M-1+96],ce=A[M-1-32],he=A[M+0-32],fe=A[M+1-32],Te=A[M+2-32];A[M+0+0]=A[M+2+32]=P+ce+1>>1,A[M+0+32]=A[M+2+64]=Y+P+1>>1,A[M+0+64]=A[M+2+96]=te+Y+1>>1,A[M+0+96]=le+te+1>>1,A[M+3+0]=dr(he,fe,Te),A[M+2+0]=dr(ce,he,fe),A[M+1+0]=A[M+3+32]=dr(P,ce,he),A[M+1+32]=A[M+3+64]=dr(Y,P,ce),A[M+1+64]=A[M+3+96]=dr(te,Y,P),A[M+1+96]=dr(le,te,Y)}function N4(A,M){var P;for(P=0;8>P;++P)i(A,M+32*P,A,M-32,8)}function kE(A,M){var P;for(P=0;8>P;++P)o(A,M,A[M-1],8),M+=32}function ZC(A,M,P){var Y;for(Y=0;8>Y;++Y)o(M,P+32*Y,A,8)}function a1(A,M){var P,Y=8;for(P=0;8>P;++P)Y+=A[M+P-32]+A[M-1+32*P];ZC(Y>>4,A,M)}function R4(A,M){var P,Y=4;for(P=0;8>P;++P)Y+=A[M+P-32];ZC(Y>>3,A,M)}function YC(A,M){var P,Y=4;for(P=0;8>P;++P)Y+=A[M-1+32*P];ZC(Y>>3,A,M)}function IE(A,M){ZC(128,A,M)}function qA(A,M,P){var Y=A[M-P],te=A[M+0],le=3*(te-Y)+G4[1020+A[M-2*P]-A[M+P]],ce=iL[112+(le+4>>3)];A[M-P]=Xf[255+Y+iL[112+(le+3>>3)]],A[M+0]=Xf[255+te-ce]}function W5(A,M,P,Y){return am[255+A[M-2*P]-A[M-P]]>Y||am[255+A[M+P]-A[M+0]]>Y}function $5(A,M,P,Y){return 4*am[255+A[M-P]-A[M+0]]+am[255+A[M-2*P]-A[M+P]]<=Y}function Q5(A,M,P,Y,te){var le=A[M-3*P],ce=A[M-2*P],he=A[M-P],fe=A[M+0],Te=A[M+P],$e=A[M+2*P];return 4*am[255+he-fe]+am[255+ce-Te]>Y?0:am[255+A[M-4*P]-le]<=te&&am[255+le-ce]<=te&&am[255+ce-he]<=te&&am[255+A[M+3*P]-$e]<=te&&am[255+$e-Te]<=te&&am[255+Te-fe]<=te}function J5(A,M,P,Y){var te=2*Y+1;for(Y=0;16>Y;++Y)$5(A,M+Y,P,te)&&qA(A,M+Y,P)}function Wy(A,M,P,Y){var te=2*Y+1;for(Y=0;16>Y;++Y)$5(A,M+Y*P,1,te)&&qA(A,M+Y*P,1)}function l1(A,M,P,Y){var te;for(te=3;0<te;--te)J5(A,M+=4*P,P,Y)}function P4(A,M,P,Y){var te;for(te=3;0<te;--te)Wy(A,M+=4,P,Y)}function c1(A,M,P,Y,te,le,ce,he){for(le=2*le+1;0<te--;){if(Q5(A,M,P,le,ce))if(W5(A,M,P,he))qA(A,M,P);else{var fe=A,Te=M,$e=P,_t=fe[Te-2*$e],vt=fe[Te-$e],lt=fe[Te+0],nn=fe[Te+$e],Pt=fe[Te+2*$e],Je=27*(Jt=G4[1020+3*(lt-vt)+G4[1020+_t-nn]])+63>>7,nt=18*Jt+63>>7,Jt=9*Jt+63>>7;fe[Te-3*$e]=Xf[255+fe[Te-3*$e]+Jt],fe[Te-2*$e]=Xf[255+_t+nt],fe[Te-$e]=Xf[255+vt+Je],fe[Te+0]=Xf[255+lt-Je],fe[Te+$e]=Xf[255+nn-nt],fe[Te+2*$e]=Xf[255+Pt-Jt]}M+=Y}}function Og(A,M,P,Y,te,le,ce,he){for(le=2*le+1;0<te--;){if(Q5(A,M,P,le,ce))if(W5(A,M,P,he))qA(A,M,P);else{var fe=A,Te=M,$e=P,_t=fe[Te-$e],vt=fe[Te+0],lt=fe[Te+$e],nn=iL[112+(4+(Pt=3*(vt-_t))>>3)],Pt=iL[112+(Pt+3>>3)],Je=nn+1>>1;fe[Te-2*$e]=Xf[255+fe[Te-2*$e]+Je],fe[Te-$e]=Xf[255+_t+Pt],fe[Te+0]=Xf[255+vt-nn],fe[Te+$e]=Xf[255+lt-Je]}M+=Y}}function OE(A,M,P,Y,te,le){c1(A,M,P,1,16,Y,te,le)}function zC(A,M,P,Y,te,le){c1(A,M,1,P,16,Y,te,le)}function B4(A,M,P,Y,te,le){var ce;for(ce=3;0<ce;--ce)Og(A,M+=4*P,P,1,16,Y,te,le)}function HA(A,M,P,Y,te,le){var ce;for(ce=3;0<ce;--ce)Og(A,M+=4,1,P,16,Y,te,le)}function U4(A,M,P,Y,te,le,ce,he){c1(A,M,te,1,8,le,ce,he),c1(P,Y,te,1,8,le,ce,he)}function LE(A,M,P,Y,te,le,ce,he){c1(A,M,1,te,8,le,ce,he),c1(P,Y,1,te,8,le,ce,he)}function FE(A,M,P,Y,te,le,ce,he){Og(A,M+4*te,te,1,8,le,ce,he),Og(P,Y+4*te,te,1,8,le,ce,he)}function K5(A,M,P,Y,te,le,ce,he){Og(A,M+4,1,te,8,le,ce,he),Og(P,Y+4,1,te,8,le,ce,he)}function GA(){this.ba=new Sg,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ya,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function NE(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function RE(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function X5(){this.ua=0,this.Wa=new Ne,this.vb=new Ne,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new je,this.yc=new we}function j4(){this.xb=this.a=0,this.l=new PA,this.ca=new Sg,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new ae,this.Pb=0,this.wd=new ae,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new X5,this.ab=0,this.gc=a(4,RE),this.Oc=0}function ZA(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new PA,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function WC(A,M,P,Y,te,le,ce){for(A=null==A?0:A[M+0],M=0;M<ce;++M)te[le+M]=A+P[Y+M]&255,A=te[le+M]}function PE(A,M,P,Y,te,le,ce){var he;if(null==A)WC(null,null,P,Y,te,le,ce);else for(he=0;he<ce;++he)te[le+he]=A[M+he]+P[Y+he]&255}function u1(A,M,P,Y,te,le,ce){if(null==A)WC(null,null,P,Y,te,le,ce);else{var he,fe=A[M+0],Te=fe,$e=fe;for(he=0;he<ce;++he)Te=$e+(fe=A[M+he])-Te,$e=P[Y+he]+(-256&Te?0>Te?0:255:Te)&255,Te=fe,te[le+he]=$e}}function BE(A,M,P,Y){var te=M.width,le=M.o;if(n(null!=A&&null!=M),0>P||0>=Y||P+Y>le)return null;if(!A.Cc){if(null==A.ga){var ce;if(A.ga=new ZA,(ce=null==A.ga)||(ce=M.width*M.o,n(0==A.Gb.length),A.Gb=s(ce),A.Uc=0,null==A.Gb?ce=0:(A.mb=A.Gb,A.nb=A.Uc,A.rc=null,ce=1),ce=!ce),!ce){var he=A.Fa,fe=A.P,Te=A.qc,$e=A.mb,_t=A.nb,vt=fe+1,lt=Te-1,nn=(ce=A.ga).l;if(n(null!=he&&null!=$e&&null!=M),_1[0]=null,_1[1]=WC,_1[2]=PE,_1[3]=u1,ce.ca=$e,ce.tb=_t,ce.c=M.width,ce.i=M.height,n(0<ce.c&&0<ce.i),1>=Te)M=0;else if(ce.$a=he[fe+0]>>0&3,ce.Z=he[fe+0]>>2&3,ce.Lc=he[fe+0]>>4&3,fe=he[fe+0]>>6&3,0>ce.$a||1<ce.$a||4<=ce.Z||1<ce.Lc||fe)M=0;else if(nn.put=tv,nn.ac=Ou,nn.bc=nv,nn.ma=ce,nn.width=M.width,nn.height=M.height,nn.Da=M.Da,nn.v=M.v,nn.va=M.va,nn.j=M.j,nn.o=M.o,ce.$a)e:{n(1==ce.$a),M=rm();t:for(;;){if(null==M){M=0;break e}if(n(null!=ce),ce.mc=M,M.c=ce.c,M.i=ce.i,M.l=ce.l,M.l.ma=ce,M.l.width=ce.c,M.l.height=ce.i,M.a=0,Ke(M.m,he,vt,lt),!ov(ce.c,ce.i,1,M,null)||(1==M.ab&&3==M.gc[0].hc&&Yy(M.s)?(ce.ic=1,he=M.c*M.i,M.Ta=null,M.Ua=0,M.V=s(he),M.Ba=0,null==M.V?(M.a=1,M=0):M=1):(ce.ic=0,M=GC(M,ce.c)),!M))break t;M=1;break e}ce.mc=null,M=0}else M=lt>=ce.c*ce.i;ce=!M}if(ce)return null;1!=A.ga.Lc?A.Ga=0:Y=le-P}n(null!=A.ga),n(P+Y<=le);e:{if(M=(he=A.ga).c,le=he.l.o,0==he.$a){if(vt=A.rc,lt=A.Vc,nn=A.Fa,Te=A.mb,$e=A.nb+P*M,n((fe=A.P+1+P*M)<=A.P+A.qc),0!=he.Z)for(n(null!=_1[he.Z]),ce=0;ce<Y;++ce)_1[he.Z](vt,lt,nn,fe,Te,$e,M),vt=Te,lt=$e,$e+=M,fe+=M;else for(ce=0;ce<Y;++ce)i(Te,$e,nn,fe,M),vt=Te,lt=$e,$e+=M,fe+=M;A.rc=vt,A.Vc=lt}else{if(n(null!=he.mc),M=P+Y,n(null!=(ce=he.mc)),n(M<=ce.i),ce.C>=M)M=1;else if(he.ic||ft(),he.ic){he=ce.V,vt=ce.Ba;var Pt=ce.i,Je=(nn=1,fe=ce.$/(lt=ce.c),Te=ce.$%lt,$e=ce.m,_t=ce.s,ce.$),nt=lt*Pt,Jt=lt*M,an=_t.wc,en=Je<Jt?Pl(_t,Te,fe):null;n(Je<=nt),n(M<=Pt),n(Yy(_t));t:for(;;){for(;!$e.h&&Je<Jt;){if(Te&an||(en=Pl(_t,Te,fe)),n(null!=en),ut($e),256>(Pt=Wh(en.G[0],en.H[0],$e)))he[vt+Je]=Pt,++Je,++Te>=lt&&(Te=0,++fe<=M&&!(fe%16)&&Mg(ce,fe));else{if(!(280>Pt)){nn=0;break t}Pt=Dg(Pt-256,$e);var Xn,jn=Wh(en.G[4],en.H[4],$e);if(ut($e),!(Je>=(jn=iv(lt,jn=Dg(jn,$e)))&&nt-Je>=Pt)){nn=0;break t}for(Xn=0;Xn<Pt;++Xn)he[vt+Je+Xn]=he[vt+Je+Xn-jn];for(Je+=Pt,Te+=Pt;Te>=lt;)Te-=lt,++fe<=M&&!(fe%16)&&Mg(ce,fe);Je<Jt&&Te&an&&(en=Pl(_t,Te,fe))}n($e.h==Ee($e))}Mg(ce,fe>M?M:fe);break t}!nn||$e.h&&Je<nt?(nn=0,ce.a=$e.h?5:3):ce.$=Je,M=nn}else M=kg(ce,ce.V,ce.Ba,ce.c,ce.i,M,OA);if(!M){Y=0;break e}}P+Y>=le&&(A.Cc=1),Y=1}if(!Y)return null;if(A.Cc&&(null!=(Y=A.ga)&&(Y.mc=null),A.ga=null,0<A.Ga))return alert("todo:WebPDequantizeLevels"),null}return A.nb+P*te}function F(A,M,P,Y,te,le){for(;0<te--;){var ce,he=A,fe=M+(P?1:0),Te=A,$e=M+(P?0:3);for(ce=0;ce<Y;++ce){var _t=Te[$e+4*ce];255!=_t&&(he[fe+4*ce+0]=he[fe+4*ce+0]*(_t*=32897)>>23,he[fe+4*ce+1]=he[fe+4*ce+1]*_t>>23,he[fe+4*ce+2]=he[fe+4*ce+2]*_t>>23)}M+=le}}function ne(A,M,P,Y,te){for(;0<Y--;){var le;for(le=0;le<P;++le){var ce=A[M+2*le+0],he=15&(Te=A[M+2*le+1]),fe=4369*he,Te=(240&Te|Te>>4)*fe>>16;A[M+2*le+0]=(240&ce|ce>>4)*fe>>16&240|(15&ce|ce<<4)*fe>>16>>4&15,A[M+2*le+1]=240&Te|he}M+=te}}function Me(A,M,P,Y,te,le,ce,he){var fe,Te,$e=255;for(Te=0;Te<te;++Te){for(fe=0;fe<Y;++fe){var _t=A[M+fe];le[ce+4*fe]=_t,$e&=_t}M+=P,ce+=he}return 255!=$e}function Ge(A,M,P,Y,te){var le;for(le=0;le<te;++le)P[Y+le]=A[M+le]>>8}function ft(){m1=F,eS=ne,nL=Me,_9=Ge}function Yt(A,M,P){Le[A]=function(Y,te,le,ce,he,fe,Te,$e,_t,vt,lt,nn,Pt,Je,nt,Jt,an){var en,Xn=an-1>>1,jn=he[fe+0]|Te[$e+0]<<16,Pi=_t[vt+0]|lt[nn+0]<<16;n(null!=Y);var Zn=3*jn+Pi+131074>>2;for(M(Y[te+0],255&Zn,Zn>>16,Pt,Je),null!=le&&M(le[ce+0],255&(Zn=3*Pi+jn+131074>>2),Zn>>16,nt,Jt),en=1;en<=Xn;++en){var Oo=he[fe+en]|Te[$e+en]<<16,ns=_t[vt+en]|lt[nn+en]<<16,vo=jn+Oo+Pi+ns+524296,$r=vo+2*(Oo+Pi)>>3;Zn=$r+jn>>1,jn=(vo=vo+2*(jn+ns)>>3)+Oo>>1,M(Y[te+2*en-1],255&Zn,Zn>>16,Pt,Je+(2*en-1)*P),M(Y[te+2*en-0],255&jn,jn>>16,Pt,Je+(2*en-0)*P),null!=le&&(jn=$r+ns>>1,M(le[ce+2*en-1],255&(Zn=vo+Pi>>1),Zn>>16,nt,Jt+(2*en-1)*P),M(le[ce+2*en+0],255&jn,jn>>16,nt,Jt+(2*en+0)*P)),jn=Oo,Pi=ns}1&an||(M(Y[te+an-1],255&(Zn=3*jn+Pi+131074>>2),Zn>>16,Pt,Je+(an-1)*P),null!=le&&M(le[ce+an-1],255&(Zn=3*Pi+jn+131074>>2),Zn>>16,nt,Jt+(an-1)*P))}}function _n(){lm[rL]=Hye,lm[oL]=E9,lm[x9]=Gye,lm[sL]=M9,lm[aL]=k9,lm[Z4]=I9,lm[T9]=Zye,lm[Y4]=E9,lm[z4]=M9,lm[lL]=k9,lm[W4]=I9}function Kn(A){return A&~Yye?0>A?0:255:A>>O9}function Ii(A,M){return Kn((19077*A>>8)+(26149*M>>8)-14234)}function br(A,M,P){return Kn((19077*A>>8)-(6419*M>>8)-(13320*P>>8)+8708)}function Or(A,M){return Kn((19077*A>>8)+(33050*M>>8)-17685)}function po(A,M,P,Y,te){Y[te+0]=Ii(A,P),Y[te+1]=br(A,M,P),Y[te+2]=Or(A,M)}function Aa(A,M,P,Y,te){Y[te+0]=Or(A,M),Y[te+1]=br(A,M,P),Y[te+2]=Ii(A,P)}function za(A,M,P,Y,te){var le=br(A,M,P);M=le<<3&224|Or(A,M)>>3,Y[te+0]=248&Ii(A,P)|le>>5,Y[te+1]=M}function Bl(A,M,P,Y,te){var le=240&Or(A,M)|15;Y[te+0]=240&Ii(A,P)|br(A,M,P)>>4,Y[te+1]=le}function yd(A,M,P,Y,te){Y[te+0]=255,po(A,M,P,Y,te+1)}function nu(A,M,P,Y,te){Aa(A,M,P,Y,te),Y[te+3]=255}function Lg(A,M,P,Y,te){po(A,M,P,Y,te),Y[te+3]=255}function Kf(A,M){return 0>A?0:A>M?M:A}function $y(A,M,P){Le[A]=function(Y,te,le,ce,he,fe,Te,$e,_t){for(var vt=$e+(-2&_t)*P;$e!=vt;)M(Y[te+0],le[ce+0],he[fe+0],Te,$e),M(Y[te+1],le[ce+0],he[fe+0],Te,$e+P),te+=2,++ce,++fe,$e+=2*P;1&_t&&M(Y[te+0],le[ce+0],he[fe+0],Te,$e)}}function eL(A,M,P){return 0==P?0==A?0==M?6:5:0==M?4:0:P}function UE(A,M,P,Y,te){switch(A>>>30){case 3:KA(M,P,Y,te,0);break;case 2:YE(M,P,Y,te);break;case 1:Pg(M,P,Y,te)}}function jE(A,M){var P,Y,te=M.M,le=M.Nb,ce=A.oc,he=A.pc+40,fe=A.oc,Te=A.pc+584,$e=A.oc,_t=A.pc+600;for(P=0;16>P;++P)ce[he+32*P-1]=129;for(P=0;8>P;++P)fe[Te+32*P-1]=129,$e[_t+32*P-1]=129;for(0<te?ce[he-1-32]=fe[Te-1-32]=$e[_t-1-32]=129:(o(ce,he-32-1,127,21),o(fe,Te-32-1,127,9),o($e,_t-32-1,127,9)),Y=0;Y<A.za;++Y){var vt=M.ya[M.aa+Y];if(0<Y){for(P=-1;16>P;++P)i(ce,he+32*P-4,ce,he+32*P+12,4);for(P=-1;8>P;++P)i(fe,Te+32*P-4,fe,Te+32*P+4,4),i($e,_t+32*P-4,$e,_t+32*P+4,4)}var lt=A.Gd,nn=A.Hd+Y,Pt=vt.ad,Je=vt.Hc;if(0<te&&(i(ce,he-32,lt[nn].y,0,16),i(fe,Te-32,lt[nn].f,0,8),i($e,_t-32,lt[nn].ea,0,8)),vt.Za){var nt=ce,Jt=he-32+16;for(0<te&&(Y>=A.za-1?o(nt,Jt,lt[nn].y[15],4):i(nt,Jt,lt[nn+1].y,0,4)),P=0;4>P;P++)nt[Jt+128+P]=nt[Jt+256+P]=nt[Jt+384+P]=nt[Jt+0+P];for(P=0;16>P;++P,Je<<=2)Bg[vt.Ob[P]](nt=ce,Jt=he+F9[P]),UE(Je,Pt,16*+P,nt,Jt)}else if(nt=eL(Y,te,vt.Ob[0]),g1[nt](ce,he),0!=Je)for(P=0;16>P;++P,Je<<=2)UE(Je,Pt,16*+P,ce,he+F9[P]);for(P=vt.Gc,nt=eL(Y,te,vt.Dd),e0[nt](fe,Te),e0[nt]($e,_t),Je=Pt,nt=fe,Jt=Te,255&(vt=P>>0)&&(170&vt?f1(Je,256,nt,Jt):Jy(Je,256,nt,Jt)),vt=$e,Je=_t,255&(P>>=8)&&(170&P?f1(Pt,320,vt,Je):Jy(Pt,320,vt,Je)),te<A.Ub-1&&(i(lt[nn].y,0,ce,he+480,16),i(lt[nn].f,0,fe,Te+224,8),i(lt[nn].ea,0,$e,_t+224,8)),lt=A.sa,nn=A.ta+16*Y+16*le*A.R,Pt=A.qa,vt=A.ra+8*Y+(P=8*le*A.B),Je=A.Ha,nt=A.Ia+8*Y+P,P=0;16>P;++P)i(lt,nn+P*A.R,ce,he+32*P,16);for(P=0;8>P;++P)i(Pt,vt+P*A.B,fe,Te+32*P,8),i(Je,nt+P*A.B,$e,_t+32*P,8)}}function YA(A,M,P,Y,te,le,ce,he,fe){var Te=[0],$e=[0],_t=0,vt=null!=fe?fe.kd:0,lt=null!=fe?fe:new NE;if(null==A||12>P)return 7;lt.data=A,lt.w=M,lt.ha=P,M=[M],P=[P],lt.gb=[lt.gb];e:{var nn=M,Pt=P,Je=lt.gb;if(n(null!=A),n(null!=Pt),n(null!=Je),Je[0]=0,12<=Pt[0]&&!e(A,nn[0],"RIFF")){if(e(A,nn[0]+8,"WEBP")){Je=3;break e}var nt=ni(A,nn[0]+4);if(12>nt||4294967286<nt){Je=3;break e}if(vt&&nt>Pt[0]-8){Je=7;break e}Je[0]=nt,nn[0]+=12,Pt[0]-=12}Je=0}if(0!=Je)return Je;for(nt=0<lt.gb[0],P=P[0];;){e:{var Jt=A;Pt=M,Je=P;var an=Te,en=$e,Xn=nn=[0];if((Zn=_t=[_t])[0]=0,8>Je[0])Je=7;else{if(!e(Jt,Pt[0],"VP8X")){if(10!=ni(Jt,Pt[0]+4)){Je=3;break e}if(18>Je[0]){Je=7;break e}var jn=ni(Jt,Pt[0]+8),Pi=1+Jn(Jt,Pt[0]+12);if(2147483648<=Pi*(Jt=1+Jn(Jt,Pt[0]+15))){Je=3;break e}null!=Xn&&(Xn[0]=jn),null!=an&&(an[0]=Pi),null!=en&&(en[0]=Jt),Pt[0]+=18,Je[0]-=18,Zn[0]=1}Je=0}}if(_t=_t[0],0!=Je)return Je;if(Pt=!!(2&(nn=nn[0])),!nt&&_t)return 3;if(null!=le&&(le[0]=!!(16&nn)),null!=ce&&(ce[0]=Pt),null!=he&&(he[0]=0),ce=Te[0],nn=$e[0],_t&&Pt&&null==fe){Je=0;break}if(4>P){Je=7;break}if(nt&&_t||!nt&&!_t&&!e(A,M[0],"ALPH")){P=[P],lt.na=[lt.na],lt.P=[lt.P],lt.Sa=[lt.Sa];e:{Je=M,nt=P;var Zn=lt.gb;an=lt.na,en=lt.P,Xn=lt.Sa,Pi=22,n(null!=(jn=A)),n(null!=nt),Jt=Je[0];var Oo=nt[0];for(n(null!=an),n(null!=Xn),an[0]=null,en[0]=null,Xn[0]=0;;){if(Je[0]=Jt,nt[0]=Oo,8>Oo){Je=7;break e}var ns=ni(jn,Jt+4);if(4294967286<ns){Je=3;break e}var vo=8+ns+1&-2;if(Pi+=vo,0<Zn&&Pi>Zn){Je=3;break e}if(!e(jn,Jt,"VP8 ")||!e(jn,Jt,"VP8L")){Je=0;break e}if(Oo[0]<vo){Je=7;break e}e(jn,Jt,"ALPH")||(an[0]=jn,en[0]=Jt+8,Xn[0]=ns),Jt+=vo,Oo-=vo}}if(P=P[0],lt.na=lt.na[0],lt.P=lt.P[0],lt.Sa=lt.Sa[0],0!=Je)break}P=[P],lt.Ja=[lt.Ja],lt.xa=[lt.xa];e:if(Zn=A,Je=M,nt=P,an=lt.gb[0],en=lt.Ja,Xn=lt.xa,jn=Je[0],Jt=!e(Zn,jn,"VP8 "),Pi=!e(Zn,jn,"VP8L"),n(null!=Zn),n(null!=nt),n(null!=en),n(null!=Xn),8>nt[0])Je=7;else{if(Jt||Pi){if(Zn=ni(Zn,jn+4),12<=an&&Zn>an-12){Je=3;break e}if(vt&&Zn>nt[0]-8){Je=7;break e}en[0]=Zn,Je[0]+=8,nt[0]-=8,Xn[0]=Pi}else Xn[0]=5<=nt[0]&&47==Zn[jn+0]&&!(Zn[jn+4]>>5),en[0]=nt[0];Je=0}if(P=P[0],lt.Ja=lt.Ja[0],lt.xa=lt.xa[0],M=M[0],0!=Je)break;if(4294967286<lt.Ja)return 3;if(null==he||Pt||(he[0]=lt.xa?2:1),ce=[ce],nn=[nn],lt.xa){if(5>P){Je=7;break}he=ce,vt=nn,Pt=le,null==A||5>P?A=0:5<=P&&47==A[M+0]&&!(A[M+4]>>5)?(nt=[0],Zn=[0],an=[0],Ke(en=new ae,A,M,P),Gi(en,nt,Zn,an)?(null!=he&&(he[0]=nt[0]),null!=vt&&(vt[0]=Zn[0]),null!=Pt&&(Pt[0]=an[0]),A=1):A=0):A=0}else{if(10>P){Je=7;break}he=nn,null==A||10>P||!B5(A,M+3,P-3)?A=0:(vt=A[M+0]|A[M+1]<<8|A[M+2]<<16,Pt=16383&(A[M+7]<<8|A[M+6]),A=16383&(A[M+9]<<8|A[M+8]),1&vt||3<(vt>>1&7)||!(vt>>4&1)||vt>>5>=lt.Ja||!Pt||!A?A=0:(ce&&(ce[0]=Pt),he&&(he[0]=A),A=1))}if(!A||(ce=ce[0],nn=nn[0],_t&&(Te[0]!=ce||$e[0]!=nn)))return 3;null!=fe&&(fe[0]=lt,fe.offset=M-fe.w,n(4294967286>M-fe.w),n(fe.offset==fe.ha-P));break}return 0==Je||7==Je&&_t&&null==fe?(null!=le&&(le[0]|=null!=lt.na&&0<lt.na.length),null!=Y&&(Y[0]=ce),null!=te&&(te[0]=nn),0):Je}function VE(A,M,P){var Y=M.width,te=M.height,le=0,ce=0,he=Y,fe=te;if(M.Da=null!=A&&0<A.Da,M.Da&&(he=A.cd,fe=A.bd,le=A.v,ce=A.j,11>P||(le&=-2,ce&=-2),0>le||0>ce||0>=he||0>=fe||le+he>Y||ce+fe>te))return 0;if(M.v=le,M.j=ce,M.va=le+he,M.o=ce+fe,M.U=he,M.T=fe,M.da=null!=A&&0<A.da,M.da){if(!yr(he,fe,P=[A.ib],le=[A.hb]))return 0;M.ib=P[0],M.hb=le[0]}return M.ob=null!=A&&A.ob,M.Kb=null==A||!A.Sd,M.da&&(M.ob=M.ib<3*Y/4&&M.hb<3*te/4,M.Kb=0),1}function qE(A){if(null==A)return 2;if(11>A.S){var M=A.f.RGBA;M.fb+=(A.height-1)*M.A,M.A=-M.A}else(M=A.f.kb).O+=((A=A.height)-1)*M.fa,M.fa=-M.fa,M.N+=(A-1>>1)*M.Ab,M.Ab=-M.Ab,M.W+=(A-1>>1)*M.Db,M.Db=-M.Db,null!=M.F&&(M.J+=(A-1)*M.lb,M.lb=-M.lb);return 0}function zA(A,M,P,Y){if(null==Y||0>=A||0>=M)return 2;if(null!=P){if(P.Da){var te=P.cd,le=P.bd,ce=-2&P.v,he=-2&P.j;if(0>ce||0>he||0>=te||0>=le||ce+te>A||he+le>M)return 2;A=te,M=le}if(P.da){if(!yr(A,M,te=[P.ib],le=[P.hb]))return 2;A=te[0],M=le[0]}}Y.width=A,Y.height=M;e:{var fe=Y.width,Te=Y.height;if(A=Y.S,0>=fe||0>=Te||!(A>=rL&&13>A))A=2;else{if(0>=Y.Rd&&null==Y.sd){ce=le=te=M=0;var $e=(he=fe*N9[A])*Te;if(11>A||(le=(Te+1)/2*(M=(fe+1)/2),12==A&&(ce=(te=fe)*Te)),null==(Te=s($e+2*le+ce))){A=1;break e}Y.sd=Te,11>A?((fe=Y.f.RGBA).eb=Te,fe.fb=0,fe.A=he,fe.size=$e):((fe=Y.f.kb).y=Te,fe.O=0,fe.fa=he,fe.Fd=$e,fe.f=Te,fe.N=0+$e,fe.Ab=M,fe.Cd=le,fe.ea=Te,fe.W=0+$e+le,fe.Db=M,fe.Ed=le,12==A&&(fe.F=Te,fe.J=0+$e+2*le),fe.Tc=ce,fe.lb=te)}if(M=1,le=Y.width,ce=Y.height,(te=Y.S)>=rL&&13>te)if(11>te)A=Y.f.RGBA,M&=(he=Math.abs(A.A))*(ce-1)+le<=A.size,M&=he>=le*N9[te],M&=null!=A.eb;else{A=Y.f.kb,he=(le+1)/2,$e=(ce+1)/2,fe=Math.abs(A.fa),Te=Math.abs(A.Ab);var _t=Math.abs(A.Db),vt=Math.abs(A.lb);M&=fe*(ce-1)+le<=A.Fd,M&=Te*($e-1)+he<=A.Cd,M=(M&=_t*($e-1)+he<=A.Ed)&fe>=le&Te>=he&_t>=he,M&=null!=A.y,M&=null!=A.f,M&=null!=A.ea,12==te&&(M&=vt>=le,M&=vt*(ce-1)+le<=A.Tc,M&=null!=A.F)}else M=0;A=M?0:2}}return 0!=A||null!=P&&P.fd&&(A=qE(Y)),A}var Qh=64,WA=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],$A=24,QA=32,HE=8,Jh=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Un("Predictor0","PredictorAdd0"),Le.Predictor0=function(){return 4278190080},Le.Predictor1=function(A){return A},Le.Predictor2=function(A,M,P){return M[P+0]},Le.Predictor3=function(A,M,P){return M[P+1]},Le.Predictor4=function(A,M,P){return M[P-1]},Le.Predictor5=function(A,M,P){return Yn(Yn(A,M[P+1]),M[P+0])},Le.Predictor6=function(A,M,P){return Yn(A,M[P-1])},Le.Predictor7=function(A,M,P){return Yn(A,M[P+0])},Le.Predictor8=function(A,M,P){return Yn(M[P-1],M[P+0])},Le.Predictor9=function(A,M,P){return Yn(M[P+0],M[P+1])},Le.Predictor10=function(A,M,P){return Yn(Yn(A,M[P-1]),Yn(M[P+0],M[P+1]))},Le.Predictor11=function(A,M,P){var Y=M[P+0];return 0>=kr(Y>>24&255,A>>24&255,(M=M[P-1])>>24&255)+kr(Y>>16&255,A>>16&255,M>>16&255)+kr(Y>>8&255,A>>8&255,M>>8&255)+kr(255&Y,255&A,255&M)?Y:A},Le.Predictor12=function(A,M,P){var Y=M[P+0];return(Mi((A>>24&255)+(Y>>24&255)-((M=M[P-1])>>24&255))<<24|Mi((A>>16&255)+(Y>>16&255)-(M>>16&255))<<16|Mi((A>>8&255)+(Y>>8&255)-(M>>8&255))<<8|Mi((255&A)+(255&Y)-(255&M)))>>>0},Le.Predictor13=function(A,M,P){var Y=M[P-1];return(gr((A=Yn(A,M[P+0]))>>24&255,Y>>24&255)<<24|gr(A>>16&255,Y>>16&255)<<16|gr(A>>8&255,Y>>8&255)<<8|gr(A>>0&255,Y>>0&255))>>>0};var V4=Le.PredictorAdd0;Le.PredictorAdd1=Br,Un("Predictor2","PredictorAdd2"),Un("Predictor3","PredictorAdd3"),Un("Predictor4","PredictorAdd4"),Un("Predictor5","PredictorAdd5"),Un("Predictor6","PredictorAdd6"),Un("Predictor7","PredictorAdd7"),Un("Predictor8","PredictorAdd8"),Un("Predictor9","PredictorAdd9"),Un("Predictor10","PredictorAdd10"),Un("Predictor11","PredictorAdd11"),Un("Predictor12","PredictorAdd12"),Un("Predictor13","PredictorAdd13");var GE=Le.PredictorAdd2;Vr("ColorIndexInverseTransform","MapARGB","32b",function(A){return A>>8&255},function(A){return A}),Vr("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(A){return A},function(A){return A>>8&255});var tL,Fg=Le.ColorIndexInverseTransform,ZE=Le.MapARGB,q4=Le.VP8LColorIndexInverseTransformAlpha,H4=Le.MapAlpha,d1=Le.VP8LPredictorsAdd=[];d1.length=16,(Le.VP8LPredictors=[]).length=16,(Le.VP8LPredictorsAdd_C=[]).length=16,(Le.VP8LPredictors_C=[]).length=16;var om,Ng,h1,av,Qy,JA,Rg,KA,YE,f1,Pg,Jy,$C,XA,QC,p1,zE,sm,Ky,js,Vs,fl,_c,Xy,m1,eS,nL,_9,v9=s(511),y9=s(2041),b9=s(225),w9=s(767),C9=0,G4=y9,iL=b9,Xf=w9,am=v9,rL=0,oL=1,x9=2,sL=3,aL=4,Z4=5,T9=6,Y4=7,z4=8,lL=9,W4=10,Mye=[2,3,7],kye=[3,3,11],A9=[280,256,256,256,40],Iye=[0,1,1,1,0],Oye=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Lye=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Fye=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Nye=8,$4=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Q4=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],WE=null,Rye=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Pye=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],S9=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Bye=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Uye=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],jye=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Vye=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],g1=[],Bg=[],e0=[],qye=1,D9=2,_1=[],lm=[];Yt("UpsampleRgbLinePair",po,3),Yt("UpsampleBgrLinePair",Aa,3),Yt("UpsampleRgbaLinePair",Lg,4),Yt("UpsampleBgraLinePair",nu,4),Yt("UpsampleArgbLinePair",yd,4),Yt("UpsampleRgba4444LinePair",Bl,2),Yt("UpsampleRgb565LinePair",za,2);var Hye=Le.UpsampleRgbLinePair,Gye=Le.UpsampleBgrLinePair,E9=Le.UpsampleRgbaLinePair,M9=Le.UpsampleBgraLinePair,k9=Le.UpsampleArgbLinePair,I9=Le.UpsampleRgba4444LinePair,Zye=Le.UpsampleRgb565LinePair,cL=16,uL=1<<cL-1,$E=-227,J4=482,O9=6,Yye=(256<<O9)-1,L9=0,zye=s(256),Wye=s(256),$ye=s(256),Qye=s(256),Jye=s(J4-$E),Kye=s(J4-$E);$y("YuvToRgbRow",po,3),$y("YuvToBgrRow",Aa,3),$y("YuvToRgbaRow",Lg,4),$y("YuvToBgraRow",nu,4),$y("YuvToArgbRow",yd,4),$y("YuvToRgba4444Row",Bl,2),$y("YuvToRgb565Row",za,2);var F9=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],dL=[0,2,8],Xye=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(A,M,P,Y,te){var le=oL,ce=new GA,he=new Sg;ce.ba=he,he.S=le,he.width=[he.width],he.height=[he.height];var fe=he.width,Te=he.height,$e=new Zy;if(null==$e||null==A)var _t=2;else n(null!=$e),_t=YA(A,M,P,$e.width,$e.height,$e.Pd,$e.Qd,$e.format,null);if(0!=_t?fe=0:(null!=fe&&(fe[0]=$e.width[0]),null!=Te&&(Te[0]=$e.height[0]),fe=1),fe){he.width=he.width[0],he.height=he.height[0],null!=Y&&(Y[0]=he.width),null!=te&&(te[0]=he.height);e:{if(Y=new PA,(te=new NE).data=A,te.w=M,te.ha=P,te.kd=1,M=[0],n(null!=te),(0==(A=YA(te.data,te.w,te.ha,null,null,null,M,null,te))||7==A)&&M[0]&&(A=4),0==(M=A)){if(n(null!=ce),Y.data=te.data,Y.w=te.w+te.offset,Y.ha=te.ha-te.offset,Y.put=tv,Y.ac=Ou,Y.bc=nv,Y.ma=ce,te.xa){if(null==(A=rm())){ce=1;break e}if(function(vt,lt){var nn=[0],Pt=[0],Je=[0];t:for(;;){if(null==vt)return 0;if(null==lt)return vt.a=2,0;if(vt.l=lt,vt.a=0,Ke(vt.m,lt.data,lt.w,lt.ha),!Gi(vt.m,nn,Pt,Je)){vt.a=3;break t}if(vt.xb=D9,lt.width=nn[0],lt.height=Pt[0],!ov(nn[0],Pt[0],1,vt,null))break t;return 1}return n(0!=vt.a),0}(A,Y)){if(Y=0==(M=zA(Y.width,Y.height,ce.Oa,ce.ba))){t:{Y=A;n:for(;;){if(null==Y){Y=0;break t}if(n(null!=Y.s.yc),n(null!=Y.s.Ya),n(0<Y.s.Wb),n(null!=(P=Y.l)),n(null!=(te=P.ma)),0!=Y.xb){if(Y.ca=te.ba,Y.tb=te.tb,n(null!=Y.ca),!VE(te.Oa,P,sL)){Y.a=2;break n}if(!GC(Y,P.width)||P.da)break n;if((P.da||jo(Y.ca.S))&&ft(),11>Y.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=Y.ca.f.kb.F&&ft()),Y.Pb&&0<Y.s.ua&&null==Y.s.vb.X&&!Ji(Y.s.vb,Y.s.Wa.Xa)){Y.a=1;break n}Y.xb=0}if(!kg(Y,Y.V,Y.Ba,Y.c,Y.i,P.o,IA))break n;te.Dc=Y.Ma,Y=1;break t}n(0!=Y.a),Y=0}Y=!Y}Y&&(M=A.a)}else M=A.a}else{if(null==(A=new C4)){ce=1;break e}if(A.Fa=te.na,A.P=te.P,A.qc=te.Sa,U5(A,Y)){if(0==(M=zA(Y.width,Y.height,ce.Oa,ce.ba))){if(A.Aa=0,P=ce.Oa,n(null!=(te=A)),null!=P){if(0<(fe=0>(fe=P.Md)?0:100<fe?255:255*fe/100)){for(Te=$e=0;4>Te;++Te)12>(_t=te.pb[Te]).lc&&(_t.ia=fe*Xye[0>_t.lc?0:_t.lc]>>3),$e|=_t.ia;$e&&(alert("todo:VP8InitRandom"),te.ia=1)}te.Ga=P.Id,100<te.Ga?te.Ga=100:0>te.Ga&&(te.Ga=0)}(function x4(A,M){if(null==A)return 0;if(null==M)return hl(A,2,"NULL VP8Io parameter in VP8Decode().");if(!A.cb&&!U5(A,M))return 0;if(n(A.cb),null==M.ac||M.ac(M)){M.ob&&(A.L=0);var P=dL[A.L];if(2==A.L?(A.yb=0,A.zb=0):(A.yb=M.v-P>>4,A.zb=M.j-P>>4,0>A.yb&&(A.yb=0),0>A.zb&&(A.zb=0)),A.Va=M.o+15+P>>4,A.Hb=M.va+15+P>>4,A.Hb>A.za&&(A.Hb=A.za),A.Va>A.Ub&&(A.Va=A.Ub),0<A.L){var Y=A.ed;for(P=0;4>P;++P){var te;if(A.Qa.Cb){var le=A.Qa.Lb[P];A.Qa.Fb||(le+=Y.Tb)}else le=Y.Tb;for(te=0;1>=te;++te){var ce=A.gd[P][te],he=le;if(Y.Pc&&(he+=Y.vd[0],te&&(he+=Y.od[0])),0<(he=0>he?0:63<he?63:he)){var fe=he;0<Y.wb&&(fe=4<Y.wb?fe>>2:fe>>1)>9-Y.wb&&(fe=9-Y.wb),1>fe&&(fe=1),ce.dd=fe,ce.tc=2*he+fe,ce.ld=40<=he?2:15<=he?1:0}else ce.tc=0;ce.La=te}}}P=0}else hl(A,6,"Frame setup failed"),P=A.a;if(P=0==P){if(P){A.$c=0,0<A.Aa||(A.Ic=1);e:{Y=4*(fe=A.za);var Te=32*fe,$e=fe+1,_t=0<A.L?fe*(0<A.Aa?2:1):0,vt=(2==A.Aa?2:1)*fe;if((ce=Y+832+(te=3*(16*(P=A.Ic)+dL[A.L])/2*Te)+(le=null!=A.Fa&&0<A.Fa.length?A.Kc.c*A.Kc.i:0))!=ce)P=0;else{if(ce>A.Vb){if(A.Vb=0,A.Ec=s(ce),A.Fc=0,null==A.Ec){P=hl(A,1,"no memory during frame initialization.");break e}A.Vb=ce}he=A.Fc,A.Ac=ce=A.Ec,A.Bc=he,he+=Y,A.Gd=a(Te,P5),A.Hd=0,A.rb=a($e+1,R5),A.sb=1,A.wa=_t?a(_t,RA):null,A.Y=0,A.D.Nb=0,A.D.wa=A.wa,A.D.Y=A.Y,0<A.Aa&&(A.D.Y+=fe),n(!0),A.oc=ce,A.pc=he,he+=832,A.ya=a(vt,AE),A.aa=0,A.D.ya=A.ya,A.D.aa=A.aa,2==A.Aa&&(A.D.aa+=fe),A.R=16*fe,A.B=8*fe,fe=(Te=dL[A.L])*A.R,Te=Te/2*A.B,A.sa=ce,A.ta=he+fe,A.qa=A.sa,A.ra=A.ta+16*P*A.R+Te,A.Ha=A.qa,A.Ia=A.ra+8*P*A.B+Te,A.$c=0,he+=te,A.mb=le?ce:null,A.nb=le?he:null,n(he+le<=A.Fc+A.Vb),SE(A),o(A.Ac,A.Bc,0,Y),P=1}}if(P){if(M.ka=0,M.y=A.sa,M.O=A.ta,M.f=A.qa,M.N=A.ra,M.ea=A.Ha,M.Vd=A.Ia,M.fa=A.R,M.Rc=A.B,M.F=null,M.J=0,!C9){for(P=-255;255>=P;++P)v9[255+P]=0>P?-P:P;for(P=-1020;1020>=P;++P)y9[1020+P]=-128>P?-128:127<P?127:P;for(P=-112;112>=P;++P)b9[112+P]=-16>P?-16:15<P?15:P;for(P=-255;510>=P;++P)w9[255+P]=0>P?0:255<P?255:P;C9=1}Rg=S4,KA=T4,f1=q5,Pg=A4,Jy=H5,YE=V5,$C=OE,XA=zC,QC=U4,p1=LE,zE=B4,sm=HA,Ky=FE,js=K5,Vs=J5,fl=Wy,_c=l1,Xy=P4,Bg[0]=sv,Bg[1]=D4,Bg[2]=I4,Bg[3]=O4,Bg[4]=Y5,Bg[5]=VA,Bg[6]=z5,Bg[7]=ME,Bg[8]=F4,Bg[9]=L4,g1[0]=G5,g1[1]=M4,g1[2]=zy,g1[3]=UA,g1[4]=vd,g1[5]=k4,g1[6]=Z5,e0[0]=a1,e0[1]=E4,e0[2]=N4,e0[3]=kE,e0[4]=YC,e0[5]=R4,e0[6]=IE,P=1}else P=0}P&&(P=function(lt,nn){for(lt.M=0;lt.M<lt.Va;++lt.M){var Pt,Je=lt.Jc[lt.M&lt.Xb],nt=lt.m,Jt=lt;for(Pt=0;Pt<Jt.za;++Pt){var an=nt,en=Jt,Xn=en.Ac,jn=en.Bc+4*Pt,Pi=en.zc,Zn=en.ya[en.aa+Pt];if(Zn.$b=en.Qa.Bb?Tt(an,en.Pa.jb[0])?2+Tt(an,en.Pa.jb[2]):Tt(an,en.Pa.jb[1]):0,en.kc&&(Zn.Ad=Tt(an,en.Bd)),Zn.Za=!Tt(an,145)+0,Zn.Za){var Oo=Zn.Ob,ns=0;for(en=0;4>en;++en){var vo,$r=Pi[0+en];for(vo=0;4>vo;++vo){for(var Ds=S9[Tt(an,($r=Uye[Xn[jn+vo]][$r])[0])];0<Ds;)Ds=S9[2*Ds+Tt(an,$r[Ds])];Xn[jn+vo]=$r=-Ds}i(Oo,ns,Xn,jn,4),ns+=4,Pi[0+en]=$r}}else $r=Tt(an,156)?Tt(an,128)?1:3:Tt(an,163)?2:0,Zn.Ob[0]=$r,o(Xn,jn,$r,4),o(Pi,0,$r,4);Zn.Dd=Tt(an,142)?Tt(an,114)?Tt(an,183)?1:3:2:0}if(Jt.m.Ka)return hl(lt,7,"Premature end-of-partition0 encountered.");for(;lt.ja<lt.za;++lt.ja){if(Jt=Je,an=(nt=lt).rb[nt.sb-1],Xn=nt.rb[nt.sb+nt.ja],Pt=nt.ya[nt.aa+nt.ja],jn=nt.kc?Pt.Ad:0)an.la=Xn.la=0,Pt.Za||(an.Na=Xn.Na=0),Pt.Hc=0,Pt.Gc=0,Pt.ia=0;else{var ps,Sr;if(an=Xn,Xn=Jt,jn=nt.Pa.Xc,Zn=nt.pb[(Pi=nt.ya[nt.aa+nt.ja]).$b],ns=nt.rb[nt.sb-1],$r=vo=0,o(en=Pi.ad,Oo=0,0,384),Pi.Za)var Ul=0,Kh=jn[3];else{Ds=s(16);var jl=an.Na+ns.Na;if(jl=WE(Xn,jn[1],jl,Zn.Eb,0,Ds,0),an.Na=ns.Na=(0<jl)+0,1<jl)Rg(Ds,0,en,Oo);else{var Xh=Ds[0]+3>>3;for(Ds=0;256>Ds;Ds+=16)en[Oo+Ds]=Xh}Ul=1,Kh=jn[0]}var is=15&an.la,ep=15&ns.la;for(Ds=0;4>Ds;++Ds){var tp=1&ep;for(Xh=Sr=0;4>Xh;++Xh)is=is>>1|(tp=(jl=WE(Xn,Kh,jl=tp+(1&is),Zn.Sc,Ul,en,Oo))>Ul)<<7,Sr=Sr<<2|(3<jl?3:1<jl?2:0!=en[Oo+0]),Oo+=16;is>>=4,ep=ep>>1|tp<<7,vo=(vo<<8|Sr)>>>0}for(Kh=is,Ul=ep>>4,ps=0;4>ps;ps+=2){for(Sr=0,is=an.la>>4+ps,ep=ns.la>>4+ps,Ds=0;2>Ds;++Ds){for(tp=1&ep,Xh=0;2>Xh;++Xh)is=is>>1|(tp=0<(jl=WE(Xn,jn[2],jl=tp+(1&is),Zn.Qc,0,en,Oo)))<<3,Sr=Sr<<2|(3<jl?3:1<jl?2:0!=en[Oo+0]),Oo+=16;is>>=2,ep=ep>>1|tp<<5}$r|=Sr<<4*ps,Kh|=is<<4<<ps,Ul|=(240&ep)<<ps}an.la=Kh,ns.la=Ul,Pi.Hc=vo,Pi.Gc=$r,Pi.ia=43690&$r?0:Zn.ia,jn=!(vo|$r)}if(0<nt.L&&(nt.wa[nt.Y+nt.ja]=nt.gd[Pt.$b][Pt.Za],nt.wa[nt.Y+nt.ja].La|=!jn),Jt.Ka)return hl(lt,7,"Premature end-of-file encountered.")}if(SE(lt),nt=nn,Jt=1,Pt=(Je=lt).D,an=0<Je.L&&Je.M>=Je.zb&&Je.M<=Je.Va,0==Je.Aa)e:{if(Pt.M=Je.M,Pt.uc=an,jE(Je,Pt),Jt=1,Pt=(Sr=Je.D).Nb,an=($r=dL[Je.L])*Je.R,jn=Je.sa,Pi=Je.ta-an+(Ds=16*Pt*Je.R),Zn=Je.qa,en=Je.ra-(Xn=$r/2*Je.B)+(Xh=8*Pt*Je.B),Oo=Je.Ha,ns=Je.Ia-Xn+Xh,ep=0==(is=Sr.M),vo=is>=Je.Va-1,2==Je.Aa&&jE(Je,Sr),Sr.uc)for(tp=(jl=Je).D.M,n(jl.D.uc),Sr=jl.yb;Sr<jl.Hb;++Sr){Kh=tp;var iu=(Lu=(Wa=jl).D).Nb,Lu=Lu.wa[Lu.Y+(Ul=Sr)],ah=Wa.sa,cm=Wa.ta+16*iu*(ps=Wa.R)+16*Ul,lv=Lu.dd,ru=Lu.tc;if(0!=ru)if(n(3<=ru),1==Wa.L)0<Ul&&fl(ah,cm,ps,ru+4),Lu.La&&Xy(ah,cm,ps,ru),0<Kh&&Vs(ah,cm,ps,ru+4),Lu.La&&_c(ah,cm,ps,ru);else{var t0=Wa.B,JC=Wa.qa,tS=Wa.ra+8*iu*t0+8*Ul,v1=Wa.Ha,Wa=Wa.Ia+8*iu*t0+8*Ul;iu=Lu.ld,0<Ul&&(XA(ah,cm,ps,ru+4,lv,iu),p1(JC,tS,v1,Wa,t0,ru+4,lv,iu)),Lu.La&&(sm(ah,cm,ps,ru,lv,iu),js(JC,tS,v1,Wa,t0,ru,lv,iu)),0<Kh&&($C(ah,cm,ps,ru+4,lv,iu),QC(JC,tS,v1,Wa,t0,ru+4,lv,iu)),Lu.La&&(zE(ah,cm,ps,ru,lv,iu),Ky(JC,tS,v1,Wa,t0,ru,lv,iu))}}if(Je.ia&&alert("todo:DitherRow"),null!=nt.put){if(Sr=16*is,is=16*(is+1),ep?(nt.y=Je.sa,nt.O=Je.ta+Ds,nt.f=Je.qa,nt.N=Je.ra+Xh,nt.ea=Je.Ha,nt.W=Je.Ia+Xh):(Sr-=$r,nt.y=jn,nt.O=Pi,nt.f=Zn,nt.N=en,nt.ea=Oo,nt.W=ns),vo||(is-=$r),is>nt.o&&(is=nt.o),nt.F=null,nt.J=null,null!=Je.Fa&&0<Je.Fa.length&&Sr<is&&(nt.J=BE(Je,nt,Sr,is-Sr),nt.F=Je.mb,null==nt.F&&0==nt.F.length)){Jt=hl(Je,3,"Could not decode alpha data.");break e}Sr<nt.j&&($r=nt.j-Sr,Sr=nt.j,n(!(1&$r)),nt.O+=Je.R*$r,nt.N+=Je.B*($r>>1),nt.W+=Je.B*($r>>1),null!=nt.F&&(nt.J+=nt.width*$r)),Sr<is&&(nt.O+=nt.v,nt.N+=nt.v>>1,nt.W+=nt.v>>1,null!=nt.F&&(nt.J+=nt.v),nt.ka=Sr-nt.j,nt.U=nt.va-nt.v,nt.T=is-Sr,Jt=nt.put(nt))}Pt+1!=Je.Ic||vo||(i(Je.sa,Je.ta-an,jn,Pi+16*Je.R,an),i(Je.qa,Je.ra-Xn,Zn,en+8*Je.B,Xn),i(Je.Ha,Je.Ia-Xn,Oo,ns+8*Je.B,Xn))}if(!Jt)return hl(lt,6,"Output aborted.")}return 1}(A,M)),null!=M.bc&&M.bc(M),P&=1}return P?(A.cb=0,P):0})(A,Y)||(M=A.a)}}else M=A.a}0==M&&null!=ce.Oa&&ce.Oa.fd&&(M=qE(ce.ba))}ce=M}le=0!=ce?null:11>le?he.f.RGBA.eb:he.f.kb.y}else le=null;return le};var N9=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function v(Le,St){for(var Bt="",Ce=0;Ce<4;Ce++)Bt+=String.fromCharCode(Le[St++]);return Bt}function w(Le,St){return(Le[St+0]<<0|Le[St+1]<<8|Le[St+2]<<16)>>>0}function x(Le,St){return(Le[St+0]<<0|Le[St+1]<<8|Le[St+2]<<16|Le[St+3]<<24)>>>0}new f;var S=[0],E=[0],q=[],H=new f,ee=t,$=function(Le,St){var Bt={},Ce=0,we=!1,He=0,je=0;if(Bt.frames=[],!function(De,Ee,Qe,ut){for(var pt=0;pt<4;pt++)if(De[Ee+pt]!="RIFF".charCodeAt(pt))return!0;return!1}(Le,St)){var Rt,ze;for(x(Le,St+=4),St+=8;St<Le.length;){var ct=v(Le,St),Ke=x(Le,St+=4);St+=4;var bt=Ke+(1&Ke);switch(ct){case"VP8 ":case"VP8L":void 0===Bt.frames[Ce]&&(Bt.frames[Ce]={}),(ae=Bt.frames[Ce]).src_off=we?je:St-8,ae.src_size=He+Ke+8,Ce++,we&&(we=!1,He=0,je=0);break;case"VP8X":(ae=Bt.header={}).feature_flags=Le[St];var Et=St+4;ae.canvas_width=1+w(Le,Et),ae.canvas_height=1+w(Le,Et+=3),Et+=3;break;case"ALPH":we=!0,He=bt+8,je=St-8;break;case"ANIM":(ae=Bt.header).bgcolor=x(Le,St),ae.loop_count=(Rt=Le)[(ze=Et=St+4)+0]<<0|Rt[ze+1]<<8,Et+=2;break;case"ANMF":var Fn,ae;(ae=Bt.frames[Ce]={}).offset_x=2*w(Le,St),ae.offset_y=2*w(Le,St+=3),ae.width=1+w(Le,St+=3),ae.height=1+w(Le,St+=3),ae.duration=w(Le,St+=3),St+=3,Fn=Le[St++],ae.dispose=1&Fn,ae.blend=Fn>>1&1}"ANMF"!=ct&&(St+=bt)}return Bt}}(ee,0);$.response=ee,$.rgbaoutput=!0,$.dataurl=!1;var oe=$.header?$.header:null,ve=$.frames?$.frames:null;if(oe){oe.loop_counter=oe.loop_count,S=[oe.canvas_height],E=[oe.canvas_width];for(var Fe=0;Fe<ve.length&&0!=ve[Fe].blend;Fe++);}var Be=ve[0],gt=H.WebPDecodeRGBA(ee,Be.src_off,Be.src_size,E,S);Be.rgba=gt,Be.imgwidth=E[0],Be.imgheight=S[0];for(var tt=0;tt<E[0]*S[0]*4;tt++)q[tt]=gt[tt];return this.width=E,this.height=S,this.data=q,this}(function(t){var e=function(S,E,q,H){var ee=4,$=a;switch(H){case t.image_compression.FAST:ee=1,$=s;break;case t.image_compression.MEDIUM:ee=6,$=d;break;case t.image_compression.SLOW:ee=9,$=f}var oe=wE(S=i(S,E,q,$),{level:ee});return t.__addimage__.arrayBufferToBinaryString(oe)},i=function(S,E,q,H){for(var ee,$,oe,ve=S.length/E,Fe=new Uint8Array(S.length+ve),Be=w(),gt=0;gt<ve;gt+=1){if(ee=S.subarray(oe=gt*E,oe+E),H)Fe.set(H(ee,q,$),oe+gt);else{for(var tt,Le=Be.length,St=[];tt<Le;tt+=1)St[tt]=Be[tt](ee,q,$);var Bt=x(St.concat());Fe.set(St[Bt],oe+gt)}$=ee}return Fe},o=function(S){var E=Array.apply([],S);return E.unshift(0),E},s=function(S,E){var H=[],ee=S.length;H[0]=1;for(var $=0;$<ee;$+=1)H[$+1]=S[$]-(S[$-E]||0)+256&255;return H},a=function(S,E,q){var ee=[],$=S.length;ee[0]=2;for(var oe=0;oe<$;oe+=1)ee[oe+1]=S[oe]-(q&&q[oe]||0)+256&255;return ee},d=function(S,E,q){var $=[],oe=S.length;$[0]=3;for(var ve=0;ve<oe;ve+=1)$[ve+1]=S[ve]+256-((S[ve-E]||0)+(q&&q[ve]||0)>>>1)&255;return $},f=function(S,E,q){var oe,ve=[],Fe=S.length;ve[0]=4;for(var Be=0;Be<Fe;Be+=1)oe=v(S[Be-E]||0,q&&q[Be]||0,q&&q[Be-E]||0),ve[Be+1]=S[Be]-oe+256&255;return ve},v=function(S,E,q){if(S===E&&E===q)return S;var H=Math.abs(E-q),ee=Math.abs(S-q),$=Math.abs(S+E-q-q);return H<=ee&&H<=$?S:ee<=$?E:q},w=function(){return[o,s,a,d,f]},x=function(S){var E=S.map(function(q){return q.reduce(function(H,ee){return H+Math.abs(ee)},0)});return E.indexOf(Math.min.apply(null,E))};t.processPNG=function(S,E,q,H){var ee,$,oe,ve,Fe,Be,gt,tt,Le,St,Bt,Ce,we,He,je,Rt=this.decode.FLATE_DECODE,ze="";if(this.__addimage__.isArrayBuffer(S)&&(S=new Uint8Array(S)),this.__addimage__.isArrayBufferView(S)){if(S=(oe=new Mce(S)).imgData,$=oe.bits,ee=oe.colorSpace,Fe=oe.colors,-1!==[4,6].indexOf(oe.colorType)){if(8===oe.bits){Le=(tt=32==oe.pixelBitlength?new Uint32Array(oe.decodePixels().buffer):16==oe.pixelBitlength?new Uint16Array(oe.decodePixels().buffer):new Uint8Array(oe.decodePixels().buffer)).length,Bt=new Uint8Array(Le*oe.colors),St=new Uint8Array(Le);var ct,Ke=oe.pixelBitlength-oe.bits;for(He=0,je=0;He<Le;He++){for(we=tt[He],ct=0;ct<Ke;)Bt[je++]=we>>>ct&255,ct+=oe.bits;St[He]=we>>>ct&255}}if(16===oe.bits){Le=(tt=new Uint32Array(oe.decodePixels().buffer)).length,Bt=new Uint8Array(Le*(32/oe.pixelBitlength)*oe.colors),St=new Uint8Array(Le*(32/oe.pixelBitlength)),Ce=oe.colors>1,He=0,je=0;for(var bt=0;He<Le;)we=tt[He++],Bt[je++]=we>>>0&255,Ce&&(Bt[je++]=we>>>16&255,we=tt[He++],Bt[je++]=we>>>0&255),St[bt++]=we>>>16&255;$=8}H!==t.image_compression.NONE?(S=e(Bt,oe.width*oe.colors,oe.colors,H),gt=e(St,oe.width,1,H)):(S=Bt,gt=St,Rt=void 0)}if(3===oe.colorType&&(ee=this.color_spaces.INDEXED,Be=oe.palette,oe.transparency.indexed)){var Et=oe.transparency.indexed,Fn=0;for(He=0,Le=Et.length;He<Le;++He)Fn+=Et[He];if((Fn/=255)==Le-1&&-1!==Et.indexOf(0))ve=[Et.indexOf(0)];else if(Fn!==Le){for(tt=oe.decodePixels(),St=new Uint8Array(tt.length),He=0,Le=tt.length;He<Le;He++)St[He]=Et[tt[He]];gt=e(St,oe.width,1)}}var ae=function(De){var Ee;switch(De){case t.image_compression.FAST:Ee=11;break;case t.image_compression.MEDIUM:Ee=13;break;case t.image_compression.SLOW:Ee=14;break;default:Ee=12}return Ee}(H);return Rt===this.decode.FLATE_DECODE&&(ze="/Predictor "+ae+" "),ze+="/Colors "+Fe+" /BitsPerComponent "+$+" /Columns "+oe.width,(this.__addimage__.isArrayBuffer(S)||this.__addimage__.isArrayBufferView(S))&&(S=this.__addimage__.arrayBufferToBinaryString(S)),(gt&&this.__addimage__.isArrayBuffer(gt)||this.__addimage__.isArrayBufferView(gt))&&(gt=this.__addimage__.arrayBufferToBinaryString(gt)),{alias:q,data:S,index:E,filter:Rt,decodeParameters:ze,transparency:ve,palette:Be,sMask:gt,predictor:ae,width:oe.width,height:oe.height,bitsPerComponent:$,colorSpace:ee}}}})(Hi.API),function(t){t.processGIF89A=function(n,e,i,o){var s=new kce(n),a=s.width,d=s.height,f=[];s.decodeAndBlitFrameRGBA(0,f);var v={data:f,width:a,height:d},w=new J6(100).encode(v,100);return t.processJPEG.call(this,w,e,i,o)},t.processGIF87A=t.processGIF89A}(Hi.API),vg.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var n=0;n<t;n++){var e=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[n]={red:o,green:i,blue:e,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},vg.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP;this.data=new Uint8Array(this.width*this.height*4),this[t]()}catch(e){As.log("bit decode error:"+e)}},vg.prototype.bit1=function(){var t,n=Math.ceil(this.width/8),e=n%4;for(t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,o=0;o<n;o++)for(var s=this.datav.getUint8(this.pos++,!0),a=i*this.width*4+8*o*4,d=0;d<8&&8*o+d<this.width;d++){var f=this.palette[s>>7-d&1];this.data[a+4*d]=f.blue,this.data[a+4*d+1]=f.green,this.data[a+4*d+2]=f.red,this.data[a+4*d+3]=255}0!==e&&(this.pos+=4-e)}},vg.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),n=t%4,e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,o=0;o<t;o++){var s=this.datav.getUint8(this.pos++,!0),a=i*this.width*4+2*o*4,f=15&s,v=this.palette[s>>4];if(this.data[a]=v.blue,this.data[a+1]=v.green,this.data[a+2]=v.red,this.data[a+3]=255,2*o+1>=this.width)break;this.data[a+4]=(v=this.palette[f]).blue,this.data[a+4+1]=v.green,this.data[a+4+2]=v.red,this.data[a+4+3]=255}0!==n&&(this.pos+=4-n)}},vg.prototype.bit8=function(){for(var t=this.width%4,n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*i;if(o<this.palette.length){var a=this.palette[o];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}0!==t&&(this.pos+=4-t)}},vg.prototype.bit15=function(){for(var t=this.width%3,n=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&n)/n*255|0,d=(s>>5&n)/n*255|0,v=s>>15?255:0,w=i*this.width*4+4*o;this.data[w]=(s>>10&n)/n*255|0,this.data[w+1]=d,this.data[w+2]=a,this.data[w+3]=v}this.pos+=t}},vg.prototype.bit16=function(){for(var t=this.width%3,n=parseInt("11111",2),e=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var o=this.bottom_up?i:this.height-1-i,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(a&n)/n*255|0,f=(a>>5&e)/e*255|0,w=o*this.width*4+4*s;this.data[w]=(a>>11)/n*255|0,this.data[w+1]=f,this.data[w+2]=d,this.data[w+3]=255}this.pos+=t}},vg.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*e;this.data[a]=s,this.data[a+1]=o,this.data[a+2]=i,this.data[a+3]=255}this.pos+=this.width%4}},vg.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var n=this.bottom_up?t:this.height-1-t,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),d=n*this.width*4+4*e;this.data[d]=s,this.data[d+1]=o,this.data[d+2]=i,this.data[d+3]=a}},vg.prototype.getData=function(){return this.data},function(t){t.processBMP=function(n,e,i,o){var s=new vg(n,!1),a=s.width,d=s.height,f={data:s.getData(),width:a,height:d},v=new J6(100).encode(f,100);return t.processJPEG.call(this,v,e,i,o)}}(Hi.API),YY.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(n,e,i,o){var s=new YY(n,!1),a=s.width,d=s.height,f={data:s.getData(),width:a,height:d},v=new J6(100).encode(f,100);return t.processJPEG.call(this,v,e,i,o)}}(Hi.API),Hi.API.processRGBA=function(t,n,e){for(var i=t.data,o=i.length,s=new Uint8Array(o/4*3),a=new Uint8Array(o/4),d=0,f=0,v=0;v<o;v+=4){var x=i[v+1],S=i[v+2],E=i[v+3];s[d++]=i[v],s[d++]=x,s[d++]=S,a[f++]=E}var q=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:q,index:n,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Hi.API.setLanguage=function(t){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]&&(this.internal.languageSettings.languageCode=t,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},A5=(SA=Hi.API).getCharWidthsArray=function(t,n){var e,i,o=(n=n||{}).font||this.internal.getFont(),s=n.fontSize||this.internal.getFontSize(),a=n.charSpace||this.internal.getCharSpace(),d=n.widths?n.widths:o.metadata.Unicode.widths,f=d.fof?d.fof:1,v=n.kerning?n.kerning:o.metadata.Unicode.kerning,w=v.fof?v.fof:1,x=!1!==n.doKerning,S=0,E=t.length,q=0,H=d[0]||f,ee=[];for(e=0;e<E;e++)i=t.charCodeAt(e),"function"==typeof o.metadata.widthOfString?ee.push((o.metadata.widthOfGlyph(o.metadata.characterToGlyph(i))+a*(1e3/s)||0)/1e3):(S=x&&"object"===ts(v[i])&&!isNaN(parseInt(v[i][q],10))?v[i][q]/w:0,ee.push((d[i]||H)/f+S)),q=i;return ee},qY=SA.getStringUnitWidth=function(t,n){var e=(n=n||{}).fontSize||this.internal.getFontSize(),i=n.font||this.internal.getFont(),o=n.charSpace||this.internal.getCharSpace();return SA.processArabic&&(t=SA.processArabic(t)),"function"==typeof i.metadata.widthOfString?i.metadata.widthOfString(t,e,o)/e:A5.apply(this,arguments).reduce(function(s,a){return s+a},0)},HY=function(t,n,e,i){for(var o=[],s=0,a=t.length,d=0;s!==a&&d+n[s]<e;)d+=n[s],s++;o.push(t.slice(0,s));var f=s;for(d=0;s!==a;)d+n[s]>i&&(o.push(t.slice(f,s)),d=0,f=s),d+=n[s],s++;return f!==s&&o.push(t.slice(f,s)),o},GY=function(t,n,e){e||(e={});var i,o,s,a,d,f,w=[],x=[w],S=e.textIndent||0,E=0,q=0,H=t.split(" "),ee=A5.apply(this,[" ",e])[0];if(f=-1===e.lineIndent?H[0].length+2:e.lineIndent||0){var $=Array(f).join(" "),oe=[];H.map(function(Fe){(Fe=Fe.split(/\s*\n/)).length>1?oe=oe.concat(Fe.map(function(Be,gt){return(gt&&Be.length?"\n":"")+Be})):oe.push(Fe[0])}),H=oe,f=qY.apply(this,[$,e])}for(s=0,a=H.length;s<a;s++){var ve=0;if(i=H[s],f&&"\n"==i[0]&&(i=i.substr(1),ve=1),S+E+(q=(o=A5.apply(this,[i,e])).reduce(function(Fe,Be){return Fe+Be},0))>n||ve){if(q>n){for(d=HY.apply(this,[i,o,n-(S+E),n]),w.push(d.shift()),w=[d.pop()];d.length;)x.push([d.shift()]);q=o.slice(i.length-(w[0]?w[0].length:0)).reduce(function(Fe,Be){return Fe+Be},0)}else w=[i];x.push(w),S=q+f,E=ee}else w.push(i),S+=E+q,E=ee}return x.map(f?function(Fe,Be){return(Be?$:"")+Fe.join(" ")}:function(Fe){return Fe.join(" ")})},SA.splitTextToSize=function(t,n,e){var i,o=(e=e||{}).fontSize||this.internal.getFontSize(),s=function(w){if(w.widths&&w.kerning)return{widths:w.widths,kerning:w.kerning};var x=this.internal.getFont(w.fontName,w.fontStyle);return x.metadata.Unicode?{widths:x.metadata.Unicode.widths||{0:1},kerning:x.metadata.Unicode.kerning||{}}:{font:x.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,e);i=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*n/o;s.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/o:0,s.lineIndent=e.lineIndent;var d,f,v=[];for(d=0,f=i.length;d<f;d++)v=v.concat(GY.apply(this,[i[d],a,s]));return v},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var n="klmnopqrstuvwxyz",e={},i={},o=0;o<n.length;o++)e[n[o]]="0123456789abcdef"[o],i["0123456789abcdef"[o]]=n[o];var s=function(x){return"0x"+parseInt(x,10).toString(16)},a=t.__fontmetrics__.compress=function(x){var S,E,q,H,ee=["{"];for(var $ in x){if(S=x[$],isNaN(parseInt($,10))?E="'"+$+"'":($=parseInt($,10),E=(E=s($).slice(2)).slice(0,-1)+i[E.slice(-1)]),"number"==typeof S)S<0?(q=s(S).slice(3),H="-"):(q=s(S).slice(2),H=""),q=H+q.slice(0,-1)+i[q.slice(-1)];else{if("object"!==ts(S))throw new Error("Don't know what to do with value type "+ts(S)+".");q=a(S)}ee.push(E+q)}return ee.push("}"),ee.join("")},d=t.__fontmetrics__.uncompress=function(x){if("string"!=typeof x)throw new Error("Invalid argument passed to uncompress.");for(var S,E,q,H,ee={},$=1,oe=ee,ve=[],Fe="",Be="",gt=x.length-1,tt=1;tt<gt;tt+=1)"'"==(H=x[tt])?S?(q=S.join(""),S=void 0):S=[]:S?S.push(H):"{"==H?(ve.push([oe,q]),oe={},q=void 0):"}"==H?((E=ve.pop())[0][E[1]]=oe,q=void 0,oe=E[0]):"-"==H?$=-1:void 0===q?e.hasOwnProperty(H)?(Fe+=e[H],q=parseInt(Fe,16)*$,$=1,Fe=""):Fe+=H:e.hasOwnProperty(H)?(Be+=e[H],oe[q]=parseInt(Be,16)*$,$=1,q=void 0,Be=""):Be+=H;return ee},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},v={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},w={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(x){var S=x.font,E=w.Unicode[S.postScriptName];E&&(S.metadata.Unicode={},S.metadata.Unicode.widths=E.widths,S.metadata.Unicode.kerning=E.kerning);var q=v.Unicode[S.postScriptName];q&&(S.metadata.Unicode.encoding=q,S.encoding=q.codePages[0])}])}(Hi.API),function(t){var n=function(e){for(var i=e.length,o=new Uint8Array(i),s=0;s<i;s++)o[s]=e.charCodeAt(s);return o};t.API.events.push(["addFont",function(e){var a,d,i=void 0,o=e.font,s=e.instance;if(!o.isStandardFont){if(void 0===s)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");if("string"!=typeof(i=!1===s.existsFileInVFS(o.postScriptName)?s.loadFile(o.postScriptName):s.getFileFromVFS(o.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");a=o,d=/^\x00\x01\x00\x00/.test(d=i)?n(d):n(CE(d)),a.metadata=t.API.TTFFont.open(d),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]}}])}(Hi),function(t){function n(){return(Qi.canvg?Promise.resolve(Qi.canvg):me.e(489).then(me.bind(me,6489))).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e})}Hi.API.addSvgAsImage=function(e,i,o,s,a,d,f,v){if(isNaN(i)||isNaN(o))throw As.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw As.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var w=document.createElement("canvas");w.width=s,w.height=a;var x=w.getContext("2d");x.fillStyle="#fff",x.fillRect(0,0,w.width,w.height);var S={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},E=this;return n().then(function(q){return q.fromString(x,e,S)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(q){return q.render(S)}).then(function(){E.addImage(w.toDataURL("image/jpeg",1),i,o,s,a,f,v)})}}(),Hi.API.putTotalPages=function(t){var n,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(n=new RegExp(t,"g"),e=this.internal.getNumberOfPages()):(n=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var o=0;o<this.internal.pages[i].length;o++)this.internal.pages[i][o]=this.internal.pages[i][o].replace(n,e);return this},Hi.API.viewerPreferences=function(t,n){var e;t=t||{},n=n||!1;var i,o,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},d=Object.keys(a),f=[],v=0,w=0,x=0;function S(q,H){var ee,$=!1;for(ee=0;ee<q.length;ee+=1)q[ee]===H&&($=!0);return $}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,"reset"===t||!0===n){var E=d.length;for(x=0;x<E;x+=1)e[d[x]].value=e[d[x]].defaultValue,e[d[x]].explicitSet=!1}if("object"===ts(t))for(o in t)if(s=t[o],S(d,o)&&void 0!==s){if("boolean"===e[o].type&&"boolean"==typeof s)e[o].value=s;else if("name"===e[o].type&&S(e[o].valueSet,s))e[o].value=s;else if("integer"===e[o].type&&Number.isInteger(s))e[o].value=s;else if("array"===e[o].type){for(v=0;v<s.length;v+=1)if(i=!0,1===s[v].length&&"number"==typeof s[v][0])f.push(String(s[v]-1));else if(s[v].length>1){for(w=0;w<s[v].length;w+=1)"number"!=typeof s[v][w]&&(i=!1);!0===i&&f.push([s[v][0]-1,s[v][1]-1].join(" "))}e[o].value="["+f.join(" ")+"]"}else e[o].value=e[o].defaultValue;e[o].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var q,H=[];for(q in e)!0===e[q].explicitSet&&H.push("name"===e[q].type?"/"+q+" /"+e[q].value:"/"+q+" "+e[q].value);0!==H.length&&this.internal.write("/ViewerPreferences\n<<\n"+H.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},function(t){var n=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',o=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(i)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),d=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),v=s.length+a.length+d.length+o.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+v+" >>"),this.internal.write("stream"),this.internal.write(o+s+a+d+f),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(i,o){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:i,namespaceuri:o||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",n)),this}}(Hi.API),function(t){var n=t.API,e=n.pdfEscape16=function(s,a){for(var d,f=a.metadata.Unicode.widths,v=["","0","00","000","0000"],w=[""],x=0,S=s.length;x<S;++x){if(d=a.metadata.characterToGlyph(s.charCodeAt(x)),a.metadata.glyIdsUsed.push(d),a.metadata.toUnicode[d]=s.charCodeAt(x),-1==f.indexOf(d)&&(f.push(d),f.push([parseInt(a.metadata.widthOfGlyph(d),10)])),"0"==d)return w.join("");d=d.toString(16),w.push(v[4-d.length],d)}return w.join("")},i=function(s){var a,d,f,v,w,x,S;for(w="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",f=[],x=0,S=(d=Object.keys(s).sort(function(E,q){return E-q})).length;x<S;x++)a=d[x],f.length>=100&&(w+="\n"+f.length+" beginbfchar\n"+f.join("\n")+"\nendbfchar",f=[]),null!=s[a]&&"function"==typeof s[a].toString&&(v=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),f.push("<"+a+"><"+v+">"));return f.length&&(w+="\n"+f.length+" beginbfchar\n"+f.join("\n")+"\nendbfchar\n"),w+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};n.events.push(["putFont",function(s){!function(a){var d=a.font,f=a.out,v=a.newObject,w=a.putStream;if(d.metadata instanceof t.API.TTFFont&&"Identity-H"===d.encoding){for(var x=d.metadata.Unicode.widths,S=d.metadata.subset.encode(d.metadata.glyIdsUsed,1),E="",q=0;q<S.length;q++)E+=String.fromCharCode(S[q]);var H=v();w({data:E,addLength1:!0,objectId:H}),f("endobj");var ee=v();w({data:i(d.metadata.toUnicode),addLength1:!0,objectId:ee}),f("endobj");var $=v();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+yA(d.fontName)),f("/FontFile2 "+H+" 0 R"),f("/FontBBox "+t.API.PDFObject.convert(d.metadata.bbox)),f("/Flags "+d.metadata.flags),f("/StemV "+d.metadata.stemV),f("/ItalicAngle "+d.metadata.italicAngle),f("/Ascent "+d.metadata.ascender),f("/Descent "+d.metadata.decender),f("/CapHeight "+d.metadata.capHeight),f(">>"),f("endobj");var oe=v();f("<<"),f("/Type /Font"),f("/BaseFont /"+yA(d.fontName)),f("/FontDescriptor "+$+" 0 R"),f("/W "+t.API.PDFObject.convert(x)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+d.encoding+")"),f(">>"),f(">>"),f("endobj"),d.objectNumber=v(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+ee+" 0 R"),f("/BaseFont /"+yA(d.fontName)),f("/Encoding /"+d.encoding),f("/DescendantFonts ["+oe+" 0 R]"),f(">>"),f("endobj"),d.isAlreadyPutted=!0}}(s)}]),n.events.push(["putFont",function(s){!function(a){var d=a.font,f=a.out,v=a.newObject,w=a.putStream;if(d.metadata instanceof t.API.TTFFont&&"WinAnsiEncoding"===d.encoding){for(var x=d.metadata.rawData,S="",E=0;E<x.length;E++)S+=String.fromCharCode(x[E]);var q=v();w({data:S,addLength1:!0,objectId:q}),f("endobj");var H=v();w({data:i(d.metadata.toUnicode),addLength1:!0,objectId:H}),f("endobj");var ee=v();f("<<"),f("/Descent "+d.metadata.decender),f("/CapHeight "+d.metadata.capHeight),f("/StemV "+d.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+q+" 0 R"),f("/Flags 96"),f("/FontBBox "+t.API.PDFObject.convert(d.metadata.bbox)),f("/FontName /"+yA(d.fontName)),f("/ItalicAngle "+d.metadata.italicAngle),f("/Ascent "+d.metadata.ascender),f(">>"),f("endobj"),d.objectNumber=v();for(var $=0;$<d.metadata.hmtx.widths.length;$++)d.metadata.hmtx.widths[$]=parseInt(d.metadata.hmtx.widths[$]*(1e3/d.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+H+" 0 R/BaseFont/"+yA(d.fontName)+"/FontDescriptor "+ee+" 0 R/Encoding/"+d.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(d.metadata.hmtx.widths)+">>"),f("endobj"),d.isAlreadyPutted=!0}}(s)}]);var o=function(s){var a,d=s.text||"",f=s.x,v=s.y,w=s.options||{},x=s.mutex||{},S=x.pdfEscape,E=x.activeFontKey,q=x.fonts,H=E,ee="",$=0,oe="",ve=q[H].encoding;if("Identity-H"!==q[H].encoding)return{text:d,x:f,y:v,options:w,mutex:x};for(oe=d,H=E,Array.isArray(d)&&(oe=d[0]),$=0;$<oe.length;$+=1)q[H].metadata.hasOwnProperty("cmap")&&(a=q[H].metadata.cmap.unicode.codeMap[oe[$].charCodeAt(0)]),a||oe[$].charCodeAt(0)<256&&q[H].metadata.hasOwnProperty("Unicode")?ee+=oe[$]:ee+="";var Fe="";return parseInt(H.slice(1))<14||"WinAnsiEncoding"===ve?Fe=S(ee,H).split("").map(function(Be){return Be.charCodeAt(0).toString(16)}).join(""):"Identity-H"===ve&&(Fe=e(ee,q[H])),x.isHex=!0,{text:Fe,x:f,y:v,options:w,mutex:x}};n.events.push(["postProcessText",function(s){var a=s.text||"",d=[],f={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var v=0;for(v=0;v<a.length;v+=1)Array.isArray(a[v])&&3===a[v].length?d.push([o(Object.assign({},f,{text:a[v][0]})).text,a[v][1],a[v][2]]):d.push(o(Object.assign({},f,{text:a[v]})).text);s.text=d}else s.text=o(Object.assign({},f,{text:a})).text}])}(Hi),function(t){var n=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(e){return n.call(this),void 0!==this.internal.vFS[e]},t.addFileToVFS=function(e,i){return n.call(this),this.internal.vFS[e]=i,this},t.getFileFromVFS=function(e){return n.call(this),void 0!==this.internal.vFS[e]?this.internal.vFS[e]:null}}(Hi.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(i){var o,s,a,d,f,v,w,x=n,S=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],E=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],q={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},H={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},ee=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],$=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),oe=!1,ve=0;this.__bidiEngine__={};var Fe=function(Ce){var we=Ce.charCodeAt(),He=we>>8,je=H[He];return void 0!==je?x[256*je+(255&we)]:252===He||253===He?"AL":$.test(He)?"L":8===He?"R":"N"},Be=function(Ce){for(var we,He=0;He<Ce.length;He++){if("L"===(we=Fe(Ce.charAt(He))))return!1;if("R"===we)return!0}return!1},gt=function(Ce,we,He,je){var Rt,ze,ct,Ke,bt=we[je];switch(bt){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":oe=!1;break;case"N":case"AN":break;case"EN":oe&&(bt="AN");break;case"AL":oe=!0,bt="R";break;case"WS":case"BN":bt="N";break;case"CS":je<1||je+1>=we.length||"EN"!==(Rt=He[je-1])&&"AN"!==Rt||"EN"!==(ze=we[je+1])&&"AN"!==ze?bt="N":oe&&(ze="AN"),bt=ze===Rt?ze:"N";break;case"ES":bt="EN"===(Rt=je>0?He[je-1]:"B")&&je+1<we.length&&"EN"===we[je+1]?"EN":"N";break;case"ET":if(je>0&&"EN"===He[je-1]){bt="EN";break}if(oe){bt="N";break}for(ct=je+1,Ke=we.length;ct<Ke&&"ET"===we[ct];)ct++;bt=ct<Ke&&"EN"===we[ct]?"EN":"N";break;case"NSM":if(a&&!d){for(Ke=we.length,ct=je+1;ct<Ke&&"NSM"===we[ct];)ct++;if(ct<Ke){var Et=Ce[je];if(Rt=we[ct],(Et>=1425&&Et<=2303||64286===Et)&&("R"===Rt||"AL"===Rt)){bt="R";break}}}bt=je<1||"B"===(Rt=we[je-1])?"N":He[je-1];break;case"B":oe=!1,o=!0,bt=ve;break;case"S":s=!0,bt="N"}return bt},tt=function(Ce,we,He){var je=Ce.split("");return He&&Le(je,He,{hiLevel:ve}),je.reverse(),we&&we.reverse(),je.join("")},Le=function(Ce,we,He){var je,Rt,ze,ct,Ke,bt=-1,Et=Ce.length,Fn=0,ae=[],De=ve?E:S,Ee=[];for(oe=!1,o=!1,s=!1,Rt=0;Rt<Et;Rt++)Ee[Rt]=Fe(Ce[Rt]);for(ze=0;ze<Et;ze++){if(Ke=Fn,ae[ze]=gt(Ce,Ee,ae,ze),je=240&(Fn=De[Ke][q[ae[ze]]]),we[ze]=ct=De[Fn&=15][5],je>0)if(16===je){for(Rt=bt;Rt<ze;Rt++)we[Rt]=1;bt=-1}else bt=-1;if(De[Fn][6])-1===bt&&(bt=ze);else if(bt>-1){for(Rt=bt;Rt<ze;Rt++)we[Rt]=ct;bt=-1}"B"===Ee[ze]&&(we[ze]=0),He.hiLevel|=ct}s&&function(Qe,ut,pt){for(var Ct=0;Ct<pt;Ct++)if("S"===Qe[Ct]){ut[Ct]=ve;for(var Tt=Ct-1;Tt>=0&&"WS"===Qe[Tt];Tt--)ut[Tt]=ve}}(Ee,we,Et)},St=function(Ce,we,He,je,Rt){if(!(Rt.hiLevel<Ce)){if(1===Ce&&1===ve&&!o)return we.reverse(),void(He&&He.reverse());for(var ze,ct,Ke,bt,Et=we.length,Fn=0;Fn<Et;){if(je[Fn]>=Ce){for(Ke=Fn+1;Ke<Et&&je[Ke]>=Ce;)Ke++;for(bt=Fn,ct=Ke-1;bt<ct;bt++,ct--)ze=we[bt],we[bt]=we[ct],we[ct]=ze,He&&(ze=He[bt],He[bt]=He[ct],He[ct]=ze);Fn=Ke}Fn++}}},Bt=function(Ce,we,He){var je=Ce.split(""),Rt={hiLevel:ve};return He||(He=[]),Le(je,He,Rt),function(ze,ct,Ke){if(0!==Ke.hiLevel&&w)for(var bt,Et=0;Et<ze.length;Et++)1===ct[Et]&&(bt=ee.indexOf(ze[Et]))>=0&&(ze[Et]=ee[bt+1])}(je,He,Rt),St(2,je,we,He,Rt),St(1,je,we,He,Rt),je.join("")};return this.__bidiEngine__.doBidiReorder=function(Ce,we,He){if(function(Rt,ze){if(ze)for(var ct=0;ct<Rt.length;ct++)ze[ct]=ct;void 0===d&&(d=Be(Rt)),void 0===v&&(v=Be(Rt))}(Ce,we),a||!f||v)if(a&&f&&d^v)ve=d?1:0,Ce=tt(Ce,we,He);else if(!a&&f&&v)ve=d?1:0,Ce=Bt(Ce,we,He),Ce=tt(Ce,we);else if(!a||d||f||v){if(a&&!f&&d^v)Ce=tt(Ce,we),d?(ve=0,Ce=Bt(Ce,we,He)):(ve=1,Ce=Bt(Ce,we,He),Ce=tt(Ce,we));else if(a&&d&&!f&&v)ve=1,Ce=Bt(Ce,we,He),Ce=tt(Ce,we);else if(!a&&!f&&d^v){var je=w;d?(ve=1,Ce=Bt(Ce,we,He),ve=0,w=!1,Ce=Bt(Ce,we,He),w=je):(ve=0,Ce=Bt(Ce,we,He),Ce=tt(Ce,we),ve=1,w=!1,Ce=Bt(Ce,we,He),w=je,Ce=tt(Ce,we))}}else ve=0,Ce=Bt(Ce,we,He);else ve=d?1:0,Ce=Bt(Ce,we,He);return Ce},this.__bidiEngine__.setOptions=function(Ce){Ce&&(a=Ce.isInputVisual,f=Ce.isOutputVisual,d=Ce.isInputRtl,v=Ce.isOutputRtl,w=Ce.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var n=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(i){var o=i.text,s=i.options||{},a=[];if(s.isInputVisual="boolean"!=typeof s.isInputVisual||s.isInputVisual,e.setOptions(s),"[object Array]"===Object.prototype.toString.call(o)){var d=0;for(a=[],d=0;d<o.length;d+=1)"[object Array]"===Object.prototype.toString.call(o[d])?a.push([e.doBidiReorder(o[d][0]),o[d][1],o[d][2]]):a.push([e.doBidiReorder(o[d])]);i.text=a}else i.text=e.doBidiReorder(o);e.setOptions({isInputVisual:!0})}])}(Hi),Hi.API.TTFFont=function(){function t(n){var e;if(this.rawData=n,e=this.contents=new s1(n),this.contents.pos=4,"ttcf"===e.readString(4))throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new Zce(this),this.registerTTF()}return t.open=function(n){return new t(n)},t.prototype.parse=function(){return this.directory=new Ice(this.contents),this.head=new Lce(this),this.name=new Bce(this),this.cmap=new WY(this),this.toUnicode={},this.hhea=new Fce(this),this.maxp=new Uce(this),this.hmtx=new jce(this),this.post=new Rce(this),this.os2=new Nce(this),this.loca=new Gce(this),this.glyf=new Vce(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,i,o,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var a,d,f,v;for(v=[],a=0,d=(f=this.bbox).length;a<d;a++)v.push(Math.round(f[a]*this.scaleFactor));return v}.call(this),this.stemV=0,this.post.exists?(i=255&(o=this.post.italic_angle),0!=(32768&(e=o>>16))&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(s=this.familyClass)||2===s||3===s||4===s||5===s||7===s,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(n){var e;return(null!=(e=this.cmap.unicode)?e.codeMap[n]:void 0)||0},t.prototype.widthOfGlyph=function(n){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(n).advance*e},t.prototype.widthOfString=function(n,e,i){var o,s,a,d;for(a=0,s=0,d=(n=""+n).length;0<=d?s<d:s>d;s=0<=d?++s:--s)o=n.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(o))+i*(1e3/e)||0;return a*(e/1e3)},t.prototype.lineHeight=function(n,e){return null==e&&(e=!1),(this.ascender+(e?this.lineGap:0)-this.decender)/1e3*n},t}();var yg,s1=function(){function t(n){this.data=null!=n?n:[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(n){return this.data[this.pos++]=n},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(n){return this.writeByte(n>>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt32=function(){var n;return(n=this.readUInt32())>=2147483648?n-4294967296:n},t.prototype.writeInt32=function(n){return n<0&&(n+=4294967296),this.writeUInt32(n)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(n){return this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt16=function(){var n;return(n=this.readUInt16())>=32768?n-65536:n},t.prototype.writeInt16=function(n){return n<0&&(n+=65536),this.writeUInt16(n)},t.prototype.readString=function(n){var e,i;for(i=[],e=0;0<=n?e<n:e>n;e=0<=n?++e:--e)i[e]=String.fromCharCode(this.readByte());return i.join("")},t.prototype.writeString=function(n){var e,i,o;for(o=[],e=0,i=n.length;0<=i?e<i:e>i;e=0<=i?++e:--e)o.push(this.writeByte(n.charCodeAt(e)));return o},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(n){return this.writeInt16(n)},t.prototype.readLongLong=function(){var n,e,i,o,s,a,d,f;return n=this.readByte(),e=this.readByte(),i=this.readByte(),o=this.readByte(),s=this.readByte(),a=this.readByte(),d=this.readByte(),f=this.readByte(),128&n?-1*(72057594037927940*(255^n)+281474976710656*(255^e)+1099511627776*(255^i)+4294967296*(255^o)+16777216*(255^s)+65536*(255^a)+256*(255^d)+(255^f)+1):72057594037927940*n+281474976710656*e+1099511627776*i+4294967296*o+16777216*s+65536*a+256*d+f},t.prototype.writeLongLong=function(n){var e,i;return e=Math.floor(n/4294967296),i=4294967295&n,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(n){return this.writeInt32(n)},t.prototype.read=function(n){var e,i;for(e=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)e.push(this.readByte());return e},t.prototype.write=function(n){var i,o,s;for(s=[],i=0,o=n.length;i<o;i++)s.push(this.writeByte(n[i]));return s},t}(),Ice=function(){var t;function n(e){var i,o,s;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},o=0,s=this.tableCount;0<=s?o<s:o>s;o=0<=s?++o:--o)i={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[i.tag]=i}return n.prototype.encode=function(e){var i,o,a,d,f,v,w,x,S,E,q,H;for(H in E=Object.keys(e).length,f=Math.log(2),x=16*Math.floor(Math.log(E)/f),a=Math.floor(x/f),w=16*E-x,(o=new s1).writeInt(this.scalarType),o.writeShort(E),o.writeShort(x),o.writeShort(a),o.writeShort(w),v=o.pos+16*E,d=null,q=[],e)for(S=e[H],o.writeString(H),o.writeInt(t(S)),o.writeInt(v),o.writeInt(S.length),q=q.concat(S),"head"===H&&(d=v),v+=S.length;v%4;)q.push(0),v++;return o.write(q),i=2981146554-t(o.data),o.pos=d+8,o.writeUInt32(i),o.data},t=function(e){var i,o,s,a;for(e=$Y.call(e);e.length%4;)e.push(0);for(s=new s1(e),o=0,i=0,a=e.length;i<a;i=i+=4)o+=s.readUInt32();return 4294967295&o},n}(),Oce={}.hasOwnProperty,X_=function(t,n){for(var e in n)Oce.call(n,e)&&(t[e]=n[e]);function i(){this.constructor=t}return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};yg=function(){function t(n){var e;this.file=n,this.exists=!!(e=this.file.directory.tables[this.tag]),e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var Lce=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return X_(n,yg),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var i;return(i=new s1).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(e),i.writeShort(this.glyphDataFormat),i.data},n}(),zY=function(){function t(n,e){var i,o,s,a,d,f,v,w,x,S,E,q,H,ee,$,oe,ve;switch(this.platformID=n.readUInt16(),this.encodingID=n.readShort(),this.offset=e+n.readInt(),x=n.pos,n.pos=this.offset,this.format=n.readUInt16(),this.length=n.readUInt16(),this.language=n.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=n.readByte();break;case 4:for(E=n.readUInt16(),S=E/2,n.pos+=6,s=function(){var Fe,Be;for(Be=[],f=Fe=0;0<=S?Fe<S:Fe>S;f=0<=S?++Fe:--Fe)Be.push(n.readUInt16());return Be}(),n.pos+=2,H=function(){var Fe,Be;for(Be=[],f=Fe=0;0<=S?Fe<S:Fe>S;f=0<=S?++Fe:--Fe)Be.push(n.readUInt16());return Be}(),v=function(){var Fe,Be;for(Be=[],f=Fe=0;0<=S?Fe<S:Fe>S;f=0<=S?++Fe:--Fe)Be.push(n.readUInt16());return Be}(),w=function(){var Fe,Be;for(Be=[],f=Fe=0;0<=S?Fe<S:Fe>S;f=0<=S?++Fe:--Fe)Be.push(n.readUInt16());return Be}(),o=(this.length-n.pos+this.offset)/2,d=function(){var Fe,Be;for(Be=[],f=Fe=0;0<=o?Fe<o:Fe>o;f=0<=o?++Fe:--Fe)Be.push(n.readUInt16());return Be}(),f=$=0,ve=s.length;$<ve;f=++$)for(ee=s[f],i=oe=q=H[f];q<=ee?oe<=ee:oe>=ee;i=q<=ee?++oe:--oe)0===w[f]?a=i+v[f]:0!==(a=d[w[f]/2+(i-q)-(S-f)]||0)&&(a+=v[f]),this.codeMap[i]=65535&a}n.pos=x}return t.encode=function(n,e){var i,o,s,a,d,f,v,w,x,S,E,q,H,ee,$,oe,ve,Be,gt,tt,Le,St,Bt,Ce,we,He,je,Rt,ze,ct,Ke,bt,Et,Fn,ae,De,Ee,Qe,ut,pt,Ct,Tt,wn,Cn,Jn;switch(je=new s1,a=Object.keys(n).sort(function(ni,Ji){return ni-Ji}),e){case"macroman":for(H=0,ee=function(){var ni=[];for(q=0;q<256;++q)ni.push(0);return ni}(),oe={0:0},s={},Rt=0,bt=a.length;Rt<bt;Rt++)null==oe[Tt=n[o=a[Rt]]]&&(oe[Tt]=++H),s[o]={old:n[o],new:oe[n[o]]},ee[o]=oe[n[o]];return je.writeUInt16(1),je.writeUInt16(0),je.writeUInt32(12),je.writeUInt16(0),je.writeUInt16(262),je.writeUInt16(0),je.write(ee),{charMap:s,subtable:je.data,maxGlyphID:H+1};case"unicode":for(we=[],x=[],ve=0,oe={},i={},$=v=null,ze=0,Et=a.length;ze<Et;ze++)null==oe[Be=n[o=a[ze]]]&&(oe[Be]=++ve),i[o]={old:Be,new:oe[Be]},d=oe[Be]-o,null!=$&&d===v||($&&x.push($),we.push(o),v=d),$=o;for($&&x.push($),x.push(65535),we.push(65535),Bt=2*(St=we.length),Le=2*Math.pow(Math.log(St)/Math.LN2,2),S=Math.log(Le/2)/Math.LN2,tt=2*St-Le,f=[],gt=[],E=[],q=ct=0,Fn=we.length;ct<Fn;q=++ct){if(w=x[q],65535===(Ce=we[q])){f.push(0),gt.push(0);break}if(Ce-(He=i[Ce].new)>=32768)for(f.push(0),gt.push(2*(E.length+St-q)),o=Ke=Ce;Ce<=w?Ke<=w:Ke>=w;o=Ce<=w?++Ke:--Ke)E.push(i[o].new);else f.push(He-Ce),gt.push(0)}for(je.writeUInt16(3),je.writeUInt16(1),je.writeUInt32(12),je.writeUInt16(4),je.writeUInt16(16+8*St+2*E.length),je.writeUInt16(0),je.writeUInt16(Bt),je.writeUInt16(Le),je.writeUInt16(S),je.writeUInt16(tt),pt=0,ae=x.length;pt<ae;pt++)je.writeUInt16(o=x[pt]);for(je.writeUInt16(0),Ct=0,De=we.length;Ct<De;Ct++)je.writeUInt16(o=we[Ct]);for(wn=0,Ee=f.length;wn<Ee;wn++)je.writeUInt16(d=f[wn]);for(Cn=0,Qe=gt.length;Cn<Qe;Cn++)je.writeUInt16(gt[Cn]);for(Jn=0,ut=E.length;Jn<ut;Jn++)je.writeUInt16(H=E[Jn]);return{charMap:i,subtable:je.data,maxGlyphID:ve+1}}},t}(),WY=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return X_(n,yg),n.prototype.tag="cmap",n.prototype.parse=function(e){var i,o,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,o=0;0<=s?o<s:o>s;o=0<=s?++o:--o)i=new zY(e,this.offset),this.tables.push(i),i.isUnicode&&null==this.unicode&&(this.unicode=i);return!0},n.encode=function(e,i){var o,s;return null==i&&(i="macroman"),o=zY.encode(e,i),(s=new s1).writeUInt16(0),s.writeUInt16(1),o.table=s.data.concat(o.subtable),o},n}(),Fce=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return X_(n,yg),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n}(),Nce=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return X_(n,yg),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var i,o;for(o=[],i=0;i<10;++i)o.push(e.readByte());return o}(),this.charRange=function(){var i,o;for(o=[],i=0;i<4;++i)o.push(e.readInt());return o}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var i,o;for(o=[],i=0;i<2;i=++i)o.push(e.readInt());return o}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n}(),Rce=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return X_(n,yg),n.prototype.tag="post",n.prototype.parse=function(e){var i,o,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(o=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=o?a<o:a>o;a=0<=o?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)i=e.readByte(),s.push(this.names.push(e.readString(i)));return s;case 151552:return o=e.readUInt16(),this.offsets=e.read(o);case 262144:return this.map=function(){var d,f,v;for(v=[],a=d=0,f=this.file.maxp.numGlyphs;0<=f?d<f:d>f;a=0<=f?++d:--d)v.push(e.readUInt32());return v}.call(this)}},n}(),Pce=function(t,n){this.raw=t,this.length=t.length,this.platformID=n.platformID,this.encodingID=n.encodingID,this.languageID=n.languageID},Bce=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return X_(n,yg),n.prototype.tag="name",n.prototype.parse=function(e){var i,o,s,a,d,f,v,w,x,S,E;for(e.pos=this.offset,e.readShort(),i=e.readShort(),f=e.readShort(),o=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)o.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+f+e.readShort()});for(v={},a=x=0,S=o.length;x<S;a=++x)e.pos=(s=o[a]).offset,w=e.readString(s.length),d=new Pce(w,s),null==v[E=s.nameID]&&(v[E]=[]),v[s.nameID].push(d);this.strings=v,this.copyright=v[0],this.fontFamily=v[1],this.fontSubfamily=v[2],this.uniqueSubfamily=v[3],this.fontName=v[4],this.version=v[5];try{this.postscriptName=v[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(q){this.postscriptName=v[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=v[7],this.manufacturer=v[8],this.designer=v[9],this.description=v[10],this.vendorUrl=v[11],this.designerUrl=v[12],this.license=v[13],this.licenseUrl=v[14],this.preferredFamily=v[15],this.preferredSubfamily=v[17],this.compatibleFull=v[18],this.sampleText=v[19]},n}(),Uce=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return X_(n,yg),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n}(),jce=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return X_(n,yg),n.prototype.tag="hmtx",n.prototype.parse=function(e){var i,o,s,d,f,v;for(e.pos=this.offset,this.metrics=[],i=0,f=this.file.hhea.numberOfMetrics;0<=f?i<f:i>f;i=0<=f?++i:--i)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var w,x;for(x=[],i=w=0;0<=s?w<s:w>s;i=0<=s?++w:--w)x.push(e.readInt16());return x}(),this.widths=function(){var w,x,S,E;for(E=[],w=0,x=(S=this.metrics).length;w<x;w++)E.push(S[w].advance);return E}.call(this),o=this.widths[this.widths.length-1],v=[],i=d=0;0<=s?d<s:d>s;i=0<=s?++d:--d)v.push(this.widths.push(o));return v},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n}(),$Y=[].slice,Vce=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return X_(n,yg),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var i,o,s,a,d,f,v,w,x,S;return e in this.cache?this.cache[e]:(i=this.file.contents,o=(a=this.file.loca).indexOf(e),0===(s=a.lengthOf(e))?this.cache[e]=null:(i.pos=this.offset+o,d=(f=new s1(i.read(s))).readShort(),w=f.readShort(),S=f.readShort(),v=f.readShort(),x=f.readShort(),this.cache[e]=-1===d?new Hce(f,w,S,v,x):new qce(f,d,w,S,v,x),this.cache[e]))},n.prototype.encode=function(e,i,o){var s,a,d,f,v;for(d=[],a=[],f=0,v=i.length;f<v;f++)s=e[i[f]],a.push(d.length),s&&(d=d.concat(s.encode(o)));return a.push(d.length),{table:d,offsets:a}},n}(),qce=function(){function t(n,e,i,o,s,a){this.raw=n,this.numberOfContours=e,this.xMin=i,this.yMin=o,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),Hce=function(){function t(n,e,i,o,s){var a,d;for(this.raw=n,this.xMin=e,this.yMin=i,this.xMax=o,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;d=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&d;)a.pos+=1&d?4:2,128&d?a.pos+=8:64&d?a.pos+=4:8&d&&(a.pos+=2)}return t.prototype.encode=function(){var n,e,i;for(e=new s1($Y.call(this.raw.data)),n=0,i=this.glyphIDs.length;n<i;++n)e.pos=this.glyphOffsets[n];return e.data},t}(),Gce=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return X_(n,yg),n.prototype.tag="loca",n.prototype.parse=function(e){var o;return e.pos=this.offset,this.offsets=0===this.file.head.indexToLocFormat?function(){var s,a;for(a=[],o=0,s=this.length;o<s;o+=2)a.push(2*e.readUInt16());return a}.call(this):function(){var s,a;for(a=[],o=0,s=this.length;o<s;o+=4)a.push(e.readUInt32());return a}.call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,i){for(var o=new Uint32Array(this.offsets.length),s=0,a=0,d=0;d<o.length;++d)if(o[d]=s,a<i.length&&i[a]==d){++a,o[d]=s;var v=this.offsets[d+1]-this.offsets[d];v>0&&(s+=v)}for(var w=new Array(4*o.length),x=0;x<o.length;++x)w[4*x+3]=255&o[x],w[4*x+2]=(65280&o[x])>>8,w[4*x+1]=(16711680&o[x])>>16,w[4*x]=(4278190080&o[x])>>24;return w},n}(),Zce=function(){function t(n){this.font=n,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var n,e,o,s;for(e in o=this.font.cmap.tables[0].codeMap,n={},s=this.subset)n[e]=o[s[e]];return n},t.prototype.glyphsFor=function(n){var e,i,o,s,a,d,f;for(o={},a=0,d=n.length;a<d;a++)o[s=n[a]]=this.font.glyf.glyphFor(s);for(s in e=[],o)(null!=(i=o[s])?i.compound:void 0)&&e.push.apply(e,i.glyphIDs);if(e.length>0)for(s in f=this.glyphsFor(e))o[s]=i=f[s];return o},t.prototype.encode=function(n,e){var i,o,s,a,f,v,w,x,S,E,q,H,ee,$;for(o in i=WY.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(n),E={0:0},$=i.charMap)E[(f=$[o]).old]=f.new;for(q in S=i.maxGlyphID,a)q in E||(E[q]=S++);return w=function(oe){var ve,Fe;for(ve in Fe={},oe)Fe[oe[ve]]=ve;return Fe}(E),x=Object.keys(w).sort(function(oe,ve){return oe-ve}),H=function(){var oe,ve,Fe;for(Fe=[],oe=0,ve=x.length;oe<ve;oe++)Fe.push(w[x[oe]]);return Fe}(),s=this.font.glyf.encode(a,H,E),v=this.font.loca.encode(s.offsets,H),ee={cmap:this.font.cmap.raw(),glyf:s.table,loca:v,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(ee["OS/2"]=this.font.os2.raw()),this.font.directory.encode(ee)},t}();Hi.API.PDFObject=function(){var t;function n(){}return t=function(e,i){return(Array(i+1).join("0")+e).slice(-i)},n.convert=function(e){var o,s;if(Array.isArray(e))return"["+function(){var d,f,v;for(v=[],d=0,f=e.length;d<f;d++)v.push(n.convert(e[d]));return v}().join(" ")+"]";if("string"==typeof e)return"/"+e;if(null!=e?e.isString:void 0)return"("+e+")";if(e instanceof Date)return"(D:"+t(e.getUTCFullYear(),4)+t(e.getUTCMonth(),2)+t(e.getUTCDate(),2)+t(e.getUTCHours(),2)+t(e.getUTCMinutes(),2)+t(e.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(e)){for(o in s=["<<"],e)s.push("/"+o+" "+n.convert(e[o]));return s.push(">>"),s.join("\n")}return""+e},n}();const xE=Hi;let bg=(()=>{class t{constructor(e,i){this.af=e,this.uiService=i,this.currentSectionLoad=[],this.currentSectionLoadChange=new Ht.x,this.currentFacultyLoad=[],this.currentFacultyLoadChange=new Ht.x,this.loads=[],this.facultyLoads=[],this.allLoads=[],this.allLoadChange=new Ht.x,this.loadChange=new Ht.x,this.facultyLoadChange=new Ht.x,this.sameRoomLoad=[],this.sameRoomLoadChange=new Ht.x}changeCurrentSectionLoad(e){this.currentSectionLoad=e,this.currentSectionLoadChange.next(e)}changeCurrentFacultyLoad(e){this.currentFacultyLoad=e,this.currentFacultyLoadChange.next(e)}fetchLoad(e,i,o,s){this.af.collection("load").ref.where("schoolYear","==",e).where("semester","==",i).where("chairperson","==",o).where("section","==",s).onSnapshot(a=>{this.loads=[],a.forEach(d=>{this.loads.push(Object.assign({id:d.id},d.data()))}),this.loadChange.next(this.loads)})}fetchFacultyLoad(e,i,o,s){this.af.collection("load").ref.where("schoolYear","==",e).where("semester","==",i).where("chairperson","==",o).where("facultyName","==",s).onSnapshot(a=>{this.facultyLoads=[],a.forEach(d=>{this.facultyLoads.push(Object.assign({id:d.id},d.data()))}),this.facultyLoadChange.next(this.facultyLoads)})}fetchAllLoad(e,i,o){this.allLoads=[],this.af.collection("load").ref.where("schoolYear","==",e).where("semester","==",i).where("chairperson","==",o).onSnapshot(s=>{s.forEach(a=>{this.allLoads.push(Object.assign({id:a.id},a.data()))}),this.allLoadChange.next(this.allLoads)})}addLoad(e){this.af.collection("load").add(e),this.uiService.showSuccessToast("Load Added Succesfully!","Success")}onRemoveLoad(e){this.af.doc("load/"+e).delete(),this.uiService.showSuccessToast("Load Deleted Succesfully!","Success")}updateLoadToDatabase(e,i){this.af.doc("load/"+i).update(e),this.uiService.showSuccessToast("Load Updated Succesfully!","Success")}checkRoomLoadConflict(e,i,o,s){this.sameRoomLoad=[],this.af.collection("load").ref.where("schoolYear","==",o).where("semester","==",i).where("room","==",e).where("day","==",s).get().then(a=>{a.forEach(d=>{this.sameRoomLoad.push(Object.assign({id:d.id},d.data()))}),this.sameRoomLoadChange.next(this.sameRoomLoad)})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(MC),r.LFG(Ko))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),PC=(()=>{class t{constructor(e,i){this.af=e,this.uiService=i,this.rooms=[],this.roomsChanged=new Ht.x,this.sections=[],this.sectionsChanged=new Ht.x}addRoomToDatabase(e){this.af.collection("room").add(e),this.uiService.showSuccessToast("Room Added Succesfully!","Success")}fetchRooms(){this.af.collection("room").snapshotChanges().pipe((0,un.U)(e=>e.map(i=>Object.assign({id:i.payload.doc.id},i.payload.doc.data())))).subscribe(e=>{this.rooms=e,this.roomsChanged.next([...this.rooms])})}updateRoomToDatabase(e,i){this.af.doc("room/"+i).update(e),this.uiService.showSuccessToast("Room Updated Succesfully!","Success")}deleteRoomToDatabase(e){this.af.doc("room/"+e).delete(),this.uiService.showSuccessToast("Room Deleted Succesfully!","Success")}addSectionToDatabase(e){this.af.collection("section").add(e),this.uiService.showSuccessToast("Section Added Succesfully!","Success")}fetchSections(){this.af.collection("section").snapshotChanges().pipe((0,un.U)(e=>e.map(i=>Object.assign({id:i.payload.doc.id},i.payload.doc.data())))).subscribe(e=>{this.sections=e,this.sectionsChanged.next([...this.sections])})}updateSectionToDatabase(e,i){this.uiService.showSuccessToast("Section Updated Succesfully!","Success")}deleteSectionToDatabase(e){console.log(e),this.af.doc("section/"+e).delete(),this.uiService.showSuccessToast("Section Deleted Succesfully!","Success")}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(MC),r.LFG(Ko))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Yce=["button"],zce=["*"],QY=new r.OlP("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),JY=new r.OlP("MatButtonToggleGroup"),Wce={provide:st,useExisting:(0,r.Gpc)(()=>BC),multi:!0};let KY=0;class XY{constructor(n,e){this.source=n,this.value=e}}let BC=(()=>{class t{constructor(e,i){this._changeDetector=e,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+KY++,this.valueChange=new r.vpe,this.change=new r.vpe,this.appearance=i&&i.appearance?i.appearance:"standard"}get name(){return this._name}set name(e){this._name=e,this._buttonToggles&&this._buttonToggles.forEach(i=>{i.name=this._name,i._markForCheck()})}get vertical(){return this._vertical}set vertical(e){this._vertical=Rn(e)}get value(){const e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e.map(i=>i.value):e[0]?e[0].value:void 0}set value(e){this._setSelectionByValue(e),this.valueChange.emit(this.value)}get selected(){const e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e:e[0]||null}get multiple(){return this._multiple}set multiple(e){this._multiple=Rn(e)}get disabled(){return this._disabled}set disabled(e){this._disabled=Rn(e),this._buttonToggles&&this._buttonToggles.forEach(i=>i._markForCheck())}ngOnInit(){this._selectionModel=new XD(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(e=>e.checked))}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_emitChangeEvent(){const e=this.selected,i=Array.isArray(e)?e[e.length-1]:e,o=new XY(i,this.value);this._controlValueAccessorChangeFn(o.value),this.change.emit(o)}_syncButtonToggle(e,i,o=!1,s=!1){!this.multiple&&this.selected&&!e.checked&&(this.selected.checked=!1),this._selectionModel?i?this._selectionModel.select(e):this._selectionModel.deselect(e):s=!0,s?Promise.resolve().then(()=>this._updateModelValue(o)):this._updateModelValue(o)}_isSelected(e){return this._selectionModel&&this._selectionModel.isSelected(e)}_isPrechecked(e){return void 0!==this._rawValue&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(i=>null!=e.value&&i===e.value):e.value===this._rawValue)}_setSelectionByValue(e){this._rawValue=e,this._buttonToggles&&(this.multiple&&e?(Array.isArray(e),this._clearSelection(),e.forEach(i=>this._selectValue(i))):(this._clearSelection(),this._selectValue(e)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(e=>e.checked=!1)}_selectValue(e){const i=this._buttonToggles.find(o=>null!=o.value&&o.value===e);i&&(i.checked=!0,this._selectionModel.select(i))}_updateModelValue(e){e&&this._emitChangeEvent(),this.valueChange.emit(this.value)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.sBO),r.Y36(QY,8))},t.\u0275dir=r.lG2({type:t,selectors:[["mat-button-toggle-group"]],contentQueries:function(e,i,o){if(1&e&&r.Suo(o,UC,5),2&e){let s;r.iGM(s=r.CRH())&&(i._buttonToggles=s)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(e,i){2&e&&(r.uIk("aria-disabled",i.disabled),r.ekj("mat-button-toggle-vertical",i.vertical)("mat-button-toggle-group-appearance-standard","standard"===i.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[r._Bn([Wce,{provide:JY,useExisting:t}])]}),t})();const $ce=nd(class{});let UC=(()=>{class t extends $ce{constructor(e,i,o,s,a,d){super(),this._changeDetectorRef=i,this._elementRef=o,this._focusMonitor=s,this._isSingleSelector=!1,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new r.vpe;const f=Number(a);this.tabIndex=f||0===f?f:null,this.buttonToggleGroup=e,this.appearance=d&&d.appearance?d.appearance:"standard"}get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(e){this._appearance=e}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(e){const i=Rn(e);i!==this._checked&&(this._checked=i,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(e){this._disabled=Rn(e)}ngOnInit(){const e=this.buttonToggleGroup;this._isSingleSelector=e&&!e.multiple,this.id=this.id||"mat-button-toggle-"+KY++,this._isSingleSelector&&(this.name=e.name),e&&(e._isPrechecked(this)?this.checked=!0:e._isSelected(this)!==this._checked&&e._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const e=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),e&&e._isSelected(this)&&e._syncButtonToggle(this,!1,!1,!0)}focus(e){this._buttonElement.nativeElement.focus(e)}_onButtonClick(){const e=!!this._isSingleSelector||!this._checked;e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new XY(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(JY,8),r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(Bh),r.$8M("tabindex"),r.Y36(QY,8))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-button-toggle"]],viewQuery:function(e,i){if(1&e&&r.Gf(Yce,5),2&e){let o;r.iGM(o=r.CRH())&&(i._buttonElement=o.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(e,i){1&e&&r.NdJ("focus",function(){return i.focus()}),2&e&&(r.uIk("aria-label",null)("aria-labelledby",null)("id",i.id)("name",null),r.ekj("mat-button-toggle-standalone",!i.buttonToggleGroup)("mat-button-toggle-checked",i.checked)("mat-button-toggle-disabled",i.disabled)("mat-button-toggle-appearance-standard","standard"===i.appearance))},inputs:{disableRipple:"disableRipple",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[r.qOj],ngContentSelectors:zce,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(e,i){if(1&e&&(r.F$t(),r.TgZ(0,"button",0,1),r.NdJ("click",function(){return i._onButtonClick()}),r.TgZ(2,"span",2),r.Hsn(3),r.qZA()(),r._UZ(4,"span",3)(5,"span",4)),2&e){const o=r.MAs(1);r.Q6J("id",i.buttonId)("disabled",i.disabled||null),r.uIk("tabindex",i.disabled?-1:i.tabIndex)("aria-pressed",i.checked)("name",i.name||null)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby),r.xp6(5),r.Q6J("matRippleTrigger",o)("matRippleDisabled",i.disableRipple||i.disabled)}},directives:[Wp],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:transparent}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.cdk-high-contrast-active .mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:.5}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}.cdk-high-contrast-active .mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.5}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{border-radius:inherit;pointer-events:none;opacity:0;top:0;left:0;right:0;bottom:0;position:absolute}.mat-button-toggle-checked .cdk-high-contrast-active .mat-button-toggle-focus-overlay{border-bottom:solid 36px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}\n"],encapsulation:2,changeDetection:0}),t})(),ez=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[ci,Ab],ci]}),t})();function Qce(t,n){if(1&t&&(r.TgZ(0,"p",15),r._uU(1),r.ALo(2,"uppercase"),r.qZA()),2&t){const e=r.oxw();r.xp6(1),r.hij("SECTION: ",(null==e.currentSectionLoad[0]?null:e.currentSectionLoad[0].section)+" "+r.lcZ(2,1,e.currentSectionLoad[0].semester),"")}}function Jce(t,n){1&t&&(r.TgZ(0,"p",15),r._uU(1,"SECTION"),r.qZA())}function Kce(t,n){if(1&t&&(r.TgZ(0,"p",16),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.xp6(1),r.Oqu(e)}}function Xce(t,n){if(1&t&&(r.TgZ(0,"p",17),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.Q6J("ngClass","-"==e?"on-schedule":"@"==e?"on-overlap":"\xa0"==e?"":"on-schedule"),r.xp6(1),r.Oqu("-"==e||"@"==e?"\xa0\xa0":e)}}function eue(t,n){if(1&t&&(r.TgZ(0,"p",17),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.Q6J("ngClass","-"==e?"on-schedule":"@"==e?"on-overlap":"\xa0"==e?"":"on-schedule"),r.xp6(1),r.Oqu("-"==e||"@"==e?"\xa0\xa0":e)}}function tue(t,n){if(1&t&&(r.TgZ(0,"p",17),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.Q6J("ngClass","-"==e?"on-schedule":"@"==e?"on-overlap":"\xa0"==e?"":"on-schedule"),r.xp6(1),r.Oqu("-"==e||"@"==e?"\xa0\xa0":e)}}function nue(t,n){if(1&t&&(r.TgZ(0,"p",17),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.Q6J("ngClass","-"==e?"on-schedule":"@"==e?"on-overlap":"\xa0"==e?"":"on-schedule"),r.xp6(1),r.Oqu("-"==e||"@"==e?"\xa0\xa0":e)}}function iue(t,n){if(1&t&&(r.TgZ(0,"p",17),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.Q6J("ngClass","-"==e?"on-schedule":"@"==e?"on-overlap":"\xa0"==e?"":"on-schedule"),r.xp6(1),r.Oqu("-"==e||"@"==e?"\xa0\xa0":e)}}function rue(t,n){if(1&t&&(r.TgZ(0,"p",17),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.Q6J("ngClass","-"==e?"on-schedule":"@"==e?"on-overlap":"\xa0"==e?"":"on-schedule"),r.xp6(1),r.Oqu("-"==e||"@"==e?"\xa0\xa0":e)}}function oue(t,n){if(1&t&&(r.TgZ(0,"p",17),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.Q6J("ngClass","-"==e?"on-schedule":"@"==e?"on-overlap":"\xa0"==e?"":"on-schedule"),r.xp6(1),r.Oqu("-"==e||"@"==e?"\xa0\xa0":e)}}let tz=(()=>{class t{constructor(e,i){this.loadService=e,this.uiService=i,this.currentSectionLoad=[],this.times=["7:00 - 7:30 AM","7:30 - 8:00 AM","8:00 - 8:30 AM","8:30 - 9:00 AM","9:00 - 9:30 AM","9:30 - 10:00 AM","10:00 - 10:30 AM","10:30 - 11:00 AM","11:00 - 11:30 AM","11:30 - 12:00 PM","12:00 - 12:30 PM","12:30 - 1:00 PM","1:00 - 1:30 PM","1:30 - 2:00 PM","2:00 - 2:30 PM","2:30 - 3:00 PM","3:00 - 3:30 PM","3:30 - 4:00 PM","4:00 - 4:30 PM","4:30 - 5:00 PM","5:00 - 5:30 PM","5:30 - 6:00 PM","6:00 - 6:30 PM","6:30 - 7:00 PM","7:00 - 7:30 PM","7:30 - 8:00 PM","8:00 - 8:30 PM"],this.mondayLoad=[],this.tuesdayLoad=[],this.wednesdayLoad=[],this.thursdayLoad=[],this.fridayLoad=[],this.saturdayLoad=[],this.sundayLoad=[],this.allLoads=[],this.monday=[],this.tuesday=[],this.wednesday=[],this.thursday=[],this.friday=[],this.saturday=[],this.sunday=[]}ngOnInit(){this.fillDayArrays(),this.fillDayArrays(),this.currentSectionLoad=this.classScheduleTimeline.loadItem,this.getDays(this.classScheduleTimeline.loadItem),this.checkMondayLoads(),this.checkTuesdayLoads(),this.checkWednesdayLoads(),this.checkThursdayLoads(),this.checkFridayLoads(),this.checkSaturdayLoads(),this.checkSundayLoads()}checkMondayLoads(){const e=i=>new Date("1970/01/01 "+i);this.mondayLoad.sort((i,o)=>e(i.startTime)-e(o.startTime)),console.log(this.mondayLoad),this.mondayLoad.forEach(i=>{let o=0,s=0,a=0,d=0,f=0,v="",w="";"7:00 AM"==i.startTime&&(v=i.subjectCode,o=d),this.times.forEach(S=>{if(S.includes(i.startTime)&&(v=i.subjectCode,o=d+1),S.includes(i.endTime)){let E=i.facultyName.split(" ");w=E[E.length-1],s=f}d++,f++});let x=0;if(s-o!=1){a=s-o,x=Math.floor(a/2),this.monday[o+x]=v,this.monday[s-x]=w;for(let S=0;S<x;S++)this.monday[o]="-"==this.monday[o]||"@"==this.monday[s]?"@":"-",o++;for(let S=0;S<x;S++)"-"==this.monday[s]||"@"==this.monday[s]?this.monday[o]="@":this.monday[s]="-",s--}else this.monday[o]=v,this.monday[s]=w;x=0,o=0,s=0,a=0,d=0,f=0})}checkTuesdayLoads(){const e=i=>new Date("1970/01/01 "+i);this.tuesdayLoad.sort((i,o)=>e(i.startTime)-e(o.startTime)),this.tuesdayLoad.forEach(i=>{let o=0,s=0,a=0,d=0,f=0,v="",w="";"7:00 AM"==i.startTime&&(v=i.subjectCode,o=d),this.times.forEach(S=>{if(S.includes(i.startTime)&&(v=i.subjectCode,o=d+1),S.includes(i.endTime)){let E=i.facultyName.split(" ");w=E[E.length-1],s=f}d++,f++});let x=0;if(s-o!=1){a=s-o,x=Math.floor(a/2),this.tuesday[o+x]=v,this.tuesday[s-x]=w;for(let S=0;S<x;S++)this.tuesday[o]="-"==this.tuesday[o]||"@"==this.tuesday[s]?"@":"-",o++;for(let S=0;S<x;S++)"-"==this.tuesday[s]||"@"==this.tuesday[s]?this.tuesday[o]="@":this.tuesday[s]="-",s--}else this.tuesday[o]=v,this.tuesday[s]=w;x=0,o=0,s=0,a=0,d=0,f=0})}checkWednesdayLoads(){const e=i=>new Date("1970/01/01 "+i);this.wednesdayLoad.sort((i,o)=>e(i.startTime)-e(o.startTime)),this.wednesdayLoad.forEach(i=>{let o=0,s=0,a=0,d=0,f=0,v="",w="";"7:00 AM"==i.startTime&&(v=i.subjectCode,o=d),this.times.forEach(S=>{if(S.includes(i.startTime)&&(v=i.subjectCode,o=d+1),S.includes(i.endTime)){let E=i.facultyName.split(" ");w=E[E.length-1],s=f}d++,f++});let x=0;if(s-o!=1){a=s-o,x=Math.floor(a/2),this.wednesday[o+x]=v,this.wednesday[s-x]=w;for(let S=0;S<x;S++)this.wednesday[o]="-"==this.wednesday[o]||"@"==this.wednesday[s]?"@":"-",o++;for(let S=0;S<x;S++)"-"==this.wednesday[s]||"@"==this.wednesday[s]?this.wednesday[o]="@":this.wednesday[s]="-",s--}else this.wednesday[o]=v,this.wednesday[s]=w;x=0,o=0,s=0,a=0,d=0,f=0})}checkThursdayLoads(){const e=i=>new Date("1970/01/01 "+i);this.thursdayLoad.sort((i,o)=>e(i.startTime)-e(o.startTime)),this.thursdayLoad.forEach(i=>{let o=0,s=0,a=0,d=0,f=0,v="",w="";"7:00 AM"==i.startTime&&(v=i.subjectCode,o=d),this.times.forEach(S=>{if(S.includes(i.startTime)&&(v=i.subjectCode,o=d+1),S.includes(i.endTime)){let E=i.facultyName.split(" ");w=E[E.length-1],s=f}d++,f++});let x=0;if(s-o!=1){a=s-o,x=Math.floor(a/2),this.thursday[o+x]=v,this.thursday[s-x]=w;for(let S=0;S<x;S++)this.thursday[o]="-"==this.thursday[o]||"@"==this.thursday[s]?"@":"-",o++;for(let S=0;S<x;S++)"-"==this.thursday[s]||"@"==this.thursday[s]?this.thursday[o]="@":this.thursday[s]="-",s--}else this.thursday[o]=v,this.thursday[s]=w;x=0,o=0,s=0,a=0,d=0,f=0})}checkFridayLoads(){const e=i=>new Date("1970/01/01 "+i);this.fridayLoad.sort((i,o)=>e(i.startTime)-e(o.startTime)),this.fridayLoad.forEach(i=>{let o=0,s=0,a=0,d=0,f=0,v="",w="";"7:00 AM"==i.startTime&&(v=i.subjectCode,o=d),this.times.forEach(S=>{if(S.includes(i.startTime)&&(v=i.subjectCode,o=d+1),S.includes(i.endTime)){let E=i.facultyName.split(" ");w=E[E.length-1],s=f}d++,f++});let x=0;if(s-o!=1){a=s-o,x=Math.floor(a/2),this.friday[o+x]=v,this.friday[s-x]=w;for(let S=0;S<x;S++)this.friday[o]="-"==this.friday[o]||"@"==this.friday[s]?"@":"-",o++;for(let S=0;S<x;S++)"-"==this.friday[s]||"@"==this.friday[s]?this.friday[o]="@":this.friday[s]="-",s--}else this.friday[o]=v,this.friday[s]=w;x=0,o=0,s=0,a=0,d=0,f=0})}checkSaturdayLoads(){const e=i=>new Date("1970/01/01 "+i);this.saturdayLoad.sort((i,o)=>e(i.startTime)-e(o.startTime)),this.saturdayLoad.forEach(i=>{let o=0,s=0,a=0,d=0,f=0,v="",w="";"7:00 AM"==i.startTime&&(v=i.subjectCode,o=d),this.times.forEach(S=>{if(S.includes(i.startTime)&&(v=i.subjectCode,o=d+1),S.includes(i.endTime)){let E=i.facultyName.split(" ");w=E[E.length-1],s=f}d++,f++});let x=0;if(s-o!=1){a=s-o,x=Math.floor(a/2),this.saturday[o+x]=v,this.saturday[s-x]=w;for(let S=0;S<x;S++)this.saturday[o]="-"==this.saturday[o]||"@"==this.saturday[s]?"@":"-",o++;for(let S=0;S<x;S++)"-"==this.saturday[s]||"@"==this.saturday[s]?this.saturday[o]="@":this.saturday[s]="-",s--}else this.saturday[o]=v,this.saturday[s]=w;x=0,o=0,s=0,a=0,d=0,f=0})}checkSundayLoads(){const e=i=>new Date("1970/01/01 "+i);this.sundayLoad.sort((i,o)=>e(i.startTime)-e(o.startTime)),this.sundayLoad.forEach(i=>{let o=0,s=0,a=0,d=0,f=0,v="",w="";"7:00 AM"==i.startTime&&(v=i.subjectCode,o=d),this.times.forEach(S=>{if(S.includes(i.startTime)&&(v=i.subjectCode,o=d+1),S.includes(i.endTime)){let E=i.facultyName.split(" ");w=E[E.length-1],s=f}d++,f++});let x=0;if(s-o!=1){a=s-o,x=Math.floor(a/2),this.sunday[o+x]=v,this.sunday[s-x]=w;for(let S=0;S<x;S++)this.sunday[o]="-"==this.sunday[o]||"@"==this.sunday[s]?"@":"-",o++;for(let S=0;S<x;S++)"-"==this.sunday[s]||"@"==this.sunday[s]?this.sunday[o]="@":this.sunday[s]="-",s--}else this.sunday[o]=v,this.sunday[s]=w;x=0,o=0,s=0,a=0,d=0,f=0})}fillDayArrays(){let e=0;this.times.forEach(i=>{this.monday[e]="\xa0",e++}),e=0,this.times.forEach(i=>{this.tuesday[e]="\xa0",e++}),e=0,this.times.forEach(i=>{this.wednesday[e]="\xa0",e++}),e=0,this.times.forEach(i=>{this.thursday[e]="\xa0",e++}),e=0,this.times.forEach(i=>{this.friday[e]="\xa0",e++}),e=0,this.times.forEach(i=>{this.saturday[e]="\xa0",e++}),e=0,this.times.forEach(i=>{this.sunday[e]="\xa0",e++}),e=0}getDays(e){this.allLoads=[],this.mondayLoad=e.filter(i=>"monday"==i.day),this.tuesdayLoad=e.filter(i=>"tuesday"==i.day),this.wednesdayLoad=e.filter(i=>"wednesday"==i.day),this.thursdayLoad=e.filter(i=>"thursday"==i.day),this.fridayLoad=e.filter(i=>"friday"==i.day),this.saturdayLoad=e.filter(i=>"saturday"==i.day),this.sundayLoad=e.filter(i=>"sunday"==i.day),this.mondayLoad.forEach(i=>{this.allLoads.push(i)}),this.tuesdayLoad.forEach(i=>{this.allLoads.push(i)}),this.wednesdayLoad.forEach(i=>{this.allLoads.push(i)}),this.thursdayLoad.forEach(i=>{this.allLoads.push(i)}),this.fridayLoad.forEach(i=>{this.allLoads.push(i)}),this.saturdayLoad.forEach(i=>{this.allLoads.push(i)}),this.sundayLoad.forEach(i=>{this.allLoads.push(i)})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(bg),r.Y36(Ko))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-class-schedule-timeline"]],inputs:{classScheduleTimeline:"classScheduleTimeline"},decls:49,vars:10,consts:[["fxLayout","column",1,"timeline",2,"margin-left","15px","margin-bottom","352px"],["fxFlex","16%",1,"time"],["class"," section",4,"ngIf"],["fxFlex","84%"],["fxLayout","row",1,"table"],[1,"table-item","header"],["class","table-item",4,"ngFor","ngForOf"],["fxFlex","12%",1,"monday"],["class","table-item",3,"ngClass",4,"ngFor","ngForOf"],["fxFlex","12%",1,"tuesday"],["fxFlex","12%",1,"wednesday"],["fxFlex","12%",1,"thursday"],["fxFlex","12%",1,"friday"],["fxFlex","12%",1,"saturday"],["fxFlex","12%",1,"sunday"],[1,"section"],[1,"table-item"],[1,"table-item",3,"ngClass"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div"),r.YNc(3,Qce,3,3,"p",2),r.qZA()(),r.TgZ(4,"div",1)(5,"div"),r.YNc(6,Jce,2,0,"p",2),r.qZA()(),r._UZ(7,"div",3),r.TgZ(8,"div",4)(9,"div",1)(10,"div")(11,"p",5),r._uU(12,"TIME"),r.qZA(),r.YNc(13,Kce,2,1,"p",6),r.qZA()(),r.TgZ(14,"div",7)(15,"div")(16,"p",5),r._uU(17,"MONDAY"),r.qZA(),r.YNc(18,Xce,2,2,"p",8),r.qZA()(),r.TgZ(19,"div",9)(20,"div")(21,"p",5),r._uU(22,"TUESDAY"),r.qZA(),r.YNc(23,eue,2,2,"p",8),r.qZA()(),r.TgZ(24,"div",10)(25,"div")(26,"p",5),r._uU(27,"WEDNESDAY"),r.qZA(),r.YNc(28,tue,2,2,"p",8),r.qZA()(),r.TgZ(29,"div",11)(30,"div")(31,"p",5),r._uU(32,"THURSDAY"),r.qZA(),r.YNc(33,nue,2,2,"p",8),r.qZA()(),r.TgZ(34,"div",12)(35,"div")(36,"p",5),r._uU(37,"FRIDAY"),r.qZA(),r.YNc(38,iue,2,2,"p",8),r.qZA()(),r.TgZ(39,"div",13)(40,"div")(41,"p",5),r._uU(42,"SATURDAY"),r.qZA(),r.YNc(43,rue,2,2,"p",8),r.qZA()(),r.TgZ(44,"div",14)(45,"div")(46,"p",5),r._uU(47,"SUNDAY"),r.qZA(),r.YNc(48,oue,2,2,"p",8),r.qZA()()()()),2&e&&(r.xp6(3),r.Q6J("ngIf",i.currentSectionLoad[0]),r.xp6(3),r.Q6J("ngIf",!i.currentSectionLoad[0]),r.xp6(7),r.Q6J("ngForOf",i.times),r.xp6(5),r.Q6J("ngForOf",i.monday),r.xp6(5),r.Q6J("ngForOf",i.tuesday),r.xp6(5),r.Q6J("ngForOf",i.wednesday),r.xp6(5),r.Q6J("ngForOf",i.thursday),r.xp6(5),r.Q6J("ngForOf",i.friday),r.xp6(5),r.Q6J("ngForOf",i.saturday),r.xp6(5),r.Q6J("ngForOf",i.sunday))},directives:[zr,Yd,Sn,qn,xr,W_],pipes:[Yo],styles:[".timeline[_ngcontent-%COMP%]{margin-top:15px}.table-item[_ngcontent-%COMP%]{border:1px solid black;text-align:center;margin:0}.header[_ngcontent-%COMP%]{font-size:12px;font-weight:700;letter-spacing:.1em}.on-schedule[_ngcontent-%COMP%]{background-color:#dbdbdb}.on-overlap[_ngcontent-%COMP%]{background-color:#ff9a9a}.section[_ngcontent-%COMP%]{font-weight:700;font-family:var(--incon)}"]}),t})();function sue(t,n){if(1&t&&(r.TgZ(0,"p",15),r._uU(1),r.ALo(2,"uppercase"),r.qZA()),2&t){const e=r.oxw();r.xp6(1),r.hij("SECTION: ",(null==e.currentSectionLoad[0]?null:e.currentSectionLoad[0].section)+" "+r.lcZ(2,1,e.currentSectionLoad[0].semester),"")}}function aue(t,n){1&t&&(r.TgZ(0,"p",15),r._uU(1,"SECTION"),r.qZA())}function lue(t,n){if(1&t&&(r.TgZ(0,"div",16)(1,"div",4)(2,"p",17),r._uU(3),r.ALo(4,"uppercase"),r.qZA()(),r.TgZ(5,"div",6)(6,"p",17),r._uU(7),r.ALo(8,"uppercase"),r.qZA()(),r.TgZ(9,"div",8)(10,"p",17),r._uU(11),r.qZA()(),r.TgZ(12,"div",10)(13,"p",17),r._uU(14),r.ALo(15,"uppercase"),r.qZA()(),r.TgZ(16,"div",12)(17,"p",17),r._uU(18),r.ALo(19,"uppercase"),r.qZA()()()),2&t){const e=n.$implicit;r.xp6(3),r.Oqu(r.lcZ(4,5,e.subjectDescription)),r.xp6(4),r.Oqu(r.lcZ(8,7,e.day.substring(0,3))),r.xp6(4),r.Oqu(e.startTime.substring(0,e.startTime.length-3)+" - "+e.endTime),r.xp6(3),r.Oqu(r.lcZ(15,9,e.room)),r.xp6(4),r.Oqu(r.lcZ(19,11,e.facultyName))}}let nz=(()=>{class t{constructor(e,i){this.loadService=e,this.uiService=i,this.currentSectionLoad=[],this.times=["7:00 - 7:30 AM","7:30 - 8:00 AM","8:00 - 8:30 AM","8:30 - 9:00 AM","9:00 - 9:30 AM","9:30 - 10:00 AM","10:00 - 10:30 AM","10:30 - 11:00 AM","11:00 - 11:30 AM","11:30 - 12:00 PM","12:00 - 12:30 PM","12:30 - 1:00 PM","1:00 - 1:30 PM","1:30 - 2:00 PM","2:00 - 2:30 PM","2:30 - 3:00 PM","3:00 - 3:30 PM","3:30 - 4:00 PM","4:00 - 4:30 PM","4:30 - 5:00 PM","5:00 - 5:30 PM","5:30 - 6:00 PM","6:00 - 6:30 PM","6:30 - 7:00 PM","7:00 - 7:30 PM","7:30 - 8:00 PM","8:00 - 8:30 PM"],this.mondayLoad=[],this.tuesdayLoad=[],this.wednesdayLoad=[],this.thursdayLoad=[],this.fridayLoad=[],this.saturdayLoad=[],this.sundayLoad=[],this.allLoads=[],this.monday=[],this.tuesday=[],this.wednesday=[],this.thursday=[],this.friday=[],this.saturday=[],this.sunday=[]}ngOnInit(){console.log(this.classScheduleTable),this.fillDayArrays(),this.fillDayArrays(),this.currentSectionLoad=this.classScheduleTable.loadItem,this.getDays(this.classScheduleTable.loadItem),this.checkMondayLoads(),this.checkTuesdayLoads(),this.checkWednesdayLoads(),this.checkThursdayLoads(),this.checkFridayLoads(),this.checkSaturdayLoads(),this.checkSundayLoads()}checkMondayLoads(){const e=i=>new Date("1970/01/01 "+i);this.mondayLoad.sort((i,o)=>e(i.startTime)-e(o.startTime)),console.log(this.mondayLoad),this.mondayLoad.forEach(i=>{let o=0,s=0,a=0,d=0,f=0,v="",w="";"7:00 AM"==i.startTime&&(v=i.subjectCode,o=d),this.times.forEach(S=>{if(S.includes(i.startTime)&&(v=i.subjectCode,o=d+1),S.includes(i.endTime)){let E=i.facultyName.split(" ");w=E[E.length-1],s=f}d++,f++});let x=0;if(s-o!=1){a=s-o,x=Math.floor(a/2),this.monday[o+x]=v,this.monday[s-x]=w;for(let S=0;S<x;S++)this.monday[o]="-"==this.monday[o]||"@"==this.monday[s]?"@":"-",o++;for(let S=0;S<x;S++)"-"==this.monday[s]||"@"==this.monday[s]?this.monday[o]="@":this.monday[s]="-",s--}else this.monday[o]=v,this.monday[s]=w;x=0,o=0,s=0,a=0,d=0,f=0})}checkTuesdayLoads(){const e=i=>new Date("1970/01/01 "+i);this.tuesdayLoad.sort((i,o)=>e(i.startTime)-e(o.startTime)),this.tuesdayLoad.forEach(i=>{let o=0,s=0,a=0,d=0,f=0,v="",w="";"7:00 AM"==i.startTime&&(v=i.subjectCode,o=d),this.times.forEach(S=>{if(S.includes(i.startTime)&&(v=i.subjectCode,o=d+1),S.includes(i.endTime)){let E=i.facultyName.split(" ");w=E[E.length-1],s=f}d++,f++});let x=0;if(s-o!=1){a=s-o,x=Math.floor(a/2),this.tuesday[o+x]=v,this.tuesday[s-x]=w;for(let S=0;S<x;S++)this.tuesday[o]="-"==this.tuesday[o]||"@"==this.tuesday[s]?"@":"-",o++;for(let S=0;S<x;S++)"-"==this.tuesday[s]||"@"==this.tuesday[s]?this.tuesday[o]="@":this.tuesday[s]="-",s--}else this.tuesday[o]=v,this.tuesday[s]=w;x=0,o=0,s=0,a=0,d=0,f=0})}checkWednesdayLoads(){const e=i=>new Date("1970/01/01 "+i);this.wednesdayLoad.sort((i,o)=>e(i.startTime)-e(o.startTime)),this.wednesdayLoad.forEach(i=>{let o=0,s=0,a=0,d=0,f=0,v="",w="";"7:00 AM"==i.startTime&&(v=i.subjectCode,o=d),this.times.forEach(S=>{if(S.includes(i.startTime)&&(v=i.subjectCode,o=d+1),S.includes(i.endTime)){let E=i.facultyName.split(" ");w=E[E.length-1],s=f}d++,f++});let x=0;if(s-o!=1){a=s-o,x=Math.floor(a/2),this.wednesday[o+x]=v,this.wednesday[s-x]=w;for(let S=0;S<x;S++)this.wednesday[o]="-"==this.wednesday[o]||"@"==this.wednesday[s]?"@":"-",o++;for(let S=0;S<x;S++)"-"==this.wednesday[s]||"@"==this.wednesday[s]?this.wednesday[o]="@":this.wednesday[s]="-",s--}else this.wednesday[o]=v,this.wednesday[s]=w;x=0,o=0,s=0,a=0,d=0,f=0})}checkThursdayLoads(){const e=i=>new Date("1970/01/01 "+i);this.thursdayLoad.sort((i,o)=>e(i.startTime)-e(o.startTime)),this.thursdayLoad.forEach(i=>{let o=0,s=0,a=0,d=0,f=0,v="",w="";"7:00 AM"==i.startTime&&(v=i.subjectCode,o=d),this.times.forEach(S=>{if(S.includes(i.startTime)&&(v=i.subjectCode,o=d+1),S.includes(i.endTime)){let E=i.facultyName.split(" ");w=E[E.length-1],s=f}d++,f++});let x=0;if(s-o!=1){a=s-o,x=Math.floor(a/2),this.thursday[o+x]=v,this.thursday[s-x]=w;for(let S=0;S<x;S++)this.thursday[o]="-"==this.thursday[o]||"@"==this.thursday[s]?"@":"-",o++;for(let S=0;S<x;S++)"-"==this.thursday[s]||"@"==this.thursday[s]?this.thursday[o]="@":this.thursday[s]="-",s--}else this.thursday[o]=v,this.thursday[s]=w;x=0,o=0,s=0,a=0,d=0,f=0})}checkFridayLoads(){const e=i=>new Date("1970/01/01 "+i);this.fridayLoad.sort((i,o)=>e(i.startTime)-e(o.startTime)),this.fridayLoad.forEach(i=>{let o=0,s=0,a=0,d=0,f=0,v="",w="";"7:00 AM"==i.startTime&&(v=i.subjectCode,o=d),this.times.forEach(S=>{if(S.includes(i.startTime)&&(v=i.subjectCode,o=d+1),S.includes(i.endTime)){let E=i.facultyName.split(" ");w=E[E.length-1],s=f}d++,f++});let x=0;if(s-o!=1){a=s-o,x=Math.floor(a/2),this.friday[o+x]=v,this.friday[s-x]=w;for(let S=0;S<x;S++)this.friday[o]="-"==this.friday[o]||"@"==this.friday[s]?"@":"-",o++;for(let S=0;S<x;S++)"-"==this.friday[s]||"@"==this.friday[s]?this.friday[o]="@":this.friday[s]="-",s--}else this.friday[o]=v,this.friday[s]=w;x=0,o=0,s=0,a=0,d=0,f=0})}checkSaturdayLoads(){const e=i=>new Date("1970/01/01 "+i);this.saturdayLoad.sort((i,o)=>e(i.startTime)-e(o.startTime)),this.saturdayLoad.forEach(i=>{let o=0,s=0,a=0,d=0,f=0,v="",w="";"7:00 AM"==i.startTime&&(v=i.subjectCode,o=d),this.times.forEach(S=>{if(S.includes(i.startTime)&&(v=i.subjectCode,o=d+1),S.includes(i.endTime)){let E=i.facultyName.split(" ");w=E[E.length-1],s=f}d++,f++});let x=0;if(s-o!=1){a=s-o,x=Math.floor(a/2),this.saturday[o+x]=v,this.saturday[s-x]=w;for(let S=0;S<x;S++)this.saturday[o]="-"==this.saturday[o]||"@"==this.saturday[s]?"@":"-",o++;for(let S=0;S<x;S++)"-"==this.saturday[s]||"@"==this.saturday[s]?this.saturday[o]="@":this.saturday[s]="-",s--}else this.saturday[o]=v,this.saturday[s]=w;x=0,o=0,s=0,a=0,d=0,f=0})}checkSundayLoads(){const e=i=>new Date("1970/01/01 "+i);this.sundayLoad.sort((i,o)=>e(i.startTime)-e(o.startTime)),this.sundayLoad.forEach(i=>{let o=0,s=0,a=0,d=0,f=0,v="",w="";"7:00 AM"==i.startTime&&(v=i.subjectCode,o=d),this.times.forEach(S=>{if(S.includes(i.startTime)&&(v=i.subjectCode,o=d+1),S.includes(i.endTime)){let E=i.facultyName.split(" ");w=E[E.length-1],s=f}d++,f++});let x=0;if(s-o!=1){a=s-o,x=Math.floor(a/2),this.sunday[o+x]=v,this.sunday[s-x]=w;for(let S=0;S<x;S++)this.sunday[o]="-"==this.sunday[o]||"@"==this.sunday[s]?"@":"-",o++;for(let S=0;S<x;S++)"-"==this.sunday[s]||"@"==this.sunday[s]?this.sunday[o]="@":this.sunday[s]="-",s--}else this.sunday[o]=v,this.sunday[s]=w;x=0,o=0,s=0,a=0,d=0,f=0})}fillDayArrays(){let e=0;this.times.forEach(i=>{this.monday[e]="\xa0",e++}),e=0,this.times.forEach(i=>{this.tuesday[e]="\xa0",e++}),e=0,this.times.forEach(i=>{this.wednesday[e]="\xa0",e++}),e=0,this.times.forEach(i=>{this.thursday[e]="\xa0",e++}),e=0,this.times.forEach(i=>{this.friday[e]="\xa0",e++}),e=0,this.times.forEach(i=>{this.saturday[e]="\xa0",e++}),e=0,this.times.forEach(i=>{this.sunday[e]="\xa0",e++}),e=0}getDays(e){this.allLoads=[],this.mondayLoad=e.filter(i=>"monday"==i.day),this.tuesdayLoad=e.filter(i=>"tuesday"==i.day),this.wednesdayLoad=e.filter(i=>"wednesday"==i.day),this.thursdayLoad=e.filter(i=>"thursday"==i.day),this.fridayLoad=e.filter(i=>"friday"==i.day),this.saturdayLoad=e.filter(i=>"saturday"==i.day),this.sundayLoad=e.filter(i=>"sunday"==i.day),this.mondayLoad.forEach(i=>{this.allLoads.push(i)}),this.tuesdayLoad.forEach(i=>{this.allLoads.push(i)}),this.wednesdayLoad.forEach(i=>{this.allLoads.push(i)}),this.thursdayLoad.forEach(i=>{this.allLoads.push(i)}),this.fridayLoad.forEach(i=>{this.allLoads.push(i)}),this.saturdayLoad.forEach(i=>{this.allLoads.push(i)}),this.sundayLoad.forEach(i=>{this.allLoads.push(i)})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(bg),r.Y36(Ko))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-class-schedule-table"]],inputs:{classScheduleTable:"classScheduleTable"},decls:24,vars:3,consts:[["fxLayout","column",2,"margin-left","15px","margin-top","15px"],["fxFlex","16%",1,"time"],["class"," section",4,"ngIf"],["fxLayout","row",1,"load-headers",2,"width","100%"],["fxFlex","33%"],[1,"load-header",2,"background-color","rgb(255, 249, 160)"],["fxFlex","10%"],[1,"load-header",2,"background-color","rgb(167, 188, 255)"],["fxFlex","16%"],[1,"load-header",2,"background-color","rgb(255, 201, 188)"],["fxFlex","13%"],[1,"load-header",2,"background-color","rgb(255, 234, 167)"],["fxFlex","28%"],[1,"load-header",2,"background-color","rgb(179, 226, 152)"],["class","load-texts","fxLayout","row","fxLayoutAlign","center","style","width: 99.7%;",4,"ngFor","ngForOf"],[1,"section"],["fxLayout","row","fxLayoutAlign","center",1,"load-texts",2,"width","99.7%"],["fxFill","",1,"load-text"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div"),r.YNc(3,sue,3,3,"p",2),r.qZA()(),r.TgZ(4,"div",1)(5,"div"),r.YNc(6,aue,2,0,"p",2),r.qZA()(),r.TgZ(7,"div",3)(8,"div",4)(9,"p",5),r._uU(10,"SUBJECT"),r.qZA()(),r.TgZ(11,"div",6)(12,"p",7),r._uU(13,"DAY"),r.qZA()(),r.TgZ(14,"div",8)(15,"p",9),r._uU(16,"TIME"),r.qZA()(),r.TgZ(17,"div",10)(18,"p",11),r._uU(19,"ROOM"),r.qZA()(),r.TgZ(20,"div",12)(21,"p",13),r._uU(22,"INSTRUCTOR"),r.qZA()()(),r.YNc(23,lue,20,13,"div",14),r.qZA()),2&e&&(r.xp6(3),r.Q6J("ngIf",i.currentSectionLoad[0]),r.xp6(3),r.Q6J("ngIf",!i.currentSectionLoad[0]),r.xp6(17),r.Q6J("ngForOf",i.allLoads))},directives:[zr,Yd,Sn,qn,uo,F_],pipes:[Yo],styles:[".load-headers[_ngcontent-%COMP%]{text-align:center;margin:0;padding:0}.load-header[_ngcontent-%COMP%]{border:1px solid black;font-weight:700;letter-spacing:.1em;font-size:12px;margin:0;padding:0}.load-texts[_ngcontent-%COMP%]{text-align:center;margin:0;padding:0}.load-text[_ngcontent-%COMP%]{border:1px solid black;letter-spacing:.1em;margin:0;padding:0;font-size:12px}"]}),t})();const cue=["content"];function uue(t,n){1&t&&(r.TgZ(0,"div",13),r._UZ(1,"mat-spinner"),r.qZA())}function due(t,n){if(1&t&&r._UZ(0,"app-class-schedule-timeline",17),2&t){const e=r.oxw().$implicit;r.Q6J("classScheduleTimeline",e)}}function hue(t,n){if(1&t&&r._UZ(0,"app-class-schedule-table",18),2&t){const e=r.oxw().$implicit;r.Q6J("classScheduleTable",e)}}function fue(t,n){if(1&t&&(r.TgZ(0,"div"),r.YNc(1,due,1,1,"app-class-schedule-timeline",15),r.YNc(2,hue,1,1,"app-class-schedule-table",16),r.qZA()),2&t){const e=r.oxw(2);r.xp6(1),r.Q6J("ngIf","Class Schedule Timeline"==e.view),r.xp6(1),r.Q6J("ngIf","Class Schedule Table"==e.view)}}function pue(t,n){if(1&t&&(r.TgZ(0,"div"),r.YNc(1,fue,3,2,"div",14),r.qZA()),2&t){const e=r.oxw();r.xp6(1),r.Q6J("ngForOf",e.loads)}}let mue=(()=>{class t{constructor(e,i,o,s){this.loadService=e,this.passedData=i,this.roomSectionService=o,this.uiService=s,this.allLoadItems=[],this.loads=[],this.view="Class Schedule Timeline",this.sections=[],this.trimmedSections=[],this.isLoading=!0}ngOnInit(){this.roomSectionService.fetchSections(),this.sectionSubs=this.roomSectionService.sectionsChanged.subscribe(e=>{this.sections=e,this.sections=this.sections.sort((i,o)=>+i.section-+o.section),this.sections=this.sections.sort((i,o)=>+i.year-+o.year),this.sections=this.sections.sort((i,o)=>i.course<o.course?-1:i.course>o.course?1:0),e=e.filter(i=>i.course==this.passedData.currentUser.department),this.trimmedSections=[],e.forEach(i=>{let s=i.course.split(/\s/).reduce((a,d)=>a+d.slice(0,1),"");this.trimmedSections.push("BS"+s+" "+i.year+"-"+i.section)}),this.loadService.fetchAllLoad(this.passedData.activeAcademicYear.startYear,this.passedData.activeAcademicYear.semester,this.passedData.currentUser.fullName)}),this.loadSubs=this.loadService.allLoadChange.subscribe(e=>{this.allLoadItems=e,this.loads=[],this.trimmedSections.forEach(i=>{console.log(i);let o=[];e.forEach(s=>{s.section===i&&o.push(s)}),this.loads.push({loadItem:o}),this.isLoading=!1})})}exportToPDF(){const e=this.content.nativeElement;new xE("p","mm",[1e3,1e3]).html(e,{callback:o=>{try{o.save(`${this.passedData.currentUser.fullName}.pdf`)}catch(s){this.uiService.showErrorToast("Please choose a section first!","Error")}}})}filter(e){this.view=e}ngOnDestroy(){this.loadSubs.unsubscribe(),this.sectionSubs.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(bg),r.Y36($p),r.Y36(PC),r.Y36(Ko))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-class-schedule-timeline-modal"]],viewQuery:function(e,i){if(1&e&&r.Gf(cue,7),2&e){let o;r.iGM(o=r.CRH())&&(i.content=o.first)}},decls:19,vars:2,consts:[["fxLayout","column",1,"main-div"],["fxLayoutAlign","center center","fxLayout","column","fxLayoutGap","15px"],[1,"header"],["mat-raised-button","","color","primary",2,"width","200px",3,"click"],["fxLayout","row","fxLayoutAlign","start center"],[1,"view-text"],["color","primary","fxLayoutAlign","end center",1,"button-toggle"],["group","matButtonToggleGroup"],["value","Class Schedule Timeline",3,"click"],["value","Class Schedule Table",3,"click"],["fxLayoutAlign","center center","style","height: 100vh;",4,"ngIf"],["content",""],[4,"ngIf"],["fxLayoutAlign","center center",2,"height","100vh"],[4,"ngFor","ngForOf"],[3,"classScheduleTimeline",4,"ngIf"],[3,"classScheduleTable",4,"ngIf"],[3,"classScheduleTimeline"],[3,"classScheduleTable"]],template:function(e,i){if(1&e){const o=r.EpF();r.TgZ(0,"div",0)(1,"div",1)(2,"p",2),r._uU(3,"CLASS SCHEDULE"),r.qZA(),r.TgZ(4,"button",3),r.NdJ("click",function(){return i.exportToPDF()}),r._uU(5,"Export as PDF"),r.qZA(),r.TgZ(6,"div",4)(7,"p",5),r._uU(8,"View as:"),r.qZA(),r.TgZ(9,"mat-button-toggle-group",6,7)(11,"mat-button-toggle",8),r.NdJ("click",function(){r.CHM(o);const a=r.MAs(10);return i.filter(a.value)}),r._uU(12,"Class Schedule Timeline"),r.qZA(),r.TgZ(13,"mat-button-toggle",9),r.NdJ("click",function(){r.CHM(o);const a=r.MAs(10);return i.filter(a.value)}),r._uU(14,"Class Schedule Table"),r.qZA()()()(),r.YNc(15,uue,2,0,"div",10),r.TgZ(16,"div",null,11),r.YNc(18,pue,2,1,"div",12),r.qZA()()}2&e&&(r.xp6(15),r.Q6J("ngIf",i.isLoading),r.xp6(3),r.Q6J("ngIf",!i.isLoading))},directives:[zr,uo,$s,Uo,BC,UC,Sn,Yh,qn,tz,nz],styles:["[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#ad2a2a}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--light);border-radius:20px;-webkit-transition:all ease-in-out 1s;transition:all ease-in-out 1s}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--primary)}.main-div[_ngcontent-%COMP%]{padding:3vh 10vh;width:120vh;height:90vh;-ms-overflow-style:none;scrollbar-width:none;overflow-y:scroll}.main-div[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.button-toggle[_ngcontent-%COMP%]{padding:13px;height:25px}mat-button-toggle[_ngcontent-%COMP%]{font-family:var(--mont);font-size:13px!important}mat-button-toggle[_ngcontent-%COMP%]:hover{background-color:var(--primary)!important;color:#fff}.mat-button-toggle-checked[_ngcontent-%COMP%]{background-color:var(--primary)!important;color:#fff}.mat-button-toggle-group[_ngcontent-%COMP%]{border:0px!important}.header[_ngcontent-%COMP%]{font-family:var(--incon);font-size:20px;font-weight:700}"]}),t})(),jC=(()=>{class t{constructor(e,i){this.af=e,this.uiService=i,this.faculties=[],this.facultyChanged=new Ht.x,this.allFaculties=[],this.allFacultyChanged=new Ht.x,this.facultyAddedChanged=new Ht.x,this.activeFacultyChanged=new Ht.x}addFacultyToDatabase(e){this.af.collection("faculty").add(e),this.uiService.showSuccessToast("Faculty Added Succesfully!","Success")}fetchActiveFaculty(e){this.af.doc("faculty/"+e).snapshotChanges().subscribe(i=>{this.activeFaculty=Object.assign({id:i.payload.id},i.payload.data()),this.activeFacultyChanged.next(this.activeFaculty)})}fetchFaculty(e,i,o){this.af.collection("faculty").ref.where("startYear","==",e).where("semester","==",i).where("chairpersonName","==",o).onSnapshot(s=>{this.faculties=[],s.forEach(a=>{this.faculties.push(Object.assign({id:a.id},a.data()))}),this.facultyChanged.next(this.faculties)})}fetchAllFaculty(e,i){this.af.collection("faculty").ref.where("startYear","==",e).where("semester","==",i).get().then(o=>{this.allFaculties=[],o.forEach(s=>{this.allFaculties.push(Object.assign({id:s.id},s.data()))}),this.allFacultyChanged.next(this.allFaculties)})}onRemoveFaculty(e){this.af.doc("faculty/"+e).delete(),this.uiService.showSuccessToast("Faculty Deleted Succesfully!","Success")}updateFacultyToDatabase(e,i){this.af.doc("faculty/"+i).update(e),this.uiService.showSuccessToast("Faculty Updated Succesfully!","Success")}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(MC),r.LFG(Ko))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function gue(t,n){if(1&t&&(r.TgZ(0,"p",15),r._uU(1),r.ALo(2,"uppercase"),r.qZA()),2&t){const e=r.oxw();r.xp6(1),r.hij("FACULTY: ",r.lcZ(2,1,null==e.currentFacultyLoad[0]?null:e.currentFacultyLoad[0].facultyName),"")}}function _ue(t,n){1&t&&(r.TgZ(0,"p",15),r._uU(1,"FACULTY"),r.qZA())}function vue(t,n){if(1&t&&(r.TgZ(0,"p",16),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.xp6(1),r.Oqu(e)}}function yue(t,n){if(1&t&&(r.TgZ(0,"p",17),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.Q6J("ngClass","-"==e?"on-schedule":"@"==e?"on-overlap":"\xa0"==e?"":"on-schedule"),r.xp6(1),r.Oqu("-"==e||"@"==e?"\xa0\xa0":e)}}function bue(t,n){if(1&t&&(r.TgZ(0,"p",17),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.Q6J("ngClass","-"==e?"on-schedule":"@"==e?"on-overlap":"\xa0"==e?"":"on-schedule"),r.xp6(1),r.Oqu("-"==e||"@"==e?"\xa0\xa0":e)}}function wue(t,n){if(1&t&&(r.TgZ(0,"p",17),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.Q6J("ngClass","-"==e?"on-schedule":"@"==e?"on-overlap":"\xa0"==e?"":"on-schedule"),r.xp6(1),r.Oqu("-"==e||"@"==e?"\xa0\xa0":e)}}function Cue(t,n){if(1&t&&(r.TgZ(0,"p",17),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.Q6J("ngClass","-"==e?"on-schedule":"@"==e?"on-overlap":"\xa0"==e?"":"on-schedule"),r.xp6(1),r.Oqu("-"==e||"@"==e?"\xa0\xa0":e)}}function xue(t,n){if(1&t&&(r.TgZ(0,"p",17),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.Q6J("ngClass","-"==e?"on-schedule":"@"==e?"on-overlap":"\xa0"==e?"":"on-schedule"),r.xp6(1),r.Oqu("-"==e||"@"==e?"\xa0\xa0":e)}}function Tue(t,n){if(1&t&&(r.TgZ(0,"p",17),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.Q6J("ngClass","-"==e?"on-schedule":"@"==e?"on-overlap":"\xa0"==e?"":"on-schedule"),r.xp6(1),r.Oqu("-"==e||"@"==e?"\xa0\xa0":e)}}function Aue(t,n){if(1&t&&(r.TgZ(0,"p",17),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.Q6J("ngClass","-"==e?"on-schedule":"@"==e?"on-overlap":"\xa0"==e?"":"on-schedule"),r.xp6(1),r.Oqu("-"==e||"@"==e?"\xa0\xa0":e)}}let iz=(()=>{class t{constructor(e,i){this.uiService=e,this.loadService=i,this.currentFacultyLoad=[],this.times=["7:00 - 7:30 AM","7:30 - 8:00 AM","8:00 - 8:30 AM","8:30 - 9:00 AM","9:00 - 9:30 AM","9:30 - 10:00 AM","10:00 - 10:30 AM","10:30 - 11:00 AM","11:00 - 11:30 AM","11:30 - 12:00 PM","12:00 - 12:30 PM","12:30 - 1:00 PM","1:00 - 1:30 PM","1:30 - 2:00 PM","2:00 - 2:30 PM","2:30 - 3:00 PM","3:00 - 3:30 PM","3:30 - 4:00 PM","4:00 - 4:30 PM","4:30 - 5:00 PM","5:00 - 5:30 PM","5:30 - 6:00 PM","6:00 - 6:30 PM","6:30 - 7:00 PM","7:00 - 7:30 PM","7:30 - 8:00 PM","8:00 - 8:30 PM"],this.mondayLoad=[],this.tuesdayLoad=[],this.wednesdayLoad=[],this.thursdayLoad=[],this.fridayLoad=[],this.saturdayLoad=[],this.sundayLoad=[],this.allLoads=[],this.monday=[],this.tuesday=[],this.wednesday=[],this.thursday=[],this.friday=[],this.saturday=[],this.sunday=[],this.totalHours=0,this.totalUnits=0}ngOnInit(){this.fillDayArrays(),this.totalHours=0,this.totalUnits=0,this.fillDayArrays(),this.currentFacultyLoad=this.facultyLoadTimeline.loadItem,this.getDays(this.facultyLoadTimeline.loadItem),this.checkMondayLoads(),this.checkTuesdayLoads(),this.checkWednesdayLoads(),this.checkThursdayLoads(),this.checkFridayLoads(),this.checkSaturdayLoads(),this.checkSundayLoads()}checkMondayLoads(){const e=i=>new Date("1970/01/01 "+i);this.mondayLoad.sort((i,o)=>e(i.startTime)-e(o.startTime)),this.mondayLoad.forEach(i=>{let o=0,s=0,a=0,d=0,f=0,v="",w="";"7:00 AM"==i.startTime&&(v=i.subjectCode,o=d),this.times.forEach(S=>{S.includes(i.startTime)&&(v=i.subjectCode,o=d+1),S.includes(i.endTime)&&(w=i.section,s=f),d++,f++});let x=0;if(s-o!=1){a=s-o,x=Math.floor(a/2),this.monday[o+x]=v,this.monday[s-x]=w;for(let S=0;S<x;S++)this.monday[o]="-"==this.monday[o]||"@"==this.monday[s]?"@":"-",o++;for(let S=0;S<x;S++)"-"==this.monday[s]||"@"==this.monday[s]?this.monday[o]="@":this.monday[s]="-",s--}else this.monday[o]=v,this.monday[s]=w;x=0,o=0,s=0,a=0,d=0,f=0})}checkTuesdayLoads(){const e=i=>new Date("1970/01/01 "+i);this.thursdayLoad.sort((i,o)=>e(i.startTime)-e(o.startTime)),this.tuesdayLoad.forEach(i=>{let o=0,s=0,a=0,d=0,f=0,v="",w="";"7:00 AM"==i.startTime&&(v=i.subjectCode,o=d),this.times.forEach(S=>{S.includes(i.startTime)&&(v=i.subjectCode,o=d+1),S.includes(i.endTime)&&(w=i.section,s=f),d++,f++});let x=0;if(s-o!=1){a=s-o,x=Math.floor(a/2),this.tuesday[o+x]=v,this.tuesday[s-x]=w;for(let S=0;S<x;S++)this.tuesday[o]="-"==this.tuesday[o]||"@"==this.tuesday[s]?"@":"-",o++;for(let S=0;S<x;S++)"-"==this.tuesday[s]||"@"==this.tuesday[s]?this.tuesday[o]="@":this.tuesday[s]="-",s--}else this.tuesday[o]=v,this.tuesday[s]=w;x=0,o=0,s=0,a=0,d=0,f=0})}checkWednesdayLoads(){const e=i=>new Date("1970/01/01 "+i);this.wednesdayLoad.sort((i,o)=>e(i.startTime)-e(o.startTime)),this.wednesdayLoad.forEach(i=>{let o=0,s=0,a=0,d=0,f=0,v="",w="";"7:00 AM"==i.startTime&&(v=i.subjectCode,o=d),this.times.forEach(S=>{S.includes(i.startTime)&&(v=i.subjectCode,o=d+1),S.includes(i.endTime)&&(w=i.section,s=f),d++,f++});let x=0;if(s-o!=1){a=s-o,x=Math.floor(a/2),this.wednesday[o+x]=v,this.wednesday[s-x]=w;for(let S=0;S<x;S++)this.wednesday[o]="-"==this.wednesday[o]||"@"==this.wednesday[s]?"@":"-",o++;for(let S=0;S<x;S++)"-"==this.wednesday[s]||"@"==this.wednesday[s]?this.wednesday[o]="@":this.wednesday[s]="-",s--}else this.wednesday[o]=v,this.wednesday[s]=w;x=0,o=0,s=0,a=0,d=0,f=0})}checkThursdayLoads(){const e=i=>new Date("1970/01/01 "+i);this.thursdayLoad.sort((i,o)=>e(i.startTime)-e(o.startTime)),this.thursdayLoad.forEach(i=>{let o=0,s=0,a=0,d=0,f=0,v="",w="";"7:00 AM"==i.startTime&&(v=i.subjectCode,o=d),this.times.forEach(S=>{S.includes(i.startTime)&&(v=i.subjectCode,o=d+1),S.includes(i.endTime)&&(w=i.section,s=f),d++,f++});let x=0;if(s-o!=1){a=s-o,x=Math.floor(a/2),this.thursday[o+x]=v,this.thursday[s-x]=w;for(let S=0;S<x;S++)this.thursday[o]="-"==this.thursday[o]||"@"==this.thursday[s]?"@":"-",o++;for(let S=0;S<x;S++)"-"==this.thursday[s]||"@"==this.thursday[s]?this.thursday[o]="@":this.thursday[s]="-",s--}else this.thursday[o]=v,this.thursday[s]=w;x=0,o=0,s=0,a=0,d=0,f=0})}checkFridayLoads(){const e=i=>new Date("1970/01/01 "+i);this.fridayLoad.sort((i,o)=>e(i.startTime)-e(o.startTime)),this.fridayLoad.forEach(i=>{let o=0,s=0,a=0,d=0,f=0,v="",w="";"7:00 AM"==i.startTime&&(v=i.subjectCode,o=d),this.times.forEach(S=>{S.includes(i.startTime)&&(v=i.subjectCode,o=d+1),S.includes(i.endTime)&&(w=i.section,s=f),d++,f++});let x=0;if(s-o!=1){a=s-o,x=Math.floor(a/2),this.friday[o+x]=v,this.friday[s-x]=w;for(let S=0;S<x;S++)this.friday[o]="-"==this.friday[o]||"@"==this.friday[s]?"@":"-",o++;for(let S=0;S<x;S++)"-"==this.friday[s]||"@"==this.friday[s]?this.friday[o]="@":this.friday[s]="-",s--}else this.friday[o]=v,this.friday[s]=w;x=0,o=0,s=0,a=0,d=0,f=0})}checkSaturdayLoads(){const e=i=>new Date("1970/01/01 "+i);this.saturdayLoad.sort((i,o)=>e(i.startTime)-e(o.startTime)),this.saturdayLoad.forEach(i=>{let o=0,s=0,a=0,d=0,f=0,v="",w="";"7:00 AM"==i.startTime&&(v=i.subjectCode,o=d),this.times.forEach(S=>{S.includes(i.startTime)&&(v=i.subjectCode,o=d+1),S.includes(i.endTime)&&(w=i.section,s=f),d++,f++});let x=0;if(s-o!=1){a=s-o,x=Math.floor(a/2),this.saturday[o+x]=v,this.saturday[s-x]=w;for(let S=0;S<x;S++)this.saturday[o]="-"==this.saturday[o]||"@"==this.saturday[s]?"@":"-",o++;for(let S=0;S<x;S++)"-"==this.saturday[s]||"@"==this.saturday[s]?this.saturday[o]="@":this.saturday[s]="-",s--}else this.saturday[o]=v,this.saturday[s]=w;x=0,o=0,s=0,a=0,d=0,f=0})}checkSundayLoads(){const e=i=>new Date("1970/01/01 "+i);this.sundayLoad.sort((i,o)=>e(i.startTime)-e(o.startTime)),this.sundayLoad.forEach(i=>{let o=0,s=0,a=0,d=0,f=0,v="",w="";"7:00 AM"==i.startTime&&(v=i.subjectCode,o=d),this.times.forEach(S=>{S.includes(i.startTime)&&(v=i.subjectCode,o=d+1),S.includes(i.endTime)&&(w=i.section,s=f),d++,f++});let x=0;if(s-o!=1){a=s-o,x=Math.floor(a/2),this.sunday[o+x]=v,this.sunday[s-x]=w;for(let S=0;S<x;S++)this.sunday[o]="-"==this.sunday[o]||"@"==this.sunday[s]?"@":"-",o++;for(let S=0;S<x;S++)"-"==this.sunday[s]||"@"==this.sunday[s]?this.sunday[o]="@":this.sunday[s]="-",s--}else this.sunday[o]=v,this.sunday[s]=w;x=0,o=0,s=0,a=0,d=0,f=0})}getDays(e){this.allLoads=[],this.mondayLoad=e.filter(o=>"monday"==o.day),this.tuesdayLoad=e.filter(o=>"tuesday"==o.day),this.wednesdayLoad=e.filter(o=>"wednesday"==o.day),this.thursdayLoad=e.filter(o=>"thursday"==o.day),this.fridayLoad=e.filter(o=>"friday"==o.day),this.saturdayLoad=e.filter(o=>"saturday"==o.day),this.sundayLoad=e.filter(o=>"sunday"==o.day),this.mondayLoad.forEach(o=>{this.allLoads.push(o)}),this.tuesdayLoad.forEach(o=>{this.allLoads.push(o)}),this.wednesdayLoad.forEach(o=>{this.allLoads.push(o)}),this.thursdayLoad.forEach(o=>{this.allLoads.push(o)}),this.fridayLoad.forEach(o=>{this.allLoads.push(o)}),this.saturdayLoad.forEach(o=>{this.allLoads.push(o)}),this.sundayLoad.forEach(o=>{this.allLoads.push(o)}),this.allLoads.forEach(o=>{this.totalHours+=+o.noHour}),this.removeDuplicates(this.allLoads,"subjectCode").forEach(o=>{this.totalUnits+=+o.units})}removeDuplicates(e,i){var o=[],s={};for(var a in e)s[e[a][i]]=e[a];for(a in s)o.push(s[a]);return o}fillDayArrays(){let e=0;this.times.forEach(i=>{this.monday[e]="\xa0",e++}),e=0,this.times.forEach(i=>{this.tuesday[e]="\xa0",e++}),e=0,this.times.forEach(i=>{this.wednesday[e]="\xa0",e++}),e=0,this.times.forEach(i=>{this.thursday[e]="\xa0",e++}),e=0,this.times.forEach(i=>{this.friday[e]="\xa0",e++}),e=0,this.times.forEach(i=>{this.saturday[e]="\xa0",e++}),e=0,this.times.forEach(i=>{this.sunday[e]="\xa0",e++}),e=0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Ko),r.Y36(bg))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-faculty-load-timeline"]],inputs:{facultyLoadTimeline:"facultyLoadTimeline"},decls:49,vars:10,consts:[["fxLayout","column",1,"timeline",2,"margin-left","15px","margin-bottom","352px"],["fxFlex","16%",1,"time"],["class"," section",4,"ngIf"],["fxFlex","84%"],["fxLayout","row",1,"table"],[1,"table-item","header"],["class","table-item",4,"ngFor","ngForOf"],["fxFlex","12%",1,"monday"],["class","table-item",3,"ngClass",4,"ngFor","ngForOf"],["fxFlex","12%",1,"tuesday"],["fxFlex","12%",1,"wednesday"],["fxFlex","12%",1,"thursday"],["fxFlex","12%",1,"friday"],["fxFlex","12%",1,"saturday"],["fxFlex","12%",1,"sunday"],[1,"section"],[1,"table-item"],[1,"table-item",3,"ngClass"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div"),r.YNc(3,gue,3,3,"p",2),r.qZA()(),r.TgZ(4,"div",1)(5,"div"),r.YNc(6,_ue,2,0,"p",2),r.qZA()(),r._UZ(7,"div",3),r.TgZ(8,"div",4)(9,"div",1)(10,"div")(11,"p",5),r._uU(12,"TIME"),r.qZA(),r.YNc(13,vue,2,1,"p",6),r.qZA()(),r.TgZ(14,"div",7)(15,"div")(16,"p",5),r._uU(17,"MONDAY"),r.qZA(),r.YNc(18,yue,2,2,"p",8),r.qZA()(),r.TgZ(19,"div",9)(20,"div")(21,"p",5),r._uU(22,"TUESDAY"),r.qZA(),r.YNc(23,bue,2,2,"p",8),r.qZA()(),r.TgZ(24,"div",10)(25,"div")(26,"p",5),r._uU(27,"WEDNESDAY"),r.qZA(),r.YNc(28,wue,2,2,"p",8),r.qZA()(),r.TgZ(29,"div",11)(30,"div")(31,"p",5),r._uU(32,"THURSDAY"),r.qZA(),r.YNc(33,Cue,2,2,"p",8),r.qZA()(),r.TgZ(34,"div",12)(35,"div")(36,"p",5),r._uU(37,"FRIDAY"),r.qZA(),r.YNc(38,xue,2,2,"p",8),r.qZA()(),r.TgZ(39,"div",13)(40,"div")(41,"p",5),r._uU(42,"SATURDAY"),r.qZA(),r.YNc(43,Tue,2,2,"p",8),r.qZA()(),r.TgZ(44,"div",14)(45,"div")(46,"p",5),r._uU(47,"SUNDAY"),r.qZA(),r.YNc(48,Aue,2,2,"p",8),r.qZA()()()()),2&e&&(r.xp6(3),r.Q6J("ngIf",i.currentFacultyLoad[0]),r.xp6(3),r.Q6J("ngIf",!i.currentFacultyLoad[0]),r.xp6(7),r.Q6J("ngForOf",i.times),r.xp6(5),r.Q6J("ngForOf",i.monday),r.xp6(5),r.Q6J("ngForOf",i.tuesday),r.xp6(5),r.Q6J("ngForOf",i.wednesday),r.xp6(5),r.Q6J("ngForOf",i.thursday),r.xp6(5),r.Q6J("ngForOf",i.friday),r.xp6(5),r.Q6J("ngForOf",i.saturday),r.xp6(5),r.Q6J("ngForOf",i.sunday))},directives:[zr,Yd,Sn,qn,xr,W_],pipes:[Yo],styles:[".timeline[_ngcontent-%COMP%]{margin-top:15px}.table-item[_ngcontent-%COMP%]{border:1px solid black;text-align:center;margin:0}.header[_ngcontent-%COMP%]{font-size:12px;font-weight:700;letter-spacing:.1em}.on-schedule[_ngcontent-%COMP%]{background-color:#dbdbdb}.on-overlap[_ngcontent-%COMP%]{background-color:#ff9a9a}.section[_ngcontent-%COMP%]{font-weight:700;font-family:var(--incon)}.load-headers[_ngcontent-%COMP%]{text-align:center;margin:0;padding:0}.load-header[_ngcontent-%COMP%]{border:1px solid black;font-weight:700;letter-spacing:.1em;font-size:12px;margin:0;padding:0}.load-texts[_ngcontent-%COMP%]{text-align:center;margin:0;padding:0}.load-text[_ngcontent-%COMP%]{border:1px solid black;letter-spacing:.1em;margin:0;padding:0;font-size:12px}.total-texts[_ngcontent-%COMP%]{text-align:center}.total-text[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.1em;font-size:12px;border:1px solid black}"]}),t})();function Sue(t,n){if(1&t&&(r.TgZ(0,"p",15),r._uU(1),r.ALo(2,"uppercase"),r.qZA()),2&t){const e=r.oxw();r.xp6(1),r.hij("FACULTY: ",r.lcZ(2,1,null==e.currentFacultyLoad[0]?null:e.currentFacultyLoad[0].facultyName),"")}}function Due(t,n){1&t&&(r.TgZ(0,"p",15),r._uU(1,"FACULTY"),r.qZA())}function Eue(t,n){if(1&t&&(r.TgZ(0,"div",16)(1,"div",4)(2,"p",17),r._uU(3),r.qZA()(),r.TgZ(4,"div",6)(5,"p",17),r._uU(6),r.ALo(7,"uppercase"),r.qZA()(),r.TgZ(8,"div",7)(9,"p",17),r._uU(10),r.ALo(11,"uppercase"),r.qZA()(),r.TgZ(12,"div",8)(13,"p",17),r._uU(14),r.ALo(15,"uppercase"),r.qZA()(),r.TgZ(16,"div",8)(17,"p",17),r._uU(18),r.ALo(19,"uppercase"),r.qZA()(),r.TgZ(20,"div",6)(21,"p",17),r._uU(22),r.ALo(23,"uppercase"),r.qZA()(),r.TgZ(24,"div",6)(25,"p",17),r._uU(26),r.ALo(27,"uppercase"),r.qZA()(),r.TgZ(28,"div",9)(29,"p",17),r._uU(30),r.qZA()(),r.TgZ(31,"div",6)(32,"p",17),r._uU(33),r.ALo(34,"uppercase"),r.qZA()()()),2&t){const e=n.$implicit,i=n.index;r.xp6(3),r.Oqu(i+1),r.xp6(3),r.Oqu(r.lcZ(7,9,e.subjectCode)),r.xp6(4),r.Oqu(r.lcZ(11,11,e.subjectDescription)),r.xp6(4),r.Oqu(r.lcZ(15,13,e.units)),r.xp6(4),r.Oqu(r.lcZ(19,15,e.noHour)),r.xp6(4),r.Oqu(r.lcZ(23,17,e.section)),r.xp6(4),r.Oqu(r.lcZ(27,19,e.day.substring(0,3))),r.xp6(4),r.Oqu(e.startTime.substring(0,e.startTime.length-3)+" - "+e.endTime),r.xp6(3),r.Oqu(r.lcZ(34,21,e.room))}}let rz=(()=>{class t{constructor(e,i){this.uiService=e,this.loadService=i,this.currentFacultyLoad=[],this.times=["7:00 - 7:30 AM","7:30 - 8:00 AM","8:00 - 8:30 AM","8:30 - 9:00 AM","9:00 - 9:30 AM","9:30 - 10:00 AM","10:00 - 10:30 AM","10:30 - 11:00 AM","11:00 - 11:30 AM","11:30 - 12:00 PM","12:00 - 12:30 PM","12:30 - 1:00 PM","1:00 - 1:30 PM","1:30 - 2:00 PM","2:00 - 2:30 PM","2:30 - 3:00 PM","3:00 - 3:30 PM","3:30 - 4:00 PM","4:00 - 4:30 PM","4:30 - 5:00 PM","5:00 - 5:30 PM","5:30 - 6:00 PM","6:00 - 6:30 PM","6:30 - 7:00 PM","7:00 - 7:30 PM","7:30 - 8:00 PM","8:00 - 8:30 PM"],this.mondayLoad=[],this.tuesdayLoad=[],this.wednesdayLoad=[],this.thursdayLoad=[],this.fridayLoad=[],this.saturdayLoad=[],this.sundayLoad=[],this.allLoads=[],this.monday=[],this.tuesday=[],this.wednesday=[],this.thursday=[],this.friday=[],this.saturday=[],this.sunday=[],this.totalHours=0,this.totalUnits=0}ngOnInit(){this.fillDayArrays(),this.totalHours=0,this.totalUnits=0,this.fillDayArrays(),this.currentFacultyLoad=this.facultyLoadTable.loadItem,this.getDays(this.facultyLoadTable.loadItem),this.checkMondayLoads(),this.checkTuesdayLoads(),this.checkWednesdayLoads(),this.checkThursdayLoads(),this.checkFridayLoads(),this.checkSaturdayLoads(),this.checkSundayLoads()}checkMondayLoads(){const e=i=>new Date("1970/01/01 "+i);this.mondayLoad.sort((i,o)=>e(i.startTime)-e(o.startTime)),this.mondayLoad.forEach(i=>{let o=0,s=0,a=0,d=0,f=0,v="",w="";"7:00 AM"==i.startTime&&(v=i.subjectCode,o=d),this.times.forEach(S=>{S.includes(i.startTime)&&(v=i.subjectCode,o=d+1),S.includes(i.endTime)&&(w=i.section,s=f),d++,f++});let x=0;if(s-o!=1){a=s-o,x=Math.floor(a/2),this.monday[o+x]=v,this.monday[s-x]=w;for(let S=0;S<x;S++)this.monday[o]="-"==this.monday[o]||"@"==this.monday[s]?"@":"-",o++;for(let S=0;S<x;S++)"-"==this.monday[s]||"@"==this.monday[s]?this.monday[o]="@":this.monday[s]="-",s--}else this.monday[o]=v,this.monday[s]=w;x=0,o=0,s=0,a=0,d=0,f=0})}checkTuesdayLoads(){const e=i=>new Date("1970/01/01 "+i);this.thursdayLoad.sort((i,o)=>e(i.startTime)-e(o.startTime)),this.tuesdayLoad.forEach(i=>{let o=0,s=0,a=0,d=0,f=0,v="",w="";"7:00 AM"==i.startTime&&(v=i.subjectCode,o=d),this.times.forEach(S=>{S.includes(i.startTime)&&(v=i.subjectCode,o=d+1),S.includes(i.endTime)&&(w=i.section,s=f),d++,f++});let x=0;if(s-o!=1){a=s-o,x=Math.floor(a/2),this.tuesday[o+x]=v,this.tuesday[s-x]=w;for(let S=0;S<x;S++)this.tuesday[o]="-"==this.tuesday[o]||"@"==this.tuesday[s]?"@":"-",o++;for(let S=0;S<x;S++)"-"==this.tuesday[s]||"@"==this.tuesday[s]?this.tuesday[o]="@":this.tuesday[s]="-",s--}else this.tuesday[o]=v,this.tuesday[s]=w;x=0,o=0,s=0,a=0,d=0,f=0})}checkWednesdayLoads(){const e=i=>new Date("1970/01/01 "+i);this.wednesdayLoad.sort((i,o)=>e(i.startTime)-e(o.startTime)),this.wednesdayLoad.forEach(i=>{let o=0,s=0,a=0,d=0,f=0,v="",w="";"7:00 AM"==i.startTime&&(v=i.subjectCode,o=d),this.times.forEach(S=>{S.includes(i.startTime)&&(v=i.subjectCode,o=d+1),S.includes(i.endTime)&&(w=i.section,s=f),d++,f++});let x=0;if(s-o!=1){a=s-o,x=Math.floor(a/2),this.wednesday[o+x]=v,this.wednesday[s-x]=w;for(let S=0;S<x;S++)this.wednesday[o]="-"==this.wednesday[o]||"@"==this.wednesday[s]?"@":"-",o++;for(let S=0;S<x;S++)"-"==this.wednesday[s]||"@"==this.wednesday[s]?this.wednesday[o]="@":this.wednesday[s]="-",s--}else this.wednesday[o]=v,this.wednesday[s]=w;x=0,o=0,s=0,a=0,d=0,f=0})}checkThursdayLoads(){const e=i=>new Date("1970/01/01 "+i);this.thursdayLoad.sort((i,o)=>e(i.startTime)-e(o.startTime)),this.thursdayLoad.forEach(i=>{let o=0,s=0,a=0,d=0,f=0,v="",w="";"7:00 AM"==i.startTime&&(v=i.subjectCode,o=d),this.times.forEach(S=>{S.includes(i.startTime)&&(v=i.subjectCode,o=d+1),S.includes(i.endTime)&&(w=i.section,s=f),d++,f++});let x=0;if(s-o!=1){a=s-o,x=Math.floor(a/2),this.thursday[o+x]=v,this.thursday[s-x]=w;for(let S=0;S<x;S++)this.thursday[o]="-"==this.thursday[o]||"@"==this.thursday[s]?"@":"-",o++;for(let S=0;S<x;S++)"-"==this.thursday[s]||"@"==this.thursday[s]?this.thursday[o]="@":this.thursday[s]="-",s--}else this.thursday[o]=v,this.thursday[s]=w;x=0,o=0,s=0,a=0,d=0,f=0})}checkFridayLoads(){const e=i=>new Date("1970/01/01 "+i);this.fridayLoad.sort((i,o)=>e(i.startTime)-e(o.startTime)),this.fridayLoad.forEach(i=>{let o=0,s=0,a=0,d=0,f=0,v="",w="";"7:00 AM"==i.startTime&&(v=i.subjectCode,o=d),this.times.forEach(S=>{S.includes(i.startTime)&&(v=i.subjectCode,o=d+1),S.includes(i.endTime)&&(w=i.section,s=f),d++,f++});let x=0;if(s-o!=1){a=s-o,x=Math.floor(a/2),this.friday[o+x]=v,this.friday[s-x]=w;for(let S=0;S<x;S++)this.friday[o]="-"==this.friday[o]||"@"==this.friday[s]?"@":"-",o++;for(let S=0;S<x;S++)"-"==this.friday[s]||"@"==this.friday[s]?this.friday[o]="@":this.friday[s]="-",s--}else this.friday[o]=v,this.friday[s]=w;x=0,o=0,s=0,a=0,d=0,f=0})}checkSaturdayLoads(){const e=i=>new Date("1970/01/01 "+i);this.saturdayLoad.sort((i,o)=>e(i.startTime)-e(o.startTime)),this.saturdayLoad.forEach(i=>{let o=0,s=0,a=0,d=0,f=0,v="",w="";"7:00 AM"==i.startTime&&(v=i.subjectCode,o=d),this.times.forEach(S=>{S.includes(i.startTime)&&(v=i.subjectCode,o=d+1),S.includes(i.endTime)&&(w=i.section,s=f),d++,f++});let x=0;if(s-o!=1){a=s-o,x=Math.floor(a/2),this.saturday[o+x]=v,this.saturday[s-x]=w;for(let S=0;S<x;S++)this.saturday[o]="-"==this.saturday[o]||"@"==this.saturday[s]?"@":"-",o++;for(let S=0;S<x;S++)"-"==this.saturday[s]||"@"==this.saturday[s]?this.saturday[o]="@":this.saturday[s]="-",s--}else this.saturday[o]=v,this.saturday[s]=w;x=0,o=0,s=0,a=0,d=0,f=0})}checkSundayLoads(){const e=i=>new Date("1970/01/01 "+i);this.sundayLoad.sort((i,o)=>e(i.startTime)-e(o.startTime)),this.sundayLoad.forEach(i=>{let o=0,s=0,a=0,d=0,f=0,v="",w="";"7:00 AM"==i.startTime&&(v=i.subjectCode,o=d),this.times.forEach(S=>{S.includes(i.startTime)&&(v=i.subjectCode,o=d+1),S.includes(i.endTime)&&(w=i.section,s=f),d++,f++});let x=0;if(s-o!=1){a=s-o,x=Math.floor(a/2),this.sunday[o+x]=v,this.sunday[s-x]=w;for(let S=0;S<x;S++)this.sunday[o]="-"==this.sunday[o]||"@"==this.sunday[s]?"@":"-",o++;for(let S=0;S<x;S++)"-"==this.sunday[s]||"@"==this.sunday[s]?this.sunday[o]="@":this.sunday[s]="-",s--}else this.sunday[o]=v,this.sunday[s]=w;x=0,o=0,s=0,a=0,d=0,f=0})}getDays(e){this.allLoads=[],this.mondayLoad=e.filter(o=>"monday"==o.day),this.tuesdayLoad=e.filter(o=>"tuesday"==o.day),this.wednesdayLoad=e.filter(o=>"wednesday"==o.day),this.thursdayLoad=e.filter(o=>"thursday"==o.day),this.fridayLoad=e.filter(o=>"friday"==o.day),this.saturdayLoad=e.filter(o=>"saturday"==o.day),this.sundayLoad=e.filter(o=>"sunday"==o.day),this.mondayLoad.forEach(o=>{this.allLoads.push(o)}),this.tuesdayLoad.forEach(o=>{this.allLoads.push(o)}),this.wednesdayLoad.forEach(o=>{this.allLoads.push(o)}),this.thursdayLoad.forEach(o=>{this.allLoads.push(o)}),this.fridayLoad.forEach(o=>{this.allLoads.push(o)}),this.saturdayLoad.forEach(o=>{this.allLoads.push(o)}),this.sundayLoad.forEach(o=>{this.allLoads.push(o)}),this.allLoads.forEach(o=>{this.totalHours+=+o.noHour}),this.removeDuplicates(this.allLoads,"subjectCode").forEach(o=>{this.totalUnits+=+o.units})}removeDuplicates(e,i){var o=[],s={};for(var a in e)s[e[a][i]]=e[a];for(a in s)o.push(s[a]);return o}fillDayArrays(){let e=0;this.times.forEach(i=>{this.monday[e]="\xa0",e++}),e=0,this.times.forEach(i=>{this.tuesday[e]="\xa0",e++}),e=0,this.times.forEach(i=>{this.wednesday[e]="\xa0",e++}),e=0,this.times.forEach(i=>{this.thursday[e]="\xa0",e++}),e=0,this.times.forEach(i=>{this.friday[e]="\xa0",e++}),e=0,this.times.forEach(i=>{this.saturday[e]="\xa0",e++}),e=0,this.times.forEach(i=>{this.sunday[e]="\xa0",e++}),e=0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Ko),r.Y36(bg))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-faculty-load-table"]],inputs:{facultyLoadTable:"facultyLoadTable"},decls:58,vars:5,consts:[["fxLayout","column",2,"margin-left","15px","margin-top","15px"],["fxFlex","16%",1,"time"],["class"," section",4,"ngIf"],["fxLayout","row",1,"load-headers",2,"width","100%"],["fxFlex","5.11%"],[1,"load-header",2,"background-color","rgb(189, 189, 189)"],["fxFlex","11.11%"],["fxFlex","25.11%"],["fxFlex","6.11%"],["fxFlex","13.11%"],["class","load-texts","fxLayout","row","fxLayoutAlign","center","style","width: 99.7%;",4,"ngFor","ngForOf"],["fxLayout","row",1,"total-texts",2,"width","99.7%"],["fxFill",""],["fxFill","",1,"total-text",2,"background-color","rgb(189, 189, 189)"],["fxFill","",1,"total-text"],[1,"section"],["fxLayout","row","fxLayoutAlign","center",1,"load-texts",2,"width","99.7%"],["fxFill","",1,"load-text"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div"),r.YNc(3,Sue,3,3,"p",2),r.qZA()(),r.TgZ(4,"div",1)(5,"div"),r.YNc(6,Due,2,0,"p",2),r.qZA()(),r.TgZ(7,"div",3)(8,"div",4)(9,"p",5),r._uU(10,"No."),r.qZA()(),r.TgZ(11,"div",6)(12,"p",5),r._uU(13,"Code"),r.qZA()(),r.TgZ(14,"div",7)(15,"p",5),r._uU(16,"Subject"),r.qZA()(),r.TgZ(17,"div",8)(18,"p",5),r._uU(19,"Units"),r.qZA()(),r.TgZ(20,"div",8)(21,"p",5),r._uU(22,"Hours"),r.qZA()(),r.TgZ(23,"div",6)(24,"p",5),r._uU(25,"Section"),r.qZA()(),r.TgZ(26,"div",6)(27,"p",5),r._uU(28,"Day"),r.qZA()(),r.TgZ(29,"div",9)(30,"p",5),r._uU(31,"Time"),r.qZA()(),r.TgZ(32,"div",6)(33,"p",5),r._uU(34,"Room"),r.qZA()()(),r.YNc(35,Eue,35,23,"div",10),r.TgZ(36,"div",11)(37,"div",4),r._UZ(38,"p",12),r.qZA(),r.TgZ(39,"div",6),r._UZ(40,"p",12),r.qZA(),r.TgZ(41,"div",7)(42,"p",13),r._uU(43,"Total"),r.qZA()(),r.TgZ(44,"div",8)(45,"p",14),r._uU(46),r.qZA()(),r.TgZ(47,"div",8)(48,"p",14),r._uU(49),r.qZA()(),r.TgZ(50,"div",6),r._UZ(51,"p",12),r.qZA(),r.TgZ(52,"div",6),r._UZ(53,"p",12),r.qZA(),r.TgZ(54,"div",9),r._UZ(55,"p",12),r.qZA(),r.TgZ(56,"div",6),r._UZ(57,"p",12),r.qZA()()()),2&e&&(r.xp6(3),r.Q6J("ngIf",i.currentFacultyLoad[0]),r.xp6(3),r.Q6J("ngIf",!i.currentFacultyLoad[0]),r.xp6(29),r.Q6J("ngForOf",i.allLoads),r.xp6(11),r.Oqu(i.totalUnits),r.xp6(3),r.Oqu(i.totalHours))},directives:[zr,Yd,Sn,qn,uo,F_],pipes:[Yo],styles:[".timeline[_ngcontent-%COMP%]{margin-top:15px}.table-item[_ngcontent-%COMP%]{border:1px solid black;text-align:center;margin:0}.header[_ngcontent-%COMP%]{font-size:12px;font-weight:700;letter-spacing:.1em}.on-schedule[_ngcontent-%COMP%]{background-color:#dbdbdb}.section[_ngcontent-%COMP%]{font-weight:700;font-family:var(--incon)}.load-headers[_ngcontent-%COMP%]{text-align:center;margin:0;padding:0}.load-header[_ngcontent-%COMP%]{border:1px solid black;font-weight:700;letter-spacing:.1em;font-size:12px;margin:0;padding:0}.load-texts[_ngcontent-%COMP%]{text-align:center;margin:0;padding:0}.load-text[_ngcontent-%COMP%]{border:1px solid black;letter-spacing:.1em;margin:0;padding:0;font-size:12px}.total-texts[_ngcontent-%COMP%]{text-align:center}.total-text[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.1em;font-size:12px;border:1px solid black}"]}),t})();const Mue=["content"];function kue(t,n){1&t&&(r.TgZ(0,"div",13),r._UZ(1,"mat-spinner"),r.qZA())}function Iue(t,n){if(1&t&&r._UZ(0,"app-faculty-load-timeline",17),2&t){const e=r.oxw().$implicit;r.Q6J("facultyLoadTimeline",e)}}function Oue(t,n){if(1&t&&r._UZ(0,"app-faculty-load-table",18),2&t){const e=r.oxw().$implicit;r.Q6J("facultyLoadTable",e)}}function Lue(t,n){if(1&t&&(r.TgZ(0,"div"),r.YNc(1,Iue,1,1,"app-faculty-load-timeline",15),r.YNc(2,Oue,1,1,"app-faculty-load-table",16),r.qZA()),2&t){const e=r.oxw(2);r.xp6(1),r.Q6J("ngIf","Faculty Load Timeline"==e.view),r.xp6(1),r.Q6J("ngIf","Faculty Load Table"==e.view)}}function Fue(t,n){if(1&t&&(r.TgZ(0,"div"),r.YNc(1,Lue,3,2,"div",14),r.qZA()),2&t){const e=r.oxw();r.xp6(1),r.Q6J("ngForOf",e.loads)}}let Nue=(()=>{class t{constructor(e,i,o,s){this.loadService=e,this.passedData=i,this.facultyService=o,this.uiService=s,this.allLoadItems=[],this.loads=[],this.view="Faculty Load Timeline",this.faculties=[],this.isLoading=!0}ngOnInit(){this.facultyService.fetchFaculty(this.passedData.activeAcademicYear.startYear,this.passedData.activeAcademicYear.semester,this.passedData.currentUser.fullName),this.facultySubs=this.facultyService.facultyChanged.subscribe(e=>{this.faculties=e,this.loadService.fetchAllLoad(this.passedData.activeAcademicYear.startYear,this.passedData.activeAcademicYear.semester,this.passedData.currentUser.fullName)}),this.loadSubs=this.loadService.allLoadChange.subscribe(e=>{this.loads=[],this.allLoadItems=e,this.faculties.forEach(i=>{let o=[];e.forEach(s=>{s.facultyId===i.id&&o.push(s)}),this.loads.push({loadItem:o})}),this.isLoading=!1})}exportToPDF(){const e=this.content.nativeElement;new xE("p","mm",[1e3,1e3]).html(e,{callback:o=>{try{o.save(`${this.passedData.currentUser.fullName}.pdf`)}catch(s){this.uiService.showErrorToast("Please choose a section first!","Error")}}})}filter(e){this.view=e}ngOnDestroy(){this.loadSubs.unsubscribe(),this.facultySubs.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(bg),r.Y36($p),r.Y36(jC),r.Y36(Ko))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-faculty-load-timeline-modal"]],viewQuery:function(e,i){if(1&e&&r.Gf(Mue,7),2&e){let o;r.iGM(o=r.CRH())&&(i.content=o.first)}},decls:19,vars:2,consts:[["fxLayout","column",1,"main-div"],["fxLayoutAlign","center center","fxLayout","column","fxLayoutGap","15px"],[1,"header"],["mat-raised-button","","color","primary",2,"width","200px",3,"click"],["fxLayout","row","fxLayoutAlign","start center"],[1,"view-text"],["color","primary","fxLayoutAlign","end center",1,"button-toggle"],["group","matButtonToggleGroup"],["value","Faculty Load Timeline",3,"click"],["value","Faculty Load Table",3,"click"],["fxLayoutAlign","center center","style","height: 100vh;",4,"ngIf"],["content",""],[4,"ngIf"],["fxLayoutAlign","center center",2,"height","100vh"],[4,"ngFor","ngForOf"],[3,"facultyLoadTimeline",4,"ngIf"],[3,"facultyLoadTable",4,"ngIf"],[3,"facultyLoadTimeline"],[3,"facultyLoadTable"]],template:function(e,i){if(1&e){const o=r.EpF();r.TgZ(0,"div",0)(1,"div",1)(2,"p",2),r._uU(3,"FACULTY SCHEDULE"),r.qZA(),r.TgZ(4,"button",3),r.NdJ("click",function(){return i.exportToPDF()}),r._uU(5,"Export as PDF"),r.qZA(),r.TgZ(6,"div",4)(7,"p",5),r._uU(8,"View as:"),r.qZA(),r.TgZ(9,"mat-button-toggle-group",6,7)(11,"mat-button-toggle",8),r.NdJ("click",function(){r.CHM(o);const a=r.MAs(10);return i.filter(a.value)}),r._uU(12,"Faculty Load Timeline"),r.qZA(),r.TgZ(13,"mat-button-toggle",9),r.NdJ("click",function(){r.CHM(o);const a=r.MAs(10);return i.filter(a.value)}),r._uU(14,"Faculty Load Table"),r.qZA()()()(),r.YNc(15,kue,2,0,"div",10),r.TgZ(16,"div",null,11),r.YNc(18,Fue,2,1,"div",12),r.qZA()()}2&e&&(r.xp6(15),r.Q6J("ngIf",i.isLoading),r.xp6(3),r.Q6J("ngIf",!i.isLoading))},directives:[zr,uo,$s,Uo,BC,UC,Sn,Yh,qn,iz,rz],styles:["[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#ad2a2a}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--light);border-radius:20px;-webkit-transition:all ease-in-out 1s;transition:all ease-in-out 1s}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--primary)}.main-div[_ngcontent-%COMP%]{padding:3vh 10vh;width:120vh;height:90vh;-ms-overflow-style:none;scrollbar-width:none;overflow-y:scroll}.main-div[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.button-toggle[_ngcontent-%COMP%]{padding:13px;height:25px}mat-button-toggle[_ngcontent-%COMP%]{font-family:var(--mont);font-size:13px!important}mat-button-toggle[_ngcontent-%COMP%]:hover{background-color:var(--primary)!important;color:#fff}.mat-button-toggle-checked[_ngcontent-%COMP%]{background-color:var(--primary)!important;color:#fff}.mat-button-toggle-group[_ngcontent-%COMP%]{border:0px!important}.header[_ngcontent-%COMP%]{font-family:var(--incon);font-size:20px;font-weight:700}"]}),t})(),VC=(()=>{class t{constructor(e,i){this.af=e,this.uiService=i,this.activeAcademicChange=new Ht.x,this.activeIdChange=new Ht.x,this.academicYears=[],this.academicYearChange=new Ht.x}setAcademicYear(e){this.af.collection("academic").add(e),this.uiService.showSuccessToast("Academic Year Changed Succesfully!","Success"),this.fetchActiveAcademicYear()}setInactiveAcademicYear(e){this.af.doc("academic/"+e).update({isActive:!1})}fetchActiveAcademicYear(){this.af.collection("academic").ref.where("isActive","==",!0).get().then(e=>{let i="";i=e.docs[0].id,this.activeAcadId=i,this.activeIdChange.next(i),this.af.collection("academic").doc(i).snapshotChanges().subscribe(o=>{this.activeAcademicYear=o.payload.data(),this.activeAcademicChange.next(this.activeAcademicYear)})})}getActiveAcademicYear(){return Object.assign({},this.activeAcademicYear)}fetchAllAcademicYear(){this.af.collection("academic").snapshotChanges().pipe((0,un.U)(e=>e.map(i=>Object.assign({id:i.payload.doc.id},i.payload.doc.data())))).subscribe(e=>{this.academicYears=e,this.academicYearChange.next([...this.academicYears])},e=>{console.log(e)})}updateActiveAcademicYear(e){this.af.doc("academic/"+e).update({isActive:!0}),this.uiService.showSuccessToast("Academic Year Changed Succesfully!","Success")}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(MC),r.LFG(Ko))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Rue=["picker"];function Pue(t,n){if(1&t&&(r.TgZ(0,"mat-label",17),r._uU(1),r.qZA()),2&t){const e=r.oxw();r.xp6(1),r.hij("School Year: ",e.startYear+" - "+e.endYear,"")}}let Bue=(()=>{class t{constructor(e,i,o){this.passedData=e,this.academicService=i,this.userService=o,this.academicYears=[],this.isExisting=!1,this.existingIdString=""}ngOnInit(){this.userService.fetchUsers(),this.passedData.academicYears.length>0&&(this.academicYears=this.passedData.academicYears,this.academicService.fetchActiveAcademicYear()),this.activeSubs=this.academicService.activeIdChange.subscribe(e=>{this.activeAcadId=e}),this.academicForm=new Il({semester:new mn("",sn.required)})}close(e){this.datePicker.close();const i=e.toString().split(" ");this.startYear=i[3],this.endYear=(+this.startYear+1).toString()}checkError(){let e=[],i=this.startYear+this.endYear+this.academicForm.value.semester,o=0;this.academicYears.forEach(s=>{e.push(s.startYear+s.endYear+s.semester)}),e.forEach(s=>{s==i&&(this.isExisting=!0,this.existingIdString=this.academicYears[o].id),o++})}onSubmit(){let e;e={icon:"campaign",heading:"Announcement",contents:"The admin updated the Academic Year and Semester to Academic Year: "+this.startYear+" - "+this.endYear+" "+this.academicForm.value.semester},this.checkError(),this.isExisting?(this.activeAcadId&&this.academicService.setInactiveAcademicYear(this.activeAcadId),this.academicService.updateActiveAcademicYear(this.existingIdString),this.academicService.fetchActiveAcademicYear(),this.userService.updateAllChairpersonNotification(e)):(this.activeAcadId&&this.academicService.setInactiveAcademicYear(this.activeAcadId),this.academicService.setAcademicYear({startYear:this.startYear,endYear:this.endYear,semester:this.academicForm.value.semester,isActive:!0}),this.academicService.fetchActiveAcademicYear()),this.userService.updateAllChairpersonNotification(e)}ngOnDestroy(){this.activeSubs.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36($p),r.Y36(VC),r.Y36(oh))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-set-academic-year"]],viewQuery:function(e,i){if(1&e&&r.Gf(Rue,5),2&e){let o;r.iGM(o=r.CRH())&&(i.datePicker=o.first)}},decls:29,vars:7,consts:[["fxLayout","column","fxLayoutAlign","center center",1,"main-div"],[1,"text-div"],[1,"form-div"],["fxLayout","column","fxLayoutAlign","center center","fxLayoutGap","10px",3,"formGroup","ngSubmit"],["clas","date-text","color","primary",4,"ngIf"],["appearance","fill"],["matInput","","readonly","true",3,"matDatepicker"],["matSuffix","",3,"for"],["startView","multi-year",3,"yearSelected"],["picker",""],["formControlName","semester"],["value","First Semester"],["value","Second Semester"],["value","Mid Year"],["fxLayoutGap","10px","fxLayoutAlign","center center",1,"buttons"],["mat-raised-button","","color","primary","type","submit",3,"mat-dialog-close","disabled"],["mat-stroked-button","","color","primary","type","button",3,"mat-dialog-close"],["clas","date-text","color","primary"]],template:function(e,i){if(1&e&&(r.TgZ(0,"div",0)(1,"div",1)(2,"p"),r._uU(3,"Set Faculty Loading Deadline"),r.qZA()(),r.TgZ(4,"div",2)(5,"form",3),r.NdJ("ngSubmit",function(){return i.onSubmit()}),r.YNc(6,Pue,2,1,"mat-label",4),r.TgZ(7,"mat-form-field",5)(8,"mat-label"),r._uU(9,"Choose a Starting Year"),r.qZA(),r._UZ(10,"input",6)(11,"mat-datepicker-toggle",7),r.TgZ(12,"mat-datepicker",8,9),r.NdJ("yearSelected",function(s){return i.close(s)}),r.qZA()(),r.TgZ(14,"mat-form-field")(15,"mat-label"),r._uU(16,"Semester"),r.qZA(),r.TgZ(17,"mat-select",10)(18,"mat-option",11),r._uU(19,"First Semester"),r.qZA(),r.TgZ(20,"mat-option",12),r._uU(21,"Second Semester"),r.qZA(),r.TgZ(22,"mat-option",13),r._uU(23,"Mid Year"),r.qZA()()(),r.TgZ(24,"div",14)(25,"button",15),r._uU(26," Save "),r.qZA(),r.TgZ(27,"button",16),r._uU(28," Cancel "),r.qZA()()()()()),2&e){const o=r.MAs(13);r.xp6(5),r.Q6J("formGroup",i.academicForm),r.xp6(1),r.Q6J("ngIf",i.startYear),r.xp6(4),r.Q6J("matDatepicker",o),r.xp6(1),r.Q6J("for",o),r.xp6(14),r.Q6J("mat-dialog-close",!0)("disabled",i.academicForm.invalid||!i.startYear),r.xp6(2),r.Q6J("mat-dialog-close",!1)}},directives:[zr,uo,qd,Ud,$s,ya,Sn,id,$d,Ay,u6,d6,G2,mae,$_,Gc,Zc,ug,Uo,Ey],styles:[".main-div[_ngcontent-%COMP%]{padding:5vh}.text-div[_ngcontent-%COMP%]{font-size:20px;font-family:var(--mont);color:var(--primary);text-align:left;width:100%;margin-bottom:5px}.buttons[_ngcontent-%COMP%]{margin-top:10px}.date-text[_ngcontent-%COMP%]{font-family:var(--mont)}"]}),t})(),oz=(()=>{class t{constructor(e,i){this.passedData=e,this.userService=i}ngOnInit(){this.currentUserLoad={year:this.passedData.year,semester:this.passedData.semester,department:this.passedData.department,chairpersonName:this.passedData.chairpersonName,status:this.passedData.status,dateSubmitted:this.passedData.dateSubmitted,comment:"",idNumber:this.passedData.idNumber,loadItem:this.passedData.loadItem}}onSubmitUserLoad(){let e;console.log(this.currentUserLoad),this.passedData.hasData?(e={icon:"notifications",heading:"Load Update",contents:this.currentUserLoad.chairpersonName+" submitted an updated load."},this.userService.editUserLoadsToDatabase(this.passedData.userLoadId,this.currentUserLoad),this.userService.updateAdminNotification(e)):(e={icon:"notifications",heading:"Load Submission",contents:this.currentUserLoad.chairpersonName+" submitted a load."},this.userService.updateAdminNotification(e),this.userService.addUserLoadsToDatabase(this.currentUserLoad))}}return t.\u0275fac=function(e){return new(e||t)(r.Y36($p),r.Y36(oh))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-submit-confirmation-modal"]],decls:14,vars:2,consts:[["fxLayoutAlign","center center","fxLayout","column",1,"main-div"],[1,"main-text"],[1,"heading"],[1,"sub-heading"],["fxLayoutGap","15px"],["mat-raised-button","","color","primary",3,"mat-dialog-close","click"],["mat-stroked-button","","color","warn",3,"mat-dialog-close"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0)(1,"p",1),r._uU(2,"ATTENTION!"),r.qZA(),r.TgZ(3,"p",2),r._uU(4,"You will not be able to resubmit a new load without the admin's approval."),r.qZA(),r.TgZ(5,"p",3),r._uU(6,"Are you sure you want to submit your edited load?"),r.qZA(),r.TgZ(7,"p",3),r._uU(8,"Please make sure your load is final."),r.qZA(),r.TgZ(9,"div",4)(10,"button",5),r.NdJ("click",function(){return i.onSubmitUserLoad()}),r._uU(11,"Submit Load"),r.qZA(),r.TgZ(12,"button",6),r._uU(13,"Cancel"),r.qZA()()()),2&e&&(r.xp6(10),r.Q6J("mat-dialog-close",!1),r.xp6(2),r.Q6J("mat-dialog-close",!1))},directives:[uo,zr,$s,Uo,Ey],styles:[".main-div[_ngcontent-%COMP%]{margin:5vh}.heading[_ngcontent-%COMP%]{font-size:17px;font-family:var(--mont);color:var(--primary)}.sub-heading[_ngcontent-%COMP%]{font-size:15px;font-family:var(--mont)}.main-text[_ngcontent-%COMP%]{font-family:var(--mont);font-weight:700;font-size:16px}"]}),t})();const Uue=["content"];function jue(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"div",5)(1,"p",6),r._uU(2,"LOAD VIEWER"),r.qZA(),r.TgZ(3,"button",7),r.NdJ("click",function(){return r.CHM(e),r.oxw().exportToPDF()}),r._uU(4,"Export as PDF"),r.qZA(),r.TgZ(5,"div",8)(6,"p",9),r._uU(7,"View as:"),r.qZA(),r.TgZ(8,"mat-button-toggle-group",10,11)(10,"mat-button-toggle",12),r.NdJ("click",function(){r.CHM(e);const o=r.MAs(9);return r.oxw().filter(o.value)}),r._uU(11,"Class Schedule Timeline"),r.qZA(),r.TgZ(12,"mat-button-toggle",13),r.NdJ("click",function(){r.CHM(e);const o=r.MAs(9);return r.oxw().filter(o.value)}),r._uU(13,"Class Schedule Table"),r.qZA(),r.TgZ(14,"mat-button-toggle",14),r.NdJ("click",function(){r.CHM(e);const o=r.MAs(9);return r.oxw().filter(o.value)}),r._uU(15,"Faculty Load Timeline"),r.qZA(),r.TgZ(16,"mat-button-toggle",15),r.NdJ("click",function(){r.CHM(e);const o=r.MAs(9);return r.oxw().filter(o.value)}),r._uU(17,"Faculty Load Table"),r.qZA()()()()}}function Vue(t,n){1&t&&(r.TgZ(0,"div",16),r._UZ(1,"mat-spinner"),r.qZA())}function que(t,n){if(1&t&&r._UZ(0,"app-class-schedule-timeline",20),2&t){const e=r.oxw().$implicit;r.Q6J("classScheduleTimeline",e)}}function Hue(t,n){if(1&t&&r._UZ(0,"app-class-schedule-table",21),2&t){const e=r.oxw().$implicit;r.Q6J("classScheduleTable",e)}}function Gue(t,n){if(1&t&&(r.TgZ(0,"div"),r.YNc(1,que,1,1,"app-class-schedule-timeline",18),r.YNc(2,Hue,1,1,"app-class-schedule-table",19),r.qZA()),2&t){const e=r.oxw(2);r.xp6(1),r.Q6J("ngIf","Class Schedule Timeline"==e.view),r.xp6(1),r.Q6J("ngIf","Class Schedule Table"==e.view)}}function Zue(t,n){if(1&t&&r._UZ(0,"app-faculty-load-timeline",24),2&t){const e=r.oxw().$implicit;r.Q6J("facultyLoadTimeline",e)}}function Yue(t,n){if(1&t&&r._UZ(0,"app-faculty-load-table",25),2&t){const e=r.oxw().$implicit;r.Q6J("facultyLoadTable",e)}}function zue(t,n){if(1&t&&(r.TgZ(0,"div"),r.YNc(1,Zue,1,1,"app-faculty-load-timeline",22),r.YNc(2,Yue,1,1,"app-faculty-load-table",23),r.qZA()),2&t){const e=r.oxw(2);r.xp6(1),r.Q6J("ngIf","Faculty Load Timeline"==e.view),r.xp6(1),r.Q6J("ngIf","Faculty Load Table"==e.view)}}function Wue(t,n){if(1&t&&(r.TgZ(0,"div"),r.YNc(1,Gue,3,2,"div",17),r.YNc(2,zue,3,2,"div",17),r.qZA()),2&t){const e=r.oxw();r.xp6(1),r.Q6J("ngForOf",e.classScheduleLoad),r.xp6(1),r.Q6J("ngForOf",e.facultyLoad)}}let S5=(()=>{class t{constructor(e,i,o,s){this.passedData=e,this.facultyService=i,this.uiService=o,this.roomSectionService=s,this.view="Class Schedule Timeline",this.sections=[],this.trimmedSections=[],this.faculties=[],this.loadItems=[],this.classScheduleLoad=[],this.facultyLoad=[],this.isLoading=!0}ngOnInit(){this.userLoads=this.passedData.userLoad,this.loadItems=this.userLoads.loadItem,this.roomSectionService.fetchSections(),this.sectionSubs=this.roomSectionService.sectionsChanged.subscribe(e=>{this.sections=e,this.sections=this.sections.sort((i,o)=>+i.section-+o.section),this.sections=this.sections.sort((i,o)=>+i.year-+o.year),this.sections=this.sections.sort((i,o)=>i.course<o.course?-1:i.course>o.course?1:0),e=e.filter(i=>i.course==this.userLoads.department),this.trimmedSections=[],e.forEach(i=>{let s=i.course.split(/\s/).reduce((a,d)=>a+d.slice(0,1),"");this.trimmedSections.push("BS"+s+" "+i.year+"-"+i.section)}),this.classScheduleLoad=[],this.trimmedSections.forEach(i=>{let o=[];this.loadItems.forEach(s=>{s.section===i&&o.push(s)}),this.classScheduleLoad.push({loadItem:o})}),console.log(this.classScheduleLoad),this.isLoading=!1}),this.facultyService.fetchFaculty(this.userLoads.year,this.userLoads.semester,this.userLoads.chairpersonName),this.facultySubs=this.facultyService.facultyChanged.subscribe(e=>{this.faculties=e,this.facultyLoad=[],this.faculties.forEach(i=>{let o=[];this.loadItems.forEach(s=>{s.facultyId===i.id&&o.push(s)}),this.facultyLoad.push({loadItem:o})}),console.log(this.facultyLoad)})}filter(e){this.view=e}exportToPDF(){const e=this.content.nativeElement;new xE("p","mm",[1e3,1e3]).html(e,{callback:o=>{try{o.save(`${this.userLoads.chairpersonName}.pdf`)}catch(s){this.uiService.showErrorToast("Please choose a section first!","Error")}}})}ngOnDestroy(){this.sectionSubs.unsubscribe(),this.facultySubs.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36($p),r.Y36(jC),r.Y36(Ko),r.Y36(PC))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-view-loads"]],viewQuery:function(e,i){if(1&e&&r.Gf(Uue,7),2&e){let o;r.iGM(o=r.CRH())&&(i.content=o.first)}},decls:6,vars:3,consts:[["fxLayout","column",1,"main-div"],["fxLayoutAlign","center center","fxLayout","column","fxLayoutGap","15px",4,"ngIf"],["fxLayoutAlign","center center","style","height: 100vh;",4,"ngIf"],["content",""],[4,"ngIf"],["fxLayoutAlign","center center","fxLayout","column","fxLayoutGap","15px"],[1,"header"],["mat-raised-button","","color","primary",2,"width","200px",3,"click"],["fxLayout","row","fxLayoutAlign","start center"],[1,"view-text"],["color","primary","fxLayoutAlign","end center",1,"button-toggle"],["group","matButtonToggleGroup"],["value","Class Schedule Timeline",3,"click"],["value","Class Schedule Table",3,"click"],["value","Faculty Load Timeline",3,"click"],["value","Faculty Load Table",3,"click"],["fxLayoutAlign","center center",2,"height","100vh"],[4,"ngFor","ngForOf"],[3,"classScheduleTimeline",4,"ngIf"],[3,"classScheduleTable",4,"ngIf"],[3,"classScheduleTimeline"],[3,"classScheduleTable"],[3,"facultyLoadTimeline",4,"ngIf"],[3,"facultyLoadTable",4,"ngIf"],[3,"facultyLoadTimeline"],[3,"facultyLoadTable"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0),r.YNc(1,jue,18,0,"div",1),r.YNc(2,Vue,2,0,"div",2),r.TgZ(3,"div",null,3),r.YNc(5,Wue,3,2,"div",4),r.qZA()()),2&e&&(r.xp6(1),r.Q6J("ngIf",!i.isLoading),r.xp6(1),r.Q6J("ngIf",i.isLoading),r.xp6(3),r.Q6J("ngIf",!i.isLoading))},directives:[zr,Sn,uo,$s,Uo,BC,UC,Yh,qn,tz,nz,iz,rz],styles:["[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#ad2a2a}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--light);border-radius:20px;-webkit-transition:all ease-in-out 1s;transition:all ease-in-out 1s}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--primary)}.main-div[_ngcontent-%COMP%]{padding:3vh 10vh;width:120vh;height:90vh;-ms-overflow-style:none;scrollbar-width:none;overflow-y:scroll}.main-div[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.button-toggle[_ngcontent-%COMP%]{padding:13px;height:25px}mat-button-toggle[_ngcontent-%COMP%]{font-family:var(--mont);font-size:13px!important}mat-button-toggle[_ngcontent-%COMP%]:hover{background-color:var(--primary)!important;color:#fff}.mat-button-toggle-checked[_ngcontent-%COMP%]{background-color:var(--primary)!important;color:#fff}.mat-button-toggle-group[_ngcontent-%COMP%]{border:0px!important}.header[_ngcontent-%COMP%]{font-family:var(--incon);font-size:20px;font-weight:700}"]}),t})(),$ue=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-not-found-modal"]],decls:5,vars:1,consts:[["fxLayoutAlign","center center","fxLayout","column","fxLayoutGap","15px",1,"main-div"],[2,"font-family","var(--mont)","color","var(--primary)"],["mat-raised-button","","color","primary",3,"mat-dialog-close"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0)(1,"p",1),r._uU(2,"No Load Data Found!"),r.qZA(),r.TgZ(3,"button",2),r._uU(4,"Okay"),r.qZA()()),2&e&&(r.xp6(3),r.Q6J("mat-dialog-close",!1))},directives:[uo,zr,$s,Uo,Ey],styles:[".main-div[_ngcontent-%COMP%]{padding:5vh}"]}),t})();function Que(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"div",2)(1,"p",3),r._uU(2,"Please Choose a School Year and Semester"),r.qZA(),r.TgZ(3,"div",4)(4,"mat-form-field",5)(5,"mat-label"),r._uU(6,"School Year"),r.qZA(),r.TgZ(7,"mat-select",6),r.NdJ("valueChange",function(o){return r.CHM(e),r.oxw().schoolYear=o}),r.TgZ(8,"mat-option",7),r._uU(9,"2022-2023"),r.qZA(),r.TgZ(10,"mat-option",8),r._uU(11,"2023-2024"),r.qZA(),r.TgZ(12,"mat-option",9),r._uU(13,"2024-2025"),r.qZA(),r.TgZ(14,"mat-option",10),r._uU(15,"2025-2026"),r.qZA()()(),r.TgZ(16,"mat-form-field",5)(17,"mat-label"),r._uU(18,"Semester"),r.qZA(),r.TgZ(19,"mat-select",6),r.NdJ("valueChange",function(o){return r.CHM(e),r.oxw().semester=o}),r.TgZ(20,"mat-option",11),r._uU(21,"First Semester"),r.qZA(),r.TgZ(22,"mat-option",12),r._uU(23,"Second Semester"),r.qZA(),r.TgZ(24,"mat-option",13),r._uU(25,"Mid Year"),r.qZA()()()(),r.TgZ(26,"button",14),r.NdJ("click",function(){return r.CHM(e),r.oxw().onViewLoad()}),r._uU(27,"View Load"),r.qZA()()}if(2&t){const e=r.oxw();r.xp6(7),r.Q6J("value",e.schoolYear),r.xp6(12),r.Q6J("value",e.semester),r.xp6(7),r.Q6J("disabled",!e.schoolYear||!e.semester)}}function Jue(t,n){1&t&&(r.TgZ(0,"div",15),r._UZ(1,"mat-spinner"),r.qZA())}let Kue=(()=>{class t{constructor(e,i,o){this.userService=e,this.dialog=i,this.dialogRef=o,this.isLoading=!1}ngOnInit(){this.currentUser=this.userService.getCurrentUser(),this.currentUserSubs=this.userService.currentUserHistoryLoadChanged.subscribe(e=>{this.isLoading=!1,e?(this.dialog.open(S5,{data:{userLoad:e}}),this.dialogRef.close()):(this.dialog.open($ue),this.dialogRef.close())})}onViewLoad(){console.log(this.schoolYear),console.log(this.semester),this.isLoading=!0,this.userService.fetchUserHistoryLoad(this.schoolYear,this.semester,this.currentUser.fullName)}ngOnDestroy(){this.currentUserSubs.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(oh),r.Y36(Eb),r.Y36(K2))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-view-history-modal"]],decls:2,vars:2,consts:[["class","main-div","fxLayoutAlign","center center","fxLayout","column","fxLayoutGap","15px",4,"ngIf"],["class","main-div",4,"ngIf"],["fxLayoutAlign","center center","fxLayout","column","fxLayoutGap","15px",1,"main-div"],[1,"header"],["fxLayoutalign","row","fxLayoutGap","15px"],[1,"acad-select"],[3,"value","valueChange"],["value","2022"],["value","2023"],["value","2024"],["value","2025"],["value","First Semester"],["value","Second Semester"],["value","Mid Year"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"main-div"]],template:function(e,i){1&e&&(r.YNc(0,Que,28,3,"div",0),r.YNc(1,Jue,2,0,"div",1)),2&e&&(r.Q6J("ngIf",!i.isLoading),r.xp6(1),r.Q6J("ngIf",i.isLoading))},directives:[Sn,uo,zr,$s,$d,id,$_,ug,Uo,Yh],styles:[".main-div[_ngcontent-%COMP%]{padding:5vh}.header[_ngcontent-%COMP%]{font-size:18px;font-family:var(--mont);color:var(--primary)}"]}),t})();class Xue{}let sz=(()=>{class t{constructor(){this.defaultCSVParserConfig={header:!0,delimiter:","}}parse(e,i){return i=Object.assign(Object.assign({},this.defaultCSVParserConfig),i),new Co.y(s=>{try{let a=null;if(this.isCSVFile(e)){const d=new FileReader;d.readAsText(e),d.onload=()=>{const v=this.csvStringToArray(d.result.trim(),i.delimiter),w=this.getHeaderArray(v);a=this.getDataRecordsArrayFromCSVFile(v,w.length,i),s.next(a),s.complete()},d.onerror=()=>{this.badCSVDataFormatErrorHandler(s)}}else this.notCSVFileErrorHandler(s)}catch(a){this.unknownCSVParserErrorHandler(s)}})}csvStringToArray(e,i){const o=new RegExp(`(\\${i}|\\r?\\n|\\r|^)(?:"((?:\\\\.|""|[^\\\\"])*)"|([^\\${i}"\\r\\n]*))`,"gi");let s=o.exec(e);const a=[[]];for(;s;){s[1].length&&s[1]!==i&&a.push([]);const d=s[2]?s[2].replace(new RegExp('[\\\\"](.)',"g"),"$1"):s[3];a[a.length-1].push(d),s=o.exec(e)}return a}getDataRecordsArrayFromCSVFile(e,i,o){const s=[],a=e[0];for(let f=o.header?1:0;f<e.length;f++){const v=e[f];if(v.length===i&&o.header){const w={};for(let x=0;x<v.length;x++)w[a[x]]=null==v[x]?"":v[x].trim();s.push(w)}else s.push(v)}return s}isCSVFile(e){return e.name.toLowerCase().endsWith(".csv")}getHeaderArray(e){const i=e[0],o=[];for(const s of i)o.push(s);return o}notCSVFileErrorHandler(e){const i=this.errorBuilder("NOT_A_CSV_FILE","Selected file is not a csv File Type.",2);e.error(i)}unknownCSVParserErrorHandler(e){const i=this.errorBuilder("UNKNOWN_ERROR","Unknown error. Please refer to official documentation for library usage.",404);e.error(i)}badCSVDataFormatErrorHandler(e){const i=this.errorBuilder("BAD_CSV_DATA_FORMAT","Unable to parse CSV File.",1);e.error(i)}errorBuilder(e,i,o){const s=new Xue;return s.type=e,s.message=i,s.code=o,s}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ede=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[sz],imports:[[]]}),t})(),K6=(()=>{class t{constructor(e,i){this.af=e,this.uiService=i,this.curriculums=[],this.sectionCurriculum=[],this.sectionCurriculumChanged=new Ht.x,this.fetchCurriculumChanged=new Ht.x,this.curriculumChanged=new Ht.x}setCurriculumToDatabase(e){e.forEach(i=>{this.af.collection("curriculum").add(i)}),this.uiService.showSuccessToast("Curriculum Added/Edited Succesfully!","Success")}deleteCurriculum(e){this.af.collection("curriculum").ref.where("department","==",e).get().then(i=>{i.forEach(o=>{this.af.doc("curriculum/"+o.id).delete()}),this.curriculumChanged.next()})}fetchAllCurriculum(){this.af.collection("curriculum").snapshotChanges().pipe((0,un.U)(e=>e.map(i=>({id:i.payload.doc.id,code:i.payload.doc.data().code,subjectTitle:i.payload.doc.data().subjectTitle,units:i.payload.doc.data().units,preReq:i.payload.doc.data().preReq,subjectSemester:i.payload.doc.data().subjectSemester,subjectYear:i.payload.doc.data().subjectYear,department:i.payload.doc.data().department,year:i.payload.doc.data().year})))).subscribe(e=>{this.curriculums=e,this.fetchCurriculumChanged.next([...this.curriculums])},e=>{console.log(e)})}fetchSectionCurriculum(e,i,o,s){this.af.collection("curriculum").ref.where("department","==",e).where("subjectSemester","==",i).where("subjectYear","==",s).onSnapshot(a=>{this.sectionCurriculum=[],a.forEach(d=>{this.sectionCurriculum.push(Object.assign({id:d.id},d.data()))}),this.sectionCurriculumChanged.next(this.sectionCurriculum)})}checkCurriculumExist(e){this.af.collection("curriculum").ref.where("department","==",e).get().then(i=>{i&&this.deleteCurriculum(e)})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(MC),r.LFG(Ko))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const tde=["*",[["mat-card-footer"]]],nde=["*","mat-card-footer"];let ide=(()=>{class t{constructor(e){this._animationMode=e}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(O,8))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&r.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:nde,decls:2,vars:0,template:function(e,i){1&e&&(r.F$t(tde),r.Hsn(0),r.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),t})(),az=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[ci],ci]}),t})();const rde=["fileImportInput"];function ode(t,n){if(1&t&&(r.TgZ(0,"mat-card",37)(1,"div",38)(2,"p",39),r._uU(3," Submission Status: "),r.TgZ(4,"span",40),r._uU(5),r.ALo(6,"uppercase"),r.qZA()()(),r.TgZ(7,"p",41),r._uU(8," Remarks: "),r.qZA(),r.TgZ(9,"p",42),r._uU(10),r.qZA()()),2&t){const e=r.oxw(2);r.xp6(4),r.Q6J("ngClass","accepted"==e.currentUserLoad.status?"blue":"red"),r.xp6(1),r.Oqu(r.lcZ(6,3,e.currentUserLoad.status)),r.xp6(5),r.hij(" ",e.currentUserLoad.comment.length>0?e.currentUserLoad.comment:"No Remarks Given"," ")}}function sde(t,n){if(1&t&&(r.TgZ(0,"div",35),r.YNc(1,ode,11,5,"mat-card",36),r.qZA()),2&t){const e=r.oxw();r.xp6(1),r.Q6J("ngIf","admin"!=e.currentUser.department)}}function ade(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"button",43),r.NdJ("click",function(){return r.CHM(e),r.oxw().setAcademicYear()}),r.TgZ(1,"mat-icon"),r._uU(2,"web_asset"),r.qZA(),r._uU(3," Set Academic Year "),r.qZA()}}function lde(t,n){1&t&&(r.TgZ(0,"button",51),r._uU(1," Upload CSV "),r.qZA())}function cde(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"label",52)(1,"div",53),r._uU(2,"Upload CSV"),r.qZA(),r.TgZ(3,"input",54,55),r.NdJ("change",function(o){return r.CHM(e),r.oxw(2).fileChangeListener(o)}),r.qZA()()}}function ude(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"div",44)(1,"mat-form-field")(2,"mat-label"),r._uU(3,"Department"),r.qZA(),r.TgZ(4,"mat-select",45),r.NdJ("valueChange",function(o){return r.CHM(e),r.oxw().selectedDepartment=o}),r.TgZ(5,"mat-option",46),r._uU(6,"Information Technology"),r.qZA(),r.TgZ(7,"mat-option",47),r._uU(8,"Civil Engineering"),r.qZA(),r.TgZ(9,"mat-option",48),r._uU(10,"Electrical Engineering"),r.qZA()()(),r.YNc(11,lde,2,0,"button",49),r.YNc(12,cde,5,0,"label",50),r.qZA()}if(2&t){const e=r.oxw();r.xp6(4),r.Q6J("value",e.selectedDepartment),r.xp6(7),r.Q6J("ngIf",!e.selectedDepartment),r.xp6(1),r.Q6J("ngIf",e.selectedDepartment)}}function dde(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"div",56)(1,"button",57),r.NdJ("click",function(){return r.CHM(e),r.oxw().openClassScheduleTimeline()}),r.TgZ(2,"mat-icon"),r._uU(3," calendar_today "),r.qZA(),r._uU(4," View Class Schedule "),r.qZA(),r.TgZ(5,"button",57),r.NdJ("click",function(){return r.CHM(e),r.oxw().openFacultyLoadTimeline()}),r.TgZ(6,"mat-icon"),r._uU(7," calendar_today "),r.qZA(),r._uU(8," View Faculty Load "),r.qZA()()}}function hde(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"div")(1,"button",58),r.NdJ("click",function(){return r.CHM(e),r.oxw().onSubmitLoads()}),r.TgZ(2,"mat-icon"),r._uU(3,"event_available"),r.qZA(),r._uU(4," Submit Completed Loads "),r.qZA()()}if(2&t){const e=r.oxw();r.xp6(1),r.Q6J("disabled","accepted"==(null==e.currentUserLoad?null:e.currentUserLoad.status)||"pending"==(null==e.currentUserLoad?null:e.currentUserLoad.status)||!e.isAllowedToSubmit)}}function fde(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"div")(1,"button",59),r.NdJ("click",function(){return r.CHM(e),r.oxw().onViewHistory()}),r.TgZ(2,"mat-icon"),r._uU(3,"history"),r.qZA(),r._uU(4," View History "),r.qZA()()}}function pde(t,n){1&t&&(r.TgZ(0,"mat-header-cell",60),r._uU(1,"Code"),r.qZA())}function mde(t,n){if(1&t&&(r.TgZ(0,"mat-cell"),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.xp6(1),r.Oqu(e.code)}}function gde(t,n){1&t&&(r.TgZ(0,"mat-header-cell",60),r._uU(1,"Subject Title"),r.qZA())}function _de(t,n){if(1&t&&(r.TgZ(0,"mat-cell"),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.xp6(1),r.Oqu(e.subjectTitle)}}function vde(t,n){1&t&&(r.TgZ(0,"mat-header-cell",60),r._uU(1,"Units"),r.qZA())}function yde(t,n){if(1&t&&(r.TgZ(0,"mat-cell"),r._uU(1),r.ALo(2,"number"),r.qZA()),2&t){const e=n.$implicit;r.xp6(1),r.Oqu(r.lcZ(2,1,e.units))}}function bde(t,n){1&t&&(r.TgZ(0,"mat-header-cell",60),r._uU(1,"Pre Requisite"),r.qZA())}function wde(t,n){if(1&t&&(r.TgZ(0,"mat-cell"),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.xp6(1),r.Oqu(e.preReq)}}function Cde(t,n){1&t&&(r.TgZ(0,"mat-header-cell",60),r._uU(1,"Subject Semester"),r.qZA())}function xde(t,n){if(1&t&&(r.TgZ(0,"mat-cell"),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.xp6(1),r.Oqu(e.subjectSemester)}}function Tde(t,n){1&t&&(r.TgZ(0,"mat-header-cell",60),r._uU(1,"Subject Year"),r.qZA())}function Ade(t,n){if(1&t&&(r.TgZ(0,"mat-cell"),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.xp6(1),r.Oqu(e.subjectYear)}}function Sde(t,n){1&t&&(r.TgZ(0,"mat-header-cell",60),r._uU(1,"Department"),r.qZA())}function Dde(t,n){if(1&t&&(r.TgZ(0,"mat-cell"),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.xp6(1),r.Oqu(e.department)}}function Ede(t,n){1&t&&r._UZ(0,"mat-header-row",61)}function Mde(t,n){1&t&&r._UZ(0,"mat-row")}const kde=function(){return[5,10,20]};let Ide=(()=>{class t{constructor(e,i,o,s,a,d,f){this.dialog=e,this.AcademicService=i,this.ngxCsvParser=o,this.curriculumService=s,this.uiService=a,this.userService=d,this.loadService=f,this.academicYears=[],this.curriculum=[],this.allLoadItems=[],this.selectedDepartment="",this.displayedColumns=["code","subjectTitle","units","preReq","subjectSemester","subjectYear","department"],this.dataSource=new mE,this.newCurriculum=[],this.unfilteredNewCurriculum=[],this.userLoads=[],this.isAllowedToSubmit=!1}ngOnInit(){this.currentChairperson=this.userService.getCurrentUser();let i=(new Date).getTime()/1e3;this.currentChairperson.startDate&&(+i>+this.currentChairperson.startDate.seconds&&+i<+this.currentChairperson.endDate.seconds?(this.isAllowedToSubmit=!0,console.log("ALLOWED")):(this.isAllowedToSubmit=!1,console.log("NOT ALLOWED"))),this.activeAcademicYear=this.AcademicService.getActiveAcademicYear(),this.currentUser=this.userService.getCurrentUser(),this.curriculumService.fetchAllCurriculum(),this.curriculumSubs=this.curriculumService.fetchCurriculumChanged.subscribe(o=>{this.newCurriculum=o,this.unfilteredNewCurriculum=this.newCurriculum,this.dataSource.data=this.newCurriculum}),this.AcademicService.fetchAllAcademicYear(),this.academicSubs=this.AcademicService.academicYearChange.subscribe(o=>{this.academicYears=o,this.loadService.fetchAllLoad(this.activeAcademicYear.startYear,this.activeAcademicYear.semester,this.currentUser.fullName)}),this.loadSubs=this.loadService.allLoadChange.subscribe(o=>{this.allLoadItems=o}),this.userService.fetchUserLoad(this.activeAcademicYear.startYear,this.activeAcademicYear.semester,this.currentUser.fullName),this.currentUserLoadSubs=this.userService.currentUserLoadChanged.subscribe(o=>{this.currentUserLoad=o,console.log(this.currentUserLoad)})}onsee(){}setAcademicYear(){this.dialog.open(Bue,{data:{academicYears:this.academicYears}})}uploadCsv(){}fileChangeListener(e){const i=e.srcElement.files;0!=i.length?this.curriculumService.checkCurriculumExist(this.selectedDepartment):this.uiService.showErrorToast("Please select a CSV to import!","Error");let o=!1;this.curriculumService.curriculumChanged.subscribe(()=>{0==o&&(""!=this.selectedDepartment?this.ngxCsvParser.parse(i[0],{header:!0,delimiter:","}).pipe().subscribe(s=>{this.csvRecords=s,this.csvRecords.forEach(a=>{this.curriculum.push({code:a.Code,subjectTitle:a["Subject Title"],units:a.Units,preReq:a["Pre Req"],subjectSemester:a["Subject Semester"],subjectYear:a["Subject Year"],department:a.Department,year:a.Year})}),this.curriculumService.setCurriculumToDatabase(this.curriculum),this.curriculum=[],this.csvRecords=[],o=!0}):(o=!0,this.uiService.showErrorToast("Please select a department first!","Error")),o=!0)})}deleteCurrentCurriculum(){this.curriculumService.deleteCurriculum(this.selectedDepartment)}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}doFilter(e){this.dataSource.filter=e.trim().toLowerCase()}filter(e){this.newCurriculum=this.unfilteredNewCurriculum,"All"!==e?this.dataSource.data=this.newCurriculum.filter(function(i){return i.department===e}):(this.newCurriculum=this.unfilteredNewCurriculum,this.dataSource.data=this.newCurriculum)}openClassScheduleTimeline(){this.dialog.open(mue,{data:{currentUser:this.currentUser,activeAcademicYear:this.activeAcademicYear}})}openFacultyLoadTimeline(){this.dialog.open(Nue,{data:{currentUser:this.currentUser,activeAcademicYear:this.activeAcademicYear}})}onSubmitLoads(){this.dialog.open(oz,this.currentUserLoad?{data:{year:this.activeAcademicYear.startYear,semester:this.activeAcademicYear.semester,department:this.currentUser.department,chairpersonName:this.currentUser.fullName,status:"pending",dateSubmitted:new Date,comment:"hehe",idNumber:this.currentUser.idNumber,loadItem:this.allLoadItems,hasData:!0,userLoadId:this.currentUserLoad.id}}:{data:{year:this.activeAcademicYear.startYear,semester:this.activeAcademicYear.semester,department:this.currentUser.department,chairpersonName:this.currentUser.fullName,status:"pending",dateSubmitted:new Date,comment:"hehe",idNumber:this.currentUser.idNumber,loadItem:this.allLoadItems,hasData:!1}})}onViewHistory(){this.dialog.open(Kue)}ngOnDestroy(){this.academicSubs.unsubscribe(),this.curriculumSubs.unsubscribe(),this.loadSubs.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Eb),r.Y36(VC),r.Y36(sz),r.Y36(K6),r.Y36(Ko),r.Y36(oh),r.Y36(bg))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-dashboard"]],viewQuery:function(e,i){if(1&e&&(r.Gf(Xb,5),r.Gf(aE,5),r.Gf(rde,5)),2&e){let o;r.iGM(o=r.CRH())&&(i.sort=o.first),r.iGM(o=r.CRH())&&(i.paginator=o.first),r.iGM(o=r.CRH())&&(i.fileImportInput=o.first)}},decls:55,vars:12,consts:[["fxLayout","column","fxLayoutAlign","center center",1,"main-div"],["fxLayout","column",1,"sub-div"],["fxLayout","row","fxLayoutAlign","space-between",1,"header-div"],[2,"width","65%"],[1,"header-text"],["fxLayoutAlign","end",4,"ngIf"],["fxLayout","column",1,"sub-headers"],["mat-raised-button","","color","primary","class","acad-button",3,"click",4,"ngIf"],["fxLayout","column","fxLayoutAlign","start start","class","csv-div",4,"ngIf"],["fxLayoutAlign","end","fxLayoutGap","15px"],["fxLayoutGap","15px","style","margin-top: 15px",4,"ngIf"],[4,"ngIf"],["fxLayoutAlign","end center"],[2,"font-size","20px","font-family","var(--mont)","color","var(--primary)","margin-right","26px","margin-top","50px"],[1,"content-div",2,"text-align","center"],["color","primary","fxLayoutAlign","end center",1,"button-toggle"],["group","matButtonToggleGroup"],["value","All",3,"click"],["value","Information Technology",3,"click"],["value","Civil Engineering",3,"click"],["value","Electrical Engineering",3,"click"],["matSort","",2,"width","100%",3,"dataSource"],["matColumnDef","code"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","subjectTitle"],["matColumnDef","units"],["matColumnDef","preReq"],["matColumnDef","subjectSemester"],["matColumnDef","subjectYear"],["matColumnDef","department"],["color","primary","style","background-color: var(--primary)",4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSize","pageSizeOptions"],["paginator",""],["fxLayoutAlign","end"],["class","submission-status","fxLayoutAlign","start start","fxLayout","column",4,"ngIf"],["fxLayoutAlign","start start","fxLayout","column",1,"submission-status"],["fxLayoutAlign","center center",2,"width","100%"],[1,"status-header"],[3,"ngClass"],[1,"remark-text",2,"color","var(--primary)","margin-top","-10px"],[1,"remark-text",2,"margin-top","-10px","font-family","var(--mont)","font-size","13px"],["mat-raised-button","","color","primary",1,"acad-button",3,"click"],["fxLayout","column","fxLayoutAlign","start start",1,"csv-div"],[3,"value","valueChange"],["value","Information Technology"],["value","Civil Engineering"],["value","Electrical Engineering"],["mat-raised-button","","color","primary","disabled","","style","width: 100%",4,"ngIf"],["fxFlexFill","",4,"ngIf"],["mat-raised-button","","color","primary","disabled","",2,"width","100%"],["fxFlexFill",""],[1,"upload-csv"],["type","file","name","File Upload","id","csvFileUpload","accept",".csv",3,"change"],["fileImportInput",""],["fxLayoutGap","15px",2,"margin-top","15px"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","accent",2,"width","100%","margin-top","15px","color","white",3,"disabled","click"],["mat-raised-button","","color","primary",2,"width","100%","margin-top","15px",3,"click"],["mat-sort-header",""],["color","primary",2,"background-color","var(--primary)"]],template:function(e,i){if(1&e){const o=r.EpF();r.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),r._uU(5,"Dashboard"),r.qZA(),r.YNc(6,sde,2,1,"div",5),r.qZA(),r.TgZ(7,"div",6),r.YNc(8,ade,4,0,"button",7),r.YNc(9,ude,13,3,"div",8),r._UZ(10,"div",9),r.YNc(11,dde,9,0,"div",10),r.YNc(12,hde,5,1,"div",11),r.YNc(13,fde,5,0,"div",11),r.qZA()(),r.TgZ(14,"div",12)(15,"p",13),r._uU(16," Course Curriculum "),r.qZA()(),r.TgZ(17,"div",14)(18,"div")(19,"mat-button-toggle-group",15,16)(21,"mat-button-toggle",17),r.NdJ("click",function(){r.CHM(o);const a=r.MAs(20);return i.filter(a.value)}),r._uU(22,"All"),r.qZA(),r.TgZ(23,"mat-button-toggle",18),r.NdJ("click",function(){r.CHM(o);const a=r.MAs(20);return i.filter(a.value)}),r._uU(24,"Information Technology"),r.qZA(),r.TgZ(25,"mat-button-toggle",19),r.NdJ("click",function(){r.CHM(o);const a=r.MAs(20);return i.filter(a.value)}),r._uU(26,"Civil Engineering"),r.qZA(),r.TgZ(27,"mat-button-toggle",20),r.NdJ("click",function(){r.CHM(o);const a=r.MAs(20);return i.filter(a.value)}),r._uU(28,"Electrical Engineering"),r.qZA()()(),r.TgZ(29,"mat-table",21),r.ynx(30,22),r.YNc(31,pde,2,0,"mat-header-cell",23),r.YNc(32,mde,2,1,"mat-cell",24),r.BQk(),r.ynx(33,25),r.YNc(34,gde,2,0,"mat-header-cell",23),r.YNc(35,_de,2,1,"mat-cell",24),r.BQk(),r.ynx(36,26),r.YNc(37,vde,2,0,"mat-header-cell",23),r.YNc(38,yde,3,3,"mat-cell",24),r.BQk(),r.ynx(39,27),r.YNc(40,bde,2,0,"mat-header-cell",23),r.YNc(41,wde,2,1,"mat-cell",24),r.BQk(),r.ynx(42,28),r.YNc(43,Cde,2,0,"mat-header-cell",23),r.YNc(44,xde,2,1,"mat-cell",24),r.BQk(),r.ynx(45,29),r.YNc(46,Tde,2,0,"mat-header-cell",23),r.YNc(47,Ade,2,1,"mat-cell",24),r.BQk(),r.ynx(48,30),r.YNc(49,Sde,2,0,"mat-header-cell",23),r.YNc(50,Dde,2,1,"mat-cell",24),r.BQk(),r.YNc(51,Ede,1,0,"mat-header-row",31),r.YNc(52,Mde,1,0,"mat-row",32),r.qZA(),r._UZ(53,"mat-paginator",33,34),r.qZA()()()}2&e&&(r.xp6(6),r.Q6J("ngIf",i.currentUserLoad&&"admin"!=i.currentUser.department),r.xp6(2),r.Q6J("ngIf","admin"==i.currentUser.department),r.xp6(1),r.Q6J("ngIf","admin"==i.currentUser.department),r.xp6(2),r.Q6J("ngIf","admin"!=i.currentUser.department),r.xp6(1),r.Q6J("ngIf","admin"!=i.currentUser.department),r.xp6(1),r.Q6J("ngIf","admin"!=i.currentUser.department),r.xp6(16),r.Q6J("dataSource",i.dataSource),r.xp6(22),r.Q6J("matHeaderRowDef",i.displayedColumns),r.xp6(1),r.Q6J("matRowDefColumns",i.displayedColumns),r.xp6(1),r.Q6J("pageSize",10)("pageSizeOptions",r.DdM(11,kde)))},directives:[zr,uo,Sn,ide,xr,W_,Uo,Wf,$d,id,$_,ug,F_,$s,BC,UC,uE,Xb,cA,lA,uA,YO,aA,dA,dE,fE,hE,pE,aE],pipes:[Yo,Ma],styles:["[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--light);border-radius:20px;-webkit-transition:all ease-in-out 1s;transition:all ease-in-out 1s}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--primary)}.main-div[_ngcontent-%COMP%]{width:100%;height:92%;overflow:hidden}.sub-div[_ngcontent-%COMP%]{margin:30px;width:95%;height:93%;background-color:#fff;overflow:hidden;background-image:url(dashboard.2ba61c6230c48c45.png);background-repeat:no-repeat}.header-div[_ngcontent-%COMP%]{width:100%;height:20vh}.header-text[_ngcontent-%COMP%]{font-family:var(--incon);color:var(--primary);font-size:30px;margin-top:5vh;margin-left:4vh}.acad-button[_ngcontent-%COMP%]{margin-top:2vh}.sub-headers[_ngcontent-%COMP%]{margin-right:3vh}.content-div[_ngcontent-%COMP%]{width:100%;height:65vh;margin-top:30px;overflow-y:scroll;border-top:1px solid rgba(128,128,128,.39)}input[_ngcontent-%COMP%]{display:none}.csv-div[_ngcontent-%COMP%]{margin-top:15px;border:1px solid var(--primary);border-radius:10px;padding:10px}.upload-csv[_ngcontent-%COMP%]{background-color:var(--primary);border-radius:10px;color:#fff;padding:10px;text-align:center;cursor:pointer;transition:all ease-in-out .05s}.upload-csv[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.upload-csv[_ngcontent-%COMP%]:active{transform:scale(1.03)}mat-header-cell[_ngcontent-%COMP%]{color:#fff;font-family:var(--mont);text-transform:uppercase}.button-toggle[_ngcontent-%COMP%]{padding:13px;height:25px}mat-button-toggle[_ngcontent-%COMP%]{font-family:var(--mont);font-size:13px!important}mat-button-toggle[_ngcontent-%COMP%]:hover{background-color:var(--primary)!important;color:#fff}.mat-button-toggle-checked[_ngcontent-%COMP%]{background-color:var(--primary)!important;color:#fff}mat-cell[_ngcontent-%COMP%], mat-header-cell[_ngcontent-%COMP%]{text-align:center;justify-content:center}.submission-status[_ngcontent-%COMP%]{width:50vh;max-height:120px;overflow-y:scroll;overflow-x:hidden;position:relative;box-sizing:unset!important}.status-header[_ngcontent-%COMP%]{font-family:var(--incon);font-size:18px;font-weight:400;color:var(--primary);margin-top:10px}.remark-text[_ngcontent-%COMP%]{font-family:var(--incon);font-size:15px;font-weight:400}.red[_ngcontent-%COMP%]{background-color:#fd4747;color:#fff;border-radius:5px;padding:0 5px}.blue[_ngcontent-%COMP%]{background-color:#2db92d;color:#fff;border-radius:5px;padding:0 5px}"]}),t})(),lz=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-error-page"]],decls:4,vars:0,consts:[["fxLayout","column","fxLayoutAlign","center center",1,"main-container"],["src","../../assets/error.png","alt","",1,"error-img"],["routerLink","/login",1,"error-text"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0),r._UZ(1,"img",1),r.TgZ(2,"p",2),r._uU(3,"Error 404 (Page not found)"),r.qZA()())},directives:[zr,uo,jc],styles:[".main-container[_ngcontent-%COMP%]{height:95vh}.error-text[_ngcontent-%COMP%]{font-size:25px;font-family:var(--incon);color:var(--primary);cursor:pointer}.error-text[_ngcontent-%COMP%]:hover{text-decoration:underline}.error-img[_ngcontent-%COMP%]{width:60vh;margin:5vh;border-radius:20px}"]}),t})();const Ode=["input"],Lde=function(t){return{enterDuration:t}},Fde=["*"],Nde=new r.OlP("mat-checkbox-default-options",{providedIn:"root",factory:cz});function cz(){return{color:"accent",clickAction:"check-indeterminate"}}let Rde=0;const uz=cz(),Pde={provide:st,useExisting:(0,r.Gpc)(()=>dz),multi:!0};class Bde{}const Ude=Cb(jh(nd(td(class{constructor(t){this._elementRef=t}}))));let dz=(()=>{class t extends Ude{constructor(e,i,o,s,a,d,f){super(e),this._changeDetectorRef=i,this._focusMonitor=o,this._ngZone=s,this._animationMode=d,this._options=f,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++Rde,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new r.vpe,this.indeterminateChange=new r.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||uz,this.color=this.defaultColor=this._options.color||uz.color,this.tabIndex=parseInt(a)||0}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(e){this._required=Rn(e)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e||Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(e){e!=this.checked&&(this._checked=e,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){const i=Rn(e);i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const i=e!=this._indeterminate;this._indeterminate=Rn(e),i&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(e){let i=this._currentCheckState,o=this._elementRef.nativeElement;if(i!==e&&(this._currentAnimationClass.length>0&&o.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){o.classList.add(this._currentAnimationClass);const s=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{o.classList.remove(s)},1e3)})}}_emitChangeEvent(){const e=new Bde;e.source=this,e.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(e),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_onInputClick(e){var i;const o=null===(i=this._options)||void 0===i?void 0:i.clickAction;e.stopPropagation(),this.disabled||"noop"===o?!this.disabled&&"noop"===o&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==o&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(e,i){e?this._focusMonitor.focusVia(this._inputElement,e,i):this._inputElement.nativeElement.focus(i)}_onInteractionEvent(e){e.stopPropagation()}_getAnimationClassForCheckStateTransition(e,i){if("NoopAnimations"===this._animationMode)return"";let o="";switch(e){case 0:if(1===i)o="unchecked-checked";else{if(3!=i)return"";o="unchecked-indeterminate"}break;case 2:o=1===i?"unchecked-checked":"unchecked-indeterminate";break;case 1:o=2===i?"checked-unchecked":"checked-indeterminate";break;case 3:o=1===i?"indeterminate-checked":"indeterminate-unchecked"}return`mat-checkbox-anim-${o}`}_syncIndeterminate(e){const i=this._inputElement;i&&(i.nativeElement.indeterminate=e)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(Bh),r.Y36(r.R0b),r.$8M("tabindex"),r.Y36(O,8),r.Y36(Nde,8))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-checkbox"]],viewQuery:function(e,i){if(1&e&&(r.Gf(Ode,5),r.Gf(Wp,5)),2&e){let o;r.iGM(o=r.CRH())&&(i._inputElement=o.first),r.iGM(o=r.CRH())&&(i.ripple=o.first)}},hostAttrs:[1,"mat-checkbox"],hostVars:14,hostBindings:function(e,i){2&e&&(r.Ikx("id",i.id),r.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),r.ekj("mat-checkbox-indeterminate",i.indeterminate)("mat-checkbox-checked",i.checked)("mat-checkbox-disabled",i.disabled)("mat-checkbox-label-before","before"==i.labelPosition)("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[r._Bn([Pde]),r.qOj],ngContentSelectors:Fde,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(e,i){if(1&e&&(r.F$t(),r.TgZ(0,"label",0,1)(2,"span",2)(3,"input",3,4),r.NdJ("change",function(s){return i._onInteractionEvent(s)})("click",function(s){return i._onInputClick(s)}),r.qZA(),r.TgZ(5,"span",5),r._UZ(6,"span",6),r.qZA(),r._UZ(7,"span",7),r.TgZ(8,"span",8),r.O4$(),r.TgZ(9,"svg",9),r._UZ(10,"path",10),r.qZA(),r.kcU(),r._UZ(11,"span",11),r.qZA()(),r.TgZ(12,"span",12,13),r.NdJ("cdkObserveContent",function(){return i._onLabelTextChange()}),r.TgZ(14,"span",14),r._uU(15,"\xa0"),r.qZA(),r.Hsn(16),r.qZA()()),2&e){const o=r.MAs(1),s=r.MAs(13);r.uIk("for",i.inputId),r.xp6(2),r.ekj("mat-checkbox-inner-container-no-side-margin",!s.textContent||!s.textContent.trim()),r.xp6(1),r.Q6J("id",i.inputId)("required",i.required)("checked",i.checked)("disabled",i.disabled)("tabIndex",i.tabIndex),r.uIk("value",i.value)("name",i.name)("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby)("aria-checked",i._getAriaChecked())("aria-describedby",i.ariaDescribedby),r.xp6(2),r.Q6J("matRippleTrigger",o)("matRippleDisabled",i._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",r.VKq(19,Lde,"NoopAnimations"===i._animationMode?0:150))}},directives:[Wp,Lw],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-ripple{outline:solid 3px}.mat-checkbox-layout{-webkit-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}\n"],encapsulation:2,changeDetection:0}),t})(),hz=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})(),fz=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[Ab,ci,lb,hz],ci,hz]}),t})();function It(t,n,e,i){var a,o=arguments.length,s=o<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,n,e,i);else for(var d=t.length-1;d>=0;d--)(a=t[d])&&(s=(o<3?a(s):o>3?a(n,e,s):a(n,e))||s);return o>3&&s&&Object.defineProperty(n,e,s),s}function wg(t,n){return function(e,i){n(e,i,t)}}var sh=me(7122);function Hde(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"ngx-material-timepicker-24-hours-face",17),r.NdJ("hourChange",function(o){return r.CHM(e),r.oxw(2).onHourChange(o)})("hourSelected",function(o){return r.CHM(e),r.oxw(2).onHourSelected(o)}),r.ALo(1,"async"),r.qZA()}if(2&t){const e=r.oxw(2);r.Q6J("selectedHour",r.lcZ(1,4,e.selectedHour))("minTime",e.minTime)("maxTime",e.maxTime)("format",e.format)}}function Gde(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"ngx-material-timepicker-12-hours-face",18),r.NdJ("hourChange",function(o){return r.CHM(e),r.oxw(2).onHourChange(o)})("hourSelected",function(o){return r.CHM(e),r.oxw(2).onHourSelected(o)}),r.ALo(1,"async"),r.ALo(2,"async"),r.qZA()}if(2&t){const e=r.oxw(2);r.Q6J("selectedHour",r.lcZ(1,4,e.selectedHour))("period",r.lcZ(2,6,e.selectedPeriod))("minTime",e.minTime)("maxTime",e.maxTime)}}function Zde(t,n){if(1&t&&(r.TgZ(0,"div"),r.YNc(1,Hde,2,6,"ngx-material-timepicker-24-hours-face",15),r.YNc(2,Gde,3,8,"ng-template",null,16,r.W1O),r.qZA()),2&t){const e=r.MAs(3),i=r.oxw();r.xp6(1),r.Q6J("ngIf",24===i.format)("ngIfElse",e)}}function Yde(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"ngx-material-timepicker-minutes-face",19),r.NdJ("minuteChange",function(o){return r.CHM(e),r.oxw().onMinuteChange(o)}),r.ALo(1,"async"),r.ALo(2,"async"),r.ALo(3,"async"),r.qZA()}if(2&t){const e=r.oxw();let i;r.Q6J("selectedMinute",r.lcZ(1,7,e.selectedMinute))("selectedHour",null==(i=r.lcZ(2,9,e.selectedHour))?null:i.time)("minTime",e.minTime)("maxTime",e.maxTime)("format",e.format)("period",r.lcZ(3,11,e.selectedPeriod))("minutesGap",e.minutesGap)}}function zde(t,n){1&t&&r.GkF(0)}function Wde(t,n){1&t&&r.GkF(0)}function $de(t,n){1&t&&(r.TgZ(0,"ngx-material-timepicker-button"),r._uU(1,"Cancel"),r.qZA())}function Qde(t,n){1&t&&(r.TgZ(0,"ngx-material-timepicker-button"),r._uU(1,"Ok"),r.qZA())}const Jde=function(t){return{"timepicker-backdrop-overlay--transparent":t}};function Kde(t,n){1&t&&(r.O4$(),r.TgZ(0,"svg",2),r._UZ(1,"path",3),r.qZA())}const Xde=[[["","ngxMaterialTimepickerToggleIcon",""]]],ehe=["[ngxMaterialTimepickerToggleIcon]"],the=["clockFace"],nhe=["clockHand"],DA=function(t){return{transform:t}},e4=function(t,n){return{active:t,disabled:n}};function ihe(t,n){if(1&t&&(r.TgZ(0,"div",9)(1,"span",10),r.ALo(2,"activeHour"),r._uU(3),r.ALo(4,"timeLocalizer"),r.qZA()()),2&t){const e=n.$implicit,i=r.oxw(2);r.Q6J("ngStyle",r.VKq(11,DA,"rotateZ("+e.angle+"deg) translateX(-50%)")),r.xp6(1),r.Q6J("ngStyle",r.VKq(13,DA,"rotateZ(-"+e.angle+"deg)"))("ngClass",r.WLB(15,e4,r.Dn7(2,4,e.time,i.selectedTime.time,i.isClockFaceDisabled),e.disabled)),r.xp6(2),r.hij(" ",r.xi3(4,8,e.time,i.timeUnit.HOUR)," ")}}function rhe(t,n){if(1&t&&(r.TgZ(0,"div",13)(1,"span",10),r.ALo(2,"activeHour"),r._uU(3),r.ALo(4,"timeLocalizer"),r.qZA()()),2&t){const e=n.$implicit,i=r.oxw(3);r.Udp("height",i.innerClockFaceSize,"px"),r.Q6J("ngStyle",r.VKq(13,DA,"rotateZ("+e.angle+"deg) translateX(-50%)")),r.xp6(1),r.Q6J("ngStyle",r.VKq(15,DA,"rotateZ(-"+e.angle+"deg)"))("ngClass",r.WLB(17,e4,r.Dn7(2,6,e.time,null==i.selectedTime?null:i.selectedTime.time,i.isClockFaceDisabled),e.disabled)),r.xp6(2),r.hij(" ",r.xi3(4,10,e.time,i.timeUnit.HOUR),"")}}function ohe(t,n){if(1&t&&(r.TgZ(0,"div",11),r.YNc(1,rhe,5,20,"div",12),r.ALo(2,"slice"),r.qZA()),2&t){const e=r.oxw(2);r.Udp("top","calc(50% - "+e.innerClockFaceSize+"px)"),r.xp6(1),r.Q6J("ngForOf",r.Dn7(2,4,e.faceTime,12,24))("ngForTrackBy",e.trackByTime)}}function she(t,n){if(1&t&&(r.TgZ(0,"div",6),r.YNc(1,ihe,5,18,"div",7),r.ALo(2,"slice"),r.YNc(3,ohe,3,8,"div",8),r.qZA()),2&t){const e=r.oxw();r.xp6(1),r.Q6J("ngForOf",r.Dn7(2,3,e.faceTime,0,12))("ngForTrackBy",e.trackByTime),r.xp6(2),r.Q6J("ngIf",e.faceTime.length>12)}}function ahe(t,n){if(1&t&&(r.TgZ(0,"div",9)(1,"span",10),r.ALo(2,"activeMinute"),r._uU(3),r.ALo(4,"timeLocalizer"),r.ALo(5,"minutesFormatter"),r.qZA()()),2&t){const e=n.$implicit,i=r.oxw(2);r.Q6J("ngStyle",r.VKq(15,DA,"rotateZ("+e.angle+"deg) translateX(-50%)")),r.xp6(1),r.Q6J("ngStyle",r.VKq(17,DA,"rotateZ(-"+e.angle+"deg)"))("ngClass",r.WLB(19,e4,r.gM2(2,4,e.time,null==i.selectedTime?null:i.selectedTime.time,i.minutesGap,i.isClockFaceDisabled),e.disabled)),r.xp6(2),r.hij(" ",r.xi3(4,9,r.xi3(5,12,e.time,i.minutesGap),i.timeUnit.MINUTE),"")}}function lhe(t,n){if(1&t&&(r.TgZ(0,"div",6),r.YNc(1,ahe,6,22,"div",7),r.qZA()),2&t){const e=r.oxw();r.xp6(1),r.Q6J("ngForOf",e.faceTime)("ngForTrackBy",e.trackByTime)}}const che=function(t){return{"clock-face__clock-hand_minute":t}},gz=["*"];function uhe(t,n){1&t&&r.GkF(0)}function dhe(t,n){1&t&&(r.TgZ(0,"small",10),r._uU(1," * use arrows ("),r.TgZ(2,"span"),r._uU(3,"\u21c5"),r.qZA(),r._uU(4,") to change the time"),r.qZA())}const hhe=function(t){return{"timepicker-dial__hint-container--hidden":t}};function fhe(t,n){if(1&t&&(r.TgZ(0,"div",7),r.YNc(1,uhe,1,0,"ng-container",8),r.YNc(2,dhe,5,0,"ng-template",null,9,r.W1O),r.qZA()),2&t){const e=r.MAs(3),i=r.oxw();r.Q6J("ngClass",r.VKq(2,hhe,!i.isHintVisible)),r.xp6(1),r.Q6J("ngTemplateOutlet",i.editableHintTmpl?i.editableHintTmpl:e)}}const phe=function(t){return{"timepicker-dial__period--hidden":t}},E5=function(t){return{"timepicker-dial__item_active":t}};function mhe(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"input",2),r.NdJ("ngModelChange",function(o){return r.CHM(e),r.oxw().time=o})("input",function(){return r.CHM(e),r.oxw().updateTime()})("focus",function(o){r.CHM(e);const s=r.oxw();return s.saveTimeAndChangeTimeUnit(o,s.timeUnit)}),r.ALo(1,"timeLocalizer"),r.qZA()}if(2&t){const e=r.oxw();r.Q6J("ngClass",r.VKq(7,E5,e.isActive))("ngModel",r.xi3(1,4,e.time,e.timeUnit))("disabled",e.disabled)("timepickerAutofocus",e.isActive)}}function ghe(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"input",3),r.NdJ("ngModelChange",function(o){return r.CHM(e),r.oxw().onModelChange(o)})("input",function(){return r.CHM(e),r.oxw().updateTime()})("focus",function(o){r.CHM(e);const s=r.oxw();return s.saveTimeAndChangeTimeUnit(o,s.timeUnit)})("keydown",function(o){return r.CHM(e),r.oxw().onKeydown(o)})("keypress",function(o){return r.CHM(e),r.oxw().changeTimeByKeyboard(o)}),r.ALo(1,"timeLocalizer"),r.ALo(2,"timeParser"),r.qZA()}if(2&t){const e=r.oxw();r.Q6J("ngClass",r.VKq(11,E5,e.isActive))("ngModel",r.Dn7(1,4,r.xi3(2,8,e.time,e.timeUnit),e.timeUnit,!0))("disabled",e.disabled)("timepickerAutofocus",e.isActive)}}function _he(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"div",3),r.NdJ("@scaleInOut.done",function(){return r.CHM(e),r.oxw().animationDone()}),r.TgZ(1,"p"),r._uU(2,"Current time would be invalid in this period."),r.qZA()()}2&t&&r.Q6J("@scaleInOut",void 0)}function vhe(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"ngx-timepicker-period-selector",9),r.NdJ("periodSelected",function(o){return r.CHM(e),r.oxw().changePeriod(o)}),r.qZA()}if(2&t){const e=r.oxw();r.Q6J("selectedPeriod",e.period)("disabled",e.disabled||e.isChangePeriodDisabled)}}function yhe(t,n){1&t&&r.GkF(0)}const bhe=function(t){return{"ngx-timepicker__toggle--left":t}};function whe(t,n){if(1&t&&(r.TgZ(0,"ngx-material-timepicker-toggle",10)(1,"span",11),r.YNc(2,yhe,1,0,"ng-container",12),r.qZA()()),2&t){const e=r.oxw(),i=r.MAs(10),o=r.MAs(12);r.Q6J("ngClass",r.VKq(4,bhe,"left"===e.buttonAlign))("for",i)("disabled",e.disabled),r.xp6(2),r.Q6J("ngTemplateOutlet",e.toggleIcon||o)}}function Che(t,n){1&t&&(r.O4$(),r.TgZ(0,"svg",13),r._UZ(1,"path",14),r.qZA())}const xhe=function(t){return{"ngx-timepicker--disabled":t}},The=function(t){return{"ngx-timepicker-control--active":t}},_z=function(t){return{"period-selector__button--active":t}};function Ahe(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"ul",6)(1,"li")(2,"button",7),r.NdJ("click",function(){r.CHM(e);const o=r.oxw();return o.select(o.period.AM)}),r._uU(3),r.qZA()(),r.TgZ(4,"li")(5,"button",7),r.NdJ("click",function(){r.CHM(e);const o=r.oxw();return o.select(o.period.PM)}),r._uU(6),r.qZA()()()}if(2&t){const e=r.oxw();r.Q6J("@scaleInOut",void 0)("timepickerAutofocus",!0),r.xp6(2),r.Q6J("ngClass",r.VKq(6,_z,e.localizedPeriod===e.meridiems[0])),r.xp6(1),r.Oqu(e.meridiems[0]),r.xp6(2),r.Q6J("ngClass",r.VKq(8,_z,e.localizedPeriod===e.meridiems[1])),r.xp6(1),r.Oqu(e.meridiems[1])}}function She(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"div",8),r.NdJ("click",function(){return r.CHM(e),r.oxw().backdropClick()}),r.qZA()}}const Dhe=function(t){return{"period-control__button--disabled":t}};function Ehe(t,n){1&t&&r.GkF(0)}function Mhe(t,n){if(1&t&&(r.TgZ(0,"div",3),r.YNc(1,Ehe,1,0,"ng-container",4),r.qZA()),2&t){const e=r.oxw(),i=r.MAs(4);r.Q6J("ngxAppendToInput",e.inputElement),r.xp6(1),r.Q6J("ngTemplateOutlet",i)}}function khe(t,n){1&t&&r.GkF(0)}function Ihe(t,n){if(1&t&&r.YNc(0,khe,1,0,"ng-container",4),2&t){r.oxw();const e=r.MAs(4);r.Q6J("ngTemplateOutlet",e)}}function Ohe(t,n){1&t&&r.Hsn(0)}let Cg=class{constructor(){this.backdropClickSubject=new Ht.x,this.keydownEventSubject=new Ht.x}get backdropClick(){return this.backdropClickSubject.asObservable().pipe(Of({bufferSize:1,refCount:!0}))}get keydownEvent(){return this.keydownEventSubject.asObservable().pipe(Of({bufferSize:1,refCount:!0}))}dispatchEvent(n){switch(n.type){case"click":this.backdropClickSubject.next(n);break;case"keydown":this.keydownEventSubject.next(n);break;default:throw new Error("no such event type")}}};Cg.\u0275fac=function(n){return new(n||Cg)},Cg.\u0275prov=r.Yz7({token:Cg,factory:function(t){return Cg.\u0275fac(t)},providedIn:"root"}),Cg.ngInjectableDef=(0,r.Yz7)({factory:function(){return new Cg},token:Cg,providedIn:"root"});let xg=class{constructor(n,e,i,o){this.cfr=n,this.appRef=e,this.injector=i,this.document=o}appendTimepickerToBody(n,e){this.componentRef=this.cfr.resolveComponentFactory(n).create(this.injector),Object.keys(e).forEach(o=>this.componentRef.instance[o]=e[o]),this.appRef.attachView(this.componentRef.hostView),this.document.body.appendChild(this.componentRef.hostView.rootNodes[0])}destroyTimepicker(){this.componentRef.destroy(),this.appRef.detachView(this.componentRef.hostView)}};xg.\u0275fac=function(n){return new(n||xg)(r.LFG(r._Vd),r.LFG(r.z2F),r.LFG(r.zs3),r.LFG(et,8))},xg.\u0275prov=r.Yz7({token:xg,factory:function(t){return xg.\u0275fac(t)},providedIn:"root"}),xg.ngInjectableDef=(0,r.Yz7)({factory:function(){return new xg((0,r.LFG)(r._Vd),(0,r.LFG)(r.z2F),(0,r.LFG)(r.gxx),(0,r.LFG)(et,8))},token:xg,providedIn:"root"}),xg=It([wg(3,(0,r.FiY)()),wg(3,(0,r.tBr)(et))],xg);var fc=(()=>(function(t){t[t.HOUR=0]="HOUR",t[t.MINUTE=1]="MINUTE"}(fc||(fc={})),fc))(),pc=(()=>(function(t){t.AM="AM",t.PM="PM"}(pc||(pc={})),pc))(),Tg=(()=>(function(t){t.TWELVE="hh:mm a",t.TWELVE_SHORT="h:m a",t.TWENTY_FOUR="HH:mm",t.TWENTY_FOUR_SHORT="H:m"}(Tg||(Tg={})),Tg))();function t4(t,n,e="minutes"){return"hours"===e?t.hour>=n.hour:"minutes"===e?t.hasSame(n,e)||t.valueOf()>n.valueOf():void 0}function n4(t,n,e="minutes"){return"hours"===e?t.hour<=n.hour:"minutes"===e?t.hasSame(n,e)||t.valueOf()<=n.valueOf():void 0}function vz(t){return!!([46,8,9,27,13].some(n=>n===t.keyCode)||65==t.keyCode&&(!0===t.ctrlKey||!0===t.metaKey)||67==t.keyCode&&(!0===t.ctrlKey||!0===t.metaKey)||88==t.keyCode&&(!0===t.ctrlKey||!0===t.metaKey)||t.keyCode>=35&&t.keyCode<=40)||!((t.keyCode<48||t.keyCode>57)&&(t.keyCode<96||t.keyCode>105))}let Ta=(()=>{class t{static parseTime(e,i){const{numberingSystem:o,locale:s}=t.getLocaleOptionsByTime(e,i),d=2===e.split(" ").length?Tg.TWELVE_SHORT:Tg.TWENTY_FOUR_SHORT;return sh.ou.fromFormat(e,d,{numberingSystem:o,locale:s})}static formatTime(e,i){if(!e)return"Invalid Time";const{format:o}=i,s=t.parseTime(e,i).setLocale(t.DEFAULT_LOCALE);return 24!==o?s.toLocaleString(Object.assign({},sh.ou.TIME_SIMPLE,{hour12:24!==o,numberingSystem:t.DEFAULT_NUMBERING_SYSTEM})).replace(/\u200E/g,""):s.toISOTime({includeOffset:!1,suppressMilliseconds:!0,suppressSeconds:!0}).replace(/\u200E/g,"")}static toLocaleTimeString(e,i={}){const{format:o=t.DEFAULT_FORMAT,locale:s=t.DEFAULT_LOCALE}=i,d=Object.assign({},sh.ou.TIME_SIMPLE,{hourCycle:24===o?"h23":"h12"});return sh.ou.fromFormat(e,24===o?Tg.TWENTY_FOUR_SHORT:Tg.TWELVE_SHORT).setLocale(s).toLocaleString(d)}static isTimeAvailable(e,i,o,s,a,d){if(!e)return;const f=this.parseTime(e,{format:d}),v=f.minute;if(a&&v==v&&v%a!=0)throw new Error(`Your minutes - ${v} doesn't match your minutesGap - ${a}`);const w=i&&!o&&t4(f,i,s),x=o&&!i&&n4(f,o,s),S=i&&o&&function Lhe(t,n,e,i="minutes"){return"hours"===i?n4(t,e,i)&&t4(t,n,i):"minutes"===i?n4(t,e)&&t4(t,n):void 0}(f,i,o,s);return w||x||S||!i&&!o}static formatHour(e,i,o){if(24===i)return e;const s=o===pc.AM?e:e+12;return o===pc.AM&&12===s?0:o===pc.PM&&24===s?12:s}static fromDateTimeToString(e,i){const o=24===i?Tg.TWENTY_FOUR:Tg.TWELVE;return e.reconfigure({numberingSystem:t.DEFAULT_NUMBERING_SYSTEM,locale:t.DEFAULT_LOCALE}).toFormat(o)}static getLocaleOptionsByTime(e,i){const{numberingSystem:o,locale:s}=sh.ou.local().setLocale(i.locale).resolvedLocaleOpts(),a={numberingSystem:o,locale:s},d={numberingSystem:t.DEFAULT_NUMBERING_SYSTEM,locale:t.DEFAULT_LOCALE};return isNaN(parseInt(e,10))?a:d}}return t.DEFAULT_FORMAT=12,t.DEFAULT_LOCALE="en-US",t.DEFAULT_NUMBERING_SYSTEM="latn",t})();const M5={time:12,angle:360},k5={time:0,angle:360};let Qf=class{constructor(){this.hourSubject=new Io(M5),this.minuteSubject=new Io(k5),this.periodSubject=new Io(pc.AM)}set hour(n){this.hourSubject.next(n)}get selectedHour(){return this.hourSubject.asObservable()}set minute(n){this.minuteSubject.next(n)}get selectedMinute(){return this.minuteSubject.asObservable()}set period(n){(n===pc.AM||n===pc.PM)&&this.periodSubject.next(n)}get selectedPeriod(){return this.periodSubject.asObservable()}setDefaultTimeIfAvailable(n,e,i,o,s){try{Ta.isTimeAvailable(n,e,i,"minutes",s)&&this.setDefaultTime(n,o)}catch(a){console.error(a)}}getFullTime(n){const e=this.hourSubject.getValue().time,i=this.minuteSubject.getValue().time,d=`${null!=e?e:M5.time}:${null!=i?i:k5.time} ${12===n?this.periodSubject.getValue():""}`.trim();return Ta.formatTime(d,{format:n})}setDefaultTime(n,e){const i=Ta.parseTime(n,{format:e}).toJSDate();if(sh.ou.fromJSDate(i).isValid){const o=n.substr(n.length-2).toUpperCase(),s=i.getHours();this.hour=Object.assign({},M5,{time:Fhe(s,o)}),this.minute=Object.assign({},k5,{time:i.getMinutes()}),this.period=o}else this.resetTime()}resetTime(){this.hour=Object.assign({},M5),this.minute=Object.assign({},k5),this.period=pc.AM}};function Fhe(t,n){switch(n){case pc.AM:return 0===t?12:t;case pc.PM:return 12===t?12:t-12;default:return t}}Qf.\u0275fac=function(n){return new(n||Qf)},Qf.\u0275prov=r.Yz7({token:Qf,factory:function(t){return Qf.\u0275fac(t)},providedIn:"root"}),Qf.ngInjectableDef=(0,r.Yz7)({factory:function(){return new Qf},token:Qf,providedIn:"root"});const Iu=new r.OlP("TimeLocale",{providedIn:"root",factory:()=>Ta.DEFAULT_LOCALE});var Gy=(()=>(function(t){t.ENTER="enter",t.LEAVE="leave"}(Gy||(Gy={})),Gy))();let Nhe=(()=>{let t=class{constructor(e,i,o){this.timepickerService=e,this.eventService=i,this.locale=o,this.timeUnit=fc,this.activeTimeUnit=fc.HOUR,this.unsubscribe=new Ht.x}set defaultTime(e){this._defaultTime=e,this.setDefaultTime(e)}get defaultTime(){return this._defaultTime}onKeydown(e){this.eventService.dispatchEvent(e),e.stopPropagation()}ngOnInit(){this.animationState=!this.disableAnimation&&Gy.ENTER,this.defineTime(),this.selectedHour=this.timepickerService.selectedHour.pipe(Of({bufferSize:1,refCount:!0})),this.selectedMinute=this.timepickerService.selectedMinute.pipe(Of({bufferSize:1,refCount:!0})),this.selectedPeriod=this.timepickerService.selectedPeriod.pipe(Of({bufferSize:1,refCount:!0})),this.timepickerBaseRef.timeUpdated.pipe(ai(this.unsubscribe)).subscribe(this.setDefaultTime.bind(this))}onHourChange(e){this.timepickerService.hour=e,this.onTimeChange()}onHourSelected(e){this.hoursOnly||this.changeTimeUnit(fc.MINUTE),this.timepickerBaseRef.hourSelected.next(e)}onMinuteChange(e){this.timepickerService.minute=e,this.onTimeChange()}changePeriod(e){this.timepickerService.period=e,this.onTimeChange()}changeTimeUnit(e){this.activeTimeUnit=e}setTime(){this.timepickerBaseRef.timeSet.next(this.timepickerService.getFullTime(this.format)),this.close()}close(){this.disableAnimation?this.timepickerBaseRef.close():this.animationState=Gy.LEAVE}animationDone(e){"done"===e.phaseName&&e.toState===Gy.LEAVE&&this.timepickerBaseRef.close()}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}setDefaultTime(e){this.timepickerService.setDefaultTimeIfAvailable(e,this.minTime,this.maxTime,this.format,this.minutesGap)}defineTime(){const e=this.minTime;if(e&&!this.time&&!this.defaultTime){const i=Ta.fromDateTimeToString(e,this.format);this.setDefaultTime(i)}}onTimeChange(){const e=Ta.toLocaleTimeString(this.timepickerService.getFullTime(this.format),{locale:this.locale,format:this.format});this.timepickerBaseRef.timeChanged.emit(e)}};return t.\u0275fac=function(e){return new(e||t)(r.Y36(Qf),r.Y36(Cg),r.Y36(Iu))},t.\u0275cmp=r.Xpm({type:t,selectors:[["ngx-material-timepicker-container"]],hostBindings:function(e,i){1&e&&r.NdJ("keydown",function(s){return i.onKeydown(s)})},inputs:{defaultTime:"defaultTime"},features:[r._Bn([Qf])],decls:22,vars:31,consts:[[1,"timepicker-backdrop-overlay",3,"overlay","ngClass"],[1,"timepicker-overlay"],[3,"appendToInput","inputElement","ngxMaterialTimepickerTheme"],[1,"timepicker",3,"ngClass"],[1,"timepicker__header"],[3,"format","hour","minute","period","activeTimeUnit","minTime","maxTime","isEditable","editableHintTmpl","minutesGap","hoursOnly","periodChanged","timeUnitChanged","hourChanged","minuteChanged"],[1,"timepicker__main-content"],[1,"timepicker__body",3,"ngSwitch"],[4,"ngSwitchCase"],[3,"selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange",4,"ngSwitchCase"],[1,"timepicker__actions"],[3,"click"],[4,"ngTemplateOutlet"],["cancelBtnDefault",""],["confirmBtnDefault",""],[3,"selectedHour","minTime","maxTime","format","hourChange","hourSelected",4,"ngIf","ngIfElse"],["ampmHours",""],[3,"selectedHour","minTime","maxTime","format","hourChange","hourSelected"],[3,"selectedHour","period","minTime","maxTime","hourChange","hourSelected"],[3,"selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange"]],template:function(e,i){if(1&e&&(r._UZ(0,"div",0),r.TgZ(1,"div",1)(2,"ngx-material-timepicker-content",2)(3,"div",3),r.NdJ("@timepicker.done",function(s){return i.animationDone(s)}),r.TgZ(4,"header",4)(5,"ngx-material-timepicker-dial",5),r.NdJ("periodChanged",function(s){return i.changePeriod(s)})("timeUnitChanged",function(s){return i.changeTimeUnit(s)})("hourChanged",function(s){return i.onHourChange(s)})("minuteChanged",function(s){return i.onMinuteChange(s)}),r.ALo(6,"async"),r.ALo(7,"async"),r.ALo(8,"async"),r.qZA()(),r.TgZ(9,"div",6)(10,"div",7),r.YNc(11,Zde,4,2,"div",8),r.YNc(12,Yde,4,13,"ngx-material-timepicker-minutes-face",9),r.qZA(),r.TgZ(13,"div",10)(14,"div",11),r.NdJ("click",function(){return i.close()}),r.YNc(15,zde,1,0,"ng-container",12),r.qZA(),r.TgZ(16,"div",11),r.NdJ("click",function(){return i.setTime()}),r.YNc(17,Wde,1,0,"ng-container",12),r.qZA()()()()()(),r.YNc(18,$de,2,0,"ng-template",null,13,r.W1O),r.YNc(20,Qde,2,0,"ng-template",null,14,r.W1O)),2&e){const o=r.MAs(19),s=r.MAs(21);let a,d;r.Q6J("overlay",i.preventOverlayClick)("ngClass",r.VKq(29,Jde,i.appendToInput)),r.xp6(2),r.Q6J("appendToInput",i.appendToInput)("inputElement",i.inputElement)("ngxMaterialTimepickerTheme",i.theme),r.xp6(1),r.Q6J("@timepicker",i.animationState)("ngClass",i.timepickerClass),r.xp6(2),r.Q6J("format",i.format)("hour",null==(a=r.lcZ(6,23,i.selectedHour))?null:a.time)("minute",null==(d=r.lcZ(7,25,i.selectedMinute))?null:d.time)("period",r.lcZ(8,27,i.selectedPeriod))("activeTimeUnit",i.activeTimeUnit)("minTime",i.minTime)("maxTime",i.maxTime)("isEditable",i.enableKeyboardInput)("editableHintTmpl",i.editableHintTmpl)("minutesGap",i.minutesGap)("hoursOnly",i.hoursOnly),r.xp6(5),r.Q6J("ngSwitch",i.activeTimeUnit),r.xp6(1),r.Q6J("ngSwitchCase",i.timeUnit.HOUR),r.xp6(1),r.Q6J("ngSwitchCase",i.timeUnit.MINUTE),r.xp6(3),r.Q6J("ngTemplateOutlet",i.cancelBtnTmpl?i.cancelBtnTmpl:o),r.xp6(2),r.Q6J("ngTemplateOutlet",i.confirmBtnTmpl?i.confirmBtnTmpl:s)}},directives:function(){return[Qhe,xr,ife,Bhe,Yhe,Xr,Yi,Sn,jhe,Vhe,qhe,wd,Zhe]},pipes:function(){return[uh]},styles:["[_nghost-%COMP%]{--body-background-color:#fff;--primary-font-family:'Roboto',sans-serif;--button-color:deepskyblue;--dial-active-color:#fff;--dial-inactive-color:rgba(255, 255, 255, .5);--dial-background-color:deepskyblue;--dial-editable-active-color:deepskyblue;--dial-editable-background-color:#fff;--clock-face-time-active-color:#fff;--clock-face-time-inactive-color:#6c6c6c;--clock-face-inner-time-inactive-color:#929292;--clock-face-time-disabled-color:#c5c5c5;--clock-face-background-color:#f0f0f0;--clock-hand-color:deepskyblue}.timepicker-backdrop-overlay[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;right:0;left:0;background-color:rgba(0,0,0,.3);z-index:999;pointer-events:auto}.timepicker-backdrop-overlay--transparent[_ngcontent-%COMP%]{background-color:transparent}.timepicker-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;z-index:999;pointer-events:none}.timepicker[_ngcontent-%COMP%]{width:300px;border-radius:2px;box-shadow:rgba(0,0,0,.25) 0 14px 45px,rgba(0,0,0,.22) 0 10px 18px;outline:0;position:static;z-index:999;pointer-events:auto}.timepicker__header[_ngcontent-%COMP%]{padding:15px 30px;background-color:#00bfff}@supports (background-color:var(--dial-background-color)){.timepicker__header[_ngcontent-%COMP%]{background-color:var(--dial-background-color)}}.timepicker__body[_ngcontent-%COMP%]{padding:15px 5px;display:flex;justify-content:center;align-items:center;background-color:#fff}@supports (background-color:var(--body-background-color)){.timepicker__body[_ngcontent-%COMP%]{background-color:var(--body-background-color)}}.timepicker__actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:15px;background-color:#fff}@supports (background-color:var(--body-background-color)){.timepicker__actions[_ngcontent-%COMP%]{background-color:var(--body-background-color)}}@media (max-device-width:1023px) and (orientation:landscape){.timepicker[_ngcontent-%COMP%]{display:flex;width:515px}.timepicker__header[_ngcontent-%COMP%]{display:flex;align-items:center}.timepicker__main-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.timepicker__actions[_ngcontent-%COMP%]{padding:5px;margin-top:-1px}}"],data:{animation:[zs("timepicker",[pr(`* => ${Gy.ENTER}`,[Qt({transform:"translateY(-30%)"}),Ar("0.2s ease-out",Qt({transform:"translateY(0)"}))]),pr(`${Gy.ENTER} => ${Gy.LEAVE}`,[Qt({transform:"translateY(0)",opacity:1}),Ar("0.2s ease-out",Qt({transform:"translateY(-30%)",opacity:0}))])])]}}),It([(0,r.IIB)()],t.prototype,"defaultTime",null),It([(0,r.L6J)("keydown",["$event"])],t.prototype,"onKeydown",null),t=It([wg(2,(0,r.tBr)(Iu))],t),t})(),yz=(()=>{let t=class{constructor(e,i){this.eventService=e,this.domService=i,this.timeUpdated=new Ht.x,this.isEsc=!0,this.hoursOnly=!1,this.timeSet=new r.vpe,this.opened=new r.vpe,this.closed=new r.vpe,this.hourSelected=new r.vpe,this.timeChanged=new r.vpe,this.unsubscribe=new Ht.x}set ngxMaterialTimepickerTheme(e){console.warn("'ngxMaterialTimepickerTheme' is deprecated. Use 'theme' instead"),this._ngxMaterialTimepickerTheme=e}set format(e){this._format=24===e?24:12}get format(){return this.timepickerInput?this.timepickerInput.format:this._format}set minutesGap(e){null!=e&&(e=Math.floor(e),this._minutesGap=e<=59?e:1)}get minutesGap(){return this._minutesGap}get minTime(){return this.timepickerInput?this.timepickerInput.min:this.min}get maxTime(){return this.timepickerInput?this.timepickerInput.max:this.max}get disabled(){return this.timepickerInput&&this.timepickerInput.disabled}get time(){return this.timepickerInput&&this.timepickerInput.value}get inputElement(){return this.timepickerInput&&this.timepickerInput.element}registerInput(e){if(this.timepickerInput)throw Error("A Timepicker can only be associated with a single input.");this.timepickerInput=e}open(){this.domService.appendTimepickerToBody(Nhe,{timepickerBaseRef:this,time:this.time,defaultTime:this.defaultTime,maxTime:this.maxTime,minTime:this.minTime,format:this.format,minutesGap:this.minutesGap,disableAnimation:this.disableAnimation,cancelBtnTmpl:this.cancelBtnTmpl,confirmBtnTmpl:this.confirmBtnTmpl,editableHintTmpl:this.editableHintTmpl,disabled:this.disabled,enableKeyboardInput:this.enableKeyboardInput,preventOverlayClick:this.preventOverlayClick,appendToInput:this.appendToInput,hoursOnly:this.hoursOnly,theme:this.theme||this._ngxMaterialTimepickerTheme,timepickerClass:this.timepickerClass,inputElement:this.inputElement}),this.opened.next(),this.subscribeToEvents()}close(){this.domService.destroyTimepicker(),this.closed.next(),this.unsubscribeFromEvents()}updateTime(e){this.timeUpdated.next(e)}subscribeToEvents(){(0,co.T)(this.eventService.backdropClick,this.eventService.keydownEvent.pipe(hr(e=>27===e.keyCode&&this.isEsc))).pipe(ai(this.unsubscribe)).subscribe(()=>this.close())}unsubscribeFromEvents(){this.unsubscribe.next(),this.unsubscribe.complete()}};return t.\u0275fac=function(e){return new(e||t)(r.Y36(Cg),r.Y36(xg))},t.\u0275cmp=r.Xpm({type:t,selectors:[["ngx-material-timepicker"]],inputs:{isEsc:["ESC","isEsc"],hoursOnly:"hoursOnly",ngxMaterialTimepickerTheme:"ngxMaterialTimepickerTheme",format:"format",minutesGap:"minutesGap",cancelBtnTmpl:"cancelBtnTmpl",editableHintTmpl:"editableHintTmpl",confirmBtnTmpl:"confirmBtnTmpl",enableKeyboardInput:"enableKeyboardInput",preventOverlayClick:"preventOverlayClick",disableAnimation:"disableAnimation",appendToInput:"appendToInput",defaultTime:"defaultTime",timepickerClass:"timepickerClass",theme:"theme",min:"min",max:"max"},outputs:{timeSet:"timeSet",opened:"opened",closed:"closed",hourSelected:"hourSelected",timeChanged:"timeChanged"},decls:0,vars:0,template:function(e,i){},encapsulation:2}),It([(0,r.IIB)()],t.prototype,"cancelBtnTmpl",void 0),It([(0,r.IIB)()],t.prototype,"editableHintTmpl",void 0),It([(0,r.IIB)()],t.prototype,"confirmBtnTmpl",void 0),It([(0,r.IIB)("ESC")],t.prototype,"isEsc",void 0),It([(0,r.IIB)()],t.prototype,"enableKeyboardInput",void 0),It([(0,r.IIB)()],t.prototype,"preventOverlayClick",void 0),It([(0,r.IIB)()],t.prototype,"disableAnimation",void 0),It([(0,r.IIB)()],t.prototype,"appendToInput",void 0),It([(0,r.IIB)()],t.prototype,"hoursOnly",void 0),It([(0,r.IIB)()],t.prototype,"defaultTime",void 0),It([(0,r.IIB)()],t.prototype,"timepickerClass",void 0),It([(0,r.IIB)()],t.prototype,"theme",void 0),It([(0,r.IIB)()],t.prototype,"min",void 0),It([(0,r.IIB)()],t.prototype,"max",void 0),It([(0,r.IIB)()],t.prototype,"ngxMaterialTimepickerTheme",null),It([(0,r.IIB)()],t.prototype,"format",null),It([(0,r.IIB)()],t.prototype,"minutesGap",null),It([(0,r.r_U)()],t.prototype,"timeSet",void 0),It([(0,r.r_U)()],t.prototype,"opened",void 0),It([(0,r.r_U)()],t.prototype,"closed",void 0),It([(0,r.r_U)()],t.prototype,"hourSelected",void 0),It([(0,r.r_U)()],t.prototype,"timeChanged",void 0),t})(),r4=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["","ngxMaterialTimepickerToggleIcon",""]]}),t})(),Phe=(()=>{let t=class{get disabled(){return void 0===this._disabled?this.timepicker.disabled:this._disabled}set disabled(e){this._disabled=e}open(e){this.timepicker&&(this.timepicker.open(),e.stopPropagation())}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["ngx-material-timepicker-toggle"]],contentQueries:function(e,i,o){if(1&e&&r.Suo(o,r4,7),2&e){let s;r.iGM(s=r.CRH())&&(i.customIcon=s.first)}},inputs:{disabled:"disabled",timepicker:["for","timepicker"]},ngContentSelectors:ehe,decls:3,vars:2,consts:[["type","button",1,"ngx-material-timepicker-toggle",3,"disabled","click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","width","24px","height","24px",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","width","24px","height","24px"],["d","M 12 2 C 6.4889971 2 2 6.4889971 2 12 C 2 17.511003                   6.4889971 22 12 22 C 17.511003 22 22 17.511003 22 12 C 22 6.4889971 17.511003 2 12 2 z M 12 4 C 16.430123 4 20 7.5698774 20 12 C 20 16.430123 16.430123 20 12 20 C 7.5698774 20 4 16.430123 4 12 C 4 7.5698774 7.5698774 4 12 4 z M 11 6 L 11 12.414062 L 15.292969 16.707031 L 16.707031 15.292969 L 13 11.585938 L 13 6 L 11 6 z"]],template:function(e,i){1&e&&(r.F$t(Xde),r.TgZ(0,"button",0),r.NdJ("click",function(s){return i.open(s)}),r.YNc(1,Kde,2,0,"svg",1),r.Hsn(2),r.qZA()),2&e&&(r.Q6J("disabled",i.disabled),r.xp6(1),r.Q6J("ngIf",!i.customIcon))},directives:[Sn],styles:[".ngx-material-timepicker-toggle[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:4px;background-color:transparent;border-radius:50%;text-align:center;border:none;outline:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:background-color .3s;cursor:pointer}.ngx-material-timepicker-toggle[_ngcontent-%COMP%]:focus{background-color:rgba(0,0,0,.07)}"]}),It([(0,r.IIB)("for")],t.prototype,"timepicker",void 0),It([(0,r.IIB)()],t.prototype,"disabled",null),It([(0,r.aQ5)(r4,{static:!0})],t.prototype,"customIcon",void 0),t})();var o4;let gd=o4=class{constructor(n,e){this.elementRef=n,this.locale=e,this._format=12,this._value="",this.timepickerSubscriptions=[],this.onTouched=()=>{},this.onChange=()=>{}}set format(n){this._format=24===n?24:12,n&&this.previousFormat&&this.previousFormat!==this._format&&(this.value=this._value,this._timepicker.updateTime(this._value)),this.previousFormat=this._format}get format(){return this._format}set min(n){this._min="string"!=typeof n?n:Ta.parseTime(n,{locale:this.locale,format:this.format})}get min(){return this._min}set max(n){this._max="string"!=typeof n?n:Ta.parseTime(n,{locale:this.locale,format:this.format})}get max(){return this._max}set timepicker(n){this.registerTimepicker(n)}set value(n){if(!n)return this._value="",void this.updateInputValue();const e=Ta.formatTime(n,{locale:this.locale,format:this.format});if(Ta.isTimeAvailable(e,this._min,this._max,"minutes",this._timepicker.minutesGap,this._format))return this._value=e,void this.updateInputValue();console.warn("Selected time doesn't match min or max value")}get value(){return this._value?Ta.toLocaleTimeString(this._value,{format:this.format,locale:this.locale}):""}get element(){return this.elementRef&&this.elementRef.nativeElement}set defaultTime(n){this._timepicker.defaultTime=Ta.formatTime(n,{locale:this.locale,format:this.format})}updateValue(n){this.value=n,this.onChange(n)}ngOnChanges(n){n.value&&n.value.currentValue&&(this.defaultTime=n.value.currentValue)}onClick(n){this.disableClick||(this._timepicker.open(),n.stopPropagation())}writeValue(n){this.value=n,n&&(this.defaultTime=n)}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){this.disabled=n}ngOnDestroy(){this.timepickerSubscriptions.forEach(n=>n.unsubscribe())}registerTimepicker(n){if(!n)throw new Error("NgxMaterialTimepickerComponent is not defined. Please make sure you passed the timepicker to ngxTimepicker directive");this._timepicker=n,this._timepicker.registerInput(this),this.timepickerSubscriptions.push(this._timepicker.timeSet.subscribe(e=>{this.value=e,this.onChange(this.value),this.onTouched(),this.defaultTime=this._value}))}updateInputValue(){this.elementRef.nativeElement.value=this.value}};gd.\u0275fac=function(n){return new(n||gd)(r.Y36(r.SBq),r.Y36(Iu))},gd.\u0275dir=r.lG2({type:gd,selectors:[["","ngxTimepicker",""]],hostVars:1,hostBindings:function(n,e){1&n&&r.NdJ("change",function(o){return e.updateValue(o.target.value)})("blur",function(){return e.onTouched()})("click",function(o){return e.onClick(o)}),2&n&&r.Ikx("disabled",e.disabled)},inputs:{format:"format",value:"value",min:"min",max:"max",timepicker:["ngxTimepicker","timepicker"],disabled:"disabled",disableClick:"disableClick"},features:[r._Bn([{provide:st,useExisting:o4,multi:!0}]),r.TTD]}),gd.ctorParameters=()=>[{type:r.SBq},{type:String,decorators:[{type:r.tBr,args:[Iu]}]}],It([(0,r.IIB)()],gd.prototype,"format",null),It([(0,r.IIB)()],gd.prototype,"min",null),It([(0,r.IIB)()],gd.prototype,"max",null),It([(0,r.IIB)("ngxTimepicker")],gd.prototype,"timepicker",null),It([(0,r.IIB)()],gd.prototype,"value",null),It([(0,r.IIB)()],gd.prototype,"disabled",void 0),It([(0,r.IIB)()],gd.prototype,"disableClick",void 0),It([(0,r.L6J)("click",["$event"])],gd.prototype,"onClick",null),gd=o4=It([wg(1,(0,r.tBr)(Iu))],gd);let Bhe=(()=>{let t=class{constructor(e){this.element=e.nativeElement}ngAfterViewInit(){this.theme&&this.setTheme(this.theme)}setTheme(e){for(const i in e)if(e.hasOwnProperty(i)){if("string"==typeof e[i]){for(const o in e)e.hasOwnProperty(o)&&this.element.style.setProperty(`--${Uhe(o)}`,e[o]);return}this.setTheme(e[i])}}};return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngxMaterialTimepickerTheme",""]],inputs:{theme:["ngxMaterialTimepickerTheme","theme"]}}),It([(0,r.IIB)("ngxMaterialTimepickerTheme")],t.prototype,"theme",void 0),t})();function Uhe(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}class tu{static getHours(n){return Array(n).fill(1).map((e,i)=>{const s=e+i;return{time:24===s?0:s,angle:30*s}})}static disableHours(n,e){return e.min||e.max?n.map(i=>{const o=24===e.format?i.time:Ta.formatHour(i.time,e.format,e.period),s=sh.ou.fromObject({hour:o}).toFormat(Tg.TWELVE);return Object.assign({},i,{disabled:!Ta.isTimeAvailable(s,e.min,e.max,"hours")})}):n}static getMinutes(n=1){const o=[];for(let s=0;s<60;s++){const a=6*s;s%n==0&&o.push({time:s,angle:0!==a?a:360})}return o}static disableMinutes(n,e,i){if(i.min||i.max){const o=Ta.formatHour(e,i.format,i.period);return n.map(s=>{const a=sh.ou.fromObject({hour:o,minute:s.time}).toFormat(Tg.TWELVE);return Object.assign({},s,{disabled:!Ta.isTimeAvailable(a,i.min,i.max,"minutes")})})}return n}}let bz=(()=>{class t{constructor(e){this.hourChange=new r.vpe,this.hourSelected=new r.vpe,this.hoursList=[],this.hoursList=tu.getHours(e)}onTimeSelected(e){this.hourSelected.next(e)}}return t.\u0275fac=function(e){r.$Z()},t.\u0275dir=r.lG2({type:t,inputs:{selectedHour:"selectedHour",minTime:"minTime",maxTime:"maxTime",format:"format"},outputs:{hourChange:"hourChange",hourSelected:"hourSelected"}}),It([(0,r.IIB)()],t.prototype,"selectedHour",void 0),It([(0,r.IIB)()],t.prototype,"minTime",void 0),It([(0,r.IIB)()],t.prototype,"maxTime",void 0),It([(0,r.IIB)()],t.prototype,"format",void 0),It([(0,r.r_U)()],t.prototype,"hourChange",void 0),It([(0,r.r_U)()],t.prototype,"hourSelected",void 0),t})(),jhe=(()=>{let t=class extends bz{constructor(){super(24)}ngAfterContentInit(){this.hoursList=tu.disableHours(this.hoursList,{min:this.minTime,max:this.maxTime,format:this.format})}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["ngx-material-timepicker-24-hours-face"]],features:[r.qOj],decls:1,vars:3,consts:[[3,"selectedTime","faceTime","format","timeChange","timeSelected"]],template:function(e,i){1&e&&(r.TgZ(0,"ngx-material-timepicker-face",0),r.NdJ("timeChange",function(s){return i.hourChange.next(s)})("timeSelected",function(s){return i.onTimeSelected(s)}),r.qZA()),2&e&&r.Q6J("selectedTime",i.selectedHour)("faceTime",i.hoursList)("format",i.format)},directives:function(){return[s4]},encapsulation:2,changeDetection:0}),t})(),Vhe=(()=>{let t=class extends bz{constructor(){super(12)}ngOnChanges(e){e.period&&e.period.currentValue&&(this.hoursList=tu.disableHours(this.hoursList,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period}))}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["ngx-material-timepicker-12-hours-face"]],inputs:{period:"period"},features:[r.qOj,r.TTD],decls:1,vars:2,consts:[[3,"selectedTime","faceTime","timeChange","timeSelected"]],template:function(e,i){1&e&&(r.TgZ(0,"ngx-material-timepicker-face",0),r.NdJ("timeChange",function(s){return i.hourChange.next(s)})("timeSelected",function(s){return i.onTimeSelected(s)}),r.qZA()),2&e&&r.Q6J("selectedTime",i.selectedHour)("faceTime",i.hoursList)},directives:function(){return[s4]},encapsulation:2,changeDetection:0}),It([(0,r.IIB)()],t.prototype,"period",void 0),t})(),qhe=(()=>{let t=class{constructor(){this.minutesList=[],this.timeUnit=fc,this.minuteChange=new r.vpe}ngOnChanges(e){if(e.period&&e.period.currentValue){const i=tu.getMinutes(this.minutesGap);this.minutesList=tu.disableMinutes(i,this.selectedHour,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["ngx-material-timepicker-minutes-face"]],inputs:{selectedMinute:"selectedMinute",selectedHour:"selectedHour",period:"period",minTime:"minTime",maxTime:"maxTime",format:"format",minutesGap:"minutesGap"},outputs:{minuteChange:"minuteChange"},features:[r.TTD],decls:1,vars:4,consts:[[3,"faceTime","selectedTime","minutesGap","unit","timeChange"]],template:function(e,i){1&e&&(r.TgZ(0,"ngx-material-timepicker-face",0),r.NdJ("timeChange",function(s){return i.minuteChange.next(s)}),r.qZA()),2&e&&r.Q6J("faceTime",i.minutesList)("selectedTime",i.selectedMinute)("minutesGap",i.minutesGap)("unit",i.timeUnit.MINUTE)},directives:function(){return[s4]},encapsulation:2}),It([(0,r.IIB)()],t.prototype,"selectedMinute",void 0),It([(0,r.IIB)()],t.prototype,"selectedHour",void 0),It([(0,r.IIB)()],t.prototype,"period",void 0),It([(0,r.IIB)()],t.prototype,"minTime",void 0),It([(0,r.IIB)()],t.prototype,"maxTime",void 0),It([(0,r.IIB)()],t.prototype,"format",void 0),It([(0,r.IIB)()],t.prototype,"minutesGap",void 0),It([(0,r.r_U)()],t.prototype,"minuteChange",void 0),t})();const I5_small_height="75px",I5_small_top="calc(50% - 75px)",I5_large_height="103px",I5_large_top="calc(50% - 103px)";let s4=(()=>{let t=class{constructor(){this.timeUnit=fc,this.innerClockFaceSize=85,this.timeChange=new r.vpe,this.timeSelected=new r.vpe}ngAfterViewInit(){this.setClockHandPosition(),this.addTouchEvents()}ngOnChanges(e){const i=e.faceTime,o=e.selectedTime;i&&i.currentValue&&o&&o.currentValue&&(this.selectedTime=this.faceTime.find(s=>s.time===this.selectedTime.time)),o&&o.currentValue&&this.setClockHandPosition(),i&&i.currentValue&&setTimeout(()=>this.selectAvailableTime())}trackByTime(e,i){return i.time}onMousedown(e){e.preventDefault(),this.isStarted=!0}selectTime(e){if(!this.isStarted&&e instanceof MouseEvent&&"click"!==e.type)return;const i=this.clockFace.nativeElement.getBoundingClientRect(),o=i.left+i.width/2,s=i.top+i.height/2,a=180*Math.atan(Math.abs(e.clientX-o)/Math.abs(e.clientY-s))/Math.PI,d=function Ghe(t,n,e,i,o){return i>n&&e>=t?180-o:i>n&&e<t?180+o:i<n&&e<t?360-o:o}(o,s,e.clientX,e.clientY,a),f=this.format&&this.isInnerClockFace(o,s,e.clientX,e.clientY),x=(function Hhe(t,n){return Math.round(t/n)*n}(d,this.unit===fc.MINUTE?6*(this.minutesGap||1):30)||360)+(f?360:0),S=this.faceTime.find(E=>E.angle===x);S&&!S.disabled&&(this.timeChange.next(S),this.isStarted||this.timeSelected.next(S.time))}onMouseup(e){e.preventDefault(),this.isStarted=!1}ngOnDestroy(){this.removeTouchEvents()}addTouchEvents(){this.touchStartHandler=this.onMousedown.bind(this),this.touchEndHandler=this.onMouseup.bind(this),this.clockFace.nativeElement.addEventListener("touchstart",this.touchStartHandler),this.clockFace.nativeElement.addEventListener("touchend",this.touchEndHandler)}removeTouchEvents(){this.clockFace.nativeElement.removeEventListener("touchstart",this.touchStartHandler),this.clockFace.nativeElement.removeEventListener("touchend",this.touchEndHandler)}setClockHandPosition(){24===this.format&&(this.selectedTime.time>12||0===this.selectedTime.time?this.decreaseClockHand():this.increaseClockHand()),this.clockHand.nativeElement.style.transform=`rotate(${this.selectedTime.angle}deg)`}selectAvailableTime(){const e=this.faceTime.find(i=>this.selectedTime.time===i.time);if(this.isClockFaceDisabled=this.faceTime.every(i=>i.disabled),e&&e.disabled&&!this.isClockFaceDisabled){const i=this.faceTime.find(o=>!o.disabled);this.timeChange.next(i)}}isInnerClockFace(e,i,o,s){return Math.sqrt(Math.pow(o-e,2)+Math.pow(s-i,2))<this.innerClockFaceSize}decreaseClockHand(){this.clockHand.nativeElement.style.height=I5_small_height,this.clockHand.nativeElement.style.top=I5_small_top}increaseClockHand(){this.clockHand.nativeElement.style.height=I5_large_height,this.clockHand.nativeElement.style.top=I5_large_top}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["ngx-material-timepicker-face"]],viewQuery:function(e,i){if(1&e&&(r.Gf(the,7),r.Gf(nhe,7)),2&e){let o;r.iGM(o=r.CRH())&&(i.clockFace=o.first),r.iGM(o=r.CRH())&&(i.clockHand=o.first)}},hostBindings:function(e,i){1&e&&r.NdJ("mousedown",function(s){return i.onMousedown(s)})("click",function(s){return i.selectTime(s)})("touchmove",function(s){return i.selectTime(s.changedTouches[0])})("touchend",function(s){return i.selectTime(s.changedTouches[0])})("mousemove",function(s){return i.selectTime(s)})("mouseup",function(s){return i.onMouseup(s)})},inputs:{selectedTime:"selectedTime",faceTime:"faceTime",unit:"unit",format:"format",minutesGap:"minutesGap"},outputs:{timeChange:"timeChange",timeSelected:"timeSelected"},features:[r.TTD],decls:7,vars:6,consts:[[1,"clock-face"],["clockFace",""],["class","clock-face__container",4,"ngIf","ngIfElse"],[1,"clock-face__clock-hand",3,"ngClass","hidden"],["clockHand",""],["minutesFace",""],[1,"clock-face__container"],["class","clock-face__number clock-face__number--outer",3,"ngStyle",4,"ngFor","ngForOf","ngForTrackBy"],["class","clock-face__inner",3,"top",4,"ngIf"],[1,"clock-face__number","clock-face__number--outer",3,"ngStyle"],[3,"ngStyle","ngClass"],[1,"clock-face__inner"],["class","clock-face__number clock-face__number--inner",3,"ngStyle","height",4,"ngFor","ngForOf","ngForTrackBy"],[1,"clock-face__number","clock-face__number--inner",3,"ngStyle"]],template:function(e,i){if(1&e&&(r.TgZ(0,"div",0,1),r.YNc(2,she,4,7,"div",2),r._UZ(3,"span",3,4),r.qZA(),r.YNc(5,lhe,2,2,"ng-template",null,5,r.W1O)),2&e){const o=r.MAs(6);r.xp6(2),r.Q6J("ngIf",i.unit!==i.timeUnit.MINUTE)("ngIfElse",o),r.xp6(1),r.Q6J("ngClass",r.VKq(4,che,i.unit===i.timeUnit.MINUTE))("hidden",i.isClockFaceDisabled)}},directives:function(){return[Sn,qn,ta,xr]},pipes:function(){return[Tc,tfe,l4,nfe,Jhe]},styles:[".clock-face[_ngcontent-%COMP%]{width:290px;height:290px;border-radius:50%;position:relative;display:flex;justify-content:center;padding:20px;box-sizing:border-box;background-color:#f0f0f0}@supports (background-color:var(--clock-face-background-color)){.clock-face[_ngcontent-%COMP%]{background-color:var(--clock-face-background-color)}}.clock-face__inner[_ngcontent-%COMP%]{position:absolute}.clock-face__container[_ngcontent-%COMP%]{margin-left:-2px}.clock-face__number[_ngcontent-%COMP%]{position:absolute;transform-origin:0 100%;width:50px;text-align:center;z-index:2}.clock-face__number--outer[_ngcontent-%COMP%]{height:calc(290px / 2 - 20px)}.clock-face__number--outer[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:16px;color:#6c6c6c}@supports (color:var(--clock-face-time-inactive-color)){.clock-face__number--outer[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:var(--clock-face-time-inactive-color)}}.clock-face__number--inner[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:14px;color:#929292}@supports (color:var(--clock-face-inner-time-inactive-color)){.clock-face__number--inner[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:var(--clock-face-inner-time-inactive-color)}}.clock-face__number[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:30px;height:30px;display:flex;justify-content:center;align-items:center;margin:auto;border-radius:50%;font-weight:500;font-family:Roboto,sans-serif}@supports (font-family:var(--primary-font-family)){.clock-face__number[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-family:var(--primary-font-family)}}.clock-face__number[_ngcontent-%COMP%] > span.active[_ngcontent-%COMP%]{background-color:#00bfff;color:#fff}@supports (background-color:var(--clock-hand-color)){.clock-face__number[_ngcontent-%COMP%] > span.active[_ngcontent-%COMP%]{background-color:var(--clock-hand-color);color:var(--clock-face-time-active-color)}}.clock-face__number[_ngcontent-%COMP%] > span.disabled[_ngcontent-%COMP%]{color:#c5c5c5}@supports (color:var(--clock-face-time-disabled-color)){.clock-face__number[_ngcontent-%COMP%] > span.disabled[_ngcontent-%COMP%]{color:var(--clock-face-time-disabled-color)}}.clock-face__clock-hand[_ngcontent-%COMP%]{height:103px;width:2px;transform-origin:0 100%;position:absolute;top:calc(50% - 103px);z-index:1;background-color:#00bfff}@supports (background-color:var(--clock-hand-color)){.clock-face__clock-hand[_ngcontent-%COMP%]{background-color:var(--clock-hand-color)}}.clock-face__clock-hand[_ngcontent-%COMP%]:after{content:'';width:7px;height:7px;border-radius:50%;background-color:inherit;position:absolute;bottom:-3px;left:-3.5px}.clock-face__clock-hand_minute[_ngcontent-%COMP%]:before{content:'';width:7px;height:7px;background-color:#fff;border-radius:50%;position:absolute;top:-8px;left:calc(50% - 8px);box-sizing:content-box;border:4px solid #00bfff}@supports (border-color:var(--clock-hand-color)){.clock-face__clock-hand_minute[_ngcontent-%COMP%]:before{border-color:var(--clock-hand-color)}}@media (max-device-width:1023px) and (orientation:landscape){.clock-face[_ngcontent-%COMP%]{width:225px;height:225px;padding:5px}.clock-face__number--outer[_ngcontent-%COMP%]{height:calc(225px / 2 - 5px)}.clock-face__clock-hand_minute[_ngcontent-%COMP%]:before{top:0}}"],changeDetection:0}),It([(0,r.IIB)()],t.prototype,"faceTime",void 0),It([(0,r.IIB)()],t.prototype,"selectedTime",void 0),It([(0,r.IIB)()],t.prototype,"unit",void 0),It([(0,r.IIB)()],t.prototype,"format",void 0),It([(0,r.IIB)()],t.prototype,"minutesGap",void 0),It([(0,r.r_U)()],t.prototype,"timeChange",void 0),It([(0,r.r_U)()],t.prototype,"timeSelected",void 0),It([(0,r.i9L)("clockFace",{static:!0})],t.prototype,"clockFace",void 0),It([(0,r.i9L)("clockHand",{static:!0})],t.prototype,"clockHand",void 0),It([(0,r.L6J)("mousedown",["$event"])],t.prototype,"onMousedown",null),It([(0,r.L6J)("click",["$event"]),(0,r.L6J)("touchmove",["$event.changedTouches[0]"]),(0,r.L6J)("touchend",["$event.changedTouches[0]"]),(0,r.L6J)("mousemove",["$event"])],t.prototype,"selectTime",null),It([(0,r.L6J)("mouseup",["$event"])],t.prototype,"onMouseup",null),t})(),Zhe=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["ngx-material-timepicker-button"]],ngContentSelectors:gz,decls:3,vars:0,consts:[["type","button",1,"timepicker-button"]],template:function(e,i){1&e&&(r.F$t(),r.TgZ(0,"button",0)(1,"span"),r.Hsn(2),r.qZA()())},styles:[".timepicker-button[_ngcontent-%COMP%]{display:inline-block;height:36px;min-width:88px;line-height:36px;border:12px;border-radius:2px;background-color:transparent;text-align:center;transition:450ms cubic-bezier(.23,1,.32,1);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;cursor:pointer;outline:0;color:#00bfff}@supports (color:var(--button-color)){.timepicker-button[_ngcontent-%COMP%]{color:var(--button-color)}}.timepicker-button[_ngcontent-%COMP%]:focus, .timepicker-button[_ngcontent-%COMP%]:hover{background-color:rgba(153,153,153,.2)}.timepicker-button[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:14px;text-transform:uppercase;font-weight:600;padding-left:16px;padding-right:16px;font-family:Roboto,sans-serif}@supports (font-family:var(--primary-font-family)){.timepicker-button[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-family:var(--primary-font-family)}}"]}),t})(),Yhe=(()=>{let t=class{constructor(e){this.locale=e,this.timeUnit=fc,this.meridiems=sh.kI.meridiems({locale:this.locale}),this.periodChanged=new r.vpe,this.timeUnitChanged=new r.vpe,this.hourChanged=new r.vpe,this.minuteChanged=new r.vpe}ngOnChanges(e){if(e.period&&e.period.currentValue||e.format&&e.format.currentValue){const i=tu.getHours(this.format);this.hours=tu.disableHours(i,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}if(e.period&&e.period.currentValue||e.hour&&e.hour.currentValue){const i=tu.getMinutes(this.minutesGap);this.minutes=tu.disableMinutes(i,+this.hour,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}}changeTimeUnit(e){this.timeUnitChanged.next(e)}changePeriod(e){this.periodChanged.next(e)}changeHour(e){this.hourChanged.next(e)}changeMinute(e){this.minuteChanged.next(e)}showHint(){this.isHintVisible=!0}hideHint(){this.isHintVisible=!1}};return t.\u0275fac=function(e){return new(e||t)(r.Y36(Iu))},t.\u0275cmp=r.Xpm({type:t,selectors:[["ngx-material-timepicker-dial"]],inputs:{editableHintTmpl:"editableHintTmpl",hour:"hour",minute:"minute",format:"format",period:"period",activeTimeUnit:"activeTimeUnit",minTime:"minTime",maxTime:"maxTime",isEditable:"isEditable",minutesGap:"minutesGap",hoursOnly:"hoursOnly"},outputs:{periodChanged:"periodChanged",timeUnitChanged:"timeUnitChanged",hourChanged:"hourChanged",minuteChanged:"minuteChanged"},features:[r.TTD],decls:9,vars:25,consts:[[1,"timepicker-dial"],[1,"timepicker-dial__container"],[1,"timepicker-dial__time"],[3,"timeList","time","timeUnit","isActive","isEditable","timeUnitChanged","timeChanged","focused","unfocused"],[3,"timeList","time","timeUnit","isActive","isEditable","minutesGap","disabled","timeUnitChanged","timeChanged","focused","unfocused"],[1,"timepicker-dial__period",3,"ngClass","selectedPeriod","activeTimeUnit","maxTime","minTime","format","hours","minutes","selectedHour","meridiems","periodChanged"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[4,"ngTemplateOutlet"],["editableHintDefault",""],[1,"timepicker-dial__hint"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"ngx-material-timepicker-dial-control",3),r.NdJ("timeUnitChanged",function(s){return i.changeTimeUnit(s)})("timeChanged",function(s){return i.changeHour(s)})("focused",function(){return i.showHint()})("unfocused",function(){return i.hideHint()}),r.qZA(),r.TgZ(4,"span"),r._uU(5,":"),r.qZA(),r.TgZ(6,"ngx-material-timepicker-dial-control",4),r.NdJ("timeUnitChanged",function(s){return i.changeTimeUnit(s)})("timeChanged",function(s){return i.changeMinute(s)})("focused",function(){return i.showHint()})("unfocused",function(){return i.hideHint()}),r.qZA()(),r.TgZ(7,"ngx-material-timepicker-period",5),r.NdJ("periodChanged",function(s){return i.changePeriod(s)}),r.qZA()(),r.YNc(8,fhe,4,4,"div",6),r.qZA()),2&e&&(r.xp6(3),r.Q6J("timeList",i.hours)("time",i.hour)("timeUnit",i.timeUnit.HOUR)("isActive",i.activeTimeUnit===i.timeUnit.HOUR)("isEditable",i.isEditable),r.xp6(3),r.Q6J("timeList",i.minutes)("time",i.minute)("timeUnit",i.timeUnit.MINUTE)("isActive",i.activeTimeUnit===i.timeUnit.MINUTE)("isEditable",i.isEditable)("minutesGap",i.minutesGap)("disabled",i.hoursOnly),r.xp6(1),r.Q6J("ngClass",r.VKq(23,phe,24===i.format))("selectedPeriod",i.period)("activeTimeUnit",i.activeTimeUnit)("maxTime",i.maxTime)("minTime",i.minTime)("format",i.format)("hours",i.hours)("minutes",i.minutes)("selectedHour",i.hour)("meridiems",i.meridiems),r.xp6(1),r.Q6J("ngIf",i.isEditable||i.editableHintTmpl))},directives:function(){return[zhe,$he,xr,Sn,wd]},styles:[".timepicker-dial[_ngcontent-%COMP%]{text-align:right}.timepicker-dial__container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;-webkit-tap-highlight-color:transparent}.timepicker-dial__time[_ngcontent-%COMP%]{display:flex;align-items:baseline;line-height:normal;font-size:50px;color:rgba(255,255,255,.5);font-family:Roboto,sans-serif}@supports (font-family:var(--primary-font-family)){.timepicker-dial__time[_ngcontent-%COMP%]{font-family:var(--primary-font-family);color:var(--dial-inactive-color)}}.timepicker-dial__period[_ngcontent-%COMP%]{display:block;margin-left:10px}.timepicker-dial__hint-container--hidden[_ngcontent-%COMP%], .timepicker-dial__period--hidden[_ngcontent-%COMP%]{visibility:hidden}.timepicker-dial__hint[_ngcontent-%COMP%]{display:inline-block;font-size:10px;color:#fff}@supports (color:var(--dial-active-color)){.timepicker-dial__hint[_ngcontent-%COMP%]{color:var(--dial-active-color)}}.timepicker-dial__hint[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}@media (max-device-width:1023px) and (orientation:landscape){.timepicker-dial__container[_ngcontent-%COMP%]{flex-direction:column}.timepicker-dial__period[_ngcontent-%COMP%]{margin-left:0}}"],changeDetection:0}),It([(0,r.IIB)()],t.prototype,"editableHintTmpl",void 0),It([(0,r.IIB)()],t.prototype,"hour",void 0),It([(0,r.IIB)()],t.prototype,"minute",void 0),It([(0,r.IIB)()],t.prototype,"format",void 0),It([(0,r.IIB)()],t.prototype,"period",void 0),It([(0,r.IIB)()],t.prototype,"activeTimeUnit",void 0),It([(0,r.IIB)()],t.prototype,"minTime",void 0),It([(0,r.IIB)()],t.prototype,"maxTime",void 0),It([(0,r.IIB)()],t.prototype,"isEditable",void 0),It([(0,r.IIB)()],t.prototype,"minutesGap",void 0),It([(0,r.IIB)()],t.prototype,"hoursOnly",void 0),It([(0,r.r_U)()],t.prototype,"periodChanged",void 0),It([(0,r.r_U)()],t.prototype,"timeUnitChanged",void 0),It([(0,r.r_U)()],t.prototype,"hourChanged",void 0),It([(0,r.r_U)()],t.prototype,"minuteChanged",void 0),t=It([wg(0,(0,r.tBr)(Iu))],t),t})(),EA=(()=>{let t=class{constructor(e){this.locale=e,this.numberingSystem=sh.ou.local().setLocale(this.locale).resolvedLocaleOpts().numberingSystem}transform(e,i=fc.HOUR){return null==e||""===e?"":isNaN(+e)?i===fc.MINUTE?this.parseTime(e,"m","minute"):this.parseTime(e,"H","hour"):e}parseTime(e,i,o){const s=sh.ou.fromFormat(String(e),i,{numberingSystem:this.numberingSystem})[o];if(!isNaN(s))return s;throw new Error(`Cannot parse time - ${e}`)}};return t.\u0275fac=function(e){return new(e||t)(r.Y36(Iu,16))},t.\u0275pipe=r.Yjl({name:"timeParser",type:t,pure:!0}),t.\u0275prov=r.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t=It([wg(0,(0,r.tBr)(Iu))],t),t})(),zhe=(()=>{let t=class{constructor(e){this.timeParserPipe=e,this.timeUnitChanged=new r.vpe,this.timeChanged=new r.vpe,this.focused=new r.vpe,this.unfocused=new r.vpe}get selectedTime(){if(this.time)return this.timeList.find(e=>e.time===+this.time)}saveTimeAndChangeTimeUnit(e,i){e.preventDefault(),this.previousTime=this.time,this.timeUnitChanged.next(i),this.focused.next()}updateTime(){const e=this.selectedTime;e&&(this.timeChanged.next(e),this.previousTime=e.time)}changeTimeByKeyboard(e){const i=String.fromCharCode(e.keyCode);(function Whe(t,n,e){if(/\d/.test(n))return wz(t+n,e)})(this.time,i,this.timeList)&&e.preventDefault()}onKeydown(e){vz(e)?this.changeTimeByArrow(e.keyCode):e.preventDefault()}onModelChange(e){this.time=this.timeParserPipe.transform(e,this.timeUnit).toString()}changeTimeByArrow(e){let s;38===e?s=String(+this.time+(this.minutesGap||1)):40===e&&(s=String(+this.time-(this.minutesGap||1))),wz(s,this.timeList)||(this.time=s,this.updateTime())}};return t.\u0275fac=function(e){return new(e||t)(r.Y36(EA))},t.\u0275cmp=r.Xpm({type:t,selectors:[["ngx-material-timepicker-dial-control"]],inputs:{time:"time",timeList:"timeList",timeUnit:"timeUnit",isActive:"isActive",isEditable:"isEditable",minutesGap:"minutesGap",disabled:"disabled"},outputs:{timeUnitChanged:"timeUnitChanged",timeChanged:"timeChanged",focused:"focused",unfocused:"unfocused"},features:[r._Bn([EA])],decls:3,vars:2,consts:[["class","timepicker-dial__control timepicker-dial__item","readonly","",3,"ngClass","ngModel","disabled","timepickerAutofocus","ngModelChange","input","focus",4,"ngIf","ngIfElse"],["editableTemplate",""],["readonly","",1,"timepicker-dial__control","timepicker-dial__item",3,"ngClass","ngModel","disabled","timepickerAutofocus","ngModelChange","input","focus"],[1,"timepicker-dial__control","timepicker-dial__item","timepicker-dial__control_editable",3,"ngClass","ngModel","disabled","timepickerAutofocus","ngModelChange","input","focus","keydown","keypress"]],template:function(e,i){if(1&e&&(r.YNc(0,mhe,2,9,"input",0),r.YNc(1,ghe,3,13,"ng-template",null,1,r.W1O)),2&e){const o=r.MAs(2);r.Q6J("ngIf",!i.isEditable)("ngIfElse",o)}},directives:function(){return[Sn,_i,xr,Gc,Jm,Cz]},pipes:function(){return[l4,EA]},styles:[".timepicker-dial__item[_ngcontent-%COMP%]{cursor:pointer;color:rgba(255,255,255,.5);font-family:Roboto,sans-serif}@supports (font-family:var(--primary-font-family)){.timepicker-dial__item[_ngcontent-%COMP%]{font-family:var(--primary-font-family);color:var(--dial-inactive-color)}}.timepicker-dial__item_active[_ngcontent-%COMP%]{color:#fff}@supports (color:var(--dial-active-color)){.timepicker-dial__item_active[_ngcontent-%COMP%]{color:var(--dial-active-color)}}.timepicker-dial__control[_ngcontent-%COMP%]{border:none;background-color:transparent;font-size:50px;width:60px;padding:0;border-radius:3px;text-align:right}.timepicker-dial__control_editable[_ngcontent-%COMP%]:focus{color:#00bfff;background-color:#fff;outline:#00bfff}@supports (color:var(--dial-editable-active-color)){.timepicker-dial__control_editable[_ngcontent-%COMP%]:focus{color:var(--dial-editable-active-color)}}@supports (background-color:var(--dial-editable-background-color)){.timepicker-dial__control_editable[_ngcontent-%COMP%]:focus{background-color:var(--dial-editable-background-color)}}@supports (outline:var(--dial-editable-active-color)){.timepicker-dial__control_editable[_ngcontent-%COMP%]:focus{outline:var(--dial-editable-active-color)}}.timepicker-dial__control[_ngcontent-%COMP%]:disabled{cursor:default}"]}),It([(0,r.IIB)()],t.prototype,"timeList",void 0),It([(0,r.IIB)()],t.prototype,"timeUnit",void 0),It([(0,r.IIB)()],t.prototype,"time",void 0),It([(0,r.IIB)()],t.prototype,"isActive",void 0),It([(0,r.IIB)()],t.prototype,"isEditable",void 0),It([(0,r.IIB)()],t.prototype,"minutesGap",void 0),It([(0,r.IIB)()],t.prototype,"disabled",void 0),It([(0,r.r_U)()],t.prototype,"timeUnitChanged",void 0),It([(0,r.r_U)()],t.prototype,"timeChanged",void 0),It([(0,r.r_U)()],t.prototype,"focused",void 0),It([(0,r.r_U)()],t.prototype,"unfocused",void 0),t})();function wz(t,n){const e=n.find(i=>i.time===+t);return!e||e&&e.disabled}let $he=(()=>{let t=class{constructor(){this.timePeriod=pc,this.isPeriodAvailable=!0,this.periodChanged=new r.vpe}changePeriod(e){this.isPeriodAvailable=this.isSwitchPeriodAvailable(e),this.isPeriodAvailable&&this.periodChanged.next(e)}animationDone(){this.isPeriodAvailable=!0}isSwitchPeriodAvailable(e){return!this.getDisabledTimeByPeriod(e).every(o=>o.disabled)}getDisabledTimeByPeriod(e){switch(this.activeTimeUnit){case fc.HOUR:return tu.disableHours(this.hours,{min:this.minTime,max:this.maxTime,format:this.format,period:e});case fc.MINUTE:return tu.disableMinutes(this.minutes,+this.selectedHour,{min:this.minTime,max:this.maxTime,format:this.format,period:e});default:throw new Error("no such TimeUnit")}}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["ngx-material-timepicker-period"]],inputs:{selectedPeriod:"selectedPeriod",format:"format",activeTimeUnit:"activeTimeUnit",hours:"hours",minutes:"minutes",minTime:"minTime",maxTime:"maxTime",selectedHour:"selectedHour",meridiems:"meridiems"},outputs:{periodChanged:"periodChanged"},decls:6,vars:9,consts:[[1,"timepicker-period"],["type","button",1,"timepicker-dial__item","timepicker-period__btn",3,"ngClass","click"],["class","timepicker-period__warning",4,"ngIf"],[1,"timepicker-period__warning"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0)(1,"button",1),r.NdJ("click",function(){return i.changePeriod(i.timePeriod.AM)}),r._uU(2),r.qZA(),r.TgZ(3,"button",1),r.NdJ("click",function(){return i.changePeriod(i.timePeriod.PM)}),r._uU(4),r.qZA(),r.YNc(5,_he,3,1,"div",2),r.qZA()),2&e&&(r.xp6(1),r.Q6J("ngClass",r.VKq(5,E5,i.selectedPeriod===i.timePeriod.AM)),r.xp6(1),r.Oqu(i.meridiems[0]),r.xp6(1),r.Q6J("ngClass",r.VKq(7,E5,i.selectedPeriod===i.timePeriod.PM)),r.xp6(1),r.Oqu(i.meridiems[1]),r.xp6(1),r.Q6J("ngIf",!i.isPeriodAvailable))},directives:[xr,Sn],styles:[".timepicker-dial__item[_ngcontent-%COMP%]{cursor:pointer;color:rgba(255,255,255,.5);font-family:Roboto,sans-serif}@supports (font-family:var(--primary-font-family)){.timepicker-dial__item[_ngcontent-%COMP%]{font-family:var(--primary-font-family);color:var(--dial-inactive-color)}}.timepicker-dial__item_active[_ngcontent-%COMP%]{color:#fff}@supports (color:var(--dial-active-color)){.timepicker-dial__item_active[_ngcontent-%COMP%]{color:var(--dial-active-color)}}.timepicker-period[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative}.timepicker-period__btn[_ngcontent-%COMP%]{padding:1px 3px;border:0;background-color:transparent;font-size:18px;font-weight:500;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;outline:0;border-radius:3px;transition:background-color .5s;font-family:Roboto,sans-serif}.timepicker-period__btn[_ngcontent-%COMP%]:focus{background-color:rgba(0,0,0,.07)}.timepicker-period__warning[_ngcontent-%COMP%]{padding:5px 10px;border-radius:3px;background-color:rgba(0,0,0,.55);color:#fff;position:absolute;width:200px;left:-20px;top:40px}.timepicker-period__warning[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:0;font-size:12px;font-family:Roboto,sans-serif}@supports (font-family:var(--primary-font-family)){.timepicker-period__btn[_ngcontent-%COMP%], .timepicker-period__warning[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-family:var(--primary-font-family)}}"],data:{animation:[zs("scaleInOut",[pr(":enter",[Qt({transform:"scale(0)"}),Ar(".2s",Qt({transform:"scale(1)"})),io([Ar("3s",Qt({opacity:1})),Ar(".3s",Qt({opacity:0}))])])])]}}),It([(0,r.IIB)()],t.prototype,"selectedPeriod",void 0),It([(0,r.IIB)()],t.prototype,"format",void 0),It([(0,r.IIB)()],t.prototype,"activeTimeUnit",void 0),It([(0,r.IIB)()],t.prototype,"hours",void 0),It([(0,r.IIB)()],t.prototype,"minutes",void 0),It([(0,r.IIB)()],t.prototype,"minTime",void 0),It([(0,r.IIB)()],t.prototype,"maxTime",void 0),It([(0,r.IIB)()],t.prototype,"selectedHour",void 0),It([(0,r.IIB)()],t.prototype,"meridiems",void 0),It([(0,r.r_U)()],t.prototype,"periodChanged",void 0),t})(),Qhe=(()=>{let t=class{constructor(e){this.eventService=e}onClick(e){this.preventClick||this.eventService.dispatchEvent(e),e.preventDefault()}};return t.\u0275fac=function(e){return new(e||t)(r.Y36(Cg))},t.\u0275dir=r.lG2({type:t,selectors:[["","overlay",""]],hostBindings:function(e,i){1&e&&r.NdJ("click",function(s){return i.onClick(s)})},inputs:{preventClick:["overlay","preventClick"]}}),It([(0,r.IIB)("overlay")],t.prototype,"preventClick",void 0),It([(0,r.L6J)("click",["$event"])],t.prototype,"onClick",null),t})(),Jhe=(()=>{let t=class{transform(e,i=5){return e&&(e%i==0?e:"")}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Yjl({name:"minutesFormatter",type:t,pure:!0}),t})(),Cz=(()=>{let t=class{constructor(e,i){this.element=e,this.document=i,this.activeElement=this.document.activeElement}ngOnChanges(){this.isFocusActive&&setTimeout(()=>this.element.nativeElement.focus({preventScroll:!0}))}ngOnDestroy(){setTimeout(()=>this.activeElement.focus({preventScroll:!0}))}};return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(et,8))},t.\u0275dir=r.lG2({type:t,selectors:[["","timepickerAutofocus",""]],inputs:{isFocusActive:["timepickerAutofocus","isFocusActive"]},features:[r.TTD]}),It([(0,r.IIB)("timepickerAutofocus")],t.prototype,"isFocusActive",void 0),t=It([wg(1,(0,r.FiY)()),wg(1,(0,r.tBr)(et))],t),t})();var a4;let mc=a4=class{constructor(n,e){this.timepickerService=n,this.locale=e,this.minHour=1,this.maxHour=12,this.timeUnit=fc,this.buttonAlign="right",this.timeChanged=new r.vpe,this._format=12,this.unsubscribe$=new Ht.x,this.isFirstTimeChange=!0,this.onChange=()=>{}}set format(n){this._format=24===n?24:12,this.minHour=12===this._format?1:0,this.maxHour=12===this._format?12:23,this.hoursList=tu.getHours(this._format),n&&this.previousFormat&&this.previousFormat!==this._format&&this.updateTime(this.timepickerTime),this.previousFormat=this._format}get format(){return this._format}set min(n){this._min="string"!=typeof n?n:Ta.parseTime(n,{locale:this.locale,format:this.format})}get min(){return this._min}set max(n){this._max="string"!=typeof n?n:Ta.parseTime(n,{locale:this.locale,format:this.format})}get max(){return this._max}set defaultTime(n){this._defaultTime=n,this.isDefaultTime=!!n}get defaultTime(){return this._defaultTime}ngOnInit(){this.initTime(this.defaultTime),this.hoursList=tu.getHours(this._format),this.minutesList=tu.getMinutes(),this.isTimeRangeSet=!(!this.min&&!this.max),this.hour$=this.timepickerService.selectedHour.pipe((0,Wo.b)(n=>this.selectedHour=n.time),(0,un.U)(this.changeDefaultTimeValue.bind(this)),(0,Wo.b)(()=>this.isTimeRangeSet&&this.updateAvailableMinutes())),this.minute$=this.timepickerService.selectedMinute.pipe((0,un.U)(this.changeDefaultTimeValue.bind(this)),(0,Wo.b)(()=>this.isFirstTimeChange=!1)),12===this.format&&this.timepickerService.selectedPeriod.pipe(P_(),(0,Wo.b)(n=>this.period=n),(0,Wo.b)(n=>this.isChangePeriodDisabled=this.isPeriodDisabled(n)),ai(this.unsubscribe$)).subscribe(()=>this.isTimeRangeSet&&this.updateAvailableTime())}writeValue(n){n?this.initTime(n):this.resetTime()}registerOnTouched(n){}registerOnChange(n){this.onChange=n}setDisabledState(n){this.disabled=n}changeHour(n){this.timepickerService.hour=this.hoursList.find(e=>e.time===n),this.changeTime()}changeMinute(n){this.timepickerService.minute=this.minutesList.find(e=>e.time===n),this.changeTime()}changePeriod(n){this.timepickerService.period=n,this.changeTime()}onTimeSet(n){this.updateTime(n),this.emitLocalTimeChange(n)}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}changeTime(){const n=this.timepickerService.getFullTime(this.format);this.timepickerTime=n,this.emitLocalTimeChange(n)}resetTime(){this.timepickerService.hour={angle:0,time:null},this.timepickerService.minute={angle:0,time:null}}emitLocalTimeChange(n){const e=Ta.toLocaleTimeString(n,{format:this.format,locale:this.locale});this.onChange(e),this.timeChanged.emit(e)}changeDefaultTimeValue(n){return!this.isDefaultTime&&this.isFirstTimeChange?Object.assign({},n,{time:null}):n}updateAvailableHours(){this.hoursList=tu.disableHours(this.hoursList,{min:this.min,max:this.max,format:this.format,period:this.period})}updateAvailableMinutes(){this.minutesList=tu.disableMinutes(this.minutesList,this.selectedHour,{min:this.min,max:this.max,format:this.format,period:this.period})}updateAvailableTime(){this.updateAvailableHours(),this.selectedHour&&this.updateAvailableMinutes()}updateTime(n){if(n){const e=Ta.formatTime(n,{locale:this.locale,format:this.format});this.timepickerService.setDefaultTimeIfAvailable(e,this.min,this.max,this.format),this.timepickerTime=e}}initTime(n){if(!Ta.isTimeAvailable(n,this.min,this.max,"minutes",null,this.format)){if(this.min)return void this.updateTime(Ta.fromDateTimeToString(this.min,this.format));if(this.max)return void this.updateTime(Ta.fromDateTimeToString(this.max,this.format))}this.updateTime(n)}isPeriodDisabled(n){return tu.disableHours(tu.getHours(12),{min:this.min,max:this.max,format:12,period:n===pc.AM?pc.PM:pc.AM}).every(e=>e.disabled)}};mc.\u0275fac=function(n){return new(n||mc)(r.Y36(Qf),r.Y36(Iu))},mc.\u0275cmp=r.Xpm({type:mc,selectors:[["ngx-timepicker-field"]],inputs:{buttonAlign:"buttonAlign",format:"format",min:"min",max:"max",defaultTime:"defaultTime",disabled:"disabled",toggleIcon:"toggleIcon",clockTheme:"clockTheme",controlOnly:"controlOnly",cancelBtnTmpl:"cancelBtnTmpl",confirmBtnTmpl:"confirmBtnTmpl"},outputs:{timeChanged:"timeChanged"},features:[r._Bn([Qf,{provide:st,useExisting:a4,multi:!0}])],decls:13,vars:32,consts:[[1,"ngx-timepicker",3,"ngClass"],[1,"ngx-timepicker__control--first",3,"placeholder","time","min","max","timeUnit","disabled","timeList","preventTyping","timeChanged"],[1,"ngx-timepicker__time-colon","ngx-timepicker__control--second"],[1,"ngx-timepicker__control--third",3,"placeholder","time","min","max","timeUnit","disabled","timeList","preventTyping","timeChanged"],["class","ngx-timepicker__control--forth",3,"selectedPeriod","disabled","periodSelected",4,"ngIf"],["class","ngx-timepicker__toggle",3,"ngClass","for","disabled",4,"ngIf"],[3,"min","max","theme","defaultTime","format","cancelBtnTmpl","confirmBtnTmpl","timeSet"],["timepicker",""],["defaultIcon",""],[1,"ngx-timepicker__control--forth",3,"selectedPeriod","disabled","periodSelected"],[1,"ngx-timepicker__toggle",3,"ngClass","for","disabled"],["ngxMaterialTimepickerToggleIcon",""],[4,"ngTemplateOutlet"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","width","24px","height","24px"],["d","M 12 2 C 6.4889971 2 2 6.4889971 2 12 C 2 17.511003                   6.4889971 22 12 22 C 17.511003 22 22 17.511003 22 12 C 22 6.4889971 17.511003 2 12 2 z M 12 4 C 16.430123 4 20 7.5698774 20 12 C 20 16.430123 16.430123 20 12 20 C 7.5698774 20 4 16.430123 4 12 C 4 7.5698774 7.5698774 4 12 4 z M 11 6 L 11 12.414062 L 15.292969 16.707031 L 16.707031 15.292969 L 13 11.585938 L 13 6 L 11 6 z"]],template:function(n,e){if(1&n&&(r.TgZ(0,"div",0)(1,"ngx-timepicker-time-control",1),r.NdJ("timeChanged",function(o){return e.changeHour(o)}),r.ALo(2,"async"),r.qZA(),r.TgZ(3,"span",2),r._uU(4,":"),r.qZA(),r.TgZ(5,"ngx-timepicker-time-control",3),r.NdJ("timeChanged",function(o){return e.changeMinute(o)}),r.ALo(6,"async"),r.qZA(),r.YNc(7,vhe,1,2,"ngx-timepicker-period-selector",4),r.YNc(8,whe,3,6,"ngx-material-timepicker-toggle",5),r.qZA(),r.TgZ(9,"ngx-material-timepicker",6,7),r.NdJ("timeSet",function(o){return e.onTimeSet(o)}),r.qZA(),r.YNc(11,Che,2,0,"ng-template",null,8,r.W1O)),2&n){let i,o;r.Q6J("ngClass",r.VKq(30,xhe,e.disabled)),r.xp6(1),r.Q6J("placeholder","HH")("time",null==(i=r.lcZ(2,26,e.hour$))?null:i.time)("min",e.minHour)("max",e.maxHour)("timeUnit",e.timeUnit.HOUR)("disabled",e.disabled)("timeList",e.hoursList)("preventTyping",e.isTimeRangeSet),r.xp6(4),r.Q6J("placeholder","MM")("time",null==(o=r.lcZ(6,28,e.minute$))?null:o.time)("min",0)("max",59)("timeUnit",e.timeUnit.MINUTE)("disabled",e.disabled)("timeList",e.minutesList)("preventTyping",e.isTimeRangeSet),r.xp6(2),r.Q6J("ngIf",24!==e.format),r.xp6(1),r.Q6J("ngIf",!e.controlOnly),r.xp6(1),r.Q6J("min",e.min)("max",e.max)("theme",e.clockTheme)("defaultTime",e.timepickerTime)("format",e.format)("cancelBtnTmpl",e.cancelBtnTmpl)("confirmBtnTmpl",e.confirmBtnTmpl)}},directives:function(){return[xr,Khe,Sn,efe,Phe,r4,wd,yz]},pipes:function(){return[uh]},styles:[".ngx-timepicker[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%;border-bottom:1px solid rgba(0,0,0,.12)}.ngx-timepicker--disabled[_ngcontent-%COMP%]{background:rgba(0,0,0,.07);pointer-events:none}.ngx-timepicker__time-colon[_ngcontent-%COMP%]{margin-left:10px}.ngx-timepicker__control--first[_ngcontent-%COMP%]{order:1}.ngx-timepicker__control--second[_ngcontent-%COMP%]{order:2}.ngx-timepicker__control--third[_ngcontent-%COMP%]{order:3}.ngx-timepicker__control--forth[_ngcontent-%COMP%], .ngx-timepicker__toggle[_ngcontent-%COMP%]{order:4}.ngx-timepicker__toggle--left[_ngcontent-%COMP%]{order:0}"],changeDetection:0}),mc.ctorParameters=()=>[{type:Qf},{type:String,decorators:[{type:r.tBr,args:[Iu]}]}],It([(0,r.IIB)()],mc.prototype,"disabled",void 0),It([(0,r.IIB)()],mc.prototype,"toggleIcon",void 0),It([(0,r.IIB)()],mc.prototype,"buttonAlign",void 0),It([(0,r.IIB)()],mc.prototype,"clockTheme",void 0),It([(0,r.IIB)()],mc.prototype,"controlOnly",void 0),It([(0,r.IIB)()],mc.prototype,"cancelBtnTmpl",void 0),It([(0,r.IIB)()],mc.prototype,"confirmBtnTmpl",void 0),It([(0,r.IIB)()],mc.prototype,"format",null),It([(0,r.IIB)()],mc.prototype,"min",null),It([(0,r.IIB)()],mc.prototype,"max",null),It([(0,r.IIB)()],mc.prototype,"defaultTime",null),It([(0,r.r_U)()],mc.prototype,"timeChanged",void 0),mc=a4=It([wg(1,(0,r.tBr)(Iu))],mc);let Khe=(()=>{let t=class{constructor(e){this.timeParser=e,this.timeChanged=new r.vpe}ngOnChanges(e){e.timeList&&null!=this.time&&this.isSelectedTimeDisabled(this.time)&&this.setAvailableTime()}changeTime(e){e.stopPropagation();const i=String.fromCharCode(e.keyCode),o=function Xhe(t,n){if(/\d/.test(n))return+(t+n)}(String(this.time),i);this.changeTimeIfValid(o)}onKeydown(e){switch(e.stopPropagation(),vz(e)||e.preventDefault(),e.key){case"ArrowUp":this.increase();break;case"ArrowDown":this.decrease()}this.preventTyping&&"Tab"!==e.key&&e.preventDefault()}increase(){if(!this.disabled){let e=+this.time+1;e>this.max&&(e=this.min),this.isSelectedTimeDisabled(e)&&(e=this.getAvailableTime(e,this.getNextAvailableTime.bind(this))),e!==this.time&&this.timeChanged.emit(e)}}decrease(){if(!this.disabled){let e=+this.time-1;e<this.min&&(e=this.max),this.isSelectedTimeDisabled(e)&&(e=this.getAvailableTime(e,this.getPrevAvailableTime.bind(this))),e!==this.time&&this.timeChanged.emit(e)}}onFocus(){this.isFocused=!0,this.previousTime=this.time}onBlur(){this.isFocused=!1,this.previousTime!==this.time&&this.changeTimeIfValid(+this.time)}onModelChange(e){this.time=+this.timeParser.transform(e,this.timeUnit)}changeTimeIfValid(e){if(!isNaN(e)){if(this.time=e,this.time>this.max){const i=String(e);this.time=+i[i.length-1]}this.time<this.min&&(this.time=this.min),this.timeChanged.emit(this.time)}}isSelectedTimeDisabled(e){return this.timeList.find(i=>i.time===e).disabled}getNextAvailableTime(e){const i=this.timeList,o=i.length;for(let s=e+1;s<o;s++){const a=i[s];if(!a.disabled)return a.time}}getPrevAvailableTime(e){for(let i=e;i>=0;i--){const o=this.timeList[i];if(!o.disabled)return o.time}}getAvailableTime(e,i){const s=i(this.timeList.findIndex(a=>a.time===e));return null!=s?s:this.time}setAvailableTime(){this.time=this.timeList.find(e=>!e.disabled).time,this.timeChanged.emit(this.time)}};return t.\u0275fac=function(e){return new(e||t)(r.Y36(EA))},t.\u0275cmp=r.Xpm({type:t,selectors:[["ngx-timepicker-time-control"]],inputs:{time:"time",min:"min",max:"max",placeholder:"placeholder",timeUnit:"timeUnit",disabled:"disabled",timeList:"timeList",preventTyping:"preventTyping"},outputs:{timeChanged:"timeChanged"},features:[r._Bn([EA]),r.TTD],decls:9,vars:13,consts:[[1,"ngx-timepicker-control",3,"ngClass"],["maxlength","2",1,"ngx-timepicker-control__input",3,"ngModel","placeholder","disabled","ngModelChange","keydown","keypress","focus","blur"],[1,"ngx-timepicker-control__arrows"],["role","button",1,"ngx-timepicker-control__arrow",3,"click"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0)(1,"input",1),r.NdJ("ngModelChange",function(s){return i.onModelChange(s)})("keydown",function(s){return i.onKeydown(s)})("keypress",function(s){return i.changeTime(s)})("focus",function(){return i.onFocus()})("blur",function(){return i.onBlur()}),r.ALo(2,"timeLocalizer"),r.ALo(3,"timeParser"),r.qZA(),r.TgZ(4,"div",2)(5,"span",3),r.NdJ("click",function(){return i.increase()}),r._uU(6," \u25b2 "),r.qZA(),r.TgZ(7,"span",3),r.NdJ("click",function(){return i.decrease()}),r._uU(8," \u25bc "),r.qZA()()()),2&e&&(r.Q6J("ngClass",r.VKq(11,The,i.isFocused)),r.xp6(1),r.Q6J("ngModel",r.Dn7(2,4,r.xi3(3,8,i.time,i.timeUnit),i.timeUnit,!0))("placeholder",i.placeholder)("disabled",i.disabled))},directives:function(){return[xr,_i,eg,Gc,Jm]},pipes:function(){return[l4,EA]},styles:[".ngx-timepicker-control[_ngcontent-%COMP%]{position:relative;display:flex;width:60px;height:30px;padding:0 5px;box-sizing:border-box}.ngx-timepicker-control--active[_ngcontent-%COMP%]:after{content:'';position:absolute;bottom:-2px;left:0;width:100%;height:1px;background-color:#00bfff}.ngx-timepicker-control__input[_ngcontent-%COMP%]{width:100%;height:100%;padding:0 5px 0 0;border:0;font-size:1rem;color:inherit;outline:0;text-align:center}.ngx-timepicker-control__input[_ngcontent-%COMP%]:disabled{background-color:transparent}.ngx-timepicker-control__arrows[_ngcontent-%COMP%]{position:absolute;right:2px;top:0;display:flex;flex-direction:column}.ngx-timepicker-control__arrow[_ngcontent-%COMP%]{font-size:11px;color:rgba(0,0,0,.4);cursor:pointer;transition:color .2s;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ngx-timepicker-control__arrow[_ngcontent-%COMP%]:hover{color:rgba(0,0,0,.9)}"],changeDetection:0}),It([(0,r.IIB)()],t.prototype,"time",void 0),It([(0,r.IIB)()],t.prototype,"min",void 0),It([(0,r.IIB)()],t.prototype,"max",void 0),It([(0,r.IIB)()],t.prototype,"placeholder",void 0),It([(0,r.IIB)()],t.prototype,"timeUnit",void 0),It([(0,r.IIB)()],t.prototype,"disabled",void 0),It([(0,r.IIB)()],t.prototype,"timeList",void 0),It([(0,r.IIB)()],t.prototype,"preventTyping",void 0),It([(0,r.r_U)()],t.prototype,"timeChanged",void 0),t})(),efe=(()=>{let t=class{constructor(e){this.locale=e,this.periodSelected=new r.vpe,this.period=pc,this.meridiems=sh.kI.meridiems({locale:this.locale})}set selectedPeriod(e){e&&(this.localizedPeriod=this.meridiems[[pc.AM,pc.PM].indexOf(e)])}open(){this.disabled||(this.isOpened=!0)}select(e){this.periodSelected.next(e),this.isOpened=!1}backdropClick(){this.isOpened=!1}};return t.\u0275fac=function(e){return new(e||t)(r.Y36(Iu))},t.\u0275cmp=r.Xpm({type:t,selectors:[["ngx-timepicker-period-selector"]],inputs:{selectedPeriod:"selectedPeriod",isOpened:"isOpened",disabled:"disabled"},outputs:{periodSelected:"periodSelected"},decls:9,vars:6,consts:[[1,"period"],[1,"period-control"],["type","button",1,"period-control__button","period__btn--default",3,"ngClass","click"],[1,"period-control__arrow"],["class","period-selector",3,"timepickerAutofocus",4,"ngIf"],["class","overlay",3,"click",4,"ngIf"],[1,"period-selector",3,"timepickerAutofocus"],["type","button",1,"period-selector__button","period__btn--default",3,"ngClass","click"],[1,"overlay",3,"click"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0)(1,"div",1)(2,"button",2),r.NdJ("click",function(){return i.open()}),r.TgZ(3,"span"),r._uU(4),r.qZA(),r.TgZ(5,"span",3),r._uU(6,"\u25bc"),r.qZA()()(),r.YNc(7,Ahe,7,10,"ul",4),r.qZA(),r.YNc(8,She,1,0,"div",5)),2&e&&(r.xp6(2),r.Q6J("ngClass",r.VKq(4,Dhe,i.disabled)),r.xp6(2),r.Oqu(i.localizedPeriod),r.xp6(3),r.Q6J("ngIf",i.isOpened),r.xp6(1),r.Q6J("ngIf",i.isOpened))},directives:[xr,Sn,Cz],styles:[".period[_ngcontent-%COMP%]{position:relative}.period__btn--default[_ngcontent-%COMP%]{padding:0;border:none;background-color:transparent;cursor:pointer;text-align:left;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;outline:0}.period-control[_ngcontent-%COMP%]{position:relative}.period-control__button[_ngcontent-%COMP%]{position:relative;width:60px;font-size:1rem;color:inherit;text-align:center}.period-control__button[_ngcontent-%COMP%]:not(.period-control__button--disabled):focus:after{content:'';position:absolute;bottom:-8px;left:0;width:100%;height:1px;background-color:#00bfff}.period-control__arrow[_ngcontent-%COMP%]{margin-left:10px;font-size:12px;color:rgba(0,0,0,.4)}.period-selector[_ngcontent-%COMP%]{position:absolute;top:calc(50% - 50px);right:calc(-50% + -50px);max-width:135px;width:150px;padding:6px 0;margin:0;list-style:none;background-color:#f5f5f5;box-shadow:0 1px 3px 0 rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 2px 1px -1px rgba(0,0,0,.12);z-index:201}.period-selector__button[_ngcontent-%COMP%]{width:100%;height:48px;padding:0 16px;line-height:48px}.period-selector__button--active[_ngcontent-%COMP%]{color:#00bfff}.period-selector__button[_ngcontent-%COMP%]:focus{background-color:#eee}.overlay[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%;top:0;left:0;background-color:transparent;z-index:200}"],data:{animation:[zs("scaleInOut",[pr(":enter",[Qt({transform:"scale(0)",opacity:0}),Ar(200,Qt({transform:"scale(1)",opacity:1}))]),pr(":leave",[Ar(200,Qt({transform:"scale(0)",opacity:0}))])])]},changeDetection:0}),It([(0,r.IIB)()],t.prototype,"isOpened",void 0),It([(0,r.IIB)()],t.prototype,"disabled",void 0),It([(0,r.IIB)()],t.prototype,"selectedPeriod",null),It([(0,r.r_U)()],t.prototype,"periodSelected",void 0),t=It([wg(0,(0,r.tBr)(Iu))],t),t})(),l4=(()=>{let t=class{constructor(e){this.locale=e}transform(e,i,o=!1){if(null==e||""===e)return"";switch(i){case fc.HOUR:return this.formatTime("hour",e,0===e||o?"HH":"H");case fc.MINUTE:return this.formatTime("minute",e,"mm");default:throw new Error(`There is no Time Unit with type ${i}`)}}formatTime(e,i,o){try{return sh.ou.fromObject({[e]:+i}).setLocale(this.locale).toFormat(o)}catch(s){throw new Error(`Cannot format provided time - ${i} to locale - ${this.locale}`)}}};return t.\u0275fac=function(e){return new(e||t)(r.Y36(Iu,16))},t.\u0275pipe=r.Yjl({name:"timeLocalizer",type:t,pure:!0}),t=It([wg(0,(0,r.tBr)(Iu))],t),t})(),tfe=(()=>{let t=class{transform(e,i,o){return null!=e&&!o&&e===i}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Yjl({name:"activeHour",type:t,pure:!0}),t})(),nfe=(()=>{let t=class{transform(e,i,o,s){return null!=e&&!s&&i===e&&e%(o||5)==0}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Yjl({name:"activeMinute",type:t,pure:!0}),t})(),ife=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["ngx-material-timepicker-content"]],inputs:{appendToInput:"appendToInput",inputElement:"inputElement"},ngContentSelectors:gz,decls:5,vars:2,consts:[[3,"ngxAppendToInput",4,"ngIf","ngIfElse"],["timepickerModal",""],["timepickerOutlet",""],[3,"ngxAppendToInput"],[4,"ngTemplateOutlet"]],template:function(e,i){if(1&e&&(r.F$t(),r.YNc(0,Mhe,2,2,"div",0),r.YNc(1,Ihe,1,1,"ng-template",null,1,r.W1O),r.YNc(3,Ohe,1,0,"ng-template",null,2,r.W1O)),2&e){const o=r.MAs(2);r.Q6J("ngIf",i.appendToInput)("ngIfElse",o)}},directives:function(){return[Sn,rfe,wd]},encapsulation:2}),It([(0,r.IIB)()],t.prototype,"appendToInput",void 0),It([(0,r.IIB)()],t.prototype,"inputElement",void 0),t})(),rfe=(()=>{let t=class{constructor(e,i){this.renderer=i,this.element=e.nativeElement}get inputCords(){return this.inputElement.getBoundingClientRect()}get direction(){const e=this.element.offsetHeight,{bottom:i,top:o}=this._inputCords,s=(window&&window.innerHeight)-i<e;return s&&o>e?"top":s&&o<e?"center":"bottom"}ngAfterViewInit(){this._inputCords=this.inputCords,this._direction=this.direction,this.append()}changePosition(){const{bottom:e,top:i}=this.inputCords,o=this.defineElementYByDirection(i,e);this.setStyle("top",`${o}px`)}append(){const{left:e,bottom:i,top:o}=this._inputCords,s=this.defineElementYByDirection(o,i);this.setStyle("position","fixed"),this.setStyle("left",`${e}px`),this.setStyle("top",`${s}px`)}setStyle(e,i){this.renderer.setStyle(this.element,e,i)}defineElementYByDirection(e,i){return"top"===this._direction?e-this.element.offsetHeight:"center"===this._direction?e-this.element.offsetHeight/2:i}};return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.Qsj))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngxAppendToInput",""]],hostBindings:function(e,i){1&e&&r.NdJ("scroll",function(){return i.changePosition()},!1,r.Jf7)},inputs:{inputElement:["ngxAppendToInput","inputElement"]}}),It([(0,r.IIB)("ngxAppendToInput")],t.prototype,"inputElement",void 0),It([(0,r.L6J)("window:scroll")],t.prototype,"changePosition",null),t})();var xz;let MA=xz=class{static setLocale(n){return{ngModule:xz,providers:[{provide:Iu,useValue:n}]}}};function ofe(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"div",20),r._UZ(1,"input",21),r.TgZ(2,"ngx-material-timepicker",22,23),r.NdJ("opened",function(o){return r.CHM(e),r.oxw().togglePicker(o)})("closed",function(o){return r.CHM(e),r.oxw().togglePicker(o)}),r.qZA(),r.TgZ(4,"p"),r._uU(5,"-"),r.qZA(),r._UZ(6,"input",24),r.TgZ(7,"ngx-material-timepicker",22,25),r.NdJ("opened",function(o){return r.CHM(e),r.oxw().togglePicker(o)})("closed",function(o){return r.CHM(e),r.oxw().togglePicker(o)}),r.qZA()()}if(2&t){const e=r.MAs(3),i=r.MAs(8),o=r.oxw();r.xp6(1),r.Q6J("ngxTimepicker",e)("disableClick",o.pickerDisabled),r.xp6(5),r.Q6J("ngxTimepicker",i)("disableClick",o.pickerDisabled)}}function sfe(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"div",20),r._UZ(1,"input",26),r.TgZ(2,"ngx-material-timepicker",22,23),r.NdJ("opened",function(o){return r.CHM(e),r.oxw().togglePicker(o)})("closed",function(o){return r.CHM(e),r.oxw().togglePicker(o)}),r.qZA(),r.TgZ(4,"p"),r._uU(5,"-"),r.qZA(),r._UZ(6,"input",27),r.TgZ(7,"ngx-material-timepicker",22,25),r.NdJ("opened",function(o){return r.CHM(e),r.oxw().togglePicker(o)})("closed",function(o){return r.CHM(e),r.oxw().togglePicker(o)}),r.qZA()()}if(2&t){const e=r.MAs(3),i=r.MAs(8),o=r.oxw();r.xp6(1),r.Q6J("ngxTimepicker",e)("disableClick",o.pickerDisabled),r.xp6(5),r.Q6J("ngxTimepicker",i)("disableClick",o.pickerDisabled)}}function afe(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"div",20),r._UZ(1,"input",28),r.TgZ(2,"ngx-material-timepicker",22,23),r.NdJ("opened",function(o){return r.CHM(e),r.oxw().togglePicker(o)})("closed",function(o){return r.CHM(e),r.oxw().togglePicker(o)}),r.qZA(),r.TgZ(4,"p"),r._uU(5,"-"),r.qZA(),r._UZ(6,"input",29),r.TgZ(7,"ngx-material-timepicker",22,25),r.NdJ("opened",function(o){return r.CHM(e),r.oxw().togglePicker(o)})("closed",function(o){return r.CHM(e),r.oxw().togglePicker(o)}),r.qZA()()}if(2&t){const e=r.MAs(3),i=r.MAs(8),o=r.oxw();r.xp6(1),r.Q6J("ngxTimepicker",e)("disableClick",o.pickerDisabled),r.xp6(5),r.Q6J("ngxTimepicker",i)("disableClick",o.pickerDisabled)}}function lfe(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"div",20),r._UZ(1,"input",30),r.TgZ(2,"ngx-material-timepicker",22,23),r.NdJ("opened",function(o){return r.CHM(e),r.oxw().togglePicker(o)})("closed",function(o){return r.CHM(e),r.oxw().togglePicker(o)}),r.qZA(),r.TgZ(4,"p"),r._uU(5,"-"),r.qZA(),r._UZ(6,"input",31),r.TgZ(7,"ngx-material-timepicker",22,25),r.NdJ("opened",function(o){return r.CHM(e),r.oxw().togglePicker(o)})("closed",function(o){return r.CHM(e),r.oxw().togglePicker(o)}),r.qZA()()}if(2&t){const e=r.MAs(3),i=r.MAs(8),o=r.oxw();r.xp6(1),r.Q6J("ngxTimepicker",e)("disableClick",o.pickerDisabled),r.xp6(5),r.Q6J("ngxTimepicker",i)("disableClick",o.pickerDisabled)}}function cfe(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"div",20),r._UZ(1,"input",32),r.TgZ(2,"ngx-material-timepicker",22,23),r.NdJ("opened",function(o){return r.CHM(e),r.oxw().togglePicker(o)})("closed",function(o){return r.CHM(e),r.oxw().togglePicker(o)}),r.qZA(),r.TgZ(4,"p"),r._uU(5,"-"),r.qZA(),r._UZ(6,"input",33),r.TgZ(7,"ngx-material-timepicker",22,25),r.NdJ("opened",function(o){return r.CHM(e),r.oxw().togglePicker(o)})("closed",function(o){return r.CHM(e),r.oxw().togglePicker(o)}),r.qZA()()}if(2&t){const e=r.MAs(3),i=r.MAs(8),o=r.oxw();r.xp6(1),r.Q6J("ngxTimepicker",e)("disableClick",o.pickerDisabled),r.xp6(5),r.Q6J("ngxTimepicker",i)("disableClick",o.pickerDisabled)}}function ufe(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"div",20),r._UZ(1,"input",34),r.TgZ(2,"ngx-material-timepicker",22,23),r.NdJ("opened",function(o){return r.CHM(e),r.oxw().togglePicker(o)})("closed",function(o){return r.CHM(e),r.oxw().togglePicker(o)}),r.qZA(),r.TgZ(4,"p"),r._uU(5,"-"),r.qZA(),r._UZ(6,"input",35),r.TgZ(7,"ngx-material-timepicker",22,25),r.NdJ("opened",function(o){return r.CHM(e),r.oxw().togglePicker(o)})("closed",function(o){return r.CHM(e),r.oxw().togglePicker(o)}),r.qZA()()}if(2&t){const e=r.MAs(3),i=r.MAs(8),o=r.oxw();r.xp6(1),r.Q6J("ngxTimepicker",e)("disableClick",o.pickerDisabled),r.xp6(5),r.Q6J("ngxTimepicker",i)("disableClick",o.pickerDisabled)}}function dfe(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"div",20),r._UZ(1,"input",36),r.TgZ(2,"ngx-material-timepicker",22,23),r.NdJ("opened",function(o){return r.CHM(e),r.oxw().togglePicker(o)})("closed",function(o){return r.CHM(e),r.oxw().togglePicker(o)}),r.qZA(),r.TgZ(4,"p"),r._uU(5,"-"),r.qZA(),r._UZ(6,"input",37),r.TgZ(7,"ngx-material-timepicker",22,25),r.NdJ("opened",function(o){return r.CHM(e),r.oxw().togglePicker(o)})("closed",function(o){return r.CHM(e),r.oxw().togglePicker(o)}),r.qZA()()}if(2&t){const e=r.MAs(3),i=r.MAs(8),o=r.oxw();r.xp6(1),r.Q6J("ngxTimepicker",e)("disableClick",o.pickerDisabled),r.xp6(5),r.Q6J("ngxTimepicker",i)("disableClick",o.pickerDisabled)}}MA.\u0275fac=function(n){return new(n||MA)},MA.\u0275mod=r.oAB({type:MA}),MA.\u0275inj=r.cJS({imports:[[wo,px]]});let Tz=(()=>{class t{constructor(e,i,o,s){this.facultyService=e,this.uiService=i,this.dialogRef=o,this.passedData=s,this.daysIncluded=[],this.configType="add",this.pickerDisabled=!1,this.hasConflict=!1,this.allFaculty=[],this.hasNumbers=!1}ngOnInit(){let e,i;this.configType=this.passedData.configType,"add"==this.configType?this.facultyForm=new Il({idNumber:new mn("",sn.required),department:new mn(this.passedData.currentUser.department,sn.required),fullName:new mn("",sn.required),monday:new mn(!1),tuesday:new mn(!1),wednesday:new mn(!1),thursday:new mn(!1),friday:new mn(!1),saturday:new mn(!1),sunday:new mn(!1)}):(this.tempName=this.passedData.faculty.fullName,this.facultyForm=new Il({idNumber:new mn(this.passedData.faculty.idNumber,sn.required),department:new mn(this.passedData.currentUser.department,sn.required),fullName:new mn(this.passedData.faculty.fullName,sn.required),monday:new mn(!1),tuesday:new mn(!1),wednesday:new mn(!1),thursday:new mn(!1),friday:new mn(!1),saturday:new mn(!1),sunday:new mn(!1)}),this.checkSchedule()),this.allFacultySubs=this.facultyService.allFacultyChanged.subscribe(o=>{this.hasConflict=!1,this.allFaculty=o,console.log(o),this.allFaculty.forEach(s=>{s.idNumber==this.facultyForm.value.idNumber&&s.fullName!=this.tempName&&(this.hasConflict=!0,e=s.fullName,i=s.department,console.log(s))}),this.stringContainsNumber(this.facultyForm.value.fullName),0==this.hasConflict?(this.submitLoad(),this.dialogRef.close()):this.hasNumbers?(this.uiService.showErrorToast("Cannot Add/Edit name with number/s!","Error"),console.log(this.hasNumbers=!1)):this.uiService.showErrorToast("Cannot Add/Edit already existing ID! Conflict with: "+e+" of Department: "+i,"Error")})}stringContainsNumber(e){let i=String(e);for(let o=0;o<i.length;o++)!isNaN(+i.charAt(o))&&" "!==i.charAt(o)&&(this.hasConflict=!0,this.hasNumbers=!0)}checkSchedule(){this.passedData.faculty.facultySchedule.forEach(e=>{"monday"==e.day&&(this.facultyForm.patchValue({monday:!0}),this.facultyForm.addControl("mondayStart",new mn(e.startTime,sn.required)),this.facultyForm.addControl("mondayEnd",new mn(e.endTime,sn.required))),"tuesday"==e.day&&(this.facultyForm.patchValue({tuesday:!0}),this.facultyForm.addControl("tuesdayStart",new mn(e.startTime,sn.required)),this.facultyForm.addControl("tuesdayEnd",new mn(e.endTime,sn.required))),"wednesday"==e.day&&(this.facultyForm.patchValue({wednesday:!0}),this.facultyForm.addControl("wednesdayStart",new mn(e.startTime,sn.required)),this.facultyForm.addControl("wednesdayEnd",new mn(e.endTime,sn.required))),"thursday"==e.day&&(this.facultyForm.patchValue({thursday:!0}),this.facultyForm.addControl("thursdayStart",new mn(e.startTime,sn.required)),this.facultyForm.addControl("thursdayEnd",new mn(e.endTime,sn.required))),"friday"==e.day&&(this.facultyForm.patchValue({friday:!0}),this.facultyForm.addControl("fridayStart",new mn(e.startTime,sn.required)),this.facultyForm.addControl("fridayEnd",new mn(e.endTime,sn.required))),"saturday"==e.day&&(this.facultyForm.patchValue({saturday:!0}),this.facultyForm.addControl("saturdayStart",new mn(e.startTime,sn.required)),this.facultyForm.addControl("saturdayEnd",new mn(e.endTime,sn.required))),"sunday"==e.day&&(this.facultyForm.patchValue({sunday:!0}),this.facultyForm.addControl("sundayStart",new mn(e.startTime,sn.required)),this.facultyForm.addControl("sundayEnd",new mn(e.endTime,sn.required)))})}togglePicker(e){this.pickerDisabled=!this.pickerDisabled}onMondayChange(e){1==this.facultyForm.value.monday?(this.facultyForm.addControl("mondayStart",new mn("",sn.required)),this.facultyForm.addControl("mondayEnd",new mn("",sn.required))):(this.facultyForm.removeControl("mondayStart"),this.facultyForm.removeControl("mondayEnd"))}onTuesdayChange(e){1==this.facultyForm.value.tuesday?(this.facultyForm.addControl("tuesdayStart",new mn("",sn.required)),this.facultyForm.addControl("tuesdayEnd",new mn("",sn.required))):(this.facultyForm.removeControl("tuesdayStart"),this.facultyForm.removeControl("tuesdayEnd"))}onWednesdayChange(e){1==this.facultyForm.value.wednesday?(this.facultyForm.addControl("wednesdayStart",new mn("",sn.required)),this.facultyForm.addControl("wednesdayEnd",new mn("",sn.required))):(this.facultyForm.removeControl("wednesdayStart"),this.facultyForm.removeControl("wednesdayEnd"))}onThursdayChange(e){1==this.facultyForm.value.thursday?(this.facultyForm.addControl("thursdayStart",new mn("",sn.required)),this.facultyForm.addControl("thursdayEnd",new mn("",sn.required))):(this.facultyForm.removeControl("thursdayStart"),this.facultyForm.removeControl("thursdayEnd"))}onFridayChange(e){1==this.facultyForm.value.friday?(this.facultyForm.addControl("fridayStart",new mn("",sn.required)),this.facultyForm.addControl("fridayEnd",new mn("",sn.required))):(this.facultyForm.removeControl("fridayStart"),this.facultyForm.removeControl("fridayEnd"))}onSaturdayChange(e){1==this.facultyForm.value.saturday?(this.facultyForm.addControl("saturdayStart",new mn("",sn.required)),this.facultyForm.addControl("saturdayEnd",new mn("",sn.required))):(this.facultyForm.removeControl("saturdayStart"),this.facultyForm.removeControl("saturdayEnd"))}onSundayChange(e){1==this.facultyForm.value.sunday?(this.facultyForm.addControl("sundayStart",new mn("",sn.required)),this.facultyForm.addControl("sundayEnd",new mn("",sn.required))):(this.facultyForm.removeControl("sundayStart"),this.facultyForm.removeControl("sundayEnd"))}onSubmit(){this.facultyService.fetchAllFaculty(this.passedData.academicYear.startYear,this.passedData.academicYear.semester)}submitLoad(){"add"==this.configType?(this.checkDaysIncluded(),this.facultyService.addFacultyToDatabase({idNumber:this.facultyForm.value.idNumber,fullName:this.facultyForm.value.fullName,department:this.facultyForm.value.department,facultySchedule:this.daysIncluded,startYear:this.passedData.academicYear.startYear,endYear:this.passedData.academicYear.endYear,semester:this.passedData.academicYear.semester,chairpersonName:this.passedData.currentUser.fullName})):(this.checkDaysIncluded(),this.facultyService.updateFacultyToDatabase({idNumber:this.facultyForm.value.idNumber,fullName:this.facultyForm.value.fullName,department:this.facultyForm.value.department,facultySchedule:this.daysIncluded,startYear:this.passedData.academicYear.startYear,endYear:this.passedData.academicYear.endYear,semester:this.passedData.academicYear.semester,chairpersonName:this.passedData.currentUser.fullName},this.passedData.faculty.id))}checkDaysIncluded(){this.facultyForm.value.monday&&this.daysIncluded.push({day:"monday",startTime:this.facultyForm.value.mondayStart,endTime:this.facultyForm.value.mondayEnd}),this.facultyForm.value.tuesday&&this.daysIncluded.push({day:"tuesday",startTime:this.facultyForm.value.tuesdayStart,endTime:this.facultyForm.value.tuesdayEnd}),this.facultyForm.value.wednesday&&this.daysIncluded.push({day:"wednesday",startTime:this.facultyForm.value.wednesdayStart,endTime:this.facultyForm.value.wednesdayEnd}),this.facultyForm.value.thursday&&this.daysIncluded.push({day:"thursday",startTime:this.facultyForm.value.thursdayStart,endTime:this.facultyForm.value.thursdayEnd}),this.facultyForm.value.friday&&this.daysIncluded.push({day:"friday",startTime:this.facultyForm.value.fridayStart,endTime:this.facultyForm.value.fridayEnd}),this.facultyForm.value.saturday&&this.daysIncluded.push({day:"saturday",startTime:this.facultyForm.value.saturdayStart,endTime:this.facultyForm.value.saturdayEnd}),this.facultyForm.value.sunday&&this.daysIncluded.push({day:"sunday",startTime:this.facultyForm.value.sundayStart,endTime:this.facultyForm.value.sundayEnd})}ngOnDestroy(){this.allFacultySubs.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(jC),r.Y36(Ko),r.Y36(K2),r.Y36($p))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-faculty-config"]],outputs:{facultyForm:""},decls:62,vars:10,consts:[["fxLayout","column","fxLayoutGap","15px",2,"padding","20px",3,"formGroup","ngSubmit"],["fxLayout","row","fxLayoutGap","15px"],["type","text","matInput","","placeholder","18-0203","formControlName","idNumber"],["formControlName","department",3,"disabled"],["value","Information Technology"],["value","Civil Engineering"],["value","Electrical Engineering"],["type","text","matInput","","placeholder","Ex. Your Name","formControlName","fullName"],["fxLayout","row","fxLayoutAlign","space-around center","fxLayoutGap","15px"],["fxLayout","column","fxLayoutGap","10px"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between"],["color","primary","formControlName","monday",3,"change"],["fxLayout","row",4,"ngIf"],["color","primary","formControlName","tuesday",3,"change"],["color","primary","formControlName","wednesday",3,"change"],["color","primary","formControlName","thursday",3,"change"],["color","primary","formControlName","friday",3,"change"],["color","primary","formControlName","saturday",3,"change"],["color","primary","formControlName","sunday",3,"change"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["fxLayout","row"],["formControlName","mondayStart",2,"width","60px",3,"ngxTimepicker","disableClick"],[3,"opened","closed"],["picker",""],["formControlName","mondayEnd",2,"width","60px",3,"ngxTimepicker","disableClick"],["picker2",""],["formControlName","tuesdayStart",2,"width","60px",3,"ngxTimepicker","disableClick"],["formControlName","tuesdayEnd",2,"width","60px",3,"ngxTimepicker","disableClick"],["formControlName","wednesdayStart",2,"width","60px",3,"ngxTimepicker","disableClick"],["formControlName","wednesdayEnd",2,"width","60px",3,"ngxTimepicker","disableClick"],["formControlName","thursdayStart",2,"width","60px",3,"ngxTimepicker","disableClick"],["formControlName","thursdayEnd",2,"width","60px",3,"ngxTimepicker","disableClick"],["formControlName","fridayStart",2,"width","60px",3,"ngxTimepicker","disableClick"],["formControlName","fridayEnd",2,"width","60px",3,"ngxTimepicker","disableClick"],["formControlName","saturdayStart",2,"width","60px",3,"ngxTimepicker","disableClick"],["formControlName","saturdayEnd",2,"width","60px",3,"ngxTimepicker","disableClick"],["formControlName","sundayStart",2,"width","60px",3,"ngxTimepicker","disableClick"],["formControlName","sundayEnd",2,"width","60px",3,"ngxTimepicker","disableClick"]],template:function(e,i){1&e&&(r.TgZ(0,"section")(1,"form",0),r.NdJ("ngSubmit",function(){return i.onSubmit()}),r.TgZ(2,"p"),r._uU(3,"Input information"),r.qZA(),r.TgZ(4,"div",1)(5,"mat-form-field")(6,"mat-label"),r._uU(7,"ID Number"),r.qZA(),r._UZ(8,"input",2),r.TgZ(9,"mat-error"),r._uU(10,"Invalid or missing input."),r.qZA()(),r.TgZ(11,"mat-form-field")(12,"mat-label"),r._uU(13,"Department"),r.qZA(),r.TgZ(14,"mat-select",3)(15,"mat-option",4),r._uU(16,"Information Technology"),r.qZA(),r.TgZ(17,"mat-option",5),r._uU(18,"Civil Engineering"),r.qZA(),r.TgZ(19,"mat-option",6),r._uU(20,"Electrical Engineering"),r.qZA()()()(),r.TgZ(21,"mat-form-field")(22,"mat-label"),r._uU(23,"Name"),r.qZA(),r._UZ(24,"input",7),r.TgZ(25,"mat-error"),r._uU(26,"Invalid or missing input."),r.qZA()(),r.TgZ(27,"p"),r._uU(28,"Available days & time"),r.qZA(),r.TgZ(29,"div",8)(30,"div",9)(31,"div",10)(32,"mat-checkbox",11),r.NdJ("change",function(s){return i.onMondayChange(s)}),r._uU(33,"Monday"),r.qZA(),r.YNc(34,ofe,9,4,"div",12),r.qZA(),r.TgZ(35,"div",10)(36,"mat-checkbox",13),r.NdJ("change",function(s){return i.onTuesdayChange(s)}),r._uU(37,"Tuesday"),r.qZA(),r.YNc(38,sfe,9,4,"div",12),r.qZA(),r.TgZ(39,"div",10)(40,"mat-checkbox",14),r.NdJ("change",function(s){return i.onWednesdayChange(s)}),r._uU(41,"Wednesday"),r.qZA(),r.YNc(42,afe,9,4,"div",12),r.qZA(),r.TgZ(43,"div",10)(44,"mat-checkbox",15),r.NdJ("change",function(s){return i.onThursdayChange(s)}),r._uU(45,"Thursday"),r.qZA(),r.YNc(46,lfe,9,4,"div",12),r.qZA()(),r.TgZ(47,"div",9)(48,"div",10)(49,"mat-checkbox",16),r.NdJ("change",function(s){return i.onFridayChange(s)}),r._uU(50,"Friday"),r.qZA(),r.YNc(51,cfe,9,4,"div",12),r.qZA(),r.TgZ(52,"div",10)(53,"mat-checkbox",17),r.NdJ("change",function(s){return i.onSaturdayChange(s)}),r._uU(54,"Saturday"),r.qZA(),r.YNc(55,ufe,9,4,"div",12),r.qZA(),r.TgZ(56,"div",10)(57,"mat-checkbox",18),r.NdJ("change",function(s){return i.onSundayChange(s)}),r._uU(58,"Sunday"),r.qZA(),r.YNc(59,dfe,9,4,"div",12),r.qZA()()(),r.TgZ(60,"button",19),r._uU(61," SAVE "),r.qZA()()()),2&e&&(r.xp6(1),r.Q6J("formGroup",i.facultyForm),r.xp6(13),r.Q6J("disabled",!0),r.xp6(20),r.Q6J("ngIf",i.facultyForm.value.monday),r.xp6(4),r.Q6J("ngIf",i.facultyForm.value.tuesday),r.xp6(4),r.Q6J("ngIf",i.facultyForm.value.wednesday),r.xp6(4),r.Q6J("ngIf",i.facultyForm.value.thursday),r.xp6(5),r.Q6J("ngIf",i.facultyForm.value.friday),r.xp6(4),r.Q6J("ngIf",i.facultyForm.value.saturday),r.xp6(4),r.Q6J("ngIf",i.facultyForm.value.sunday),r.xp6(1),r.Q6J("disabled",i.facultyForm.invalid))},directives:[qd,Ud,zr,$s,ya,$d,id,Ay,_i,Gc,Zc,Xw,$_,ug,uo,dz,Sn,gd,yz,Uo],styles:["p[_ngcontent-%COMP%]{font-family:var(--mont)}"]}),t})();const hfe=function(t){return["/sidenav/facultyload",t]};function ffe(t,n){if(1&t&&(r.TgZ(0,"button",21)(1,"mat-icon"),r._uU(2,"edit"),r.qZA(),r._uU(3," Manage Load"),r.qZA()),2&t){const e=r.oxw().$implicit;r.Q6J("routerLink",r.VKq(1,hfe,e.id))}}function pfe(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"div",8)(1,"div",9)(2,"button",10)(3,"mat-icon",11),r._uU(4,"more_vert"),r.qZA()(),r.TgZ(5,"mat-menu",null,12)(7,"button",13),r.NdJ("click",function(){const s=r.CHM(e).index;return r.oxw().onEditFaculty(s)}),r.TgZ(8,"mat-icon"),r._uU(9,"edit"),r.qZA(),r.TgZ(10,"span"),r._uU(11,"Edit Account"),r.qZA()(),r.TgZ(12,"button",13),r.NdJ("click",function(){const s=r.CHM(e).index;return r.oxw().onRemoveFaculty(s)}),r.TgZ(13,"mat-icon"),r._uU(14,"delete"),r.qZA(),r.TgZ(15,"span"),r._uU(16,"Remove Faculty"),r.qZA()()(),r.TgZ(17,"p",14),r._uU(18),r.qZA()(),r.TgZ(19,"div",15)(20,"mat-icon",16),r._uU(21,"person"),r.qZA(),r.TgZ(22,"p",17),r._uU(23),r.qZA(),r.TgZ(24,"p",18),r._uU(25),r.qZA(),r.TgZ(26,"div",19),r.YNc(27,ffe,4,3,"button",20),r.qZA()()()}if(2&t){const e=n.$implicit,i=r.MAs(6),o=r.oxw();r.xp6(2),r.Q6J("matMenuTriggerFor",i)("disabled",!o.currentUser.isActivated),r.xp6(16),r.Oqu(e.fullName),r.xp6(5),r.Oqu(e.idNumber),r.xp6(2),r.Oqu(o.activeAcademicYear.semester),r.xp6(2),r.Q6J("ngIf",o.currentUser.isActivated&&o.isAllowedToEdit)}}let mfe=(()=>{class t{constructor(e,i,o,s,a){this.dialog=e,this.facultyService=i,this.academicService=o,this.userService=s,this.uiService=a,this.faculties=[],this.isAllowedToEdit=!1}ngOnInit(){this.currentUser=this.userService.getCurrentUser();let i=(new Date).getTime()/1e3;this.currentUser.startDate&&(this.isAllowedToEdit=+i>+this.currentUser.startDate.seconds&&+i<+this.currentUser.endDate.seconds),this.activeAcademicYear=this.academicService.getActiveAcademicYear(),this.academicService.fetchActiveAcademicYear(),this.fetchFaculty(),this.facultySubs=this.facultyService.facultyChanged.subscribe(o=>{this.faculties=o})}fetchFaculty(){this.facultyService.fetchFaculty(this.activeAcademicYear.startYear,this.activeAcademicYear.semester,this.currentUser.fullName)}onAddFaculty(){this.dialog.open(Tz,{data:{configType:"add",faculties:this.faculties,academicYear:this.activeAcademicYear,currentUser:this.currentUser,semester:this.activeAcademicYear.semester}})}sortFaculty(){this.faculties=this.faculties.sort(function(e,i){var o=e.fullName.toUpperCase(),s=i.fullName.toUpperCase();return o<s?-1:o>s?1:0}),this.uiService.showSuccessToast("Faculty has been sorted successfully!","Success")}onEditFaculty(e){this.dialog.open(Tz,{data:{configType:"edit",faculties:this.faculties,faculty:this.faculties[e],academicYear:this.activeAcademicYear,currentUser:this.currentUser,semester:this.activeAcademicYear.semester}})}onRemoveFaculty(e){console.log(this.faculties[e].id),this.facultyService.onRemoveFaculty(this.faculties[e].id)}ngOnDestroy(){this.facultySubs.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Eb),r.Y36(jC),r.Y36(VC),r.Y36(oh),r.Y36(Ko))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-faculty-load"]],decls:17,vars:3,consts:[["fxLayout","column","fxLayoutAlign","center center",1,"main-div"],["fxLayout","column",1,"sub-div"],["fxLayout","row","fxLayoutAlign","space-between",1,"header-div"],[1,"header-text"],["mat-stroked-button","","color","primary",1,"acad-button",3,"disabled","click"],["mat-raised-button","","color","primary",1,"acad-button",3,"disabled","click"],["fxLayoutGap","30px","fxLayout","row wrap",1,"content-div"],["fxLayout","column","class","card-item",4,"ngFor","ngForOf"],["fxLayout","column",1,"card-item"],[1,"card-top"],["mat-icon-button","",1,"menu-icon",3,"matMenuTriggerFor","disabled"],[1,"button-icon"],["menu","matMenu"],["mat-menu-item","",3,"click"],[1,"name-text"],[1,"card-bottom"],[1,"faculty-icon"],[1,"id-text"],[1,"semester-text"],["fxLayoutAlign","center center"],["class","folder-icon","mat-stroked-button","","color","primary",3,"routerLink",4,"ngIf"],["mat-stroked-button","","color","primary",1,"folder-icon",3,"routerLink"]],template:function(e,i){1&e&&(r.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div")(4,"p",3),r._uU(5,"Information Technology Faculty"),r.qZA()(),r.TgZ(6,"div")(7,"button",4),r.NdJ("click",function(){return i.sortFaculty()}),r.TgZ(8,"mat-icon"),r._uU(9,"sort_by_alpha"),r.qZA(),r._uU(10," Sort Faculty "),r.qZA(),r.TgZ(11,"button",5),r.NdJ("click",function(){return i.onAddFaculty()}),r.TgZ(12,"mat-icon"),r._uU(13,"person_add_alt"),r.qZA(),r._uU(14," Add Faculty "),r.qZA()()(),r.TgZ(15,"div",6),r.YNc(16,pfe,28,6,"div",7),r.qZA()()()),2&e&&(r.xp6(7),r.Q6J("disabled",!i.currentUser.isActivated),r.xp6(4),r.Q6J("disabled",!i.currentUser.isActivated),r.xp6(5),r.Q6J("ngForOf",i.faculties))},directives:[zr,uo,Uo,Wf,$s,qn,qO,VO,IC,Sn,jc],styles:[".main-div[_ngcontent-%COMP%]{width:100%;height:92%;overflow:hidden}.sub-div[_ngcontent-%COMP%]{margin:30px;width:95%;height:93%;background-color:#fff;overflow:hidden;background-image:url(faculty-bg.e3bf018c05aabf28.png);background-repeat:no-repeat;background-size:100% 100%}.header-div[_ngcontent-%COMP%]{width:100%;height:20vh}.header-text[_ngcontent-%COMP%]{font-family:var(--incon);color:var(--primary);font-size:30px;margin-top:5vh;margin-left:4vh}.acad-text[_ngcontent-%COMP%]{margin-top:5vh;margin-right:4vh;color:var(--primary);font-size:20px;text-decoration:underline;cursor:pointer}.content-div[_ngcontent-%COMP%]{width:100%;height:100%;padding:5vh 5vh 0vh;background-color:var(--light)}.acad-button[_ngcontent-%COMP%]{margin-top:5vh;margin-right:2vh}.card-item[_ngcontent-%COMP%]{background-color:#fff;width:250px;height:250px;margin-bottom:30px;border-radius:20px}.card-top[_ngcontent-%COMP%]{background-color:var(--primary);background-image:url(plv-bldg.4fbc4d1673861873.png);background-repeat:no-repeat;background-size:auto;position:relative;border-radius:20px 0 0}.menu-icon[_ngcontent-%COMP%]{position:absolute;right:0;top:0;color:#fff}.mat-focus-indicator[_ngcontent-%COMP%]:hover{background-color:var(--light);color:var(--primary)}.name-text[_ngcontent-%COMP%]{margin-top:90px;font-family:var(--mont);margin-left:15px;color:#fff;font-size:13px}.card-bottom[_ngcontent-%COMP%]{position:relative}.id-text[_ngcontent-%COMP%]{margin-top:15px;margin-left:15px;font-family:var(--mont);line-height:.02em;font-size:12px;color:var(--primary)}.faculty-icon[_ngcontent-%COMP%]{position:absolute;right:10px;transform:translateY(-25px);background-color:#fff;border-radius:100%;padding:10px;font-size:25px}.semester-text[_ngcontent-%COMP%]{margin-left:15px;font-family:var(--mont);font-size:12px}.schedule-text[_ngcontent-%COMP%]{margin-left:15px;font-family:var(--mont);font-size:13px;line-height:.3em}.folder-icon[_ngcontent-%COMP%]{cursor:pointer}"]}),t})();function gfe(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"div",2)(1,"button",3),r.NdJ("click",function(){return r.CHM(e),r.oxw().action()}),r._uU(2),r.qZA()()}if(2&t){const e=r.oxw();r.xp6(2),r.Oqu(e.data.action)}}function _fe(t,n){}const Az=new r.OlP("MatSnackBarData");class O5{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const vfe=Math.pow(2,31)-1;class c4{constructor(n,e){this._overlayRef=e,this._afterDismissed=new Ht.x,this._afterOpened=new Ht.x,this._onAction=new Ht.x,this._dismissedByAction=!1,this.containerInstance=n,this.onAction().subscribe(()=>this.dismiss()),n._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(n){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(n,vfe))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let yfe=(()=>{class t{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(c4),r.Y36(Az))},t.\u0275cmp=r.Xpm({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,i){1&e&&(r.TgZ(0,"span",0),r._uU(1),r.qZA(),r.YNc(2,gfe,3,1,"div",1)),2&e&&(r.xp6(1),r.Oqu(i.data.message),r.xp6(1),r.Q6J("ngIf",i.hasAction))},directives:[Uo,Sn],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}\n"],encapsulation:2,changeDetection:0}),t})();const bfe={snackBarState:zs("state",[Mr("void, hidden",Qt({transform:"scale(0.8)",opacity:0})),Mr("visible",Qt({transform:"scale(1)",opacity:1})),pr("* => visible",Ar("150ms cubic-bezier(0, 0, 0.2, 1)")),pr("* => void, * => hidden",Ar("75ms cubic-bezier(0.4, 0.0, 1, 1)",Qt({opacity:0})))])};let wfe=(()=>{class t extends Kk{constructor(e,i,o,s,a){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=o,this._platform=s,this.snackBarConfig=a,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Ht.x,this._onExit=new Ht.x,this._onEnter=new Ht.x,this._animationState="void",this.attachDomPortal=d=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(d)),this._live="assertive"!==a.politeness||a.announcementMessage?"off"===a.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(e)}onAnimationEnd(e){const{fromState:i,toState:o}=e;if(("void"===o&&"void"!==i||"hidden"===o)&&this._completeExit(),"visible"===o){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,Er.q)(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(o=>e.classList.add(o)):e.classList.add(i)),"center"===this.snackBarConfig.horizontalPosition&&e.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&e.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(o=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),null==o||o.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.R0b),r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(ho),r.Y36(O5))},t.\u0275cmp=r.Xpm({type:t,selectors:[["snack-bar-container"]],viewQuery:function(e,i){if(1&e&&r.Gf(Dy,7),2&e){let o;r.iGM(o=r.CRH())&&(i._portalOutlet=o.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,i){1&e&&r.WFA("@state.done",function(s){return i.onAnimationEnd(s)}),2&e&&r.d8E("@state",i._animationState)},features:[r.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(r.TgZ(0,"div",0),r.YNc(1,_fe,0,0,"ng-template",1),r.qZA(),r._UZ(2,"div")),2&e&&(r.xp6(2),r.uIk("aria-live",i._live)("role",i._role))},directives:[Dy],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[bfe.snackBarState]}}),t})(),u4=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[tC,J2,wo,z2,ci],ci]}),t})();const Sz=new r.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function Cfe(){return new O5}});let xfe=(()=>{class t{constructor(e,i,o,s,a,d){this._overlay=e,this._live=i,this._injector=o,this._breakpointObserver=s,this._parentSnackBar=a,this._defaultConfig=d,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",o){const s=Object.assign(Object.assign({},this._defaultConfig),o);return s.data={message:e,action:i},s.announcementMessage===e&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const s=r.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:O5,useValue:i}]}),a=new Db(this.snackBarContainerComponent,i.viewContainerRef,s),d=e.attach(a);return d.instance.snackBarConfig=i,d.instance}_attach(e,i){const o=Object.assign(Object.assign(Object.assign({},new O5),this._defaultConfig),i),s=this._createOverlay(o),a=this._attachSnackBarContainer(s,o),d=new c4(a,s);if(e instanceof r.Rgc){const f=new dT(e,null,{$implicit:o.data,snackBarRef:d});d.instance=a.attachTemplatePortal(f)}else{const f=this._createInjector(o,d),v=new Db(e,void 0,f),w=a.attachComponentPortal(v);d.instance=w.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(ai(s.detachments())).subscribe(f=>{s.overlayElement.classList.toggle(this.handsetCssClass,f.matches)}),o.announcementMessage&&a._onAnnounce.subscribe(()=>{this._live.announce(o.announcementMessage,o.politeness)}),this._animateSnackBar(d,o),this._openedSnackBarRef=d,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new hT;i.direction=e.direction;let o=this._overlay.position().global();const s="rtl"===e.direction,a="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!s||"end"===e.horizontalPosition&&s,d=!a&&"center"!==e.horizontalPosition;return a?o.left("0"):d?o.right("0"):o.centerHorizontally(),"top"===e.verticalPosition?o.top("0"):o.bottom("0"),i.positionStrategy=o,this._overlay.create(i)}_createInjector(e,i){return r.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:c4,useValue:i},{provide:Az,useValue:e.data}]})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Vh),r.LFG(WS),r.LFG(r.zs3),r.LFG(HO),r.LFG(t,12),r.LFG(Sz))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),Dz=(()=>{class t extends xfe{constructor(e,i,o,s,a,d){super(e,i,o,s,a,d),this.simpleSnackBarComponent=yfe,this.snackBarContainerComponent=wfe,this.handsetCssClass="mat-snack-bar-handset"}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Vh),r.LFG(WS),r.LFG(r.zs3),r.LFG(HO),r.LFG(t,12),r.LFG(Sz))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:u4}),t})();const Tfe=["*"],Ez=new r.OlP("MatChipRemove"),Mz=new r.OlP("MatChipAvatar"),kz=new r.OlP("MatChipTrailingIcon");class Afe{constructor(n){this._elementRef=n}}const Sfe=Cb(jh(nd(Afe),"primary"),-1);let TE=(()=>{class t extends Sfe{constructor(e,i,o,s,a,d,f,v){super(e),this._ngZone=i,this._changeDetectorRef=a,this._hasFocus=!1,this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListDisabled=!1,this._selected=!1,this._selectable=!0,this._disabled=!1,this._removable=!0,this._onFocus=new Ht.x,this._onBlur=new Ht.x,this.selectionChange=new r.vpe,this.destroyed=new r.vpe,this.removed=new r.vpe,this._addHostClassName(),this._chipRippleTarget=d.createElement("div"),this._chipRippleTarget.classList.add("mat-chip-ripple"),this._elementRef.nativeElement.appendChild(this._chipRippleTarget),this._chipRipple=new VU(this,i,this._chipRippleTarget,o),this._chipRipple.setupTriggerEvents(e),this.rippleConfig=s||{},this._animationsDisabled="NoopAnimations"===f,this.tabIndex=null!=v&&parseInt(v)||-1}get rippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||!!this.rippleConfig.disabled}get selected(){return this._selected}set selected(e){const i=Rn(e);i!==this._selected&&(this._selected=i,this._dispatchSelectionChange())}get value(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent}set value(e){this._value=e}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(e){this._selectable=Rn(e)}get disabled(){return this._chipListDisabled||this._disabled}set disabled(e){this._disabled=Rn(e)}get removable(){return this._removable}set removable(e){this._removable=Rn(e)}get ariaSelected(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}_addHostClassName(){const e="mat-basic-chip",i=this._elementRef.nativeElement;i.hasAttribute(e)||i.tagName.toLowerCase()===e?i.classList.add(e):i.classList.add("mat-standard-chip")}ngOnDestroy(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}select(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}deselect(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}selectViaInteraction(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._changeDetectorRef.markForCheck())}toggleSelected(e=!1){return this._selected=!this.selected,this._dispatchSelectionChange(e),this._changeDetectorRef.markForCheck(),this.selected}focus(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}remove(){this.removable&&this.removed.emit({chip:this})}_handleClick(e){this.disabled&&e.preventDefault()}_handleKeydown(e){if(!this.disabled)switch(e.keyCode){case 46:case 8:this.remove(),e.preventDefault();break;case 32:this.selectable&&this.toggleSelected(!0),e.preventDefault()}}_blur(){this._ngZone.onStable.pipe((0,Er.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._hasFocus=!1,this._onBlur.next({chip:this})})})}_dispatchSelectionChange(e=!1){this.selectionChange.emit({source:this,isUserInput:e,selected:this._selected})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.R0b),r.Y36(ho),r.Y36(qU,8),r.Y36(r.sBO),r.Y36(et),r.Y36(O,8),r.$8M("tabindex"))},t.\u0275dir=r.lG2({type:t,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(e,i,o){if(1&e&&(r.Suo(o,Mz,5),r.Suo(o,kz,5),r.Suo(o,Ez,5)),2&e){let s;r.iGM(s=r.CRH())&&(i.avatar=s.first),r.iGM(s=r.CRH())&&(i.trailingIcon=s.first),r.iGM(s=r.CRH())&&(i.removeIcon=s.first)}},hostAttrs:["role","option",1,"mat-chip","mat-focus-indicator"],hostVars:14,hostBindings:function(e,i){1&e&&r.NdJ("click",function(s){return i._handleClick(s)})("keydown",function(s){return i._handleKeydown(s)})("focus",function(){return i.focus()})("blur",function(){return i._blur()}),2&e&&(r.uIk("tabindex",i.disabled?null:i.tabIndex)("disabled",i.disabled||null)("aria-disabled",i.disabled.toString())("aria-selected",i.ariaSelected),r.ekj("mat-chip-selected",i.selected)("mat-chip-with-avatar",i.avatar)("mat-chip-with-trailing-icon",i.trailingIcon||i.removeIcon)("mat-chip-disabled",i.disabled)("_mat-animation-noopable",i._animationsDisabled))},inputs:{color:"color",disableRipple:"disableRipple",tabIndex:"tabIndex",selected:"selected",value:"value",selectable:"selectable",disabled:"disabled",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[r.qOj]}),t})();const Iz=new r.OlP("mat-chips-default-options"),Ofe=xb(class{constructor(t,n,e,i){this._defaultErrorStateMatcher=t,this._parentForm=n,this._parentFormGroup=e,this.ngControl=i}});let Lfe=0;class Ffe{constructor(n,e){this.source=n,this.value=e}}let d4=(()=>{class t extends Ofe{constructor(e,i,o,s,a,d,f){super(d,s,a,f),this._elementRef=e,this._changeDetectorRef=i,this._dir=o,this.controlType="mat-chip-list",this._lastDestroyedChipIndex=null,this._destroyed=new Ht.x,this._uid="mat-chip-list-"+Lfe++,this._tabIndex=0,this._userTabIndex=null,this._onTouched=()=>{},this._onChange=()=>{},this._multiple=!1,this._compareWith=(v,w)=>v===w,this._disabled=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.change=new r.vpe,this.valueChange=new r.vpe,this.ngControl&&(this.ngControl.valueAccessor=this)}get selected(){var e,i;return this.multiple?(null===(e=this._selectionModel)||void 0===e?void 0:e.selected)||[]:null===(i=this._selectionModel)||void 0===i?void 0:i.selected[0]}get role(){return this.empty?null:"listbox"}get multiple(){return this._multiple}set multiple(e){this._multiple=Rn(e),this._syncChipsState()}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this.writeValue(e),this._value=e}get id(){return this._chipInput?this._chipInput.id:this._uid}get required(){var e,i,o,s;return null!==(s=null!==(e=this._required)&&void 0!==e?e:null===(o=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===o?void 0:o.hasValidator(sn.required))&&void 0!==s&&s}set required(e){this._required=Rn(e),this.stateChanges.next()}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get focused(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this.chips||0===this.chips.length)}get shouldLabelFloat(){return!this.empty||this.focused}get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Rn(e),this._syncChipsState()}get selectable(){return this._selectable}set selectable(e){this._selectable=Rn(e),this.chips&&this.chips.forEach(i=>i.chipListSelectable=this._selectable)}set tabIndex(e){this._userTabIndex=e,this._tabIndex=e}get chipSelectionChanges(){return(0,co.T)(...this.chips.map(e=>e.selectionChange))}get chipFocusChanges(){return(0,co.T)(...this.chips.map(e=>e._onFocus))}get chipBlurChanges(){return(0,co.T)(...this.chips.map(e=>e._onBlur))}get chipRemoveChanges(){return(0,co.T)(...this.chips.map(e=>e.destroyed))}ngAfterContentInit(){this._keyManager=new fb(this.chips).withWrap().withVerticalOrientation().withHomeAndEnd().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe(ai(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e)),this._keyManager.tabOut.pipe(ai(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.chips.changes.pipe(Ir(null),ai(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>{this._syncChipsState()}),this._resetChips(),this._initializeSelection(),this._updateTabIndex(),this._updateFocusForDestroyedChips(),this.stateChanges.next()})}ngOnInit(){this._selectionModel=new XD(this.multiple,void 0,!1),this.stateChanges.next()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==this._disabled&&(this.disabled=!!this.ngControl.disabled))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}registerInput(e){this._chipInput=e,this._elementRef.nativeElement.setAttribute("data-mat-chip-input",e.id)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}writeValue(e){this.chips&&this._setSelectionByValue(e,!1)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this.stateChanges.next()}onContainerClick(e){this._originatesFromChip(e)||this.focus()}focus(e){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(e),this.stateChanges.next()))}_focusInput(e){this._chipInput&&this._chipInput.focus(e)}_keydown(e){const i=e.target;i&&i.classList.contains("mat-chip")&&(this._keyManager.onKeydown(e),this.stateChanges.next())}_updateTabIndex(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}_updateFocusForDestroyedChips(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){const e=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(e)}else this.focus();this._lastDestroyedChipIndex=null}_isValidIndex(e){return e>=0&&e<this.chips.length}_setSelectionByValue(e,i=!0){if(this._clearSelection(),this.chips.forEach(o=>o.deselect()),Array.isArray(e))e.forEach(o=>this._selectValue(o,i)),this._sortValues();else{const o=this._selectValue(e,i);o&&i&&this._keyManager.setActiveItem(o)}}_selectValue(e,i=!0){const o=this.chips.find(s=>null!=s.value&&this._compareWith(s.value,e));return o&&(i?o.selectViaInteraction():o.select(),this._selectionModel.select(o)),o}_initializeSelection(){Promise.resolve().then(()=>{(this.ngControl||this._value)&&(this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value,!1),this.stateChanges.next())})}_clearSelection(e){this._selectionModel.clear(),this.chips.forEach(i=>{i!==e&&i.deselect()}),this.stateChanges.next()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.chips.forEach(e=>{e.selected&&this._selectionModel.select(e)}),this.stateChanges.next())}_propagateChanges(e){let i=null;i=Array.isArray(this.selected)?this.selected.map(o=>o.value):this.selected?this.selected.value:e,this._value=i,this.change.emit(new Ffe(this,i)),this.valueChange.emit(i),this._onChange(i),this._changeDetectorRef.markForCheck()}_blur(){this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(()=>{this.focused||this._markAsTouched()}):this._markAsTouched())}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}_allowFocusEscape(){-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(()=>{this._tabIndex=this._userTabIndex||0,this._changeDetectorRef.markForCheck()}))}_resetChips(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}_dropSubscriptions(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}_listenToChipsSelection(){this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(e=>{e.source.selected?this._selectionModel.select(e.source):this._selectionModel.deselect(e.source),this.multiple||this.chips.forEach(i=>{!this._selectionModel.isSelected(i)&&i.selected&&i.deselect()}),e.isUserInput&&this._propagateChanges()})}_listenToChipsFocus(){this._chipFocusSubscription=this.chipFocusChanges.subscribe(e=>{let i=this.chips.toArray().indexOf(e.chip);this._isValidIndex(i)&&this._keyManager.updateActiveItem(i),this.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(()=>{this._blur(),this.stateChanges.next()})}_listenToChipsRemoved(){this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(e=>{const i=e.chip,o=this.chips.toArray().indexOf(e.chip);this._isValidIndex(o)&&i._hasFocus&&(this._lastDestroyedChipIndex=o)})}_originatesFromChip(e){let i=e.target;for(;i&&i!==this._elementRef.nativeElement;){if(i.classList.contains("mat-chip"))return!0;i=i.parentElement}return!1}_hasFocusedChip(){return this.chips&&this.chips.some(e=>e._hasFocus)}_syncChipsState(){this.chips&&this.chips.forEach(e=>{e._chipListDisabled=this._disabled,e._chipListMultiple=this.multiple})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(Us,8),r.Y36(Mf,8),r.Y36(ya,8),r.Y36(Tb),r.Y36(Hc,10))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-chip-list"]],contentQueries:function(e,i,o){if(1&e&&r.Suo(o,TE,5),2&e){let s;r.iGM(s=r.CRH())&&(i.chips=s)}},hostAttrs:[1,"mat-chip-list"],hostVars:15,hostBindings:function(e,i){1&e&&r.NdJ("focus",function(){return i.focus()})("blur",function(){return i._blur()})("keydown",function(s){return i._keydown(s)}),2&e&&(r.Ikx("id",i._uid),r.uIk("tabindex",i.disabled?null:i._tabIndex)("aria-describedby",i._ariaDescribedby||null)("aria-required",i.role?i.required:null)("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-multiselectable",i.multiple)("role",i.role)("aria-orientation",i.ariaOrientation),r.ekj("mat-chip-list-disabled",i.disabled)("mat-chip-list-invalid",i.errorState)("mat-chip-list-required",i.required))},inputs:{errorStateMatcher:"errorStateMatcher",multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",ariaOrientation:["aria-orientation","ariaOrientation"],selectable:"selectable",tabIndex:"tabIndex"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[r._Bn([{provide:uT,useExisting:t}]),r.qOj],ngContentSelectors:Tfe,decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(e,i){1&e&&(r.F$t(),r.TgZ(0,"div",0),r.Hsn(1),r.qZA())},styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;transform:translateZ(0);border:none;-webkit-appearance:none;-moz-appearance:none}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}._mat-animation-noopable.mat-standard-chip{transition:none;animation:none}.mat-standard-chip .mat-chip-remove{border:none;-webkit-appearance:none;-moz-appearance:none;padding:0;background:none}.mat-standard-chip .mat-chip-remove.mat-icon,.mat-standard-chip .mat-chip-remove .mat-icon{width:18px;height:18px;font-size:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip:focus{outline:dotted 2px}.cdk-high-contrast-active .mat-standard-chip.mat-chip-selected{outline-width:3px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}\n'],encapsulation:2,changeDetection:0}),t})(),Oz=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[Tb,{provide:Iz,useValue:{separatorKeyCodes:[13]}}],imports:[[ci]]}),t})();const Nfe=["search"];function Rfe(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"mat-form-field",31)(1,"mat-icon",32),r._uU(2,"search"),r.qZA(),r.TgZ(3,"input",33,34),r.NdJ("keyup",function(o){return r.CHM(e),r.oxw().doFilter(o.target.value)}),r.qZA()()}}function Pfe(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"mat-chip",36),r.NdJ("click",function(){const s=r.CHM(e).index;return r.oxw(2).onChipClicked(s)}),r._uU(1),r.qZA()}if(2&t){const e=n.$implicit;r.xp6(1),r.Oqu(e.subjectTitle)}}function Bfe(t,n){if(1&t&&(r.TgZ(0,"div")(1,"mat-chip-list"),r.YNc(2,Pfe,2,1,"mat-chip",35),r.qZA()()),2&t){const e=r.oxw();r.xp6(2),r.Q6J("ngForOf",e.filteredCurriculums)}}function Ufe(t,n){if(1&t&&(r.TgZ(0,"mat-option",56),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.Q6J("value",e),r.xp6(1),r.Oqu(e)}}function jfe(t,n){if(1&t&&(r.TgZ(0,"mat-option",56),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.Q6J("value",e),r.xp6(1),r.Oqu(e)}}function Vfe(t,n){if(1&t&&(r.TgZ(0,"mat-option",56),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.Q6J("value",e),r.xp6(1),r.Oqu(e)}}function qfe(t,n){if(1&t&&(r.TgZ(0,"mat-option",57),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.Q6J("value",e.day)("ngClass","noConflict"==e.conflict?"no-conflict":""),r.xp6(1),r.Oqu(e.day)}}function Hfe(t,n){if(1&t&&(r.TgZ(0,"mat-option",57),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.Q6J("value",e.time)("ngClass","noConflict"==e.conflict?"no-conflict":""),r.xp6(1),r.Oqu(e.time)}}function Gfe(t,n){if(1&t&&(r.TgZ(0,"mat-option",56),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.Q6J("value",e),r.xp6(1),r.Oqu(e)}}function Zfe(t,n){if(1&t&&(r.TgZ(0,"mat-option",56),r._uU(1),r.ALo(2,"uppercase"),r.qZA()),2&t){const e=n.$implicit;r.Q6J("value",e),r.xp6(1),r.Oqu(r.lcZ(2,2,e.roomName))}}function Yfe(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"div",37)(1,"div",38)(2,"mat-form-field",39)(3,"mat-label"),r._uU(4,"Code"),r.qZA(),r.TgZ(5,"mat-select",40),r.NdJ("selectionChange",function(o){return r.CHM(e),r.oxw().onCodeChange(o)}),r.YNc(6,Ufe,2,2,"mat-option",41),r.qZA()(),r.TgZ(7,"mat-form-field",42)(8,"mat-label"),r._uU(9,"Subject Description"),r.qZA(),r.TgZ(10,"mat-select",43),r.NdJ("selectionChange",function(o){return r.CHM(e),r.oxw().onSubjectChange(o)}),r.YNc(11,jfe,2,2,"mat-option",41),r.qZA()(),r.TgZ(12,"mat-form-field",44)(13,"mat-label"),r._uU(14,"Units"),r.qZA(),r._UZ(15,"input",45),r.TgZ(16,"mat-error"),r._uU(17,"please enter a valid input."),r.qZA()()(),r.TgZ(18,"div",38)(19,"mat-form-field",46)(20,"mat-label"),r._uU(21,"No. of Hours"),r.qZA(),r.TgZ(22,"input",47),r.NdJ("ngModelChange",function(o){return r.CHM(e),r.oxw().onChangeHours(o)}),r.qZA(),r.TgZ(23,"mat-error"),r._uU(24,"please enter only 1 digit number."),r.qZA()(),r.TgZ(25,"mat-form-field",48)(26,"mat-label"),r._uU(27,"Section"),r.qZA(),r.TgZ(28,"mat-select",49),r.YNc(29,Vfe,2,2,"mat-option",41),r.qZA()(),r.TgZ(30,"mat-form-field",39)(31,"mat-label"),r._uU(32,"Day"),r.qZA(),r.TgZ(33,"mat-select",50),r.NdJ("selectionChange",function(o){return r.CHM(e),r.oxw().onDayChanged(o)}),r.YNc(34,qfe,2,3,"mat-option",51),r.qZA()()(),r.TgZ(35,"div",38)(36,"mat-form-field",39)(37,"mat-label"),r._uU(38,"Start Time"),r.qZA(),r.TgZ(39,"mat-select",52),r.NdJ("selectionChange",function(o){return r.CHM(e),r.oxw().onStartTimeChange(o)}),r.YNc(40,Hfe,2,3,"mat-option",51),r.qZA()(),r.TgZ(41,"mat-form-field",39)(42,"mat-label"),r._uU(43,"End Time"),r.qZA(),r.TgZ(44,"mat-select",53),r.YNc(45,Gfe,2,2,"mat-option",41),r.qZA()(),r.TgZ(46,"mat-form-field",54)(47,"mat-label"),r._uU(48,"Room"),r.qZA(),r.TgZ(49,"mat-select",55),r.NdJ("selectionChange",function(o){return r.CHM(e),r.oxw().onRoomLoadChange(o)}),r.YNc(50,Zfe,3,4,"mat-option",41),r.qZA()()()()}if(2&t){const e=r.oxw();r.xp6(6),r.Q6J("ngForOf",e.subjectCodes),r.xp6(5),r.Q6J("ngForOf",e.subjectDescriptions),r.xp6(18),r.Q6J("ngForOf",e.trimmedSections),r.xp6(5),r.Q6J("ngForOf",e.availableDays),r.xp6(6),r.Q6J("ngForOf",e.availableTimes),r.xp6(5),r.Q6J("ngForOf",e.times),r.xp6(5),r.Q6J("ngForOf",e.rooms)}}function zfe(t,n){1&t&&(r.TgZ(0,"mat-header-cell",58),r._uU(1,"Code"),r.qZA())}function Wfe(t,n){if(1&t&&(r.TgZ(0,"mat-cell"),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.xp6(1),r.Oqu(e.subjectCode)}}function $fe(t,n){1&t&&(r.TgZ(0,"mat-header-cell",58),r._uU(1,"Subject Title"),r.qZA())}function Qfe(t,n){if(1&t&&(r.TgZ(0,"mat-cell"),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.xp6(1),r.Oqu(e.subjectDescription)}}function Jfe(t,n){1&t&&(r.TgZ(0,"mat-header-cell",58),r._uU(1,"Units"),r.qZA())}function Kfe(t,n){if(1&t&&(r.TgZ(0,"mat-cell"),r._uU(1),r.ALo(2,"number"),r.qZA()),2&t){const e=n.$implicit;r.xp6(1),r.Oqu(r.lcZ(2,1,e.units))}}function Xfe(t,n){1&t&&(r.TgZ(0,"mat-header-cell",58),r._uU(1,"No. of Hours"),r.qZA())}function epe(t,n){if(1&t&&(r.TgZ(0,"mat-cell"),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.xp6(1),r.Oqu(e.noHour)}}function tpe(t,n){1&t&&(r.TgZ(0,"mat-header-cell",58),r._uU(1,"Section"),r.qZA())}function npe(t,n){if(1&t&&(r.TgZ(0,"mat-cell"),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.xp6(1),r.Oqu(e.section)}}function ipe(t,n){1&t&&(r.TgZ(0,"mat-header-cell",58),r._uU(1,"Faculty"),r.qZA())}function rpe(t,n){if(1&t&&(r.TgZ(0,"mat-cell"),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.xp6(1),r.Oqu(e.facultyName)}}function ope(t,n){1&t&&(r.TgZ(0,"mat-header-cell",58),r._uU(1,"Day"),r.qZA())}function spe(t,n){if(1&t&&(r.TgZ(0,"mat-cell"),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.xp6(1),r.Oqu(e.day)}}function ape(t,n){1&t&&(r.TgZ(0,"mat-header-cell",58),r._uU(1,"Start Time"),r.qZA())}function lpe(t,n){if(1&t&&(r.TgZ(0,"mat-cell"),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.xp6(1),r.Oqu(e.startTime)}}function cpe(t,n){1&t&&(r.TgZ(0,"mat-header-cell",58),r._uU(1,"End Time"),r.qZA())}function upe(t,n){if(1&t&&(r.TgZ(0,"mat-cell"),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.xp6(1),r.Oqu(e.endTime)}}function dpe(t,n){1&t&&(r.TgZ(0,"mat-header-cell",58),r._uU(1,"Room"),r.qZA())}function hpe(t,n){if(1&t&&(r.TgZ(0,"mat-cell"),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.xp6(1),r.Oqu(e.room)}}function fpe(t,n){1&t&&(r.TgZ(0,"mat-header-cell"),r._uU(1," Manage "),r.qZA())}function ppe(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"mat-icon",59),r.NdJ("click",function(){r.CHM(e);const o=r.oxw().$implicit;return r.oxw().onSplit(o)}),r._uU(1,"manage_history"),r.qZA()}}function mpe(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"mat-cell")(1,"mat-icon",59),r.NdJ("click",function(){const s=r.CHM(e).$implicit,a=r.oxw(),d=r.MAs(2);return a.onEditLoad(s,d)}),r._uU(2,"edit"),r.qZA(),r.TgZ(3,"mat-icon",59),r.NdJ("click",function(){const s=r.CHM(e).$implicit;return r.oxw().onDeleteLoad(s.id)}),r._uU(4,"delete"),r.qZA(),r.YNc(5,ppe,2,0,"mat-icon",60),r.qZA()}if(2&t){const e=n.$implicit;r.xp6(5),r.Q6J("ngIf",+e.noHour>5)}}function gpe(t,n){1&t&&r._UZ(0,"mat-header-row",61)}function _pe(t,n){1&t&&r._UZ(0,"mat-row")}function vpe(t,n){1&t&&(r.TgZ(0,"div",62),r._UZ(1,"img",63),r.TgZ(2,"p",64),r._uU(3,"Click Add Load to Start Managing Load/s"),r.qZA()())}let ype=(()=>{class t{constructor(e,i,o,s,a,d,f,v,w){this.curriculumService=e,this.roomSectionService=i,this.loadService=o,this.academicService=s,this.userService=a,this.uiService=d,this.facultyService=f,this.snackBar=v,this.toastr=w,this.curriculums=[],this.departmentCurriculums=[],this.displayedColumns=["subjectCode","subjectDescription","units","noHour","section","facultyName","day","startTime","endTime","room","actions"],this.dataSource=new mE,this.startTimeDisabled=!0,this.subjectCodes=[],this.subjectDescriptions=[],this.days=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],this.availableDays=[{day:"monday",conflict:"conflict"},{day:"tuesday",conflict:"conflict"},{day:"wednesday",conflict:"conflict"},{day:"thursday",conflict:"conflict"},{day:"friday",conflict:"conflict"},{day:"saturday",conflict:"conflict"},{day:"sunday",conflict:"conflict"}],this.sections=[],this.rooms=[],this.trimmedSections=[],this.times=["7:00 AM","7:30 AM","8:00 AM","8:30 AM","9:00 AM","9:30 AM","10:00 AM","10:30 AM","11:00 AM","11:30 AM","12:00 PM","12:30 PM","1:00 PM","1:30 PM","2:00 PM","2:30 PM","3:00 PM","3:30 PM","4:00 PM","4:30 PM","5:00 PM","5:30 PM","6:00 PM","6:30 PM","7:00 PM","7:30 PM","8:00 PM","8:30 PM"],this.availableTimes=[{time:"7:00 AM",conflict:"conflict"},{time:"7:30 AM",conflict:"conflict"},{time:"8:00 AM",conflict:"conflict"},{time:"8:30 AM",conflict:"conflict"},{time:"9:00 AM",conflict:"conflict"},{time:"9:30 AM",conflict:"conflict"},{time:"10:00 AM",conflict:"conflict"},{time:"10:30 AM",conflict:"conflict"},{time:"11:00 AM",conflict:"conflict"},{time:"11:30 AM",conflict:"conflict"},{time:"12:00 PM",conflict:"conflict"},{time:"12:30 PM",conflict:"conflict"},{time:"1:00 PM",conflict:"conflict"},{time:"1:30 PM",conflict:"conflict"},{time:"2:00 PM",conflict:"conflict"},{time:"2:30 PM",conflict:"conflict"},{time:"3:00 PM",conflict:"conflict"},{time:"3:30 PM",conflict:"conflict"},{time:"4:00 PM",conflict:"conflict"},{time:"4:30 PM",conflict:"conflict"},{time:"5:00 PM",conflict:"conflict"},{time:"5:30 PM",conflict:"conflict"},{time:"6:00 PM",conflict:"conflict"},{time:"6:30 PM",conflict:"conflict"},{time:"7:00 PM",conflict:"conflict"},{time:"7:30 PM",conflict:"conflict"},{time:"8:00 PM",conflict:"conflict"},{time:"8:30 PM",conflict:"conflict"}],this.onSearching=!1,this.filteredCurriculums=[],this.loads=[],this.onAddMode=!1,this.onEditMode=!1,this.isAllowedToEdit=!1,this.faculties=[],this.roomStartTime="",this.roomEndTime="",this.roomLoad=[]}ngOnInit(){this.currentChairperson=this.userService.getCurrentUser();let i=(new Date).getTime()/1e3;this.isAllowedToEdit=+i>+this.currentChairperson.startDate.seconds&&+i<+this.currentChairperson.endDate.seconds,this.activeAcademicYear=this.academicService.getActiveAcademicYear(),this.facultySubs=this.facultyService.facultyChanged.subscribe(o=>{this.faculties=o}),this.roomSectionService.fetchRooms(),this.roomsSubs=this.roomSectionService.roomsChanged.subscribe(o=>{this.rooms=o,this.rooms=this.rooms.sort((s,a)=>s.roomName<a.roomName?-1:s.roomName>a.roomName?1:0)}),this.roomSectionService.fetchSections(),this.sectionSubs=this.roomSectionService.sectionsChanged.subscribe(o=>{this.sections=o,this.sections=this.sections.sort((s,a)=>+s.section-+a.section),this.sections=this.sections.sort((s,a)=>+s.year-+a.year),this.sections=this.sections.sort((s,a)=>s.course<a.course?-1:s.course>a.course?1:0),this.trimmedSections=[],o.forEach(s=>{let d=s.course.split(/\s/).reduce((f,v)=>f+v.slice(0,1),"");this.trimmedSections.push("BS"+d+" "+s.year+"-"+s.section)})}),this.curriculumService.fetchAllCurriculum(),this.curriculumSubs=this.curriculumService.fetchCurriculumChanged.subscribe(o=>{this.curriculums=o,this.departmentCurriculums=this.curriculums.filter(s=>s.department==this.activeFaculty.department),this.subjectCodes=[],this.subjectDescriptions=[],this.departmentCurriculums.forEach(s=>{this.subjectCodes.push(s.code),this.subjectDescriptions.push(s.subjectTitle)})}),this.loadForm=new Il({subjectCode:new mn({value:""},sn.required),subjectDescription:new mn({value:""},sn.required),units:new mn("",sn.required),noHour:new mn("",{validators:[sn.pattern(/^[0-9]*$/),sn.maxLength(1),sn.required]}),section:new mn("",sn.required),day:new mn("",sn.required),startTime:new mn("",sn.required),endTime:new mn("",sn.required),room:new mn("",sn.required)}),console.log(this.loadForm.value.units),this.loadService.fetchFacultyLoad(this.activeAcademicYear.startYear,this.activeAcademicYear.semester,this.currentChairperson.fullName,this.activeFaculty.fullName),this.loadSubs=this.loadService.facultyLoadChange.subscribe(o=>{this.loads=o,this.dataSource.data=this.loads,this.loadService.changeCurrentFacultyLoad(this.loads)}),this.activeFaculty&&(this.availableDays.forEach(o=>{o.conflict="conflict"}),this.availableDays.forEach(o=>{this.activeFaculty.facultySchedule.forEach(s=>{o.day==s.day&&(o.conflict="noConflict")})})),this.roomLoadSubs=this.loadService.sameRoomLoadChange.subscribe(o=>{this.roomLoad=o,this.roomStartTime=this.loadForm.value.startTime,this.roomEndTime=this.loadForm.value.endTime;let s=0,a=0,d=0,f=0;this.roomLoad.forEach(v=>{let w=[{time:"7:00 AM",isFilled:"no"},{time:"7:30 AM",isFilled:"no"},{time:"8:00 AM",isFilled:"no"},{time:"8:30 AM",isFilled:"no"},{time:"9:00 AM",isFilled:"no"},{time:"9:30 AM",isFilled:"no"},{time:"10:00 AM",isFilled:"no"},{time:"10:30 AM",isFilled:"no"},{time:"11:00 AM",isFilled:"no"},{time:"11:30 AM",isFilled:"no"},{time:"12:00 PM",isFilled:"no"},{time:"12:30 PM",isFilled:"no"},{time:"1:00 PM",isFilled:"no"},{time:"1:30 PM",isFilled:"no"},{time:"2:00 PM",isFilled:"no"},{time:"2:30 PM",isFilled:"no"},{time:"3:00 PM",isFilled:"no"},{time:"3:30 PM",isFilled:"no"},{time:"4:00 PM",isFilled:"no"},{time:"4:30 PM",isFilled:"no"},{time:"5:00 PM",isFilled:"no"},{time:"5:30 PM",isFilled:"no"},{time:"6:00 PM",isFilled:"no"},{time:"6:30 PM",isFilled:"no"},{time:"7:00 PM",isFilled:"no"},{time:"7:30 PM",isFilled:"no"},{time:"8:00 PM",isFilled:"no"},{time:"8:30 PM",isFilled:"no"}];for(let x=0;x<w.length;x++)v.startTime==w[x].time&&(w[x+1].isFilled="yes",s=d+1),v.endTime==w[x].time&&(w[x-1].isFilled="yes",a=f-1),d+=1,f+=1;d=0,f=0;for(let x=s;x<a;x++)w[x].isFilled="yes";console.log(v),w.forEach(x=>{v.subjectCode==this.loadForm.value.subjectCode&&v.section==this.loadForm.value.section||(x.time==this.roomStartTime||x.time==this.roomEndTime?"yes"==x.isFilled&&(console.log(w),console.log(x),this.toastr.error("Your chosen Room: "+v.room+" ("+v.day+") for "+this.loadForm.value.section+" with the time: "+this.loadForm.value.startTime+" - "+this.loadForm.value.endTime+" has a conflict with "+(v.department==this.currentChairperson.department?"your own schedule for ":v.chairperson+"'s schedule for ")+v.section+" with the time: "+v.startTime+" - "+v.endTime,"",{disableTimeOut:!0,positionClass:"toast-bottom-left"})):(v.startTime==this.loadForm.value.startTime||v.endTime==this.loadForm.value.endtime)&&this.toastr.error("Your chosen Room: "+v.room+" ("+v.day+") for "+this.loadForm.value.section+" with the time: "+this.loadForm.value.startTime+" - "+this.loadForm.value.endTime+" has a conflict with "+(v.department==this.currentChairperson.department?"your own schedule for ":v.chairperson+"'s schedule for ")+v.section+" with the time: "+v.startTime+" - "+v.endTime,"",{disableTimeOut:!0,positionClass:"toast-bottom-left"}))})})})}onRoomLoadChange(e){this.roomLoad=[],this.loadService.checkRoomLoadConflict(e.value.roomName,this.activeAcademicYear.semester,this.activeAcademicYear.startYear,this.loadForm.value.day)}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}onChangeHours(e){if(this.startTimeDisabled=""==this.loadForm.value.noHour,this.loadForm.value.startTime){let i=this.loadForm.value.noHour;for(let o=0;o<this.times.length;o++)this.loadForm.value.startTime==this.times[o]&&this.loadForm.patchValue({endTime:this.times[o+2*i]})}}onChipClicked(e){this.subjectCodes.push(this.filteredCurriculums[e].code),this.subjectDescriptions.push(this.filteredCurriculums[e].subjectTitle),this.loadForm.patchValue({subjectCode:this.filteredCurriculums[e].code,subjectDescription:this.filteredCurriculums[e].subjectTitle,units:this.filteredCurriculums[e].units}),this.searchInput.nativeElement.value="",this.onSearching=!1}onAddLoadMode(){this.onAddMode=!0,this.onEditMode=!1}doFilter(e){""==e?this.onSearching=!1:(this.filteredCurriculums=[],this.filteredCurriculums=this.curriculums.filter(i=>{let o=e.toLowerCase();return i.subjectTitle.toLowerCase().includes(o)}),this.filteredCurriculums.length>3&&(this.filteredCurriculums=this.filteredCurriculums.slice(0,2)),this.onSearching=!0)}onClear(){this.loadForm.reset(),this.onEditMode=!1,this.onAddMode=!1}onStartTimeChange(e){this.loadForm.value.room&&this.loadService.checkRoomLoadConflict(this.loadForm.value.room.roomName,this.activeAcademicYear.semester,this.activeAcademicYear.startYear,this.loadForm.value.day);let i=this.loadForm.value.noHour;for(let o=0;o<this.times.length;o++)e.value==this.times[o]&&this.loadForm.patchValue({endTime:this.times[o+2*i]});this.availableTimes.forEach(o=>{o.time==e.value&&"conflict"==o.conflict&&this.toastr.error("Conflict Detected! Your chosen time: "+e.value.toUpperCase()+" is not listed in "+this.activeFaculty.fullName+"'s time schedule","",{disableTimeOut:!0,positionClass:"toast-bottom-left"})})}onCodeChange(e){this.filteredCurriculums=[];let i=e.value;this.departmentCurriculums.forEach(o=>{o.code==i&&this.loadForm.patchValue({subjectDescription:o.subjectTitle,units:o.units})})}onSubjectChange(e){this.filteredCurriculums=[];let i=e.value;this.departmentCurriculums.forEach(o=>{o.subjectTitle==i&&this.loadForm.patchValue({subjectCode:o.code,units:o.units})})}onDayChanged(e){let i;this.loadForm.value.room&&this.loadService.checkRoomLoadConflict(this.loadForm.value.room.roomName,this.activeAcademicYear.semester,this.activeAcademicYear.startYear,this.loadForm.value.day),console.log(e.value),this.availableDays.forEach(a=>{a.day==e.value&&"conflict"==a.conflict&&this.toastr.error("Conflict Detected! Your chosen day: "+e.value.toUpperCase()+" is not listed in "+this.activeFaculty.fullName+"'s day schedule","",{disableTimeOut:!0,positionClass:"toast-bottom-left"})}),this.availableTimes.forEach(a=>{a.conflict="conflict"}),this.activeFaculty.facultySchedule.forEach(a=>{if(this.loadForm.value.day==a.day){i=a,console.log(i);let d=0,f=!1,v=0,w=!1,x=0;this.availableTimes.forEach(S=>{i.startTime.charAt(0)==S.time.charAt(0)&&i.startTime.charAt(1)==S.time.charAt(1)&&i.startTime.charAt(5)==S.time.charAt(5)&&0==f&&(v=d,console.log("START TIME: "+S.time),f=!0),d++}),d=0,this.availableTimes.forEach(S=>{i.endTime.charAt(0)==S.time.charAt(0)&&i.endTime.charAt(1)==S.time.charAt(1)&&i.endTime.charAt(5)==S.time.charAt(5)&&0==w&&(x=d,console.log("END TIME: "+S.time),w=!0),d++}),console.log(v),console.log(x);for(let S=v;S<=x;S++)this.availableTimes[S].conflict="noConflict";console.log(this.availableTimes)}})}onDeleteLoad(e){this.loads.length>1?(this.loadService.onRemoveLoad(e),this.onEditMode=!1,this.onAddMode=!1):this.uiService.showErrorToast("You should have atleast 1 load!","Error")}onEditLoad(e,i){if(this.onEditMode=!0,this.onAddMode=!1,this.isAllowedToEdit){this.currentLoad=e;const o=this.rooms.find(f=>JSON.stringify(f.roomName)===JSON.stringify(e.room));let s;console.log(e),this.loadForm.patchValue({subjectCode:e.subjectCode}),this.loadForm.patchValue({subjectDescription:e.subjectDescription}),this.loadForm.patchValue({units:e.units}),this.loadForm.patchValue({noHour:e.noHour}),this.loadForm.patchValue({section:e.section}),this.loadForm.patchValue({day:e.day}),this.loadForm.patchValue({startTime:e.startTime}),this.loadForm.patchValue({endTime:e.endTime}),this.loadForm.patchValue({room:o}),this.activeFaculty&&(this.availableDays.forEach(f=>{f.conflict="conflict"}),this.availableDays.forEach(f=>{this.activeFaculty.facultySchedule.forEach(v=>{f.day==v.day&&(f.conflict="noConflict")})})),this.availableTimes.forEach(f=>{f.conflict="conflict"}),this.activeFaculty&&this.loadForm.value.day&&this.activeFaculty.facultySchedule.forEach(f=>{if(this.loadForm.value.day==f.day){s=f,console.log(s);let v=0,w=!1,x=0,S=!1,E=0;this.availableTimes.forEach(q=>{s.startTime.charAt(0)==q.time.charAt(0)&&s.startTime.charAt(1)==q.time.charAt(1)&&s.startTime.charAt(5)==q.time.charAt(5)&&0==w&&(x=v,console.log("START TIME: "+q.time),w=!0),v++}),v=0,this.availableTimes.forEach(q=>{s.endTime.charAt(0)==q.time.charAt(0)&&s.endTime.charAt(1)==q.time.charAt(1)&&s.endTime.charAt(5)==q.time.charAt(5)&&0==S&&(E=v,console.log("END TIME: "+q.time),S=!0),v++}),console.log(x),console.log(E);for(let q=x;q<=E;q++)this.availableTimes[q].conflict="noConflict";console.log(this.availableTimes)}}),i.scrollIntoView({behavior:"smooth"})}else this.uiService.showWarningToast("You are not allowed to edit yet, contact the administrator to ask permission.","Warning")}onSplit(e){console.log(e),this.loadService.updateLoadToDatabase({facultyName:e.facultyName,facultyId:e.facultyId,department:e.department,chairperson:e.chairperson,semester:e.semester,schoolYear:e.schoolYear,subjectCode:e.subjectCode,subjectDescription:e.subjectDescription,units:e.units,noHour:(+e.noHour/2).toString(),section:e.section,day:"",startTime:"",endTime:"",room:""},e.id),this.loadService.addLoad({facultyName:e.facultyName,facultyId:e.facultyId,department:e.department,chairperson:e.chairperson,semester:e.semester,schoolYear:e.schoolYear,subjectCode:e.subjectCode,subjectDescription:e.subjectDescription,units:e.units,noHour:(+e.noHour/2).toString(),section:e.section,day:"",startTime:"",endTime:"",room:""})}onSubmit(){this.onAddMode?(this.loadService.addLoad({facultyName:this.activeFaculty.fullName,facultyId:this.activeFaculty.id,department:this.currentChairperson.department,chairperson:this.currentChairperson.fullName,semester:this.activeAcademicYear.semester,schoolYear:this.activeAcademicYear.startYear,subjectCode:this.loadForm.value.subjectCode,subjectDescription:this.loadForm.value.subjectDescription,units:this.loadForm.value.units,noHour:this.loadForm.value.noHour,section:this.loadForm.value.section,day:this.loadForm.value.day,startTime:this.loadForm.value.startTime,endTime:this.loadForm.value.endTime,room:this.loadForm.value.room.roomName}),this.loadForm.reset(),this.onEditMode=!1,this.onAddMode=!1):""!=this.currentLoad.id?(this.loadService.updateLoadToDatabase({facultyName:this.activeFaculty.fullName,facultyId:this.activeFaculty.id,department:this.currentLoad.department,chairperson:this.currentLoad.chairperson,semester:this.currentLoad.semester,schoolYear:this.currentLoad.schoolYear,subjectCode:this.loadForm.value.subjectCode,subjectDescription:this.loadForm.value.subjectDescription,units:this.loadForm.value.units,noHour:this.loadForm.value.noHour,section:this.loadForm.value.section,day:this.loadForm.value.day,startTime:this.loadForm.value.startTime,endTime:this.loadForm.value.endTime,room:this.loadForm.value.room.roomName},this.currentLoad.id),this.loadForm.reset(),this.onEditMode=!1,this.onAddMode=!1):this.uiService.showErrorToast("Cannot Add new Load, please select a load to Edit!","Error")}clearError(){this.toastr.clear()}ngOnDestroy(){this.curriculumSubs.unsubscribe(),this.sectionSubs.unsubscribe(),this.roomsSubs.unsubscribe(),this.facultySubs.unsubscribe(),this.loadSubs.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(K6),r.Y36(PC),r.Y36(bg),r.Y36(VC),r.Y36(oh),r.Y36(Ko),r.Y36(jC),r.Y36(Dz),r.Y36(Yc))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-load-editor"]],viewQuery:function(e,i){if(1&e&&(r.Gf(Xb,5),r.Gf(aE,5),r.Gf(Nfe,5)),2&e){let o;r.iGM(o=r.CRH())&&(i.sort=o.first),r.iGM(o=r.CRH())&&(i.paginator=o.first),r.iGM(o=r.CRH())&&(i.searchInput=o.first)}},inputs:{activeFaculty:"activeFaculty"},decls:61,vars:11,consts:[["fxLayout","column","fxLayoutGap","20px",1,"main-div"],[3,"formGroup","ngSubmit"],["target",""],["style","margin-bottom: -10px;",4,"ngIf"],["fxLayoutAlign","end center","fxLayoutGap","15px","fxFlex","100%",1,"actions-div"],["mat-raised-button","","color","primary","type","button",3,"disabled","click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["mat-stroked-button","","color","warn","type","button",3,"disabled","click"],[4,"ngIf"],["class","forms-div",4,"ngIf"],[1,"table-div"],["matSort","",2,"width","100%",3,"dataSource"],["matColumnDef","subjectCode"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","subjectDescription"],["matColumnDef","units"],["matColumnDef","noHour"],["matColumnDef","section"],["matColumnDef","facultyName"],["matColumnDef","day"],["matColumnDef","startTime"],["matColumnDef","endTime"],["matColumnDef","room"],["matColumnDef","actions"],[4,"matHeaderCellDef"],["color","primary","style","background-color: var(--primary)",4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["style","height: 100%;","fxLayoutAlign","center center","fxLayout","column",4,"ngIf"],["fxLayoutAlign","center center"],["mat-raised-button","",2,"margin-top","10px","background-color","rgb(223, 35, 35)","color","white",3,"click"],[2,"margin-bottom","-10px"],["matSuffix",""],["matInput","","type","text","autocomplete","off",3,"keyup"],["search",""],["color","primary","selected","",3,"click",4,"ngFor","ngForOf"],["color","primary","selected","",3,"click"],[1,"forms-div"],["fxLayout","row","fxLayoutGap","15px"],["fxFlex","30%"],["formControlName","subjectCode",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["fxFlex","50%"],["formControlName","subjectDescription",3,"selectionChange"],["fxFlex","20%"],["type","text","matInput","","formControlName","units"],["fxFlex","25%"],["type","text","matInput","","formControlName","noHour","maxlength","1",3,"ngModelChange"],["fxFlex","45%"],["formControlName","section"],["formControlName","day",3,"selectionChange"],[3,"value","ngClass",4,"ngFor","ngForOf"],["formControlName","startTime",3,"selectionChange"],["formControlName","endTime","disabled",""],["fxFlex","40%"],["formControlName","room",3,"selectionChange"],[3,"value"],[3,"value","ngClass"],["mat-sort-header",""],[1,"actions",3,"click"],["class","actions",3,"click",4,"ngIf"],["color","primary",2,"background-color","var(--primary)"],["fxLayoutAlign","center center","fxLayout","column",2,"height","100%"],["src","../../../assets/load-image.png",1,"load-img"],[1,"choose-text"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0)(1,"form",1,2),r.NdJ("ngSubmit",function(){return i.onSubmit()}),r.TgZ(3,"div"),r.YNc(4,Rfe,5,0,"mat-form-field",3),r.TgZ(5,"div",4)(6,"button",5),r.NdJ("click",function(){return i.onAddLoadMode()}),r.TgZ(7,"mat-icon"),r._uU(8,"add"),r.qZA(),r._uU(9,"Add Load "),r.qZA(),r.TgZ(10,"button",6)(11,"mat-icon"),r._uU(12,"add"),r.qZA(),r._uU(13,"Save Load "),r.qZA(),r.TgZ(14,"button",7),r.NdJ("click",function(){return i.onClear()}),r.TgZ(15,"mat-icon"),r._uU(16,"clear"),r.qZA(),r._uU(17,"Clear "),r.qZA()()(),r.YNc(18,Bfe,3,1,"div",8),r.YNc(19,Yfe,51,7,"div",9),r.qZA(),r.TgZ(20,"div",10)(21,"mat-table",11),r.ynx(22,12),r.YNc(23,zfe,2,0,"mat-header-cell",13),r.YNc(24,Wfe,2,1,"mat-cell",14),r.BQk(),r.ynx(25,15),r.YNc(26,$fe,2,0,"mat-header-cell",13),r.YNc(27,Qfe,2,1,"mat-cell",14),r.BQk(),r.ynx(28,16),r.YNc(29,Jfe,2,0,"mat-header-cell",13),r.YNc(30,Kfe,3,3,"mat-cell",14),r.BQk(),r.ynx(31,17),r.YNc(32,Xfe,2,0,"mat-header-cell",13),r.YNc(33,epe,2,1,"mat-cell",14),r.BQk(),r.ynx(34,18),r.YNc(35,tpe,2,0,"mat-header-cell",13),r.YNc(36,npe,2,1,"mat-cell",14),r.BQk(),r.ynx(37,19),r.YNc(38,ipe,2,0,"mat-header-cell",13),r.YNc(39,rpe,2,1,"mat-cell",14),r.BQk(),r.ynx(40,20),r.YNc(41,ope,2,0,"mat-header-cell",13),r.YNc(42,spe,2,1,"mat-cell",14),r.BQk(),r.ynx(43,21),r.YNc(44,ape,2,0,"mat-header-cell",13),r.YNc(45,lpe,2,1,"mat-cell",14),r.BQk(),r.ynx(46,22),r.YNc(47,cpe,2,0,"mat-header-cell",13),r.YNc(48,upe,2,1,"mat-cell",14),r.BQk(),r.ynx(49,23),r.YNc(50,dpe,2,0,"mat-header-cell",13),r.YNc(51,hpe,2,1,"mat-cell",14),r.BQk(),r.ynx(52,24),r.YNc(53,fpe,2,0,"mat-header-cell",25),r.YNc(54,mpe,6,1,"mat-cell",14),r.BQk(),r.YNc(55,gpe,1,0,"mat-header-row",26),r.YNc(56,_pe,1,0,"mat-row",27),r.qZA(),r.YNc(57,vpe,4,0,"div",28),r.qZA(),r.TgZ(58,"div",29)(59,"button",30),r.NdJ("click",function(){return i.clearError()}),r._uU(60,"Clear All Conflict"),r.qZA()()()),2&e&&(r.xp6(1),r.Q6J("formGroup",i.loadForm),r.xp6(3),r.Q6J("ngIf",i.onEditMode||i.onAddMode),r.xp6(2),r.Q6J("disabled",i.onEditMode),r.xp6(4),r.Q6J("disabled",i.loadForm.invalid),r.xp6(4),r.Q6J("disabled",!i.onEditMode&&!i.onAddMode),r.xp6(4),r.Q6J("ngIf",i.onSearching),r.xp6(1),r.Q6J("ngIf",i.onEditMode||i.onAddMode),r.xp6(2),r.Q6J("dataSource",i.dataSource),r.xp6(34),r.Q6J("matHeaderRowDef",i.displayedColumns),r.xp6(1),r.Q6J("matRowDefColumns",i.displayedColumns),r.xp6(1),r.Q6J("ngIf",0==i.loads.length))},directives:[zr,$s,qd,Ud,ya,Sn,$d,Wf,G2,Ay,uo,Yd,Uo,d4,qn,TE,id,$_,Gc,Zc,ug,_i,Xw,eg,xr,W_,uE,Xb,cA,lA,uA,YO,aA,dA,dE,fE,hE,pE],pipes:[Yo,Ma],styles:[".button-toggle[_ngcontent-%COMP%]{background-color:var(--light);margin-left:10px;padding:1px;height:30px;align-items:center}mat-button-toggle[_ngcontent-%COMP%]{font-family:var(--mont);transition:all ease-in-out .1s}mat-button-toggle[_ngcontent-%COMP%]:active{background-color:var(--primary)!important;color:#fff}.mat-button-toggle-checked[_ngcontent-%COMP%]{background-color:var(--primary)!important;color:#fff}.main-div[_ngcontent-%COMP%]{padding:35px;height:77vh;overflow-y:scroll;-ms-overflow-style:none;scrollbar-width:none}.main-div[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.forms-div[_ngcontent-%COMP%]{background-color:#ffffffc5;padding:10px;border:.5px solid var(--light);border-radius:5px;margin-top:20px}.table-div[_ngcontent-%COMP%]{margin-top:15px}mat-header-cell[_ngcontent-%COMP%]{color:#fff;font-family:var(--incon);text-transform:uppercase;font-size:10px}mat-cell[_ngcontent-%COMP%]{font-size:11px}.actions[_ngcontent-%COMP%]{font-size:20px;cursor:pointer}.actions[_ngcontent-%COMP%]:hover{color:var(--primary)}mat-cell[_ngcontent-%COMP%], mat-header-cell[_ngcontent-%COMP%]{text-align:center;justify-content:center}.no-conflict[_ngcontent-%COMP%]{background-color:#adffb87c!important}.choose-text[_ngcontent-%COMP%]{font-size:15px;font-family:var(--mont);color:var(--primary)}.load-img[_ngcontent-%COMP%]{width:50%;height:auto;opacity:50%;-webkit-user-select:none;user-select:none}"]}),t})();const bpe=["content"];function wpe(t,n){if(1&t&&(r.TgZ(0,"p",28),r._uU(1),r.ALo(2,"uppercase"),r.qZA()),2&t){const e=r.oxw(2);r.xp6(1),r.hij("FACULTY: ",r.lcZ(2,1,null==e.currentFacultyLoad[0]?null:e.currentFacultyLoad[0].facultyName),"")}}function Cpe(t,n){1&t&&(r.TgZ(0,"p",28),r._uU(1,"FACULTY"),r.qZA())}function xpe(t,n){if(1&t&&(r.TgZ(0,"p",29),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.xp6(1),r.Oqu(e)}}function Tpe(t,n){if(1&t&&(r.TgZ(0,"p",30),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.Q6J("ngClass","-"==e?"on-schedule":"@"==e?"on-overlap":"\xa0"==e?"":"on-schedule"),r.xp6(1),r.Oqu("-"==e||"@"==e?"\xa0\xa0":e)}}function Ape(t,n){if(1&t&&(r.TgZ(0,"p",30),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.Q6J("ngClass","-"==e?"on-schedule":"@"==e?"on-overlap":"\xa0"==e?"":"on-schedule"),r.xp6(1),r.Oqu("-"==e||"@"==e?"\xa0\xa0":e)}}function Spe(t,n){if(1&t&&(r.TgZ(0,"p",30),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.Q6J("ngClass","-"==e?"on-schedule":"@"==e?"on-overlap":"\xa0"==e?"":"on-schedule"),r.xp6(1),r.Oqu("-"==e||"@"==e?"\xa0\xa0":e)}}function Dpe(t,n){if(1&t&&(r.TgZ(0,"p",30),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.Q6J("ngClass","-"==e?"on-schedule":"@"==e?"on-overlap":"\xa0"==e?"":"on-schedule"),r.xp6(1),r.Oqu("-"==e||"@"==e?"\xa0\xa0":e)}}function Epe(t,n){if(1&t&&(r.TgZ(0,"p",30),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.Q6J("ngClass","-"==e?"on-schedule":"@"==e?"on-overlap":"\xa0"==e?"":"on-schedule"),r.xp6(1),r.Oqu("-"==e||"@"==e?"\xa0\xa0":e)}}function Mpe(t,n){if(1&t&&(r.TgZ(0,"p",30),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.Q6J("ngClass","-"==e?"on-schedule":"@"==e?"on-overlap":"\xa0"==e?"":"on-schedule"),r.xp6(1),r.Oqu("-"==e||"@"==e?"\xa0\xa0":e)}}function kpe(t,n){if(1&t&&(r.TgZ(0,"p",30),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.Q6J("ngClass","-"==e?"on-schedule":"@"==e?"on-overlap":"\xa0"==e?"":"on-schedule"),r.xp6(1),r.Oqu("-"==e||"@"==e?"\xa0\xa0":e)}}function Ipe(t,n){if(1&t&&(r.TgZ(0,"div",13)(1,"div",14)(2,"div"),r.YNc(3,wpe,3,3,"p",15),r.qZA()(),r.TgZ(4,"div",14)(5,"div"),r.YNc(6,Cpe,2,0,"p",15),r.qZA()(),r._UZ(7,"div",16),r.TgZ(8,"div",17)(9,"div",14)(10,"div")(11,"p",18),r._uU(12,"TIME"),r.qZA(),r.YNc(13,xpe,2,1,"p",19),r.qZA()(),r.TgZ(14,"div",20)(15,"div")(16,"p",18),r._uU(17,"MONDAY"),r.qZA(),r.YNc(18,Tpe,2,2,"p",21),r.qZA()(),r.TgZ(19,"div",22)(20,"div")(21,"p",18),r._uU(22,"TUESDAY"),r.qZA(),r.YNc(23,Ape,2,2,"p",21),r.qZA()(),r.TgZ(24,"div",23)(25,"div")(26,"p",18),r._uU(27,"WEDNESDAY"),r.qZA(),r.YNc(28,Spe,2,2,"p",21),r.qZA()(),r.TgZ(29,"div",24)(30,"div")(31,"p",18),r._uU(32,"THURSDAY"),r.qZA(),r.YNc(33,Dpe,2,2,"p",21),r.qZA()(),r.TgZ(34,"div",25)(35,"div")(36,"p",18),r._uU(37,"FRIDAY"),r.qZA(),r.YNc(38,Epe,2,2,"p",21),r.qZA()(),r.TgZ(39,"div",26)(40,"div")(41,"p",18),r._uU(42,"SATURDAY"),r.qZA(),r.YNc(43,Mpe,2,2,"p",21),r.qZA()(),r.TgZ(44,"div",27)(45,"div")(46,"p",18),r._uU(47,"SUNDAY"),r.qZA(),r.YNc(48,kpe,2,2,"p",21),r.qZA()()()()),2&t){const e=r.oxw();r.xp6(3),r.Q6J("ngIf",e.currentFacultyLoad[0]),r.xp6(3),r.Q6J("ngIf",!e.currentFacultyLoad[0]),r.xp6(7),r.Q6J("ngForOf",e.times),r.xp6(5),r.Q6J("ngForOf",e.monday),r.xp6(5),r.Q6J("ngForOf",e.tuesday),r.xp6(5),r.Q6J("ngForOf",e.wednesday),r.xp6(5),r.Q6J("ngForOf",e.thursday),r.xp6(5),r.Q6J("ngForOf",e.friday),r.xp6(5),r.Q6J("ngForOf",e.saturday),r.xp6(5),r.Q6J("ngForOf",e.sunday)}}function Ope(t,n){if(1&t&&(r.TgZ(0,"p",28),r._uU(1),r.ALo(2,"uppercase"),r.qZA()),2&t){const e=r.oxw(2);r.xp6(1),r.hij("FACULTY: ",r.lcZ(2,1,null==e.currentFacultyLoad[0]?null:e.currentFacultyLoad[0].facultyName),"")}}function Lpe(t,n){1&t&&(r.TgZ(0,"p",28),r._uU(1,"FACULTY"),r.qZA())}function Fpe(t,n){if(1&t&&(r.TgZ(0,"div",44)(1,"div",33)(2,"p",45),r._uU(3),r.qZA()(),r.TgZ(4,"div",35)(5,"p",45),r._uU(6),r.ALo(7,"uppercase"),r.qZA()(),r.TgZ(8,"div",36)(9,"p",45),r._uU(10),r.ALo(11,"uppercase"),r.qZA()(),r.TgZ(12,"div",37)(13,"p",45),r._uU(14),r.ALo(15,"uppercase"),r.qZA()(),r.TgZ(16,"div",37)(17,"p",45),r._uU(18),r.ALo(19,"uppercase"),r.qZA()(),r.TgZ(20,"div",35)(21,"p",45),r._uU(22),r.ALo(23,"uppercase"),r.qZA()(),r.TgZ(24,"div",35)(25,"p",45),r._uU(26),r.ALo(27,"uppercase"),r.qZA()(),r.TgZ(28,"div",38)(29,"p",45),r._uU(30),r.qZA()(),r.TgZ(31,"div",35)(32,"p",45),r._uU(33),r.ALo(34,"uppercase"),r.qZA()()()),2&t){const e=n.$implicit,i=n.index;r.xp6(3),r.Oqu(i+1),r.xp6(3),r.Oqu(r.lcZ(7,9,e.subjectCode)),r.xp6(4),r.Oqu(r.lcZ(11,11,e.subjectDescription)),r.xp6(4),r.Oqu(r.lcZ(15,13,e.units)),r.xp6(4),r.Oqu(r.lcZ(19,15,e.noHour)),r.xp6(4),r.Oqu(r.lcZ(23,17,e.section)),r.xp6(4),r.Oqu(r.lcZ(27,19,e.day.substring(0,3))),r.xp6(4),r.Oqu(e.startTime.substring(0,e.startTime.length-3)+" - "+e.endTime),r.xp6(3),r.Oqu(r.lcZ(34,21,e.room))}}function Npe(t,n){if(1&t&&(r.TgZ(0,"div",31)(1,"div",14)(2,"div"),r.YNc(3,Ope,3,3,"p",15),r.qZA()(),r.TgZ(4,"div",14)(5,"div"),r.YNc(6,Lpe,2,0,"p",15),r.qZA()(),r.TgZ(7,"div",32)(8,"div",33)(9,"p",34),r._uU(10,"No."),r.qZA()(),r.TgZ(11,"div",35)(12,"p",34),r._uU(13,"Code"),r.qZA()(),r.TgZ(14,"div",36)(15,"p",34),r._uU(16,"Subject"),r.qZA()(),r.TgZ(17,"div",37)(18,"p",34),r._uU(19,"Units"),r.qZA()(),r.TgZ(20,"div",37)(21,"p",34),r._uU(22,"Hours"),r.qZA()(),r.TgZ(23,"div",35)(24,"p",34),r._uU(25,"Section"),r.qZA()(),r.TgZ(26,"div",35)(27,"p",34),r._uU(28,"Day"),r.qZA()(),r.TgZ(29,"div",38)(30,"p",34),r._uU(31,"Time"),r.qZA()(),r.TgZ(32,"div",35)(33,"p",34),r._uU(34,"Room"),r.qZA()()(),r.YNc(35,Fpe,35,23,"div",39),r.TgZ(36,"div",40)(37,"div",33),r._UZ(38,"p",41),r.qZA(),r.TgZ(39,"div",35),r._UZ(40,"p",41),r.qZA(),r.TgZ(41,"div",36)(42,"p",42),r._uU(43,"Total"),r.qZA()(),r.TgZ(44,"div",37)(45,"p",43),r._uU(46),r.qZA()(),r.TgZ(47,"div",37)(48,"p",43),r._uU(49),r.qZA()(),r.TgZ(50,"div",35),r._UZ(51,"p",41),r.qZA(),r.TgZ(52,"div",35),r._UZ(53,"p",41),r.qZA(),r.TgZ(54,"div",38),r._UZ(55,"p",41),r.qZA(),r.TgZ(56,"div",35),r._UZ(57,"p",41),r.qZA()()()),2&t){const e=r.oxw();r.xp6(3),r.Q6J("ngIf",e.currentFacultyLoad[0]),r.xp6(3),r.Q6J("ngIf",!e.currentFacultyLoad[0]),r.xp6(29),r.Q6J("ngForOf",e.allLoads),r.xp6(11),r.Oqu(e.totalUnits),r.xp6(3),r.Oqu(e.totalHours)}}let Rpe=(()=>{class t{constructor(e,i,o){this.uiService=e,this.loadService=i,this.toastr=o,this.view="Faculty Schedule Timeline",this.currentFacultyLoad=[],this.times=["7:00 - 7:30 AM","7:30 - 8:00 AM","8:00 - 8:30 AM","8:30 - 9:00 AM","9:00 - 9:30 AM","9:30 - 10:00 AM","10:00 - 10:30 AM","10:30 - 11:00 AM","11:00 - 11:30 AM","11:30 - 12:00 PM","12:00 - 12:30 PM","12:30 - 1:00 PM","1:00 - 1:30 PM","1:30 - 2:00 PM","2:00 - 2:30 PM","2:30 - 3:00 PM","3:00 - 3:30 PM","3:30 - 4:00 PM","4:00 - 4:30 PM","4:30 - 5:00 PM","5:00 - 5:30 PM","5:30 - 6:00 PM","6:00 - 6:30 PM","6:30 - 7:00 PM","7:00 - 7:30 PM","7:30 - 8:00 PM","8:00 - 8:30 PM"],this.mondayLoad=[],this.tuesdayLoad=[],this.wednesdayLoad=[],this.thursdayLoad=[],this.fridayLoad=[],this.saturdayLoad=[],this.sundayLoad=[],this.allLoads=[],this.monday=[],this.tuesday=[],this.wednesday=[],this.thursday=[],this.friday=[],this.saturday=[],this.sunday=[],this.totalHours=0,this.totalUnits=0}ngOnInit(){this.fillDayArrays(),this.facultySubs=this.loadService.currentFacultyLoadChange.subscribe(e=>{this.totalHours=0,this.totalUnits=0,this.fillDayArrays(),this.currentFacultyLoad=e,this.getDays(e),this.checkMondayLoads(),this.checkTuesdayLoads(),this.checkWednesdayLoads(),this.checkThursdayLoads(),this.checkFridayLoads(),this.checkSaturdayLoads(),this.checkSundayLoads()})}checkMondayLoads(){const e=i=>new Date("1970/01/01 "+i);this.mondayLoad.sort((i,o)=>e(i.startTime)-e(o.startTime)),this.mondayLoad.forEach(i=>{let o=0,s=0,a=0,d=0,f=0,v="",w="";"7:00 AM"==i.startTime&&(v=i.subjectCode,o=d),this.times.forEach(S=>{S.includes(i.startTime)&&(v=i.subjectCode,o=d+1),S.includes(i.endTime)&&(w=i.section,s=f),d++,f++});let x=0;if(s-o!=1){a=s-o,x=Math.floor(a/2),this.monday[o+x]=v,this.monday[s-x]=w;for(let S=0;S<x;S++)this.monday[o]="-"==this.monday[o]||"@"==this.monday[s]?"@":"-",o++;for(let S=0;S<x;S++)"-"==this.monday[s]||"@"==this.monday[s]?this.monday[o]="@":this.monday[s]="-",s--}else this.monday[o]=v,this.monday[s]=w;x=0,o=0,s=0,a=0,d=0,f=0})}checkTuesdayLoads(){const e=i=>new Date("1970/01/01 "+i);this.thursdayLoad.sort((i,o)=>e(i.startTime)-e(o.startTime)),this.tuesdayLoad.forEach(i=>{let o=0,s=0,a=0,d=0,f=0,v="",w="";"7:00 AM"==i.startTime&&(v=i.subjectCode,o=d),this.times.forEach(S=>{S.includes(i.startTime)&&(v=i.subjectCode,o=d+1),S.includes(i.endTime)&&(w=i.section,s=f),d++,f++});let x=0;if(s-o!=1){a=s-o,x=Math.floor(a/2),this.tuesday[o+x]=v,this.tuesday[s-x]=w;for(let S=0;S<x;S++)this.tuesday[o]="-"==this.tuesday[o]||"@"==this.tuesday[s]?"@":"-",o++;for(let S=0;S<x;S++)"-"==this.tuesday[s]||"@"==this.tuesday[s]?this.tuesday[o]="@":this.tuesday[s]="-",s--}else this.tuesday[o]=v,this.tuesday[s]=w;x=0,o=0,s=0,a=0,d=0,f=0})}checkWednesdayLoads(){const e=i=>new Date("1970/01/01 "+i);this.wednesdayLoad.sort((i,o)=>e(i.startTime)-e(o.startTime)),this.wednesdayLoad.forEach(i=>{let o=0,s=0,a=0,d=0,f=0,v="",w="";"7:00 AM"==i.startTime&&(v=i.subjectCode,o=d),this.times.forEach(S=>{S.includes(i.startTime)&&(v=i.subjectCode,o=d+1),S.includes(i.endTime)&&(w=i.section,s=f),d++,f++});let x=0;if(s-o!=1){a=s-o,x=Math.floor(a/2),this.wednesday[o+x]=v,this.wednesday[s-x]=w;for(let S=0;S<x;S++)this.wednesday[o]="-"==this.wednesday[o]||"@"==this.wednesday[s]?"@":"-",o++;for(let S=0;S<x;S++)"-"==this.wednesday[s]||"@"==this.wednesday[s]?this.wednesday[o]="@":this.wednesday[s]="-",s--}else this.wednesday[o]=v,this.wednesday[s]=w;x=0,o=0,s=0,a=0,d=0,f=0})}checkThursdayLoads(){const e=i=>new Date("1970/01/01 "+i);this.thursdayLoad.sort((i,o)=>e(i.startTime)-e(o.startTime)),this.thursdayLoad.forEach(i=>{let o=0,s=0,a=0,d=0,f=0,v="",w="";"7:00 AM"==i.startTime&&(v=i.subjectCode,o=d),this.times.forEach(S=>{S.includes(i.startTime)&&(v=i.subjectCode,o=d+1),S.includes(i.endTime)&&(w=i.section,s=f),d++,f++});let x=0;if(s-o!=1){a=s-o,x=Math.floor(a/2),this.thursday[o+x]=v,this.thursday[s-x]=w;for(let S=0;S<x;S++)this.thursday[o]="-"==this.thursday[o]||"@"==this.thursday[s]?"@":"-",o++;for(let S=0;S<x;S++)"-"==this.thursday[s]||"@"==this.thursday[s]?this.thursday[o]="@":this.thursday[s]="-",s--}else this.thursday[o]=v,this.thursday[s]=w;x=0,o=0,s=0,a=0,d=0,f=0})}checkFridayLoads(){const e=i=>new Date("1970/01/01 "+i);this.fridayLoad.sort((i,o)=>e(i.startTime)-e(o.startTime)),this.fridayLoad.forEach(i=>{let o=0,s=0,a=0,d=0,f=0,v="",w="";"7:00 AM"==i.startTime&&(v=i.subjectCode,o=d),this.times.forEach(S=>{S.includes(i.startTime)&&(v=i.subjectCode,o=d+1),S.includes(i.endTime)&&(w=i.section,s=f),d++,f++});let x=0;if(s-o!=1){a=s-o,x=Math.floor(a/2),this.friday[o+x]=v,this.friday[s-x]=w;for(let S=0;S<x;S++)this.friday[o]="-"==this.friday[o]||"@"==this.friday[s]?"@":"-",o++;for(let S=0;S<x;S++)"-"==this.friday[s]||"@"==this.friday[s]?this.friday[o]="@":this.friday[s]="-",s--}else this.friday[o]=v,this.friday[s]=w;x=0,o=0,s=0,a=0,d=0,f=0})}checkSaturdayLoads(){const e=i=>new Date("1970/01/01 "+i);this.saturdayLoad.sort((i,o)=>e(i.startTime)-e(o.startTime)),this.saturdayLoad.forEach(i=>{let o=0,s=0,a=0,d=0,f=0,v="",w="";"7:00 AM"==i.startTime&&(v=i.subjectCode,o=d),this.times.forEach(S=>{S.includes(i.startTime)&&(v=i.subjectCode,o=d+1),S.includes(i.endTime)&&(w=i.section,s=f),d++,f++});let x=0;if(s-o!=1){a=s-o,x=Math.floor(a/2),this.saturday[o+x]=v,this.saturday[s-x]=w;for(let S=0;S<x;S++)this.saturday[o]="-"==this.saturday[o]||"@"==this.saturday[s]?"@":"-",o++;for(let S=0;S<x;S++)"-"==this.saturday[s]||"@"==this.saturday[s]?this.saturday[o]="@":this.saturday[s]="-",s--}else this.saturday[o]=v,this.saturday[s]=w;x=0,o=0,s=0,a=0,d=0,f=0})}checkSundayLoads(){const e=i=>new Date("1970/01/01 "+i);this.sundayLoad.sort((i,o)=>e(i.startTime)-e(o.startTime)),this.sundayLoad.forEach(i=>{let o=0,s=0,a=0,d=0,f=0,v="",w="";"7:00 AM"==i.startTime&&(v=i.subjectCode,o=d),this.times.forEach(S=>{S.includes(i.startTime)&&(v=i.subjectCode,o=d+1),S.includes(i.endTime)&&(w=i.section,s=f),d++,f++});let x=0;if(s-o!=1){a=s-o,x=Math.floor(a/2),this.sunday[o+x]=v,this.sunday[s-x]=w;for(let S=0;S<x;S++)this.sunday[o]="-"==this.sunday[o]||"@"==this.sunday[s]?"@":"-",o++;for(let S=0;S<x;S++)"-"==this.sunday[s]||"@"==this.sunday[s]?this.sunday[o]="@":this.sunday[s]="-",s--}else this.sunday[o]=v,this.sunday[s]=w;x=0,o=0,s=0,a=0,d=0,f=0})}getDays(e){this.allLoads=[],this.mondayLoad=e.filter(o=>"monday"==o.day),this.tuesdayLoad=e.filter(o=>"tuesday"==o.day),this.wednesdayLoad=e.filter(o=>"wednesday"==o.day),this.thursdayLoad=e.filter(o=>"thursday"==o.day),this.fridayLoad=e.filter(o=>"friday"==o.day),this.saturdayLoad=e.filter(o=>"saturday"==o.day),this.sundayLoad=e.filter(o=>"sunday"==o.day),this.mondayLoad.forEach(o=>{this.allLoads.push(o)}),this.tuesdayLoad.forEach(o=>{this.allLoads.push(o)}),this.wednesdayLoad.forEach(o=>{this.allLoads.push(o)}),this.thursdayLoad.forEach(o=>{this.allLoads.push(o)}),this.fridayLoad.forEach(o=>{this.allLoads.push(o)}),this.saturdayLoad.forEach(o=>{this.allLoads.push(o)}),this.sundayLoad.forEach(o=>{this.allLoads.push(o)}),this.allLoads.forEach(o=>{this.totalHours+=+o.noHour}),this.allLoads.filter((o,s)=>this.allLoads.findIndex(a=>a.subjectCode==o.subjectCode&&a.section==o.section)==s).forEach(o=>{this.totalUnits+=+o.units,this.totalUnits>20&&this.toastr.error("The Total Units for "+this.activeFaculty.fullName+" Exceeded 20!","",{disableTimeOut:!0,positionClass:"toast-bottom-left"})})}fillDayArrays(){let e=0;this.times.forEach(i=>{this.monday[e]="\xa0",e++}),e=0,this.times.forEach(i=>{this.tuesday[e]="\xa0",e++}),e=0,this.times.forEach(i=>{this.wednesday[e]="\xa0",e++}),e=0,this.times.forEach(i=>{this.thursday[e]="\xa0",e++}),e=0,this.times.forEach(i=>{this.friday[e]="\xa0",e++}),e=0,this.times.forEach(i=>{this.saturday[e]="\xa0",e++}),e=0,this.times.forEach(i=>{this.sunday[e]="\xa0",e++}),e=0}filter(e){this.view=e}exportToPDF(){const e=this.content.nativeElement;new xE("p","mm",[850,850]).html(e,{callback:o=>{try{o.save(`${this.currentFacultyLoad[0].section}.pdf`)}catch(s){this.uiService.showErrorToast("Please choose a section first!","Error")}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Ko),r.Y36(bg),r.Y36(Yc))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-load-view"]],viewQuery:function(e,i){if(1&e&&r.Gf(bpe,7),2&e){let o;r.iGM(o=r.CRH())&&(i.content=o.first)}},inputs:{activeFaculty:"activeFaculty"},decls:19,vars:2,consts:[[1,"main-div"],["fxLayout","row","fxLayoutAlign","start center"],[1,"view-text"],["color","primary","fxLayoutAlign","end center",1,"button-toggle"],["group","matButtonToggleGroup"],["value","Faculty Schedule Timeline",3,"click"],["value","Faculty Schedule Load",3,"click"],["fxLayoutAlign","end center","fxLayout","row",2,"margin-bottom","-30px"],["mat-raised-button","",1,"export-btn",3,"click"],[1,"sub-div",2,"margin-right","10px"],["content",""],["class","timeline","fxLayout","column","style","margin-left: 15px;",4,"ngIf"],["fxLayout","column","style","margin-left: 15px; margin-top: 15px;",4,"ngIf"],["fxLayout","column",1,"timeline",2,"margin-left","15px"],["fxFlex","16%",1,"time"],["class"," section",4,"ngIf"],["fxFlex","84%"],["fxLayout","row",1,"table"],[1,"table-item","header"],["class","table-item",4,"ngFor","ngForOf"],["fxFlex","12%",1,"monday"],["class","table-item",3,"ngClass",4,"ngFor","ngForOf"],["fxFlex","12%",1,"tuesday"],["fxFlex","12%",1,"wednesday"],["fxFlex","12%",1,"thursday"],["fxFlex","12%",1,"friday"],["fxFlex","12%",1,"saturday"],["fxFlex","12%",1,"sunday"],[1,"section"],[1,"table-item"],[1,"table-item",3,"ngClass"],["fxLayout","column",2,"margin-left","15px","margin-top","15px"],["fxLayout","row",1,"load-headers",2,"width","100%"],["fxFlex","5.11%"],[1,"load-header",2,"background-color","rgb(189, 189, 189)"],["fxFlex","11.11%"],["fxFlex","25.11%"],["fxFlex","6.11%"],["fxFlex","13.11%"],["class","load-texts","fxLayout","row","fxLayoutAlign","center","style","width: 99.7%;",4,"ngFor","ngForOf"],["fxLayout","row",1,"total-texts",2,"width","99.7%"],["fxFill",""],["fxFill","",1,"total-text",2,"background-color","rgb(189, 189, 189)"],["fxFill","",1,"total-text"],["fxLayout","row","fxLayoutAlign","center",1,"load-texts",2,"width","99.7%"],["fxFill","",1,"load-text"]],template:function(e,i){if(1&e){const o=r.EpF();r.TgZ(0,"div",0)(1,"div",1)(2,"p",2),r._uU(3,"View as:"),r.qZA(),r.TgZ(4,"mat-button-toggle-group",3,4)(6,"mat-button-toggle",5),r.NdJ("click",function(){r.CHM(o);const a=r.MAs(5);return i.filter(a.value)}),r._uU(7,"Faculty Schedule Timeline"),r.qZA(),r.TgZ(8,"mat-button-toggle",6),r.NdJ("click",function(){r.CHM(o);const a=r.MAs(5);return i.filter(a.value)}),r._uU(9,"Faculty Schedule Load"),r.qZA()()(),r.TgZ(10,"div",7)(11,"button",8),r.NdJ("click",function(){return i.exportToPDF()}),r.TgZ(12,"mat-icon"),r._uU(13,"ios_share"),r.qZA(),r._uU(14," Export as pdf "),r.qZA()(),r.TgZ(15,"div",9,10),r.YNc(17,Ipe,49,10,"div",11),r.YNc(18,Npe,58,5,"div",12),r.qZA()()}2&e&&(r.xp6(17),r.Q6J("ngIf","Faculty Schedule Timeline"==i.view),r.xp6(1),r.Q6J("ngIf","Faculty Schedule Load"==i.view))},directives:[zr,uo,BC,UC,Uo,Wf,Sn,Yd,qn,xr,W_,F_],pipes:[Yo],styles:["[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--light);border-radius:20px;-webkit-transition:all ease-in-out 1s;transition:all ease-in-out 1s}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--primary)}.main-div[_ngcontent-%COMP%]{height:77vh;-ms-overflow-style:none;scrollbar-width:none;overflow-y:scroll}.main-div[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.button-toggle[_ngcontent-%COMP%]{padding:13px;height:25px}mat-button-toggle[_ngcontent-%COMP%]{font-family:var(--mont);font-size:13px!important}mat-button-toggle[_ngcontent-%COMP%]:hover{background-color:var(--primary)!important;color:#fff}.mat-button-toggle-checked[_ngcontent-%COMP%]{background-color:var(--primary)!important;color:#fff}.mat-button-toggle-group[_ngcontent-%COMP%]{border:0px!important}.view-text[_ngcontent-%COMP%]{font-family:var(--mont);margin-top:12px}.export-btn[_ngcontent-%COMP%]{background-color:#d4d4d4;margin-right:15px}.timeline[_ngcontent-%COMP%]{margin-top:15px}.table-item[_ngcontent-%COMP%]{border:1px solid black;text-align:center;margin:0;font-size:11px}.header[_ngcontent-%COMP%]{font-size:12px;font-weight:700;letter-spacing:.1em}.on-schedule[_ngcontent-%COMP%]{background-color:#dbdbdb}.on-overlap[_ngcontent-%COMP%]{background-color:#ff9a9a}.section[_ngcontent-%COMP%]{font-weight:700;font-family:var(--incon)}.load-headers[_ngcontent-%COMP%]{text-align:center;margin:0;padding:0}.load-header[_ngcontent-%COMP%]{border:1px solid black;font-weight:700;letter-spacing:.1em;font-size:12px;margin:0;padding:0}.load-texts[_ngcontent-%COMP%]{text-align:center;margin:0;padding:0}.load-text[_ngcontent-%COMP%]{border:1px solid black;letter-spacing:.1em;margin:0;padding:0;font-size:11px}.total-texts[_ngcontent-%COMP%]{text-align:center}.total-text[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.1em;font-size:12px;border:1px solid black}"]}),t})();function Ppe(t,n){if(1&t&&(r.TgZ(0,"div"),r._UZ(1,"app-load-editor",8),r.qZA()),2&t){const e=r.oxw();r.xp6(1),r.Q6J("activeFaculty",e.activeFaculty)}}function Bpe(t,n){if(1&t&&(r.TgZ(0,"div"),r._UZ(1,"app-load-view",8),r.qZA()),2&t){const e=r.oxw();r.xp6(1),r.Q6J("activeFaculty",e.activeFaculty)}}let Upe=(()=>{class t{constructor(e,i){this.route=e,this.facultyService=i,this.activeFacultyId=""}ngOnInit(){this.activeFacultyId=this.route.snapshot.params.id,this.facultyService.fetchActiveFaculty(this.activeFacultyId),this.facultySubs=this.facultyService.activeFacultyChanged.subscribe(e=>{this.activeFaculty=e})}ngOnDestroy(){this.facultySubs.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(du),r.Y36(jC))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-load-main"]],decls:12,vars:2,consts:[[1,"main-div"],["fxLayout","row","fxLayoutAlign","space-between",1,"sub-div"],["fxLayout","row","routerLink","/sidenav/facultyload",1,"arrow-back"],[1,"back-text"],[1,"editor-div"],[4,"ngIf"],[1,"division"],[1,"view-div"],[3,"activeFaculty"]],template:function(e,i){1&e&&(r.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"mat-icon"),r._uU(4,"arrow_back"),r.qZA(),r.TgZ(5,"p",3),r._uU(6,"Back"),r.qZA()(),r.TgZ(7,"div",4),r.YNc(8,Ppe,2,1,"div",5),r.qZA(),r._UZ(9,"div",6),r.TgZ(10,"div",7),r.YNc(11,Bpe,2,1,"div",5),r.qZA()()()),2&e&&(r.xp6(8),r.Q6J("ngIf",i.activeFaculty),r.xp6(3),r.Q6J("ngIf",i.activeFaculty))},directives:[zr,uo,jc,Wf,Sn,ype,Rpe],styles:[".main-div[_ngcontent-%COMP%]{width:100%;height:92%;overflow:hidden}.sub-div[_ngcontent-%COMP%]{margin:32px;width:95%;height:93%;background-color:#fff;overflow:hidden;padding:50px 0;position:relative}.division[_ngcontent-%COMP%]{width:1px;height:100%;background-color:#42424259}.arrow-back[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;cursor:pointer}.back-text[_ngcontent-%COMP%]{margin:2px 0 0 5px;font-family:var(--mont)}.back-text[_ngcontent-%COMP%]:hover{color:var(--primary)}.editor-div[_ngcontent-%COMP%], .view-div[_ngcontent-%COMP%]{width:50%;height:100%;padding:20px}"]}),t})(),jpe=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-history"]],decls:28,vars:0,consts:[["fxLayout","column","fxLayoutAlign","center center",1,"main-div"],["fxLayout","column",1,"sub-div"],["fxLayout","row","fxLayoutAlign","space-between",1,"header-div"],[1,"header-text"],[1,"acad-select"],["value",""],[1,"content-div"]],template:function(e,i){1&e&&(r.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div")(4,"p",3),r._uU(5,"History"),r.qZA()(),r.TgZ(6,"div")(7,"mat-form-field",4)(8,"mat-label"),r._uU(9,"School Year"),r.qZA(),r.TgZ(10,"mat-select")(11,"mat-option",5),r._uU(12,"2021-2022"),r.qZA(),r.TgZ(13,"mat-option",5),r._uU(14,"2022-2023"),r.qZA(),r.TgZ(15,"mat-option",5),r._uU(16,"2023-2024"),r.qZA()()(),r.TgZ(17,"mat-form-field",4)(18,"mat-label"),r._uU(19,"Semester"),r.qZA(),r.TgZ(20,"mat-select")(21,"mat-option",5),r._uU(22,"First Semester"),r.qZA(),r.TgZ(23,"mat-option",5),r._uU(24,"Second Semester"),r.qZA(),r.TgZ(25,"mat-option",5),r._uU(26,"Mid Year"),r.qZA()()()()(),r._UZ(27,"div",6),r.qZA()())},directives:[zr,uo,$d,id,$_,ug],styles:[".main-div[_ngcontent-%COMP%]{width:100%;height:92%;overflow:hidden}.sub-div[_ngcontent-%COMP%]{margin:30px;width:95%;height:93%;background-color:#fff;overflow:hidden;background-image:url(faculty-bg.e3bf018c05aabf28.png);background-repeat:no-repeat;background-size:100% 100%}.header-div[_ngcontent-%COMP%]{width:100%;height:20vh}.header-text[_ngcontent-%COMP%]{font-family:var(--incon);color:var(--primary);font-size:30px;margin-top:5vh;margin-left:4vh}.acad-text[_ngcontent-%COMP%]{margin-top:5vh;margin-right:4vh;color:var(--primary);font-size:20px;text-decoration:underline;cursor:pointer}.content-div[_ngcontent-%COMP%]{width:100%;height:65vh}.acad-select[_ngcontent-%COMP%]{margin-top:5vh;margin-right:3vh}"]}),t})(),Lz=(()=>{class t{constructor(e,i,o){this.passedData=e,this.rsService=i,this.uiService=o,this.configType="add",this.roomName="",this.nameInvalid=!1,this.rooms=[]}ngOnInit(){this.rsService.fetchRooms(),this.roomsSubs=this.rsService.roomsChanged.subscribe(e=>{this.rooms=e}),this.passedData.room&&(this.roomName=this.passedData.room.roomName),this.configType=this.passedData.configType}onSubmit(){this.checkError(),this.nameInvalid?this.uiService.showErrorToast("Cannot add/edit already existing room!","Error"):("add"==this.configType?this.rsService.addRoomToDatabase({roomName:this.roomName.toUpperCase()}):this.rsService.updateRoomToDatabase({roomName:this.roomName},this.passedData.room.id),this.nameInvalid=!1)}checkError(){this.rooms.forEach(e=>{e.roomName==this.roomName.toUpperCase()&&(this.nameInvalid=!0)})}ngOnDestroy(){this.roomsSubs.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36($p),r.Y36(PC),r.Y36(Ko))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-room-config"]],decls:16,vars:6,consts:[[1,"main-div"],["fxLayoutAlign","center center",1,"header-img"],[1,"header-text"],["fxLayout","column","fxLayoutAlign","center center",1,"content-div"],[2,"width","100%"],["type","text","matInput","","placeholder","Ex. Comlab 2",3,"ngModel","ngModelChange"],["fxLayoutAlign","center center","fxLayoutGap","10px"],["mat-raised-button","","color","primary",1,"button",3,"mat-dialog-close","disabled","click"],["mat-stroked-button","","color","primary",1,"button",3,"mat-dialog-close"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0)(1,"div",1)(2,"p",2),r._uU(3),r.qZA()(),r.TgZ(4,"div",3)(5,"mat-form-field",4)(6,"mat-label"),r._uU(7,"Room Name"),r.qZA(),r.TgZ(8,"input",5),r.NdJ("ngModelChange",function(s){return i.roomName=s}),r.qZA(),r.TgZ(9,"mat-error"),r._uU(10,"Invalid or missing input."),r.qZA()(),r.TgZ(11,"div",6)(12,"button",7),r.NdJ("click",function(){return i.onSubmit()}),r._uU(13),r.qZA(),r.TgZ(14,"button",8),r._uU(15," Cancel "),r.qZA()()()()),2&e&&(r.xp6(3),r.hij(" ","add"==i.configType?"Add Room":"Edit Room"," "),r.xp6(5),r.Q6J("ngModel",i.roomName),r.xp6(4),r.Q6J("mat-dialog-close",!1)("disabled",i.nameInvalid||0==i.roomName.length),r.xp6(1),r.hij(" ","add"==i.configType?"Add":"Save"," "),r.xp6(1),r.Q6J("mat-dialog-close",!1))},directives:[uo,zr,$d,id,Ay,_i,Gc,Jm,Xw,$s,Uo,Ey],styles:[".main-div[_ngcontent-%COMP%]{width:40vh;background-color:#fff}.header-img[_ngcontent-%COMP%]{height:15vh;background-color:#173979;background-image:url(plv-bldg.4fbc4d1673861873.png)}.content-div[_ngcontent-%COMP%]{width:100%;padding:30px 35px}.button[_ngcontent-%COMP%]{width:100px}.header-text[_ngcontent-%COMP%]{margin-top:10px;color:#fff;font-family:var(--mont)}"]}),t})(),Fz=(()=>{class t{constructor(e,i,o){this.passedData=e,this.rsService=i,this.uiService=o,this.configType="add",this.sectionName="",this.sectionInvalid=!1,this.sections=[]}ngOnInit(){this.configType=this.passedData.configType,this.rsService.fetchSections(),this.sectionsSubs=this.rsService.sectionsChanged.subscribe(e=>{this.sections=e}),this.sectionForm=new Il("add"==this.configType?{course:new mn("",sn.required),year:new mn("",{validators:[sn.required,sn.pattern(/^[0-9]*$/),sn.maxLength(1)]}),section:new mn("",{validators:[sn.required,sn.pattern(/^[0-9]*$/),sn.maxLength(1)]})}:{course:new mn(this.passedData.section.course,sn.required),year:new mn(this.passedData.section.year,{validators:[sn.required,sn.pattern(/^[0-9]*$/),sn.maxLength(1)]}),section:new mn(this.passedData.section.section,{validators:[sn.required,sn.pattern(/^[0-9]*$/),sn.maxLength(1)]})})}onSubmit(){this.checkError(),this.sectionInvalid?this.uiService.showErrorToast("Cannot add/edit already existing section!","Error"):("add"==this.configType?this.rsService.addSectionToDatabase({course:this.sectionForm.value.course,year:this.sectionForm.value.year,section:this.sectionForm.value.section}):this.rsService.updateSectionToDatabase({course:this.sectionForm.value.course,year:this.sectionForm.value.year,section:this.sectionForm.value.section},this.passedData.section.id),this.sectionInvalid=!1)}checkError(){let e=[],i=this.sectionForm.value.course+this.sectionForm.value.year+this.sectionForm.value.section;this.sections.forEach(o=>{e.push(o.course+o.year+o.section)}),e.forEach(o=>{o==i&&(this.sectionInvalid=!0)})}ngOnDestroy(){this.sectionsSubs.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36($p),r.Y36(PC),r.Y36(Ko))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-section-config"]],decls:34,vars:6,consts:[[1,"main-div"],["fxLayoutAlign","center center",1,"header-img"],[1,"header-text"],[3,"formGroup","ngSubmit"],["fxLayout","column","fxLayoutAlign","center center","fxLayoutGap","10px",1,"content-div"],[2,"width","100%"],["formControlName","course"],["value","Information Technology"],["value","Civil Engineering"],["value","Electrical Engineering"],["fxLayout","row","fxLayoutAlign","space-between center",2,"width","100%"],[2,"width","48%"],["type","text","matInput","","placeholder","Ex. 1","formControlName","year"],["type","text","matInput","","placeholder","Ex. 1","formControlName","section"],["fxLayoutAlign","center center","fxLayoutGap","10px"],["mat-raised-button","","color","primary","type","submit",1,"button",3,"mat-dialog-close","disabled"],["mat-stroked-button","","color","primary","type","button",1,"button",3,"mat-dialog-close"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0)(1,"div",1)(2,"p",2),r._uU(3),r.qZA()(),r.TgZ(4,"form",3),r.NdJ("ngSubmit",function(){return i.onSubmit()}),r.TgZ(5,"div",4)(6,"mat-form-field",5)(7,"mat-label"),r._uU(8,"Course"),r.qZA(),r.TgZ(9,"mat-select",6)(10,"mat-option",7),r._uU(11,"Information Technology"),r.qZA(),r.TgZ(12,"mat-option",8),r._uU(13,"Civil Engineering"),r.qZA(),r.TgZ(14,"mat-option",9),r._uU(15,"Electrical Engineering"),r.qZA()()(),r.TgZ(16,"div",10)(17,"mat-form-field",11)(18,"mat-label"),r._uU(19,"Year"),r.qZA(),r._UZ(20,"input",12),r.TgZ(21,"mat-error"),r._uU(22,"please input 1 number."),r.qZA()(),r.TgZ(23,"mat-form-field",11)(24,"mat-label"),r._uU(25,"Section"),r.qZA(),r._UZ(26,"input",13),r.TgZ(27,"mat-error"),r._uU(28,"please input 1 number."),r.qZA()()(),r.TgZ(29,"div",14)(30,"button",15),r._uU(31),r.qZA(),r.TgZ(32,"button",16),r._uU(33," Cancel "),r.qZA()()()()()),2&e&&(r.xp6(3),r.hij(" ","add"==i.configType?"Add Section":"Edit Section"," "),r.xp6(1),r.Q6J("formGroup",i.sectionForm),r.xp6(26),r.Q6J("mat-dialog-close",!1)("disabled",i.sectionForm.invalid),r.xp6(1),r.hij(" ","add"==i.configType?"Add":"Save"," "),r.xp6(1),r.Q6J("mat-dialog-close",!1))},directives:[uo,qd,Ud,ya,zr,$s,$d,id,$_,Gc,Zc,ug,Ay,_i,Xw,Uo,Ey],styles:[".main-div[_ngcontent-%COMP%]{width:40vh;background-color:#fff}.header-img[_ngcontent-%COMP%]{height:15vh;background-color:#173979;background-image:url(plv-bldg.4fbc4d1673861873.png)}.content-div[_ngcontent-%COMP%]{width:100%;padding:30px 35px}.button[_ngcontent-%COMP%]{width:100px}.header-text[_ngcontent-%COMP%]{margin-top:10px;color:#fff;font-family:var(--mont)}"]}),t})();function Vpe(t,n){1&t&&r.Hsn(0)}const Nz=["*"];function qpe(t,n){}const Hpe=function(t){return{animationDuration:t}},Gpe=function(t,n){return{value:t,params:n}},Zpe=["tabListContainer"],Ype=["tabList"],zpe=["tabListInner"],Wpe=["nextPaginator"],$pe=["previousPaginator"],Qpe=["tabBodyWrapper"],Jpe=["tabHeader"];function Kpe(t,n){}function Xpe(t,n){if(1&t&&r.YNc(0,Kpe,0,0,"ng-template",10),2&t){const e=r.oxw().$implicit;r.Q6J("cdkPortalOutlet",e.templateLabel)}}function eme(t,n){if(1&t&&r._uU(0),2&t){const e=r.oxw().$implicit;r.Oqu(e.textLabel)}}function tme(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"div",6),r.NdJ("click",function(){const o=r.CHM(e),s=o.$implicit,a=o.index,d=r.oxw(),f=r.MAs(1);return d._handleClick(s,f,a)})("cdkFocusChange",function(o){const a=r.CHM(e).index;return r.oxw()._tabFocusChanged(o,a)}),r.TgZ(1,"div",7),r.YNc(2,Xpe,1,1,"ng-template",8),r.YNc(3,eme,1,1,"ng-template",null,9,r.W1O),r.qZA()()}if(2&t){const e=n.$implicit,i=n.index,o=r.MAs(4),s=r.oxw();r.ekj("mat-tab-label-active",s.selectedIndex===i),r.Q6J("id",s._getTabLabelId(i))("ngClass",e.labelClass)("disabled",e.disabled)("matRippleDisabled",e.disabled||s.disableRipple),r.uIk("tabIndex",s._getTabIndex(e,i))("aria-posinset",i+1)("aria-setsize",s._tabs.length)("aria-controls",s._getTabContentId(i))("aria-selected",s.selectedIndex===i)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),r.xp6(2),r.Q6J("ngIf",e.templateLabel)("ngIfElse",o)}}function nme(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"mat-tab-body",11),r.NdJ("_onCentered",function(){return r.CHM(e),r.oxw()._removeTabBodyWrapperHeight()})("_onCentering",function(o){return r.CHM(e),r.oxw()._setTabBodyWrapperHeight(o)}),r.qZA()}if(2&t){const e=n.$implicit,i=n.index,o=r.oxw();r.ekj("mat-tab-body-active",o.selectedIndex===i),r.Q6J("id",o._getTabContentId(i))("ngClass",e.bodyClass)("content",e.content)("position",e.position)("origin",e.origin)("animationDuration",o.animationDuration),r.uIk("tabindex",null!=o.contentTabIndex&&o.selectedIndex===i?o.contentTabIndex:null)("aria-labelledby",o._getTabLabelId(i))}}const ime=new r.OlP("MatInkBarPositioner",{providedIn:"root",factory:function rme(){return n=>({left:n?(n.offsetLeft||0)+"px":"0",width:n?(n.offsetWidth||0)+"px":"0"})}});let Rz=(()=>{class t{constructor(e,i,o,s){this._elementRef=e,this._ngZone=i,this._inkBarPositioner=o,this._animationMode=s}alignToElement(e){this.show(),this._ngZone.onStable.pipe((0,Er.q)(1)).subscribe(()=>{const i=this._inkBarPositioner(e),o=this._elementRef.nativeElement;o.style.left=i.left,o.style.width=i.width})}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.R0b),r.Y36(ime),r.Y36(O,8))},t.\u0275dir=r.lG2({type:t,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(e,i){2&e&&r.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)}}),t})();const ome=new r.OlP("MatTabContent"),sme=new r.OlP("MatTabLabel"),ame=new r.OlP("MAT_TAB"),lme=td(class{}),Pz=new r.OlP("MAT_TAB_GROUP");let h4=(()=>{class t extends lme{constructor(e,i){super(),this._viewContainerRef=e,this._closestTabGroup=i,this.textLabel="",this._contentPortal=null,this._stateChanges=new Ht.x,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}get content(){return this._contentPortal}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new dT(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(Pz,8))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-tab"]],contentQueries:function(e,i,o){if(1&e&&(r.Suo(o,sme,5),r.Suo(o,ome,7,r.Rgc)),2&e){let s;r.iGM(s=r.CRH())&&(i.templateLabel=s.first),r.iGM(s=r.CRH())&&(i._explicitContent=s.first)}},viewQuery:function(e,i){if(1&e&&r.Gf(r.Rgc,7),2&e){let o;r.iGM(o=r.CRH())&&(i._implicitContent=o.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],features:[r._Bn([{provide:ame,useExisting:t}]),r.qOj,r.TTD],ngContentSelectors:Nz,decls:1,vars:0,template:function(e,i){1&e&&(r.F$t(),r.YNc(0,Vpe,1,0,"ng-template"))},encapsulation:2}),t})();const cme={translateTab:zs("translateTab",[Mr("center, void, left-origin-center, right-origin-center",Qt({transform:"none"})),Mr("left",Qt({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),Mr("right",Qt({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),pr("* => left, * => right, left => center, right => center",Ar("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),pr("void => left-origin-center",[Qt({transform:"translate3d(-100%, 0, 0)"}),Ar("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),pr("void => right-origin-center",[Qt({transform:"translate3d(100%, 0, 0)"}),Ar("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let ume=(()=>{class t extends Dy{constructor(e,i,o,s){super(e,i,s),this._host=o,this._centeringSub=Di.w0.EMPTY,this._leavingSub=Di.w0.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Ir(this._host._isCenterPosition(this._host._position))).subscribe(e=>{e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r._Vd),r.Y36(r.s_b),r.Y36((0,r.Gpc)(()=>Bz)),r.Y36(et))},t.\u0275dir=r.lG2({type:t,selectors:[["","matTabBodyHost",""]],features:[r.qOj]}),t})(),dme=(()=>{class t{constructor(e,i,o){this._elementRef=e,this._dir=i,this._dirChangeSubscription=Di.w0.EMPTY,this._translateTabComplete=new Ht.x,this._onCentering=new r.vpe,this._beforeCentering=new r.vpe,this._afterLeavingCenter=new r.vpe,this._onCentered=new r.vpe(!0),this.animationDuration="500ms",i&&(this._dirChangeSubscription=i.change.subscribe(s=>{this._computePositionAnimationState(s),o.markForCheck()})),this._translateTabComplete.pipe(P_((s,a)=>s.fromState===a.fromState&&s.toState===a.toState)).subscribe(s=>{this._isCenterPosition(s.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(s.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(e){this._positionIndex=e,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){const i=this._isCenterPosition(e.toState);this._beforeCentering.emit(i),i&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(e){return"center"==e||"left-origin-center"==e||"right-origin-center"==e}_computePositionAnimationState(e=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==e?"left":"right":this._positionIndex>0?"ltr"==e?"right":"left":"center"}_computePositionFromOrigin(e){const i=this._getLayoutDirection();return"ltr"==i&&e<=0||"rtl"==i&&e>0?"left-origin-center":"right-origin-center"}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(Us,8),r.Y36(r.sBO))},t.\u0275dir=r.lG2({type:t,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),t})(),Bz=(()=>{class t extends dme{constructor(e,i,o){super(e,i,o)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(Us,8),r.Y36(r.sBO))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-tab-body"]],viewQuery:function(e,i){if(1&e&&r.Gf(Dy,5),2&e){let o;r.iGM(o=r.CRH())&&(i._portalHost=o.first)}},hostAttrs:[1,"mat-tab-body"],features:[r.qOj],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(e,i){1&e&&(r.TgZ(0,"div",0,1),r.NdJ("@translateTab.start",function(s){return i._onTranslateTabStarted(s)})("@translateTab.done",function(s){return i._translateTabComplete.next(s)}),r.YNc(2,qpe,0,0,"ng-template",2),r.qZA()),2&e&&r.Q6J("@translateTab",r.WLB(3,Gpe,i._position,r.VKq(1,Hpe,i.animationDuration)))},directives:[ume],styles:['.mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}.mat-tab-body-content[style*="visibility: hidden"]{display:none}\n'],encapsulation:2,data:{animation:[cme.translateTab]}}),t})();const Uz=new r.OlP("MAT_TABS_CONFIG"),hme=td(class{});let jz=(()=>{class t extends hme{constructor(e){super(),this.elementRef=e}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(e,i){2&e&&(r.uIk("aria-disabled",!!i.disabled),r.ekj("mat-tab-disabled",i.disabled))},inputs:{disabled:"disabled"},features:[r.qOj]}),t})();const Vz=N_({passive:!0});let mme=(()=>{class t{constructor(e,i,o,s,a,d,f){this._elementRef=e,this._changeDetectorRef=i,this._viewportRuler=o,this._dir=s,this._ngZone=a,this._platform=d,this._animationMode=f,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new Ht.x,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new Ht.x,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new r.vpe,this.indexFocused=new r.vpe,a.runOutsideAngular(()=>{Ty(e.nativeElement,"mouseleave").pipe(ai(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){e=ac(e),this._selectedIndex!=e&&(this._selectedIndexChanged=!0,this._selectedIndex=e,this._keyManager&&this._keyManager.updateActiveItem(e))}ngAfterViewInit(){Ty(this._previousPaginator.nativeElement,"touchstart",Vz).pipe(ai(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Ty(this._nextPaginator.nativeElement,"touchstart",Vz).pipe(ai(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const e=this._dir?this._dir.change:Dn("ltr"),i=this._viewportRuler.change(150),o=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new fb(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe((0,Er.q)(1)).subscribe(o),(0,co.T)(e,i,this._items.changes).pipe(ai(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>Promise.resolve().then(o)),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(ai(this._destroyed)).subscribe(s=>{this.indexFocused.emit(s),this._setTabFocus(s)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!lc(e))switch(e.keyCode){case 13:case 32:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e));break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){const e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){if(!this._items)return!0;const i=this._items?this._items.toArray()[e]:null;return!!i&&!i.disabled}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();const i=this._tabListContainer.nativeElement;i.scrollLeft="ltr"==this._getLayoutDirection()?0:i.scrollWidth-i.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const e=this.scrollDistance,i="ltr"===this._getLayoutDirection()?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(i)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){return this._scrollTo(this._scrollDistance+("before"==e?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;const i=this._items?this._items.toArray()[e]:null;if(!i)return;const o=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:s,offsetWidth:a}=i.elementRef.nativeElement;let d,f;"ltr"==this._getLayoutDirection()?(d=s,f=d+a):(f=this._tabListInner.nativeElement.offsetWidth-s,d=f-a);const v=this.scrollDistance,w=this.scrollDistance+o;d<v?this.scrollDistance-=v-d+60:f>w&&(this.scrollDistance+=f-w+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const e=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;e||(this.scrollDistance=0),e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=e}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,i=e?e.elementRef.nativeElement:null;i?this._inkBar.alignToElement(i):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,i){i&&null!=i.button&&0!==i.button||(this._stopInterval(),JN(650,100).pipe(ai((0,co.T)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:o,distance:s}=this._scrollHeader(e);(0===s||s>=o)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const i=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(i,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:i,distance:this._scrollDistance}}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(Sy),r.Y36(Us,8),r.Y36(r.R0b),r.Y36(ho),r.Y36(O,8))},t.\u0275dir=r.lG2({type:t,inputs:{disablePagination:"disablePagination"}}),t})(),gme=(()=>{class t extends mme{constructor(e,i,o,s,a,d,f){super(e,i,o,s,a,d,f),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Rn(e)}_itemSelected(e){e.preventDefault()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(Sy),r.Y36(Us,8),r.Y36(r.R0b),r.Y36(ho),r.Y36(O,8))},t.\u0275dir=r.lG2({type:t,inputs:{disableRipple:"disableRipple"},features:[r.qOj]}),t})(),_me=(()=>{class t extends gme{constructor(e,i,o,s,a,d,f){super(e,i,o,s,a,d,f)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(Sy),r.Y36(Us,8),r.Y36(r.R0b),r.Y36(ho),r.Y36(O,8))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-tab-header"]],contentQueries:function(e,i,o){if(1&e&&r.Suo(o,jz,4),2&e){let s;r.iGM(s=r.CRH())&&(i._items=s)}},viewQuery:function(e,i){if(1&e&&(r.Gf(Rz,7),r.Gf(Zpe,7),r.Gf(Ype,7),r.Gf(zpe,7),r.Gf(Wpe,5),r.Gf($pe,5)),2&e){let o;r.iGM(o=r.CRH())&&(i._inkBar=o.first),r.iGM(o=r.CRH())&&(i._tabListContainer=o.first),r.iGM(o=r.CRH())&&(i._tabList=o.first),r.iGM(o=r.CRH())&&(i._tabListInner=o.first),r.iGM(o=r.CRH())&&(i._nextPaginator=o.first),r.iGM(o=r.CRH())&&(i._previousPaginator=o.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(e,i){2&e&&r.ekj("mat-tab-header-pagination-controls-enabled",i._showPaginationControls)("mat-tab-header-rtl","rtl"==i._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[r.qOj],ngContentSelectors:Nz,decls:14,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(e,i){1&e&&(r.F$t(),r.TgZ(0,"button",0,1),r.NdJ("click",function(){return i._handlePaginatorClick("before")})("mousedown",function(s){return i._handlePaginatorPress("before",s)})("touchend",function(){return i._stopInterval()}),r._UZ(2,"div",2),r.qZA(),r.TgZ(3,"div",3,4),r.NdJ("keydown",function(s){return i._handleKeydown(s)}),r.TgZ(5,"div",5,6),r.NdJ("cdkObserveContent",function(){return i._onContentChanges()}),r.TgZ(7,"div",7,8),r.Hsn(9),r.qZA(),r._UZ(10,"mat-ink-bar"),r.qZA()(),r.TgZ(11,"button",9,10),r.NdJ("mousedown",function(s){return i._handlePaginatorPress("after",s)})("click",function(){return i._handlePaginatorClick("after")})("touchend",function(){return i._stopInterval()}),r._UZ(13,"div",2),r.qZA()),2&e&&(r.ekj("mat-tab-header-pagination-disabled",i._disableScrollBefore),r.Q6J("matRippleDisabled",i._disableScrollBefore||i.disableRipple)("disabled",i._disableScrollBefore||null),r.xp6(5),r.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode),r.xp6(6),r.ekj("mat-tab-header-pagination-disabled",i._disableScrollAfter),r.Q6J("matRippleDisabled",i._disableScrollAfter||i.disableRipple)("disabled",i._disableScrollAfter||null))},directives:[Wp,Lw,Rz],styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-tab-header-pagination::-moz-focus-inner{border:0}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n"],encapsulation:2}),t})(),vme=0;class yme{}const bme=jh(nd(class{constructor(t){this._elementRef=t}}),"primary");let wme=(()=>{class t extends bme{constructor(e,i,o,s){var a;super(e),this._changeDetectorRef=i,this._animationMode=s,this._tabs=new r.n_E,this._indexToSelect=0,this._tabBodyWrapperHeight=0,this._tabsSubscription=Di.w0.EMPTY,this._tabLabelSubscription=Di.w0.EMPTY,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new r.vpe,this.focusChange=new r.vpe,this.animationDone=new r.vpe,this.selectedTabChange=new r.vpe(!0),this._groupId=vme++,this.animationDuration=o&&o.animationDuration?o.animationDuration:"500ms",this.disablePagination=!(!o||null==o.disablePagination)&&o.disablePagination,this.dynamicHeight=!(!o||null==o.dynamicHeight)&&o.dynamicHeight,this.contentTabIndex=null!==(a=null==o?void 0:o.contentTabIndex)&&void 0!==a?a:null}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(e){this._dynamicHeight=Rn(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=ac(e,null)}get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e+"")?e+"ms":e}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=ac(e,null)}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){const i=this._elementRef.nativeElement;i.classList.remove(`mat-background-${this.backgroundColor}`),e&&i.classList.add(`mat-background-${e}`),this._backgroundColor=e}ngAfterContentChecked(){const e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){const i=null==this._selectedIndex;if(!i){this.selectedTabChange.emit(this._createChangeEvent(e));const o=this._tabBodyWrapper.nativeElement;o.style.minHeight=o.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((o,s)=>o.isActive=s===e),i||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((i,o)=>{i.position=o-e,null!=this._selectedIndex&&0==i.position&&!i.origin&&(i.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{if(this._clampTabIndex(this._indexToSelect)===this._selectedIndex){const i=this._tabs.toArray();for(let o=0;o<i.length;o++)if(i[o].isActive){this._indexToSelect=this._selectedIndex=o;break}}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Ir(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(i=>i._closestTabGroup===this||!i._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){const i=this._tabHeader;i&&(i.focusIndex=e)}_focusChanged(e){this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){const i=new yme;return i.index=e,this._tabs&&this._tabs.length&&(i.tab=this._tabs.toArray()[e]),i}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,co.T)(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`mat-tab-label-${this._groupId}-${e}`}_getTabContentId(e){return`mat-tab-content-${this._groupId}-${e}`}_setTabBodyWrapperHeight(e){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const i=this._tabBodyWrapper.nativeElement;i.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(i.style.height=e+"px")}_removeTabBodyWrapperHeight(){const e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,i,o){e.disabled||(this.selectedIndex=i.focusIndex=o)}_getTabIndex(e,i){return e.disabled?null:this.selectedIndex===i?0:-1}_tabFocusChanged(e,i){e&&"mouse"!==e&&"touch"!==e&&(this._tabHeader.focusIndex=i)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(Uz,8),r.Y36(O,8))},t.\u0275dir=r.lG2({type:t,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[r.qOj]}),t})(),Hz=(()=>{class t extends wme{constructor(e,i,o,s){super(e,i,o,s)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(Uz,8),r.Y36(O,8))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-tab-group"]],contentQueries:function(e,i,o){if(1&e&&r.Suo(o,h4,5),2&e){let s;r.iGM(s=r.CRH())&&(i._allTabs=s)}},viewQuery:function(e,i){if(1&e&&(r.Gf(Qpe,5),r.Gf(Jpe,5)),2&e){let o;r.iGM(o=r.CRH())&&(i._tabBodyWrapper=o.first),r.iGM(o=r.CRH())&&(i._tabHeader=o.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(e,i){2&e&&r.ekj("mat-tab-group-dynamic-height",i.dynamicHeight)("mat-tab-group-inverted-header","below"===i.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[r._Bn([{provide:Pz,useExisting:t}]),r.qOj],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","ngClass","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","ngClass","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","ngClass","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(e,i){1&e&&(r.TgZ(0,"mat-tab-header",0,1),r.NdJ("indexFocused",function(s){return i._focusChanged(s)})("selectFocusedIndex",function(s){return i.selectedIndex=s}),r.YNc(2,tme,5,15,"div",2),r.qZA(),r.TgZ(3,"div",3,4),r.YNc(5,nme,1,10,"mat-tab-body",5),r.qZA()),2&e&&(r.Q6J("selectedIndex",i.selectedIndex||0)("disableRipple",i.disableRipple)("disablePagination",i.disablePagination),r.xp6(2),r.Q6J("ngForOf",i._tabs),r.xp6(1),r.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode),r.xp6(2),r.Q6J("ngForOf",i._tabs))},directives:[_me,Bz,qn,jz,Wp,Vx,xr,Sn,Dy],styles:[".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),t})(),Gz=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[wo,ci,J2,Ab,lb,Gx],ci]}),t})();const Cme=["group"],xme=["sorter1"],Tme=["sorter2"],Ame=["paginator1"],Sme=["paginator2"];function Dme(t,n){1&t&&(r.TgZ(0,"mat-header-cell",25),r._uU(1,"Room Name"),r.qZA())}function Eme(t,n){if(1&t&&(r.TgZ(0,"mat-cell"),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.xp6(1),r.Oqu(e.roomName)}}function Mme(t,n){1&t&&(r.TgZ(0,"mat-header-cell"),r._uU(1," Actions "),r.qZA())}function kme(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"mat-cell")(1,"button",26),r.NdJ("click",function(){const s=r.CHM(e).$implicit;return r.oxw().onEditRoom(s)}),r.TgZ(2,"mat-icon"),r._uU(3,"edit"),r.qZA()(),r.TgZ(4,"button",26),r.NdJ("click",function(){const s=r.CHM(e).$implicit;return r.oxw().onRemoveRoom(s.id)}),r.TgZ(5,"mat-icon"),r._uU(6,"delete"),r.qZA()()()}}function Ime(t,n){1&t&&r._UZ(0,"mat-header-row",27)}function Ome(t,n){1&t&&r._UZ(0,"mat-row")}function Lme(t,n){1&t&&(r.TgZ(0,"mat-header-cell",25),r._uU(1,"Course"),r.qZA())}function Fme(t,n){if(1&t&&(r.TgZ(0,"mat-cell"),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.xp6(1),r.Oqu(e.course)}}function Nme(t,n){1&t&&(r.TgZ(0,"mat-header-cell",25),r._uU(1,"Year"),r.qZA())}function Rme(t,n){if(1&t&&(r.TgZ(0,"mat-cell"),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.xp6(1),r.Oqu(e.year)}}function Pme(t,n){1&t&&(r.TgZ(0,"mat-header-cell",25),r._uU(1,"Section"),r.qZA())}function Bme(t,n){if(1&t&&(r.TgZ(0,"mat-cell"),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.xp6(1),r.Oqu(e.section)}}function Ume(t,n){1&t&&(r.TgZ(0,"mat-header-cell"),r._uU(1," Actions "),r.qZA())}function jme(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"mat-cell")(1,"button",26),r.NdJ("click",function(){const s=r.CHM(e).$implicit;return r.oxw().onEditSection(s)}),r.TgZ(2,"mat-icon"),r._uU(3,"edit"),r.qZA()(),r.TgZ(4,"button",26),r.NdJ("click",function(){const s=r.CHM(e).$implicit;return r.oxw().onRemoveSection(s.id)}),r.TgZ(5,"mat-icon"),r._uU(6,"delete"),r.qZA()()()}}function Vme(t,n){1&t&&r._UZ(0,"mat-header-row",27)}function qme(t,n){1&t&&r._UZ(0,"mat-row")}const Zz=function(){return[8,16,100]};let Hme=(()=>{class t{constructor(e,i){this.dialog=e,this.rsService=i,this.rooms=[],this.isLoading=!1,this.sections=[],this.unfilteredSections=[],this.isLoading2=!1,this.displayedColumns=["roomName","actions"],this.displayedColumns2=["course","year","section","actions"],this.dataSource=new mE,this.dataSource2=new mE}ngOnInit(){this.isLoading=!0,this.rsService.fetchRooms(),this.roomsSubs=this.rsService.roomsChanged.subscribe(e=>{this.rooms=e,this.isLoading=!1,this.dataSource.data=this.rooms}),this.isLoading2=!0,this.rsService.fetchSections(),this.sectionsSubs=this.rsService.sectionsChanged.subscribe(e=>{this.sections=e,this.sections=this.sections.sort((i,o)=>+i.section-+o.section),this.sections=this.sections.sort((i,o)=>+i.year-+o.year),this.sections=this.sections.sort((i,o)=>i.course<o.course?-1:i.course>o.course?1:0),this.isLoading2=!1,this.dataSource2.data=this.sections})}compareCourseName(e,i){return e.course<i.a.course?-1:e.a.course>i.a.course?1:0}ngAfterViewInit(){this.dataSource.sort=this.sorter1,this.dataSource.paginator=this.paginator1,this.dataSource2.sort=this.sorter2,this.dataSource2.paginator=this.paginator2}onAddRoom(){this.dialog.open(Lz,{data:{configType:"add"}})}onEditRoom(e){this.dialog.open(Lz,{data:{configType:"edit",room:e}})}onRemoveRoom(e){this.rsService.deleteRoomToDatabase(e)}onAddSection(){this.dialog.open(Fz,{data:{configType:"add"}})}onEditSection(e){this.dialog.open(Fz,{data:{configType:"edit",section:e}})}onRemoveSection(e){this.rsService.deleteSectionToDatabase(e)}ngOnDestroy(){this.roomsSubs.unsubscribe(),this.sectionsSubs.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Eb),r.Y36(PC))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-rooms-sections"]],viewQuery:function(e,i){if(1&e&&(r.Gf(Cme,7),r.Gf(xme,5),r.Gf(Tme,5),r.Gf(Ame,5),r.Gf(Sme,5)),2&e){let o;r.iGM(o=r.CRH())&&(i.buttonGroup=o.first),r.iGM(o=r.CRH())&&(i.sorter1=o.first),r.iGM(o=r.CRH())&&(i.sorter2=o.first),r.iGM(o=r.CRH())&&(i.paginator1=o.first),r.iGM(o=r.CRH())&&(i.paginator2=o.first)}},decls:50,vars:12,consts:[["fxLayout","column","fxLayoutAlign","center center",1,"main-div"],["fxLayout","column",1,"sub-div"],["fxLayout","row","fxLayoutAlign","space-between",1,"header-div"],[1,"header-text"],[1,"content-div"],["label","Room"],["matSort","",2,"width","100%",3,"dataSource"],["sorter1","matSort"],["matColumnDef","roomName"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","actions"],[4,"matHeaderCellDef"],["color","primary","style","background-color: var(--primary)",4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["fxLayoutAlign","center center",2,"margin-top","15px"],["mat-stroked-button","","color","primary",3,"click"],["fxLayoutAlign","center center","showFirstLastButtons","",3,"pageSize","pageSizeOptions"],["paginator1",""],["label","Section"],["sorter2","matSort"],["matColumnDef","course"],["matColumnDef","year"],["matColumnDef","section"],["paginator2",""],["mat-sort-header",""],["mat-button","",3,"click"],["color","primary",2,"background-color","var(--primary)"]],template:function(e,i){1&e&&(r.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div")(4,"p",3),r._uU(5,"Rooms and Sections"),r.qZA()()(),r.TgZ(6,"div",4)(7,"mat-tab-group")(8,"mat-tab",5)(9,"mat-table",6,7),r.ynx(11,8),r.YNc(12,Dme,2,0,"mat-header-cell",9),r.YNc(13,Eme,2,1,"mat-cell",10),r.BQk(),r.ynx(14,11),r.YNc(15,Mme,2,0,"mat-header-cell",12),r.YNc(16,kme,7,0,"mat-cell",10),r.BQk(),r.YNc(17,Ime,1,0,"mat-header-row",13),r.YNc(18,Ome,1,0,"mat-row",14),r.qZA(),r.TgZ(19,"div",15)(20,"button",16),r.NdJ("click",function(){return i.onAddRoom()}),r.TgZ(21,"mat-icon"),r._uU(22,"add"),r.qZA(),r._uU(23," Add New Room"),r.qZA()(),r._UZ(24,"mat-paginator",17,18),r.qZA(),r.TgZ(26,"mat-tab",19)(27,"mat-table",6,20),r.ynx(29,21),r.YNc(30,Lme,2,0,"mat-header-cell",9),r.YNc(31,Fme,2,1,"mat-cell",10),r.BQk(),r.ynx(32,22),r.YNc(33,Nme,2,0,"mat-header-cell",9),r.YNc(34,Rme,2,1,"mat-cell",10),r.BQk(),r.ynx(35,23),r.YNc(36,Pme,2,0,"mat-header-cell",9),r.YNc(37,Bme,2,1,"mat-cell",10),r.BQk(),r.ynx(38,11),r.YNc(39,Ume,2,0,"mat-header-cell",12),r.YNc(40,jme,7,0,"mat-cell",10),r.BQk(),r.YNc(41,Vme,1,0,"mat-header-row",13),r.YNc(42,qme,1,0,"mat-row",14),r.qZA(),r.TgZ(43,"div",15)(44,"button",16),r.NdJ("click",function(){return i.onAddSection()}),r.TgZ(45,"mat-icon"),r._uU(46,"add"),r.qZA(),r._uU(47," Add New Section"),r.qZA()(),r._UZ(48,"mat-paginator",17,24),r.qZA()()()()()),2&e&&(r.xp6(9),r.Q6J("dataSource",i.dataSource),r.xp6(8),r.Q6J("matHeaderRowDef",i.displayedColumns),r.xp6(1),r.Q6J("matRowDefColumns",i.displayedColumns),r.xp6(6),r.Q6J("pageSize",8)("pageSizeOptions",r.DdM(10,Zz)),r.xp6(3),r.Q6J("dataSource",i.dataSource2),r.xp6(14),r.Q6J("matHeaderRowDef",i.displayedColumns2),r.xp6(1),r.Q6J("matRowDefColumns",i.displayedColumns2),r.xp6(6),r.Q6J("pageSize",8)("pageSizeOptions",r.DdM(11,Zz)))},directives:[zr,uo,Hz,h4,uE,Xb,cA,lA,uA,YO,aA,dA,Uo,Wf,dE,fE,hE,pE,aE],styles:["[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--light);border-radius:20px;-webkit-transition:all ease-in-out 1s;transition:all ease-in-out 1s}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--primary)}.main-div[_ngcontent-%COMP%]{width:100%;height:92%;overflow:hidden}.sub-div[_ngcontent-%COMP%]{margin:30px;width:95%;height:93%;background-color:#fff;overflow:hidden;background-image:url(other-bg.dd5cf05b63541971.png)}.header-div[_ngcontent-%COMP%]{width:100%;height:20vh}.header-text[_ngcontent-%COMP%]{font-family:var(--incon);color:var(--primary);font-size:30px;margin-top:5vh;margin-left:4vh}.acad-button[_ngcontent-%COMP%]{margin-top:5vh;margin-right:3vh}.content-div[_ngcontent-%COMP%]{width:100%;height:66vh;overflow-y:scroll}.tab-div[_ngcontent-%COMP%]{height:100vh;width:100%;background-color:var(--light);padding:5vh 5vh 0vh}.card-item[_ngcontent-%COMP%]{width:25vh;height:12vh;background-color:#fff;box-shadow:0 0 7px #00000070;background-image:url(grass.64e8faeb46f11c15.png);background-repeat:no-repeat;background-position-y:bottom;background-position-x:right;transition:all ease-in-out .1s;margin-bottom:30px;position:relative}.item-text[_ngcontent-%COMP%]{color:var(--primary);font-size:18px;font-family:var(--mont);text-align:center;line-height:.2em}.item-container[_ngcontent-%COMP%]{width:100%;background-color:red}.menu-item[_ngcontent-%COMP%]{position:absolute;right:0px;top:0px}.mat-focus-indicator[_ngcontent-%COMP%]:hover{background-color:var(--light);color:var(--primary)}.course-text[_ngcontent-%COMP%]{color:var(--primary);font-size:12px;font-family:var(--mont)}.button-toggle[_ngcontent-%COMP%]{background-color:var(--light);padding:13px;height:25px}mat-button-toggle[_ngcontent-%COMP%]{font-family:var(--mont);font-size:13px!important}mat-button-toggle[_ngcontent-%COMP%]:hover{background-color:var(--primary)!important;color:#fff}.mat-button-toggle-checked[_ngcontent-%COMP%]{background-color:var(--primary)!important;color:#fff}.it-card[_ngcontent-%COMP%]{background-color:var(--light)}.ee-card[_ngcontent-%COMP%]{background-color:#ffb120b2}.ce-card[_ngcontent-%COMP%]{background-color:#cf7c00b9}mat-header-cell[_ngcontent-%COMP%]{color:#fff;font-family:var(--mont);text-transform:uppercase}.mat-header-cell[_ngcontent-%COMP%]{flex-direction:column;justify-content:center}.mat-cell[_ngcontent-%COMP%]{text-align:center;justify-content:center}"]}),t})();var Yz=me(5861);const Gme=["search"];function Zme(t,n){if(1&t&&(r.TgZ(0,"mat-option",30),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.Q6J("value",e),r.xp6(1),r.Oqu(e)}}function Yme(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"mat-chip",41),r.NdJ("click",function(){const s=r.CHM(e).index;return r.oxw(3).onChipClicked(s)}),r._uU(1),r.qZA()}if(2&t){const e=n.$implicit;r.xp6(1),r.Oqu(e.subjectTitle)}}function zme(t,n){if(1&t&&(r.TgZ(0,"div")(1,"mat-chip-list"),r.YNc(2,Yme,2,1,"mat-chip",40),r.qZA()()),2&t){const e=r.oxw(2);r.xp6(2),r.Q6J("ngForOf",e.filteredCurriculums)}}function Wme(t,n){if(1&t&&(r.TgZ(0,"p",42),r._uU(1),r.qZA()),2&t){const e=r.oxw(2);r.xp6(1),r.Oqu(e.onEditMode?"Edit Load Mode":"Add Load Mode")}}function $me(t,n){if(1&t&&(r.TgZ(0,"mat-option",30),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.Q6J("value",e),r.xp6(1),r.Oqu(e)}}function Qme(t,n){if(1&t&&(r.TgZ(0,"mat-option",30),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.Q6J("value",e),r.xp6(1),r.Oqu(e)}}function Jme(t,n){if(1&t&&(r.TgZ(0,"mat-option",30),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.Q6J("value",e),r.xp6(1),r.Oqu(e.fullName)}}function Kme(t,n){if(1&t&&(r.TgZ(0,"mat-option",61),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.Q6J("value",e.day)("ngClass","noConflict"==e.conflict?"no-conflict":""),r.xp6(1),r.Oqu(e.day)}}function Xme(t,n){if(1&t&&(r.TgZ(0,"mat-option",61),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.Q6J("value",e.time)("ngClass","noConflict"==e.conflict?"no-conflict":""),r.xp6(1),r.Oqu(e.time)}}function ege(t,n){if(1&t&&(r.TgZ(0,"mat-option",30),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.Q6J("value",e),r.xp6(1),r.Oqu(e)}}function tge(t,n){if(1&t&&(r.TgZ(0,"mat-option",30),r._uU(1),r.ALo(2,"uppercase"),r.qZA()),2&t){const e=n.$implicit;r.Q6J("value",e),r.xp6(1),r.Oqu(r.lcZ(2,2,e.roomName))}}function nge(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"div",43)(1,"div",44)(2,"mat-form-field",45)(3,"mat-label"),r._uU(4,"Code"),r.qZA(),r.TgZ(5,"mat-select",46),r.NdJ("selectionChange",function(o){return r.CHM(e),r.oxw(2).onCodeChange(o)}),r.YNc(6,$me,2,2,"mat-option",7),r.qZA()(),r.TgZ(7,"mat-form-field",47)(8,"mat-label"),r._uU(9,"Subject Description"),r.qZA(),r.TgZ(10,"mat-select",48),r.NdJ("selectionChange",function(o){return r.CHM(e),r.oxw(2).onSubjectChange(o)}),r.YNc(11,Qme,2,2,"mat-option",7),r.qZA()(),r.TgZ(12,"mat-form-field",49)(13,"mat-label"),r._uU(14,"Units"),r.qZA(),r._UZ(15,"input",50),r.TgZ(16,"mat-error"),r._uU(17,"please enter a valid input."),r.qZA()()(),r.TgZ(18,"div",44)(19,"mat-form-field",51)(20,"mat-label"),r._uU(21,"No. of Hours"),r.qZA(),r.TgZ(22,"input",52),r.NdJ("ngModelChange",function(o){return r.CHM(e),r.oxw(2).onChangeHours(o)}),r.qZA(),r.TgZ(23,"mat-error"),r._uU(24,"please enter only 1 digit number."),r.qZA()(),r.TgZ(25,"mat-form-field",53)(26,"mat-label"),r._uU(27,"Faculty"),r.qZA(),r.TgZ(28,"mat-select",54),r.NdJ("selectionChange",function(o){return r.CHM(e),r.oxw(2).onFacultyChanged(o)}),r.YNc(29,Jme,2,2,"mat-option",7),r.qZA()(),r.TgZ(30,"mat-form-field",45)(31,"mat-label"),r._uU(32,"Day"),r.qZA(),r.TgZ(33,"mat-select",55),r.NdJ("selectionChange",function(o){return r.CHM(e),r.oxw(2).onDayChanged(o)}),r.YNc(34,Kme,2,3,"mat-option",56),r.qZA()()(),r.TgZ(35,"div",44)(36,"mat-form-field",45)(37,"mat-label"),r._uU(38,"Start Time"),r.qZA(),r.TgZ(39,"mat-select",57),r.NdJ("selectionChange",function(o){return r.CHM(e),r.oxw(2).onStartTimeChange(o)}),r.YNc(40,Xme,2,3,"mat-option",56),r.qZA()(),r.TgZ(41,"mat-form-field",45)(42,"mat-label"),r._uU(43,"End Time"),r.qZA(),r.TgZ(44,"mat-select",58),r.YNc(45,ege,2,2,"mat-option",7),r.qZA()(),r.TgZ(46,"mat-form-field",59)(47,"mat-label"),r._uU(48,"Room"),r.qZA(),r.TgZ(49,"mat-select",60),r.NdJ("selectionChange",function(o){return r.CHM(e),r.oxw(2).onRoomLoadChange(o)}),r.YNc(50,tge,3,4,"mat-option",7),r.qZA()()()()}if(2&t){const e=r.oxw(2);r.xp6(6),r.Q6J("ngForOf",e.subjectCodes),r.xp6(5),r.Q6J("ngForOf",e.subjectDescriptions),r.xp6(18),r.Q6J("ngForOf",e.faculties),r.xp6(5),r.Q6J("ngForOf",e.availableDays),r.xp6(6),r.Q6J("ngForOf",e.availableTimes),r.xp6(5),r.Q6J("ngForOf",e.times),r.xp6(5),r.Q6J("ngForOf",e.rooms)}}function ige(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"form",31),r.NdJ("ngSubmit",function(){return r.CHM(e),r.oxw().onSubmit()}),r.TgZ(1,"div",32)(2,"div",4)(3,"div",33)(4,"button",34),r.NdJ("click",function(){return r.CHM(e),r.oxw().onAddLoadMode()}),r.TgZ(5,"mat-icon"),r._uU(6,"add"),r.qZA(),r._uU(7,"Add Load "),r.qZA(),r.TgZ(8,"button",35)(9,"mat-icon"),r._uU(10,"save"),r.qZA(),r._uU(11,"Save Load "),r.qZA(),r.TgZ(12,"button",36),r.NdJ("click",function(){return r.CHM(e),r.oxw().onClear()}),r.TgZ(13,"mat-icon"),r._uU(14,"clear"),r.qZA(),r._uU(15,"Clear "),r.qZA()()()(),r.YNc(16,zme,3,1,"div",37),r.YNc(17,Wme,2,1,"p",38),r.YNc(18,nge,51,7,"div",39),r.qZA()}if(2&t){const e=r.oxw();r.Q6J("formGroup",e.loadForm),r.xp6(4),r.Q6J("disabled",e.onEditMode),r.xp6(4),r.Q6J("disabled",e.loadForm.invalid),r.xp6(4),r.Q6J("disabled",!e.onEditMode&&!e.onAddMode),r.xp6(4),r.Q6J("ngIf",e.onSearching),r.xp6(1),r.Q6J("ngIf",e.onEditMode||e.onAddMode),r.xp6(1),r.Q6J("ngIf",e.onEditMode||e.onAddMode)}}function rge(t,n){1&t&&(r.TgZ(0,"mat-header-cell",62),r._uU(1,"Code"),r.qZA())}function oge(t,n){if(1&t&&(r.TgZ(0,"mat-cell"),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.xp6(1),r.Oqu(e.subjectCode)}}function sge(t,n){1&t&&(r.TgZ(0,"mat-header-cell",62),r._uU(1,"Subject Title"),r.qZA())}function age(t,n){if(1&t&&(r.TgZ(0,"mat-cell"),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.xp6(1),r.Oqu(e.subjectDescription)}}function lge(t,n){1&t&&(r.TgZ(0,"mat-header-cell",62),r._uU(1,"Units"),r.qZA())}function cge(t,n){if(1&t&&(r.TgZ(0,"mat-cell"),r._uU(1),r.ALo(2,"number"),r.qZA()),2&t){const e=n.$implicit;r.xp6(1),r.Oqu(r.lcZ(2,1,e.units))}}function uge(t,n){1&t&&(r.TgZ(0,"mat-header-cell",62),r._uU(1,"No. of Hours"),r.qZA())}function dge(t,n){if(1&t&&(r.TgZ(0,"mat-cell"),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.xp6(1),r.Oqu(e.noHour)}}function hge(t,n){1&t&&(r.TgZ(0,"mat-header-cell",62),r._uU(1,"Section"),r.qZA())}function fge(t,n){if(1&t&&(r.TgZ(0,"mat-cell"),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.xp6(1),r.Oqu(e.section)}}function pge(t,n){1&t&&(r.TgZ(0,"mat-header-cell",62),r._uU(1,"Faculty"),r.qZA())}function mge(t,n){if(1&t&&(r.TgZ(0,"mat-cell"),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.xp6(1),r.Oqu(e.facultyName)}}function gge(t,n){1&t&&(r.TgZ(0,"mat-header-cell",62),r._uU(1,"Day"),r.qZA())}function _ge(t,n){if(1&t&&(r.TgZ(0,"mat-cell"),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.xp6(1),r.Oqu(e.day)}}function vge(t,n){1&t&&(r.TgZ(0,"mat-header-cell",62),r._uU(1,"Start Time"),r.qZA())}function yge(t,n){if(1&t&&(r.TgZ(0,"mat-cell"),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.xp6(1),r.Oqu(e.startTime)}}function bge(t,n){1&t&&(r.TgZ(0,"mat-header-cell",62),r._uU(1,"End Time"),r.qZA())}function wge(t,n){if(1&t&&(r.TgZ(0,"mat-cell"),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.xp6(1),r.Oqu(e.endTime)}}function Cge(t,n){1&t&&(r.TgZ(0,"mat-header-cell",62),r._uU(1,"Room"),r.qZA())}function xge(t,n){if(1&t&&(r.TgZ(0,"mat-cell"),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.xp6(1),r.Oqu(e.room)}}function Tge(t,n){1&t&&(r.TgZ(0,"mat-header-cell"),r._uU(1," Manage "),r.qZA())}function Age(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"mat-icon",63),r.NdJ("click",function(){r.CHM(e);const o=r.oxw().$implicit;return r.oxw().onSplit(o)}),r._uU(1,"manage_history"),r.qZA()}}function Sge(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"mat-cell")(1,"mat-icon",63),r.NdJ("click",function(){const s=r.CHM(e).$implicit,a=r.oxw(),d=r.MAs(2);return a.onEditLoad(s,d)}),r._uU(2,"edit"),r.qZA(),r.TgZ(3,"mat-icon",63),r.NdJ("click",function(){const s=r.CHM(e).$implicit;return r.oxw().onDeleteLoad(s.id)}),r._uU(4,"delete"),r.qZA(),r.YNc(5,Age,2,0,"mat-icon",64),r.qZA()}if(2&t){const e=n.$implicit;r.xp6(5),r.Q6J("ngIf",+e.noHour>5)}}function Dge(t,n){1&t&&r._UZ(0,"mat-header-row",65)}function Ege(t,n){1&t&&r._UZ(0,"mat-row")}function Mge(t,n){1&t&&(r.TgZ(0,"div",66),r._UZ(1,"img",67),r.TgZ(2,"p",68),r._uU(3,"Choose a section to start managing load/s"),r.qZA()())}let kge=(()=>{class t{constructor(e,i,o,s,a,d,f,v,w){this.curriculumService=e,this.roomSectionService=i,this.userService=o,this.facultyService=s,this.academicService=a,this.loadService=d,this.uiService=f,this.snackBar=v,this.toastr=w,this.curriculums=[],this.departmentCurriculums=[],this.onEditMode=!1,this.onAddMode=!1,this.totalUnits=0,this.currentFacultyLoad=[],this.displayedColumns=["subjectCode","subjectDescription","units","noHour","section","facultyName","day","startTime","endTime","room","actions"],this.dataSource=new mE,this.subjectCodes=[],this.subjectDescriptions=[],this.days=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],this.availableDays=[{day:"monday",conflict:"conflict"},{day:"tuesday",conflict:"conflict"},{day:"wednesday",conflict:"conflict"},{day:"thursday",conflict:"conflict"},{day:"friday",conflict:"conflict"},{day:"saturday",conflict:"conflict"},{day:"sunday",conflict:"conflict"}],this.sections=[],this.section="",this.faculties=[],this.rooms=[],this.trimmedSections=[],this.times=["7:00 AM","7:30 AM","8:00 AM","8:30 AM","9:00 AM","9:30 AM","10:00 AM","10:30 AM","11:00 AM","11:30 AM","12:00 PM","12:30 PM","1:00 PM","1:30 PM","2:00 PM","2:30 PM","3:00 PM","3:30 PM","4:00 PM","4:30 PM","5:00 PM","5:30 PM","6:00 PM","6:30 PM","7:00 PM","7:30 PM","8:00 PM","8:30 PM"],this.availableTimes=[{time:"7:00 AM",conflict:"conflict"},{time:"7:30 AM",conflict:"conflict"},{time:"8:00 AM",conflict:"conflict"},{time:"8:30 AM",conflict:"conflict"},{time:"9:00 AM",conflict:"conflict"},{time:"9:30 AM",conflict:"conflict"},{time:"10:00 AM",conflict:"conflict"},{time:"10:30 AM",conflict:"conflict"},{time:"11:00 AM",conflict:"conflict"},{time:"11:30 AM",conflict:"conflict"},{time:"12:00 PM",conflict:"conflict"},{time:"12:30 PM",conflict:"conflict"},{time:"1:00 PM",conflict:"conflict"},{time:"1:30 PM",conflict:"conflict"},{time:"2:00 PM",conflict:"conflict"},{time:"2:30 PM",conflict:"conflict"},{time:"3:00 PM",conflict:"conflict"},{time:"3:30 PM",conflict:"conflict"},{time:"4:00 PM",conflict:"conflict"},{time:"4:30 PM",conflict:"conflict"},{time:"5:00 PM",conflict:"conflict"},{time:"5:30 PM",conflict:"conflict"},{time:"6:00 PM",conflict:"conflict"},{time:"6:30 PM",conflict:"conflict"},{time:"7:00 PM",conflict:"conflict"},{time:"7:30 PM",conflict:"conflict"},{time:"8:00 PM",conflict:"conflict"},{time:"8:30 PM",conflict:"conflict"}],this.onSearching=!1,this.filteredCurriculums=[],this.loads=[],this.sectionCurriculums=[],this.isAllowedToEdit=!1,this.roomStartTime="",this.roomEndTime="",this.roomLoad=[]}ngOnInit(){this.currentChairperson=this.userService.getCurrentUser();let i=(new Date).getTime()/1e3;this.currentChairperson.startDate&&(this.isAllowedToEdit=+i>+this.currentChairperson.startDate.seconds&&+i<+this.currentChairperson.endDate.seconds),this.roomSectionService.fetchRooms(),this.roomsSubs=this.roomSectionService.roomsChanged.subscribe(o=>{this.rooms=o,this.rooms=this.rooms.sort((s,a)=>s.roomName<a.roomName?-1:s.roomName>a.roomName?1:0)}),this.activeAcademicYear=this.academicService.getActiveAcademicYear(),this.academicService.fetchActiveAcademicYear(),this.facultyService.fetchFaculty(this.activeAcademicYear.startYear,this.activeAcademicYear.semester,this.currentChairperson.fullName),this.facultySubs=this.facultyService.facultyChanged.subscribe(o=>{this.faculties=o}),this.roomSectionService.fetchSections(),this.sectionSubs=this.roomSectionService.sectionsChanged.subscribe(o=>{this.sections=o,this.sections=this.sections.sort((s,a)=>+s.section-+a.section),this.sections=this.sections.sort((s,a)=>+s.year-+a.year),this.sections=this.sections.sort((s,a)=>s.course<a.course?-1:s.course>a.course?1:0),o=o.filter(s=>s.course==this.currentChairperson.department),this.trimmedSections=[],o.forEach(s=>{let d=s.course.split(/\s/).reduce((f,v)=>f+v.slice(0,1),"");this.trimmedSections.push(d+" "+s.year+"-"+s.section)})}),this.curriculumService.fetchAllCurriculum(),this.curriculumSubs=this.curriculumService.fetchCurriculumChanged.subscribe(o=>{this.curriculums=o,this.departmentCurriculums=this.curriculums.filter(s=>s.department==this.currentChairperson.department),this.subjectCodes=[],this.subjectDescriptions=[],this.departmentCurriculums.forEach(s=>{this.subjectCodes.push(s.code),this.subjectDescriptions.push(s.subjectTitle)})}),this.loadSubs=this.loadService.loadChange.subscribe(o=>{this.loads=o,0==o.length?this.autoCreateLoad():(this.dataSource.data=o,this.loadService.changeCurrentSectionLoad(this.loads))}),this.secCurSubs=this.curriculumService.sectionCurriculumChanged.subscribe(o=>{this.sectionCurriculums=o}),this.initializeForm(),this.roomLoadSubs=this.loadService.sameRoomLoadChange.subscribe(o=>{this.roomLoad=o,this.roomStartTime=this.loadForm.value.startTime,this.roomEndTime=this.loadForm.value.endTime;let s=0,a=0,d=0,f=0;this.roomLoad.forEach(v=>{let w=[{time:"7:00 AM",isFilled:"no"},{time:"7:30 AM",isFilled:"no"},{time:"8:00 AM",isFilled:"no"},{time:"8:30 AM",isFilled:"no"},{time:"9:00 AM",isFilled:"no"},{time:"9:30 AM",isFilled:"no"},{time:"10:00 AM",isFilled:"no"},{time:"10:30 AM",isFilled:"no"},{time:"11:00 AM",isFilled:"no"},{time:"11:30 AM",isFilled:"no"},{time:"12:00 PM",isFilled:"no"},{time:"12:30 PM",isFilled:"no"},{time:"1:00 PM",isFilled:"no"},{time:"1:30 PM",isFilled:"no"},{time:"2:00 PM",isFilled:"no"},{time:"2:30 PM",isFilled:"no"},{time:"3:00 PM",isFilled:"no"},{time:"3:30 PM",isFilled:"no"},{time:"4:00 PM",isFilled:"no"},{time:"4:30 PM",isFilled:"no"},{time:"5:00 PM",isFilled:"no"},{time:"5:30 PM",isFilled:"no"},{time:"6:00 PM",isFilled:"no"},{time:"6:30 PM",isFilled:"no"},{time:"7:00 PM",isFilled:"no"},{time:"7:30 PM",isFilled:"no"},{time:"8:00 PM",isFilled:"no"},{time:"8:30 PM",isFilled:"no"}];for(let x=0;x<w.length;x++)v.startTime==w[x].time&&(w[x+1].isFilled="yes",s=d+1),v.endTime==w[x].time&&(w[x-1].isFilled="yes",a=f-1),d+=1,f+=1;d=0,f=0;for(let x=s;x<a;x++)w[x].isFilled="yes";console.log(v),w.forEach(x=>{v.subjectCode==this.loadForm.value.subjectCode&&v.section==this.section||(x.time==this.roomStartTime||x.time==this.roomEndTime?"yes"==x.isFilled&&this.toastr.error("Your chosen Room: "+v.room+" ("+v.day+") for "+this.section+" with the time: "+this.loadForm.value.startTime+" - "+this.loadForm.value.endTime+" has a conflict with "+(v.department==this.currentChairperson.department?"your own schedule for ":v.chairperson+"'s schedule for ")+v.section+" with the time: "+v.startTime+" - "+v.endTime,"",{disableTimeOut:!0,positionClass:"toast-bottom-left"}):(v.startTime==this.loadForm.value.startTime||v.endTime==this.loadForm.value.endtime)&&this.toastr.error("Your chosen Room: "+v.room+" ("+v.day+") for "+this.section+" with the time: "+this.loadForm.value.startTime+" - "+this.loadForm.value.endTime+" has a conflict with "+(v.department==this.currentChairperson.department?"your own schedule for ":v.chairperson+"'s schedule for ")+v.section+" with the time: "+v.startTime+" - "+v.endTime,"",{disableTimeOut:!0,positionClass:"toast-bottom-left"}))})})}),this.currentFacultySubs=this.loadService.facultyLoadChange.subscribe(o=>{this.totalUnits=0,this.currentFacultyLoad=o,console.log(this.currentFacultyLoad),this.currentFacultyLoad.filter((a,d)=>this.currentFacultyLoad.findIndex(f=>f.subjectCode==a.subjectCode&&f.section==a.section)==d).forEach(a=>{this.totalUnits+=+a.units,this.totalUnits>20&&this.toastr.error("The Total Units for "+a.facultyName+" Exceeded 20!","",{disableTimeOut:!0,positionClass:"toast-bottom-left"})})})}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}initializeForm(){this.loadForm=new Il({subjectCode:new mn({value:""},sn.required),subjectDescription:new mn({value:""},sn.required),units:new mn({value:""},sn.required),noHour:new mn("",{validators:[sn.pattern(/^[0-9]*$/),sn.maxLength(1),sn.required]}),faculty:new mn("",sn.required),day:new mn("",sn.required),startTime:new mn("",sn.required),endTime:new mn("",sn.required),room:new mn("",sn.required)})}autoCreateLoad(){var e=this;return(0,Yz.Z)(function*(){console.log("sectionCurriculums"),console.log(e.sectionCurriculums),yield e.sectionCurriculums.forEach(i=>{e.loadService.addLoad({facultyName:"",facultyId:"",department:e.currentChairperson.department,chairperson:e.currentChairperson.fullName,semester:e.activeAcademicYear.semester,schoolYear:e.activeAcademicYear.startYear,subjectCode:i.code,subjectDescription:i.subjectTitle,units:i.units,noHour:"",section:e.section,day:"",startTime:"",endTime:"",room:""})})})()}onChangeHours(e){if(this.loadForm.value.startTime){let i=this.loadForm.value.noHour;for(let o=0;o<this.times.length;o++)this.loadForm.value.startTime==this.times[o]&&this.loadForm.patchValue({endTime:this.times[o+2*i]})}}onChipClicked(e){this.subjectCodes.push(this.filteredCurriculums[e].code),this.subjectDescriptions.push(this.filteredCurriculums[e].subjectTitle),this.loadForm.patchValue({subjectCode:this.filteredCurriculums[e].code,subjectDescription:this.filteredCurriculums[e].subjectTitle,units:this.filteredCurriculums[e].units}),this.searchInput.nativeElement.value="",this.onSearching=!1}doFilter(e){""==e?this.onSearching=!1:(this.filteredCurriculums=[],this.filteredCurriculums=this.curriculums.filter(i=>{let o=e.toLowerCase();return i.subjectTitle.toLowerCase().includes(o)}),this.filteredCurriculums.length>3&&(this.filteredCurriculums=this.filteredCurriculums.slice(0,2)),this.onSearching=!0)}onClear(){this.loadForm.reset(),this.onEditMode=!1,this.onAddMode=!1}onStartTimeChange(e){this.loadForm.value.room&&this.loadService.checkRoomLoadConflict(this.loadForm.value.room.roomName,this.activeAcademicYear.semester,this.activeAcademicYear.startYear,this.loadForm.value.day);let i=this.loadForm.value.noHour;for(let o=0;o<this.times.length;o++)e.value==this.times[o]&&this.loadForm.patchValue({endTime:this.times[o+2*i]});this.availableTimes.forEach(o=>{o.time==e.value&&"conflict"==o.conflict&&this.toastr.error("Your chosen time: "+e.value.toUpperCase()+" is not listed in "+this.loadForm.value.faculty.fullName+"'s time schedule","",{disableTimeOut:!0,positionClass:"toast-bottom-left"})})}onCodeChange(e){let i=e.value;this.departmentCurriculums.forEach(o=>{o.code==i&&this.loadForm.patchValue({subjectDescription:o.subjectTitle,units:o.units})})}onSubjectChange(e){let i=e.value;this.departmentCurriculums.forEach(o=>{o.subjectTitle==i&&this.loadForm.patchValue({subjectCode:o.code,units:o.units})})}onFacultyChanged(e){this.availableDays.forEach(d=>{d.conflict="conflict"});let o,i=e.value;this.availableDays.forEach(d=>{i.facultySchedule.forEach(f=>{d.day==f.day&&(d.conflict="noConflict")})}),this.availableTimes.forEach(d=>{d.conflict="conflict"}),this.loadForm.value.day&&i.facultySchedule.forEach(d=>{if(this.loadForm.value.day==d.day){o=d,console.log(o);let f=0,v=!1,w=0,x=!1,S=0;this.availableTimes.forEach(E=>{o.startTime.charAt(0)==E.time.charAt(0)&&o.startTime.charAt(1)==E.time.charAt(1)&&o.startTime.charAt(5)==E.time.charAt(5)&&0==v&&(w=f,console.log("START TIME: "+E.time),v=!0),f++}),f=0,this.availableTimes.forEach(E=>{o.endTime.charAt(0)==E.time.charAt(0)&&o.endTime.charAt(1)==E.time.charAt(1)&&o.endTime.charAt(5)==E.time.charAt(5)&&0==x&&(S=f,console.log("END TIME: "+E.time),x=!0),f++}),console.log(w),console.log(S);for(let E=w;E<=S;E++)this.availableTimes[E].conflict="noConflict";console.log(this.availableTimes)}})}onDayChanged(e){let i;this.loadForm.value.room&&this.loadService.checkRoomLoadConflict(this.loadForm.value.room.roomName,this.activeAcademicYear.semester,this.activeAcademicYear.startYear,this.loadForm.value.day),console.log(e.value),this.availableDays.forEach(a=>{a.day==e.value&&"conflict"==a.conflict&&this.toastr.error("Your chosen day: "+e.value.toUpperCase()+" is not listed in "+this.loadForm.value.faculty.fullName+"'s day schedule","",{disableTimeOut:!0,positionClass:"toast-bottom-left"})}),this.availableTimes.forEach(a=>{a.conflict="conflict"}),this.loadForm.value.faculty.facultySchedule.forEach(a=>{if(this.loadForm.value.day==a.day){i=a,console.log(i);let d=0,f=!1,v=0,w=!1,x=0;this.availableTimes.forEach(S=>{i.startTime.charAt(0)==S.time.charAt(0)&&i.startTime.charAt(1)==S.time.charAt(1)&&i.startTime.charAt(5)==S.time.charAt(5)&&0==f&&(v=d,console.log("START TIME: "+S.time),f=!0),d++}),d=0,this.availableTimes.forEach(S=>{i.endTime.charAt(0)==S.time.charAt(0)&&i.endTime.charAt(1)==S.time.charAt(1)&&i.endTime.charAt(5)==S.time.charAt(5)&&0==w&&(x=d,console.log("END TIME: "+S.time),w=!0),d++}),console.log(v),console.log(x);for(let S=v;S<=x;S++)this.availableTimes[S].conflict="noConflict";console.log(this.availableTimes)}})}onSectionChanged(e){var i=this;return(0,Yz.Z)(function*(){i.onEditMode=!1,i.onAddMode=!1;let o=e.value.charAt(3);i.section="BS"+e.value,console.log(i.section),yield i.loadService.fetchLoad(i.activeAcademicYear.startYear,i.activeAcademicYear.semester,i.currentChairperson.fullName,i.section),yield i.curriculumService.fetchSectionCurriculum(i.currentChairperson.department,i.activeAcademicYear.semester,i.currentChairperson.fullName,o),i.loadForm.reset()})()}onRoomLoadChange(e){this.roomLoad=[],this.loadService.checkRoomLoadConflict(e.value.roomName,this.activeAcademicYear.semester,this.activeAcademicYear.startYear,this.loadForm.value.day)}onDeleteLoad(e){this.loads.length>1?(this.loadService.onRemoveLoad(e),this.onEditMode=!1,this.onAddMode=!1):this.uiService.showErrorToast("You should have atleast 1 load!","Error")}onEditLoad(e,i){if(this.onEditMode=!0,this.onAddMode=!1,this.isAllowedToEdit){this.currentLoad=e;const o=this.faculties.find(v=>JSON.stringify(v.fullName)===JSON.stringify(e.facultyName)),s=this.rooms.find(v=>JSON.stringify(v.roomName)===JSON.stringify(e.room));let a;console.log(e),this.loadForm.patchValue({subjectCode:e.subjectCode}),this.loadForm.patchValue({subjectDescription:e.subjectDescription}),this.loadForm.patchValue({units:e.units}),this.loadForm.patchValue({noHour:e.noHour}),this.loadForm.patchValue({faculty:o}),this.loadForm.patchValue({day:e.day}),this.loadForm.patchValue({startTime:e.startTime}),this.loadForm.patchValue({endTime:e.endTime}),this.loadForm.patchValue({room:s}),o&&(this.availableDays.forEach(v=>{v.conflict="conflict"}),this.availableDays.forEach(v=>{o.facultySchedule.forEach(w=>{v.day==w.day&&(v.conflict="noConflict")})})),this.availableTimes.forEach(v=>{v.conflict="conflict"}),o&&this.loadForm.value.day&&o.facultySchedule.forEach(v=>{if(this.loadForm.value.day==v.day){a=v,console.log(a);let w=0,x=!1,S=0,E=!1,q=0;this.availableTimes.forEach(H=>{a.startTime.charAt(0)==H.time.charAt(0)&&a.startTime.charAt(1)==H.time.charAt(1)&&a.startTime.charAt(5)==H.time.charAt(5)&&0==x&&(S=w,console.log("START TIME: "+H.time),x=!0),w++}),w=0,this.availableTimes.forEach(H=>{a.endTime.charAt(0)==H.time.charAt(0)&&a.endTime.charAt(1)==H.time.charAt(1)&&a.endTime.charAt(5)==H.time.charAt(5)&&0==E&&(q=w,console.log("END TIME: "+H.time),E=!0),w++}),console.log(S),console.log(q);for(let H=S;H<=q;H++)this.availableTimes[H].conflict="noConflict";console.log(this.availableTimes)}}),i.scrollIntoView({behavior:"smooth"})}else this.uiService.showWarningToast("You are not allowed to edit yet, contact the administrator to ask permission.","Warning")}onSubmit(){this.onEditMode?""!=this.currentLoad.id?(this.loadService.updateLoadToDatabase({facultyName:this.loadForm.value.faculty.fullName,facultyId:this.loadForm.value.faculty.id,department:this.currentLoad.department,chairperson:this.currentLoad.chairperson,semester:this.currentLoad.semester,schoolYear:this.currentLoad.schoolYear,subjectCode:this.loadForm.value.subjectCode,subjectDescription:this.loadForm.value.subjectDescription,units:this.loadForm.value.units,noHour:this.loadForm.value.noHour,section:this.currentLoad.section,day:this.loadForm.value.day,startTime:this.loadForm.value.startTime,endTime:this.loadForm.value.endTime,room:this.loadForm.value.room.roomName},this.currentLoad.id),this.onEditMode=!1,this.onAddMode=!1):this.uiService.showErrorToast("Cannot Add new Load, please select a load to Edit!","Error"):this.onAddMode&&(this.loadService.addLoad({facultyName:this.loadForm.value.faculty.fullName,facultyId:this.loadForm.value.faculty.id,department:this.currentChairperson.department,chairperson:this.currentChairperson.fullName,semester:this.activeAcademicYear.semester,schoolYear:this.activeAcademicYear.startYear,subjectCode:this.loadForm.value.subjectCode,subjectDescription:this.loadForm.value.subjectDescription,units:this.loadForm.value.units,noHour:this.loadForm.value.noHour,section:this.section,day:this.loadForm.value.day,startTime:this.loadForm.value.startTime,endTime:this.loadForm.value.endTime,room:this.loadForm.value.room.roomName}),this.onEditMode=!1,this.onAddMode=!1),this.loadService.fetchFacultyLoad(this.activeAcademicYear.startYear,this.activeAcademicYear.semester,this.currentChairperson.fullName,this.loadForm.value.faculty.fullName),this.loadForm.reset()}onAddLoadMode(){this.onAddMode=!0,this.onEditMode=!1}onSplit(e){console.log(e),this.loadService.updateLoadToDatabase({facultyName:e.facultyName,facultyId:e.facultyId,department:e.department,chairperson:e.chairperson,semester:e.semester,schoolYear:e.schoolYear,subjectCode:e.subjectCode,subjectDescription:e.subjectDescription,units:e.units,noHour:(+e.noHour/2).toString(),section:e.section,day:"",startTime:"",endTime:"",room:""},e.id),this.loadService.addLoad({facultyName:e.facultyName,facultyId:e.facultyId,department:e.department,chairperson:e.chairperson,semester:e.semester,schoolYear:e.schoolYear,subjectCode:e.subjectCode,subjectDescription:e.subjectDescription,units:e.units,noHour:(+e.noHour/2).toString(),section:e.section,day:"",startTime:"",endTime:"",room:""})}clearError(){this.toastr.clear()}ngOnDestroy(){this.loadSubs.unsubscribe(),this.curriculumSubs.unsubscribe(),this.sectionSubs.unsubscribe(),this.roomsSubs.unsubscribe(),this.facultySubs.unsubscribe(),this.secCurSubs.unsubscribe(),this.roomLoadSubs.unsubscribe(),this.currentFacultySubs.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(K6),r.Y36(PC),r.Y36(oh),r.Y36(jC),r.Y36(VC),r.Y36(bg),r.Y36(Ko),r.Y36(Dz),r.Y36(Yc))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-section-load-editor"]],viewQuery:function(e,i){if(1&e&&(r.Gf(Xb,5),r.Gf(aE,5),r.Gf(Gme,5)),2&e){let o;r.iGM(o=r.CRH())&&(i.sort=o.first),r.iGM(o=r.CRH())&&(i.paginator=o.first),r.iGM(o=r.CRH())&&(i.searchInput=o.first)}},decls:53,vars:7,consts:[["fxLayout","column",1,"main-div"],["fxLayoutAlign","start center","fxLayout","row","fxLayoutGap","15px"],["target",""],[2,"font-family","var(--mont)"],["fxLayoutAlign","start center"],["fxFlex","45%","appearance","fill"],[3,"disabled","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["style","margin-top: -55px;",3,"formGroup","ngSubmit",4,"ngIf"],[1,"table-div"],["matSort","",2,"width","100%",3,"dataSource"],["matColumnDef","subjectCode"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","subjectDescription"],["matColumnDef","units"],["matColumnDef","noHour"],["matColumnDef","section"],["matColumnDef","facultyName"],["matColumnDef","day"],["matColumnDef","startTime"],["matColumnDef","endTime"],["matColumnDef","room"],["matColumnDef","actions"],[4,"matHeaderCellDef"],["color","primary","style","background-color: var(--primary)",4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["style","height: 100%;","fxLayoutAlign","center center","fxLayout","column",4,"ngIf"],["fxLayoutAlign","center center"],["mat-raised-button","",2,"margin-top","10px","background-color","rgb(223, 35, 35)","color","white",3,"click"],[3,"value"],[2,"margin-top","-55px",3,"formGroup","ngSubmit"],["fxLayout","column"],["fxLayoutAlign","end center","fxLayoutGap","15px","fxFlex","100%",1,"actions-div"],["mat-raised-button","","color","primary","type","button",3,"disabled","click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["mat-stroked-button","","color","warn","type","button",3,"disabled","click"],[4,"ngIf"],["class","status-text",4,"ngIf"],["class","forms-div",4,"ngIf"],["color","primary","selected","",3,"click",4,"ngFor","ngForOf"],["color","primary","selected","",3,"click"],[1,"status-text"],[1,"forms-div"],["fxLayout","row","fxLayoutGap","15px"],["fxFlex","30%"],["formControlName","subjectCode",3,"selectionChange"],["fxFlex","50%"],["formControlName","subjectDescription",3,"selectionChange"],["fxFlex","20%"],["type","text","matInput","","formControlName","units"],["fxFlex","25%"],["type","text","matInput","","formControlName","noHour","maxlength","1",3,"ngModelChange"],["fxFlex","45%"],["formControlName","faculty",3,"selectionChange"],["formControlName","day",3,"selectionChange"],[3,"value","ngClass",4,"ngFor","ngForOf"],["formControlName","startTime",3,"selectionChange"],["formControlName","endTime","disabled",""],["fxFlex","40%"],["formControlName","room",3,"selectionChange"],[3,"value","ngClass"],["mat-sort-header",""],[1,"actions",3,"click"],["class","actions",3,"click",4,"ngIf"],["color","primary",2,"background-color","var(--primary)"],["fxLayoutAlign","center center","fxLayout","column",2,"height","100%"],["src","../../../assets/load-image.png",1,"load-img"],[1,"choose-text"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0)(1,"div",1,2)(3,"p",3),r._uU(4,"Choose Section:"),r.qZA(),r.TgZ(5,"div",4)(6,"mat-form-field",5)(7,"mat-label"),r._uU(8,"Section"),r.qZA(),r.TgZ(9,"mat-select",6),r.NdJ("selectionChange",function(s){return i.onSectionChanged(s)}),r.YNc(10,Zme,2,2,"mat-option",7),r.qZA()()()(),r.YNc(11,ige,19,7,"form",8),r.TgZ(12,"div",9)(13,"mat-table",10),r.ynx(14,11),r.YNc(15,rge,2,0,"mat-header-cell",12),r.YNc(16,oge,2,1,"mat-cell",13),r.BQk(),r.ynx(17,14),r.YNc(18,sge,2,0,"mat-header-cell",12),r.YNc(19,age,2,1,"mat-cell",13),r.BQk(),r.ynx(20,15),r.YNc(21,lge,2,0,"mat-header-cell",12),r.YNc(22,cge,3,3,"mat-cell",13),r.BQk(),r.ynx(23,16),r.YNc(24,uge,2,0,"mat-header-cell",12),r.YNc(25,dge,2,1,"mat-cell",13),r.BQk(),r.ynx(26,17),r.YNc(27,hge,2,0,"mat-header-cell",12),r.YNc(28,fge,2,1,"mat-cell",13),r.BQk(),r.ynx(29,18),r.YNc(30,pge,2,0,"mat-header-cell",12),r.YNc(31,mge,2,1,"mat-cell",13),r.BQk(),r.ynx(32,19),r.YNc(33,gge,2,0,"mat-header-cell",12),r.YNc(34,_ge,2,1,"mat-cell",13),r.BQk(),r.ynx(35,20),r.YNc(36,vge,2,0,"mat-header-cell",12),r.YNc(37,yge,2,1,"mat-cell",13),r.BQk(),r.ynx(38,21),r.YNc(39,bge,2,0,"mat-header-cell",12),r.YNc(40,wge,2,1,"mat-cell",13),r.BQk(),r.ynx(41,22),r.YNc(42,Cge,2,0,"mat-header-cell",12),r.YNc(43,xge,2,1,"mat-cell",13),r.BQk(),r.ynx(44,23),r.YNc(45,Tge,2,0,"mat-header-cell",24),r.YNc(46,Sge,6,1,"mat-cell",13),r.BQk(),r.YNc(47,Dge,1,0,"mat-header-row",25),r.YNc(48,Ege,1,0,"mat-row",26),r.qZA()(),r.YNc(49,Mge,4,0,"div",27),r.TgZ(50,"div",28)(51,"button",29),r.NdJ("click",function(){return i.clearError()}),r._uU(52,"Clear All Conflict"),r.qZA()()()),2&e&&(r.xp6(9),r.Q6J("disabled",!i.currentChairperson.isActivated||0==i.isAllowedToEdit),r.xp6(1),r.Q6J("ngForOf",i.trimmedSections),r.xp6(1),r.Q6J("ngIf",i.loads.length>0),r.xp6(2),r.Q6J("dataSource",i.dataSource),r.xp6(34),r.Q6J("matHeaderRowDef",i.displayedColumns),r.xp6(1),r.Q6J("matRowDefColumns",i.displayedColumns),r.xp6(1),r.Q6J("ngIf",0==i.loads.length))},directives:[zr,uo,$s,$d,Yd,id,$_,qn,ug,Sn,qd,Ud,ya,Uo,Wf,d4,TE,Gc,Zc,Ay,_i,Xw,eg,xr,W_,uE,Xb,cA,lA,uA,YO,aA,dA,dE,fE,hE,pE],pipes:[Yo,Ma],styles:["[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--light);border-radius:20px;-webkit-transition:all ease-in-out 1s;transition:all ease-in-out 1s}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--primary)}.button-toggle[_ngcontent-%COMP%]{background-color:var(--light);margin-left:10px;padding:1px;height:30px;align-items:center}mat-button-toggle[_ngcontent-%COMP%]{font-family:var(--mont);transition:all ease-in-out .1s}mat-button-toggle[_ngcontent-%COMP%]:active{background-color:var(--primary)!important;color:#fff}.mat-button-toggle-checked[_ngcontent-%COMP%]{background-color:var(--primary)!important;color:#fff}.main-div[_ngcontent-%COMP%]{padding:15px;height:77vh;overflow-y:scroll;-ms-overflow-style:none;scrollbar-width:none}.main-div[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.button-toggle[_ngcontent-%COMP%]{padding:13px;height:25px}.forms-div[_ngcontent-%COMP%]{background-color:#ffffffc5;padding:10px;border:.5px solid var(--light);border-radius:5px;margin-top:20px}mat-header-cell[_ngcontent-%COMP%]{color:#fff;font-family:var(--incon);text-transform:uppercase;font-size:10px}mat-cell[_ngcontent-%COMP%]{font-size:11px}.actions[_ngcontent-%COMP%]{font-size:20px;cursor:pointer}.actions[_ngcontent-%COMP%]:hover{color:var(--primary)}mat-cell[_ngcontent-%COMP%], mat-header-cell[_ngcontent-%COMP%]{text-align:center;justify-content:center}.table-div[_ngcontent-%COMP%]{margin-top:15px}.status-text[_ngcontent-%COMP%]{font-family:var(--mont);margin-top:15px;color:var(--primary);font-weight:700}.load-img[_ngcontent-%COMP%]{width:50%;height:auto;opacity:50%;-webkit-user-select:none;user-select:none}.choose-text[_ngcontent-%COMP%]{font-size:15px;font-family:var(--mont);color:var(--primary)}.no-conflict[_ngcontent-%COMP%]{background-color:#adffb87c!important}"]}),t})();const Ige=["content"];function Oge(t,n){if(1&t&&(r.TgZ(0,"p",29),r._uU(1),r.ALo(2,"uppercase"),r.qZA()),2&t){const e=r.oxw(2);r.xp6(1),r.hij("SECTION: ",(null==e.currentSectionLoad[0]?null:e.currentSectionLoad[0].section)+" "+r.lcZ(2,1,e.currentSectionLoad[0].semester),"")}}function Lge(t,n){1&t&&(r.TgZ(0,"p",29),r._uU(1,"SECTION"),r.qZA())}function Fge(t,n){if(1&t&&(r.TgZ(0,"p",30),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.xp6(1),r.Oqu(e)}}function Nge(t,n){if(1&t&&(r.TgZ(0,"p",31),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.Q6J("ngClass","-"==e?"on-schedule":"@"==e?"on-overlap":"\xa0"==e?"":"on-schedule"),r.xp6(1),r.Oqu("-"==e||"@"==e?"\xa0\xa0":e)}}function Rge(t,n){if(1&t&&(r.TgZ(0,"p",31),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.Q6J("ngClass","-"==e?"on-schedule":"@"==e?"on-overlap":"\xa0"==e?"":"on-schedule"),r.xp6(1),r.Oqu("-"==e||"@"==e?"\xa0\xa0":e)}}function Pge(t,n){if(1&t&&(r.TgZ(0,"p",31),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.Q6J("ngClass","-"==e?"on-schedule":"@"==e?"on-overlap":"\xa0"==e?"":"on-schedule"),r.xp6(1),r.Oqu("-"==e||"@"==e?"\xa0\xa0":e)}}function Bge(t,n){if(1&t&&(r.TgZ(0,"p",31),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.Q6J("ngClass","-"==e?"on-schedule":"@"==e?"on-overlap":"\xa0"==e?"":"on-schedule"),r.xp6(1),r.Oqu("-"==e||"@"==e?"\xa0\xa0":e)}}function Uge(t,n){if(1&t&&(r.TgZ(0,"p",31),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.Q6J("ngClass","-"==e?"on-schedule":"@"==e?"on-overlap":"\xa0"==e?"":"on-schedule"),r.xp6(1),r.Oqu("-"==e||"@"==e?"\xa0\xa0":e)}}function jge(t,n){if(1&t&&(r.TgZ(0,"p",31),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.Q6J("ngClass","-"==e?"on-schedule":"@"==e?"on-overlap":"\xa0"==e?"":"on-schedule"),r.xp6(1),r.Oqu("-"==e||"@"==e?"\xa0\xa0":e)}}function Vge(t,n){if(1&t&&(r.TgZ(0,"p",31),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.Q6J("ngClass","-"==e?"on-schedule":"@"==e?"on-overlap":"\xa0"==e?"":"on-schedule"),r.xp6(1),r.Oqu("-"==e||"@"==e?"\xa0\xa0":e)}}function qge(t,n){if(1&t&&(r.TgZ(0,"div",13)(1,"div",14)(2,"div"),r.YNc(3,Oge,3,3,"p",15),r.qZA()(),r.TgZ(4,"div",14)(5,"div"),r.YNc(6,Lge,2,0,"p",15),r.qZA()(),r._UZ(7,"div",16),r.TgZ(8,"div",17)(9,"div",18)(10,"div")(11,"p",19),r._uU(12,"TIME"),r.qZA(),r.YNc(13,Fge,2,1,"p",20),r.qZA()(),r.TgZ(14,"div",21)(15,"div")(16,"p",19),r._uU(17,"MONDAY"),r.qZA(),r.YNc(18,Nge,2,2,"p",22),r.qZA()(),r.TgZ(19,"div",23)(20,"div")(21,"p",19),r._uU(22,"TUESDAY"),r.qZA(),r.YNc(23,Rge,2,2,"p",22),r.qZA()(),r.TgZ(24,"div",24)(25,"div")(26,"p",19),r._uU(27,"WEDNESDAY"),r.qZA(),r.YNc(28,Pge,2,2,"p",22),r.qZA()(),r.TgZ(29,"div",25)(30,"div")(31,"p",19),r._uU(32,"THURSDAY"),r.qZA(),r.YNc(33,Bge,2,2,"p",22),r.qZA()(),r.TgZ(34,"div",26)(35,"div")(36,"p",19),r._uU(37,"FRIDAY"),r.qZA(),r.YNc(38,Uge,2,2,"p",22),r.qZA()(),r.TgZ(39,"div",27)(40,"div")(41,"p",19),r._uU(42,"SATURDAY"),r.qZA(),r.YNc(43,jge,2,2,"p",22),r.qZA()(),r.TgZ(44,"div",28)(45,"div")(46,"p",19),r._uU(47,"SUNDAY"),r.qZA(),r.YNc(48,Vge,2,2,"p",22),r.qZA()()()()),2&t){const e=r.oxw();r.xp6(3),r.Q6J("ngIf",e.currentSectionLoad[0]),r.xp6(3),r.Q6J("ngIf",!e.currentSectionLoad[0]),r.xp6(7),r.Q6J("ngForOf",e.times),r.xp6(5),r.Q6J("ngForOf",e.monday),r.xp6(5),r.Q6J("ngForOf",e.tuesday),r.xp6(5),r.Q6J("ngForOf",e.wednesday),r.xp6(5),r.Q6J("ngForOf",e.thursday),r.xp6(5),r.Q6J("ngForOf",e.friday),r.xp6(5),r.Q6J("ngForOf",e.saturday),r.xp6(5),r.Q6J("ngForOf",e.sunday)}}function Hge(t,n){if(1&t&&(r.TgZ(0,"p",29),r._uU(1),r.ALo(2,"uppercase"),r.qZA()),2&t){const e=r.oxw(2);r.xp6(1),r.hij("SECTION: ",(null==e.currentSectionLoad[0]?null:e.currentSectionLoad[0].section)+" "+r.lcZ(2,1,e.currentSectionLoad[0].semester),"")}}function Gge(t,n){1&t&&(r.TgZ(0,"p",29),r._uU(1,"SECTION"),r.qZA())}function Zge(t,n){if(1&t&&(r.TgZ(0,"div",45)(1,"div",34)(2,"p",46),r._uU(3),r.ALo(4,"uppercase"),r.qZA()(),r.TgZ(5,"div",36)(6,"p",46),r._uU(7),r.ALo(8,"uppercase"),r.qZA()(),r.TgZ(9,"div",38)(10,"p",46),r._uU(11),r.qZA()(),r.TgZ(12,"div",40)(13,"p",46),r._uU(14),r.ALo(15,"uppercase"),r.qZA()(),r.TgZ(16,"div",42)(17,"p",46),r._uU(18),r.ALo(19,"uppercase"),r.qZA()()()),2&t){const e=n.$implicit;r.xp6(3),r.Oqu(r.lcZ(4,5,e.subjectDescription)),r.xp6(4),r.Oqu(r.lcZ(8,7,e.day.substring(0,3))),r.xp6(4),r.Oqu(e.startTime.substring(0,e.startTime.length-3)+" - "+e.endTime),r.xp6(3),r.Oqu(r.lcZ(15,9,e.room)),r.xp6(4),r.Oqu(r.lcZ(19,11,e.facultyName))}}function Yge(t,n){if(1&t&&(r.TgZ(0,"div",32)(1,"div",14)(2,"div"),r.YNc(3,Hge,3,3,"p",15),r.qZA()(),r.TgZ(4,"div",14)(5,"div"),r.YNc(6,Gge,2,0,"p",15),r.qZA()(),r.TgZ(7,"div",33)(8,"div",34)(9,"p",35),r._uU(10,"SUBJECT"),r.qZA()(),r.TgZ(11,"div",36)(12,"p",37),r._uU(13,"DAY"),r.qZA()(),r.TgZ(14,"div",38)(15,"p",39),r._uU(16,"TIME"),r.qZA()(),r.TgZ(17,"div",40)(18,"p",41),r._uU(19,"ROOM"),r.qZA()(),r.TgZ(20,"div",42)(21,"p",43),r._uU(22,"INSTRUCTOR"),r.qZA()()(),r.YNc(23,Zge,20,13,"div",44),r.qZA()),2&t){const e=r.oxw();r.xp6(3),r.Q6J("ngIf",e.currentSectionLoad[0]),r.xp6(3),r.Q6J("ngIf",!e.currentSectionLoad[0]),r.xp6(17),r.Q6J("ngForOf",e.allLoads)}}let zge=(()=>{class t{constructor(e,i){this.loadService=e,this.uiService=i,this.view="Class Schedule Timeline",this.currentSectionLoad=[],this.times=["7:00 - 7:30 AM","7:30 - 8:00 AM","8:00 - 8:30 AM","8:30 - 9:00 AM","9:00 - 9:30 AM","9:30 - 10:00 AM","10:00 - 10:30 AM","10:30 - 11:00 AM","11:00 - 11:30 AM","11:30 - 12:00 PM","12:00 - 12:30 PM","12:30 - 1:00 PM","1:00 - 1:30 PM","1:30 - 2:00 PM","2:00 - 2:30 PM","2:30 - 3:00 PM","3:00 - 3:30 PM","3:30 - 4:00 PM","4:00 - 4:30 PM","4:30 - 5:00 PM","5:00 - 5:30 PM","5:30 - 6:00 PM","6:00 - 6:30 PM","6:30 - 7:00 PM","7:00 - 7:30 PM","7:30 - 8:00 PM","8:00 - 8:30 PM"],this.mondayLoad=[],this.tuesdayLoad=[],this.wednesdayLoad=[],this.thursdayLoad=[],this.fridayLoad=[],this.saturdayLoad=[],this.sundayLoad=[],this.allLoads=[],this.monday=[],this.tuesday=[],this.wednesday=[],this.thursday=[],this.friday=[],this.saturday=[],this.sunday=[]}ngOnInit(){this.fillDayArrays(),this.sectionSubs=this.loadService.currentSectionLoadChange.subscribe(e=>{this.fillDayArrays(),this.currentSectionLoad=e,this.getDays(e),this.checkMondayLoads(),this.checkTuesdayLoads(),this.checkWednesdayLoads(),this.checkThursdayLoads(),this.checkFridayLoads(),this.checkSaturdayLoads(),this.checkSundayLoads()})}checkMondayLoads(){const e=i=>new Date("1970/01/01 "+i);this.mondayLoad.sort((i,o)=>e(i.startTime)-e(o.startTime)),console.log(this.mondayLoad),this.mondayLoad.forEach(i=>{let o=0,s=0,a=0,d=0,f=0,v="",w="";"7:00 AM"==i.startTime&&(v=i.subjectCode,o=d),this.times.forEach(S=>{if(S.includes(i.startTime)&&(v=i.subjectCode,o=d+1),S.includes(i.endTime)){let E=i.facultyName.split(" ");w=E[E.length-1],s=f}d++,f++});let x=0;if(s-o!=1){a=s-o,x=Math.floor(a/2),this.monday[o+x]=v,this.monday[s-x]=w;for(let S=0;S<x;S++)this.monday[o]="-"==this.monday[o]||"@"==this.monday[s]?"@":"-",o++;for(let S=0;S<x;S++)"-"==this.monday[s]||"@"==this.monday[s]?this.monday[o]="@":this.monday[s]="-",s--}else this.monday[o]=v,this.monday[s]=w;x=0,o=0,s=0,a=0,d=0,f=0})}checkTuesdayLoads(){const e=i=>new Date("1970/01/01 "+i);this.tuesdayLoad.sort((i,o)=>e(i.startTime)-e(o.startTime)),this.tuesdayLoad.forEach(i=>{let o=0,s=0,a=0,d=0,f=0,v="",w="";"7:00 AM"==i.startTime&&(v=i.subjectCode,o=d),this.times.forEach(S=>{if(S.includes(i.startTime)&&(v=i.subjectCode,o=d+1),S.includes(i.endTime)){let E=i.facultyName.split(" ");w=E[E.length-1],s=f}d++,f++});let x=0;if(s-o!=1){a=s-o,x=Math.floor(a/2),this.tuesday[o+x]=v,this.tuesday[s-x]=w;for(let S=0;S<x;S++)this.tuesday[o]="-"==this.tuesday[o]||"@"==this.tuesday[s]?"@":"-",o++;for(let S=0;S<x;S++)"-"==this.tuesday[s]||"@"==this.tuesday[s]?this.tuesday[o]="@":this.tuesday[s]="-",s--}else this.tuesday[o]=v,this.tuesday[s]=w;x=0,o=0,s=0,a=0,d=0,f=0})}checkWednesdayLoads(){const e=i=>new Date("1970/01/01 "+i);this.wednesdayLoad.sort((i,o)=>e(i.startTime)-e(o.startTime)),this.wednesdayLoad.forEach(i=>{let o=0,s=0,a=0,d=0,f=0,v="",w="";"7:00 AM"==i.startTime&&(v=i.subjectCode,o=d),this.times.forEach(S=>{if(S.includes(i.startTime)&&(v=i.subjectCode,o=d+1),S.includes(i.endTime)){let E=i.facultyName.split(" ");w=E[E.length-1],s=f}d++,f++});let x=0;if(s-o!=1){a=s-o,x=Math.floor(a/2),this.wednesday[o+x]=v,this.wednesday[s-x]=w;for(let S=0;S<x;S++)this.wednesday[o]="-"==this.wednesday[o]||"@"==this.wednesday[s]?"@":"-",o++;for(let S=0;S<x;S++)"-"==this.wednesday[s]||"@"==this.wednesday[s]?this.wednesday[o]="@":this.wednesday[s]="-",s--}else this.wednesday[o]=v,this.wednesday[s]=w;x=0,o=0,s=0,a=0,d=0,f=0})}checkThursdayLoads(){const e=i=>new Date("1970/01/01 "+i);this.thursdayLoad.sort((i,o)=>e(i.startTime)-e(o.startTime)),this.thursdayLoad.forEach(i=>{let o=0,s=0,a=0,d=0,f=0,v="",w="";"7:00 AM"==i.startTime&&(v=i.subjectCode,o=d),this.times.forEach(S=>{if(S.includes(i.startTime)&&(v=i.subjectCode,o=d+1),S.includes(i.endTime)){let E=i.facultyName.split(" ");w=E[E.length-1],s=f}d++,f++});let x=0;if(s-o!=1){a=s-o,x=Math.floor(a/2),this.thursday[o+x]=v,this.thursday[s-x]=w;for(let S=0;S<x;S++)this.thursday[o]="-"==this.thursday[o]||"@"==this.thursday[s]?"@":"-",o++;for(let S=0;S<x;S++)"-"==this.thursday[s]||"@"==this.thursday[s]?this.thursday[o]="@":this.thursday[s]="-",s--}else this.thursday[o]=v,this.thursday[s]=w;x=0,o=0,s=0,a=0,d=0,f=0})}checkFridayLoads(){const e=i=>new Date("1970/01/01 "+i);this.fridayLoad.sort((i,o)=>e(i.startTime)-e(o.startTime)),this.fridayLoad.forEach(i=>{let o=0,s=0,a=0,d=0,f=0,v="",w="";"7:00 AM"==i.startTime&&(v=i.subjectCode,o=d),this.times.forEach(S=>{if(S.includes(i.startTime)&&(v=i.subjectCode,o=d+1),S.includes(i.endTime)){let E=i.facultyName.split(" ");w=E[E.length-1],s=f}d++,f++});let x=0;if(s-o!=1){a=s-o,x=Math.floor(a/2),this.friday[o+x]=v,this.friday[s-x]=w;for(let S=0;S<x;S++)this.friday[o]="-"==this.friday[o]||"@"==this.friday[s]?"@":"-",o++;for(let S=0;S<x;S++)"-"==this.friday[s]||"@"==this.friday[s]?this.friday[o]="@":this.friday[s]="-",s--}else this.friday[o]=v,this.friday[s]=w;x=0,o=0,s=0,a=0,d=0,f=0})}checkSaturdayLoads(){const e=i=>new Date("1970/01/01 "+i);this.saturdayLoad.sort((i,o)=>e(i.startTime)-e(o.startTime)),this.saturdayLoad.forEach(i=>{let o=0,s=0,a=0,d=0,f=0,v="",w="";"7:00 AM"==i.startTime&&(v=i.subjectCode,o=d),this.times.forEach(S=>{if(S.includes(i.startTime)&&(v=i.subjectCode,o=d+1),S.includes(i.endTime)){let E=i.facultyName.split(" ");w=E[E.length-1],s=f}d++,f++});let x=0;if(s-o!=1){a=s-o,x=Math.floor(a/2),this.saturday[o+x]=v,this.saturday[s-x]=w;for(let S=0;S<x;S++)this.saturday[o]="-"==this.saturday[o]||"@"==this.saturday[s]?"@":"-",o++;for(let S=0;S<x;S++)"-"==this.saturday[s]||"@"==this.saturday[s]?this.saturday[o]="@":this.saturday[s]="-",s--}else this.saturday[o]=v,this.saturday[s]=w;x=0,o=0,s=0,a=0,d=0,f=0})}checkSundayLoads(){const e=i=>new Date("1970/01/01 "+i);this.sundayLoad.sort((i,o)=>e(i.startTime)-e(o.startTime)),this.sundayLoad.forEach(i=>{let o=0,s=0,a=0,d=0,f=0,v="",w="";"7:00 AM"==i.startTime&&(v=i.subjectCode,o=d),this.times.forEach(S=>{if(S.includes(i.startTime)&&(v=i.subjectCode,o=d+1),S.includes(i.endTime)){let E=i.facultyName.split(" ");w=E[E.length-1],s=f}d++,f++});let x=0;if(s-o!=1){a=s-o,x=Math.floor(a/2),this.sunday[o+x]=v,this.sunday[s-x]=w;for(let S=0;S<x;S++)this.sunday[o]="-"==this.sunday[o]||"@"==this.sunday[s]?"@":"-",o++;for(let S=0;S<x;S++)"-"==this.sunday[s]||"@"==this.sunday[s]?this.sunday[o]="@":this.sunday[s]="-",s--}else this.sunday[o]=v,this.sunday[s]=w;x=0,o=0,s=0,a=0,d=0,f=0})}fillDayArrays(){let e=0;this.times.forEach(i=>{this.monday[e]="\xa0",e++}),e=0,this.times.forEach(i=>{this.tuesday[e]="\xa0",e++}),e=0,this.times.forEach(i=>{this.wednesday[e]="\xa0",e++}),e=0,this.times.forEach(i=>{this.thursday[e]="\xa0",e++}),e=0,this.times.forEach(i=>{this.friday[e]="\xa0",e++}),e=0,this.times.forEach(i=>{this.saturday[e]="\xa0",e++}),e=0,this.times.forEach(i=>{this.sunday[e]="\xa0",e++}),e=0}getDays(e){this.allLoads=[],this.mondayLoad=e.filter(i=>"monday"==i.day),this.tuesdayLoad=e.filter(i=>"tuesday"==i.day),this.wednesdayLoad=e.filter(i=>"wednesday"==i.day),this.thursdayLoad=e.filter(i=>"thursday"==i.day),this.fridayLoad=e.filter(i=>"friday"==i.day),this.saturdayLoad=e.filter(i=>"saturday"==i.day),this.sundayLoad=e.filter(i=>"sunday"==i.day),this.mondayLoad.forEach(i=>{this.allLoads.push(i)}),this.tuesdayLoad.forEach(i=>{this.allLoads.push(i)}),this.wednesdayLoad.forEach(i=>{this.allLoads.push(i)}),this.thursdayLoad.forEach(i=>{this.allLoads.push(i)}),this.fridayLoad.forEach(i=>{this.allLoads.push(i)}),this.saturdayLoad.forEach(i=>{this.allLoads.push(i)}),this.sundayLoad.forEach(i=>{this.allLoads.push(i)})}exportToPDF(){const e=this.content.nativeElement;new xE("p","mm",[850,850]).html(e,{callback:o=>{try{o.save(`${this.currentSectionLoad[0].section}.pdf`)}catch(s){this.uiService.showErrorToast("Please choose a section first!","Error")}}})}filter(e){this.view=e}ngOnDestroy(){this.sectionSubs.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(bg),r.Y36(Ko))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-section-load-view"]],viewQuery:function(e,i){if(1&e&&r.Gf(Ige,7),2&e){let o;r.iGM(o=r.CRH())&&(i.content=o.first)}},decls:19,vars:2,consts:[[1,"main-div"],["fxLayout","row","fxLayoutAlign","start center"],[1,"view-text"],["color","primary","fxLayoutAlign","end center",1,"button-toggle"],["group","matButtonToggleGroup"],["value","Class Schedule Timeline",3,"click"],["value","Class Schedule Load",3,"click"],["fxLayoutAlign","end center","fxLayout","row",2,"margin-bottom","-30px"],["mat-raised-button","",1,"export-btn",3,"click"],[1,"sub-div",2,"margin-right","10px"],["content",""],["class","timeline","fxLayout","column","style","margin-left: 15px;",4,"ngIf"],["fxLayout","column","style","margin-left: 15px; margin-top: 15px;",4,"ngIf"],["fxLayout","column",1,"timeline",2,"margin-left","15px"],["fxFlex","16%",1,"time"],["class"," section",4,"ngIf"],["fxFlex","84%"],["fxLayout","row",1,"table"],["fxFlex","18%",1,"time"],[1,"table-item","header"],["class","table-item",4,"ngFor","ngForOf"],["fxFlex","11.714%",1,"monday"],["class","table-item",3,"ngClass",4,"ngFor","ngForOf"],["fxFlex","11.714%",1,"tuesday"],["fxFlex","11.714%",1,"wednesday"],["fxFlex","11.714%",1,"thursday"],["fxFlex","11.714%",1,"friday"],["fxFlex","11.714%",1,"saturday"],["fxFlex","11.714%",1,"sunday"],[1,"section"],[1,"table-item"],[1,"table-item",3,"ngClass"],["fxLayout","column",2,"margin-left","15px","margin-top","15px"],["fxLayout","row",1,"load-headers",2,"width","100%"],["fxFlex","33%"],[1,"load-header",2,"background-color","rgb(255, 249, 160)"],["fxFlex","10%"],[1,"load-header",2,"background-color","rgb(167, 188, 255)"],["fxFlex","16%"],[1,"load-header",2,"background-color","rgb(255, 201, 188)"],["fxFlex","13%"],[1,"load-header",2,"background-color","rgb(255, 234, 167)"],["fxFlex","28%"],[1,"load-header",2,"background-color","rgb(179, 226, 152)"],["class","load-texts","fxLayout","row","fxLayoutAlign","center","style","width: 99.7%;",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","center",1,"load-texts",2,"width","99.7%"],["fxFill","",1,"load-text"]],template:function(e,i){if(1&e){const o=r.EpF();r.TgZ(0,"div",0)(1,"div",1)(2,"p",2),r._uU(3,"View as:"),r.qZA(),r.TgZ(4,"mat-button-toggle-group",3,4)(6,"mat-button-toggle",5),r.NdJ("click",function(){r.CHM(o);const a=r.MAs(5);return i.filter(a.value)}),r._uU(7,"Class Schedule Timeline"),r.qZA(),r.TgZ(8,"mat-button-toggle",6),r.NdJ("click",function(){r.CHM(o);const a=r.MAs(5);return i.filter(a.value)}),r._uU(9,"Class Schedule Load"),r.qZA()()(),r.TgZ(10,"div",7)(11,"button",8),r.NdJ("click",function(){return i.exportToPDF()}),r.TgZ(12,"mat-icon"),r._uU(13,"ios_share"),r.qZA(),r._uU(14," Export as pdf "),r.qZA()(),r.TgZ(15,"div",9,10),r.YNc(17,qge,49,10,"div",11),r.YNc(18,Yge,24,3,"div",12),r.qZA()()}2&e&&(r.xp6(17),r.Q6J("ngIf","Class Schedule Timeline"==i.view),r.xp6(1),r.Q6J("ngIf","Class Schedule Load"==i.view))},directives:[zr,uo,BC,UC,Uo,Wf,Sn,Yd,qn,xr,W_,F_],pipes:[Yo],styles:["[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--light);border-radius:20px;-webkit-transition:all ease-in-out 1s;transition:all ease-in-out 1s}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--primary)}.main-div[_ngcontent-%COMP%]{height:77vh;-ms-overflow-style:none;scrollbar-width:none;overflow-y:scroll}.button-toggle[_ngcontent-%COMP%]{padding:13px;height:25px}mat-button-toggle[_ngcontent-%COMP%]{font-family:var(--mont);font-size:13px!important}mat-button-toggle[_ngcontent-%COMP%]:hover{background-color:var(--primary)!important;color:#fff}.mat-button-toggle-checked[_ngcontent-%COMP%]{background-color:var(--primary)!important;color:#fff}.mat-button-toggle-group[_ngcontent-%COMP%]{border:0px!important}.view-text[_ngcontent-%COMP%]{font-family:var(--mont);margin-top:12px}.export-btn[_ngcontent-%COMP%]{background-color:#d4d4d4;margin-right:15px}.timeline[_ngcontent-%COMP%]{margin-top:15px}.table-item[_ngcontent-%COMP%]{border:1px solid black;text-align:center;margin:0;font-size:11px}.header[_ngcontent-%COMP%]{font-size:12px;font-weight:700;letter-spacing:.1em}.on-schedule[_ngcontent-%COMP%]{background-color:#dbdbdb}.on-overlap[_ngcontent-%COMP%]{background-color:#ff9a9a}.section[_ngcontent-%COMP%]{font-weight:700;font-family:var(--incon)}.load-headers[_ngcontent-%COMP%]{text-align:center;margin:0;padding:0}.load-header[_ngcontent-%COMP%]{border:1px solid black;font-weight:700;letter-spacing:.1em;font-size:12px;margin:0;padding:0}.load-texts[_ngcontent-%COMP%]{text-align:center;margin:0;padding:0}.load-text[_ngcontent-%COMP%]{border:1px solid black;letter-spacing:.1em;margin:0;padding:0;font-size:11px}"]}),t})(),Wge=(()=>{class t{constructor(){}ngOnInit(){}ngOnDestroy(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-section-load"]],decls:9,vars:0,consts:[[1,"main-div"],["fxLayout","row","fxLayoutAlign","space-between",1,"sub-div"],[1,"editor-div"],[1,"division"],[1,"view-div"]],template:function(e,i){1&e&&(r.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div"),r._UZ(4,"app-section-load-editor"),r.qZA()(),r._UZ(5,"div",3),r.TgZ(6,"div",4)(7,"div"),r._UZ(8,"app-section-load-view"),r.qZA()()()())},directives:[zr,uo,kge,zge],styles:[".main-div[_ngcontent-%COMP%]{width:100%;height:92%;overflow:hidden}.sub-div[_ngcontent-%COMP%]{margin:30px;width:95%;height:93%;background-color:#fff;overflow:hidden;padding:50px 0;position:relative}.division[_ngcontent-%COMP%]{width:1px;height:100%;background-color:#42424259}.arrow-back[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;cursor:pointer}.back-text[_ngcontent-%COMP%]{margin:2px 0 0 5px;font-family:var(--mont)}.back-text[_ngcontent-%COMP%]:hover{color:var(--primary)}.editor-div[_ngcontent-%COMP%], .view-div[_ngcontent-%COMP%]{width:50%;height:100%;padding:20px}"]}),t})(),zz=(()=>{class t{constructor(e,i){this.authService=e,this.router=i}canActivate(e,i){return!!this.authService.isAuth()||(this.router.navigate(["/login"]),!1)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Po),r.LFG(ja))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const L5=["*"],$ge=["content"];function Qge(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"div",2),r.NdJ("click",function(){return r.CHM(e),r.oxw()._onBackdropClicked()}),r.qZA()}if(2&t){const e=r.oxw();r.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function Jge(t,n){1&t&&(r.TgZ(0,"mat-drawer-content"),r.Hsn(1,2),r.qZA())}const Kge=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Xge=["mat-drawer","mat-drawer-content","*"];function e_e(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"div",2),r.NdJ("click",function(){return r.CHM(e),r.oxw()._onBackdropClicked()}),r.qZA()}if(2&t){const e=r.oxw();r.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function t_e(t,n){1&t&&(r.TgZ(0,"mat-sidenav-content"),r.Hsn(1,2),r.qZA())}const n_e=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],i_e=["mat-sidenav","mat-sidenav-content","*"],Wz={transformDrawer:zs("transform",[Mr("open, open-instant",Qt({transform:"none",visibility:"visible"})),Mr("void",Qt({"box-shadow":"none",visibility:"hidden"})),pr("void => open-instant",Ar("0ms")),pr("void <=> open, open-instant => void",Ar("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},o_e=new r.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function s_e(){return!1}}),f4=new r.OlP("MAT_DRAWER_CONTAINER");let F5=(()=>{class t extends Q2{constructor(e,i,o,s,a){super(o,s,a),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.sBO),r.Y36((0,r.Gpc)(()=>Qz)),r.Y36(r.SBq),r.Y36($2),r.Y36(r.R0b))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,i){2&e&&r.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[r._Bn([{provide:Q2,useExisting:t}]),r.qOj],ngContentSelectors:L5,decls:1,vars:0,template:function(e,i){1&e&&(r.F$t(),r.Hsn(0))},encapsulation:2,changeDetection:0}),t})(),$z=(()=>{class t{constructor(e,i,o,s,a,d,f,v){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=o,this._platform=s,this._ngZone=a,this._interactivityChecker=d,this._doc=f,this._container=v,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Ht.x,this._animationEnd=new Ht.x,this._animationState="void",this.openedChange=new r.vpe(!0),this._openedStream=this.openedChange.pipe(hr(w=>w),(0,un.U)(()=>{})),this.openedStart=this._animationStarted.pipe(hr(w=>w.fromState!==w.toState&&0===w.toState.indexOf("open")),_6(void 0)),this._closedStream=this.openedChange.pipe(hr(w=>!w),(0,un.U)(()=>{})),this.closedStart=this._animationStarted.pipe(hr(w=>w.fromState!==w.toState&&"void"===w.toState),_6(void 0)),this._destroyed=new Ht.x,this.onPositionChanged=new r.vpe,this._modeChanged=new Ht.x,this.openedChange.subscribe(w=>{w?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Ty(this._elementRef.nativeElement,"keydown").pipe(hr(w=>27===w.keyCode&&!this.disableClose&&!lc(w)),ai(this._destroyed)).subscribe(w=>this._ngZone.run(()=>{this.close(),w.stopPropagation(),w.preventDefault()}))}),this._animationEnd.pipe(P_((w,x)=>w.fromState===x.fromState&&w.toState===x.toState)).subscribe(w=>{const{fromState:x,toState:S}=w;(0===S.indexOf("open")&&"void"===x||"void"===S&&0===x.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Rn(e)}get autoFocus(){const e=this._autoFocus;return null==e?"side"===this.mode?"dialog":"first-tabbable":e}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=Rn(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(Rn(e))}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const o=()=>{e.removeEventListener("blur",o),e.removeEventListener("mousedown",o),e.removeAttribute("tabindex")};e.addEventListener("blur",o),e.addEventListener("mousedown",o)})),e.focus(i)}_focusByCssSelector(e,i){let o=this._elementRef.nativeElement.querySelector(e);o&&this._forceFocus(o,i)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){var e;this._focusTrap&&this._focusTrap.destroy(),null===(e=this._anchor)||void 0===e||e.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);const o=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),o}_setOpen(e,i,o){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(o)),this._updateFocusTrapState(),new Promise(s=>{this.openedChange.pipe((0,Er.q)(1)).subscribe(a=>s(a?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const i=this._elementRef.nativeElement,o=i.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),o.insertBefore(this._anchor,i)),o.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(Px),r.Y36(Bh),r.Y36(ho),r.Y36(r.R0b),r.Y36(Rx),r.Y36(et,8),r.Y36(f4,8))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-drawer"]],viewQuery:function(e,i){if(1&e&&r.Gf($ge,5),2&e){let o;r.iGM(o=r.CRH())&&(i._content=o.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,i){1&e&&r.WFA("@transform.start",function(s){return i._animationStarted.next(s)})("@transform.done",function(s){return i._animationEnd.next(s)}),2&e&&(r.uIk("align",null),r.d8E("@transform",i._animationState),r.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:L5,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(r.F$t(),r.TgZ(0,"div",0,1),r.Hsn(2),r.qZA())},directives:[Q2],encapsulation:2,data:{animation:[Wz.transformDrawer]},changeDetection:0}),t})(),Qz=(()=>{class t{constructor(e,i,o,s,a,d=!1,f){this._dir=e,this._element=i,this._ngZone=o,this._changeDetectorRef=s,this._animationMode=f,this._drawers=new r.n_E,this.backdropClick=new r.vpe,this._destroyed=new Ht.x,this._doCheckSubject=new Ht.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Ht.x,e&&e.change.pipe(ai(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),a.change().pipe(ai(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=d}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Rn(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:Rn(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(Ir(this._allDrawers),ai(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Ir(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Ow(10),ai(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const o=this._left._getWidth();e+=o,i-=o}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const o=this._right._getWidth();i+=o,e-=o}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(hr(i=>i.fromState!==i.toState),ai(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(ai(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe(ai(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,Er.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(ai((0,co.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,o="mat-drawer-container-has-open";e?i.add(o):i.remove(o)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Us,8),r.Y36(r.SBq),r.Y36(r.R0b),r.Y36(r.sBO),r.Y36(Sy),r.Y36(o_e),r.Y36(O,8))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-drawer-container"]],contentQueries:function(e,i,o){if(1&e&&(r.Suo(o,F5,5),r.Suo(o,$z,5)),2&e){let s;r.iGM(s=r.CRH())&&(i._content=s.first),r.iGM(s=r.CRH())&&(i._allDrawers=s)}},viewQuery:function(e,i){if(1&e&&r.Gf(F5,5),2&e){let o;r.iGM(o=r.CRH())&&(i._userContent=o.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,i){2&e&&r.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[r._Bn([{provide:f4,useExisting:t}])],ngContentSelectors:Xge,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(r.F$t(Kge),r.YNc(0,Qge,1,2,"div",0),r.Hsn(1),r.Hsn(2,1),r.YNc(3,Jge,2,0,"mat-drawer-content",1)),2&e&&(r.Q6J("ngIf",i.hasBackdrop),r.xp6(3),r.Q6J("ngIf",!i._content))},directives:[F5,Sn],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),t})(),p4=(()=>{class t extends F5{constructor(e,i,o,s,a){super(e,i,o,s,a)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.sBO),r.Y36((0,r.Gpc)(()=>Jz)),r.Y36(r.SBq),r.Y36($2),r.Y36(r.R0b))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,i){2&e&&r.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[r._Bn([{provide:Q2,useExisting:t}]),r.qOj],ngContentSelectors:L5,decls:1,vars:0,template:function(e,i){1&e&&(r.F$t(),r.Hsn(0))},encapsulation:2,changeDetection:0}),t})(),m4=(()=>{class t extends $z{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=Rn(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=ac(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=ac(e)}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=r.n5z(t)))(i||t)}}(),t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,i){2&e&&(r.uIk("align",null),r.Udp("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),r.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened)("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[r.qOj],ngContentSelectors:L5,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(r.F$t(),r.TgZ(0,"div",0,1),r.Hsn(2),r.qZA())},directives:[Q2],encapsulation:2,data:{animation:[Wz.transformDrawer]},changeDetection:0}),t})(),Jz=(()=>{class t extends Qz{}return t.\u0275fac=function(){let n;return function(i){return(n||(n=r.n5z(t)))(i||t)}}(),t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-sidenav-container"]],contentQueries:function(e,i,o){if(1&e&&(r.Suo(o,p4,5),r.Suo(o,m4,5)),2&e){let s;r.iGM(s=r.CRH())&&(i._content=s.first),r.iGM(s=r.CRH())&&(i._allDrawers=s)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,i){2&e&&r.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[r._Bn([{provide:f4,useExisting:t}]),r.qOj],ngContentSelectors:i_e,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(r.F$t(n_e),r.YNc(0,e_e,1,2,"div",0),r.Hsn(1),r.Hsn(2,1),r.YNc(3,t_e,2,0,"mat-sidenav-content",1)),2&e&&(r.Q6J("ngIf",i.hasBackdrop),r.xp6(3),r.Q6J("ngIf",!i._content))},directives:[p4,Sn],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),t})(),Kz=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[wo,ci,Sb],Sb,ci]}),t})();const a_e=["*",[["mat-toolbar-row"]]],l_e=["*","mat-toolbar-row"],c_e=jh(class{constructor(t){this._elementRef=t}});let u_e=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),t})(),d_e=(()=>{class t extends c_e{constructor(e,i,o){super(e),this._platform=i,this._document=o}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(ho),r.Y36(et))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-toolbar"]],contentQueries:function(e,i,o){if(1&e&&r.Suo(o,u_e,5),2&e){let s;r.iGM(s=r.CRH())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&r.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[r.qOj],ngContentSelectors:l_e,decls:2,vars:0,template:function(e,i){1&e&&(r.F$t(a_e),r.Hsn(0),r.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),t})(),Xz=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[ci],ci]}),t})(),h_e=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[ci],ci]}),t})();const e9=["*"],p_e=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],m_e=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],b_e=td(nd(class{})),w_e=nd(class{}),C_e=new r.OlP("MatList"),t9=new r.OlP("MatNavList");let x_e=(()=>{class t extends b_e{constructor(){super(...arguments),this._stateChanges=new Ht.x}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=r.n5z(t)))(i||t)}}(),t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[r._Bn([{provide:t9,useExisting:t}]),r.qOj,r.TTD],ngContentSelectors:e9,decls:1,vars:0,template:function(e,i){1&e&&(r.F$t(),r.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),t})(),n9=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),t})(),i9=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),t})(),T_e=(()=>{class t extends w_e{constructor(e,i,o,s){super(),this._element=e,this._isInteractiveList=!1,this._destroyed=new Ht.x,this._disabled=!1,this._isInteractiveList=!!(o||s&&"action-list"===s._getListType()),this._list=o||s;const a=this._getHostElement();"button"===a.nodeName.toLowerCase()&&!a.hasAttribute("type")&&a.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(ai(this._destroyed)).subscribe(()=>{i.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(e){this._disabled=Rn(e)}ngAfterContentInit(){!function RU(t,n,e="mat"){t.changes.pipe(Ir(t)).subscribe(({length:i})=>{H2(n,`${e}-2-line`,!1),H2(n,`${e}-3-line`,!1),H2(n,`${e}-multi-line`,!1),2===i||3===i?H2(n,`${e}-${i}-line`,!0):i>3&&H2(n,`${e}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(t9,8),r.Y36(C_e,8))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(e,i,o){if(1&e&&(r.Suo(o,n9,5),r.Suo(o,i9,5),r.Suo(o,NU,5)),2&e){let s;r.iGM(s=r.CRH())&&(i._avatar=s.first),r.iGM(s=r.CRH())&&(i._icon=s.first),r.iGM(s=r.CRH())&&(i._lines=s)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(e,i){2&e&&r.ekj("mat-list-item-disabled",i.disabled)("mat-list-item-avatar",i._avatar||i._icon)("mat-list-item-with-avatar",i._avatar||i._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[r.qOj],ngContentSelectors:m_e,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(e,i){1&e&&(r.F$t(p_e),r.TgZ(0,"span",0),r._UZ(1,"span",1),r.Hsn(2),r.TgZ(3,"span",2),r.Hsn(4,1),r.qZA(),r.Hsn(5,2),r.qZA()),2&e&&(r.xp6(1),r.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i._isRippleDisabled()))},directives:[Wp],encapsulation:2,changeDetection:0}),t})(),o9=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[PU,Ab,ci,WN,wo],PU,ci,WN,h_e]}),t})(),k_e=0;const I_e=td(class{}),s9="mat-badge-content";let O_e=(()=>{class t extends I_e{constructor(e,i,o,s,a){super(),this._ngZone=e,this._elementRef=i,this._ariaDescriber=o,this._renderer=s,this._animationMode=a,this._color="primary",this._overlap=!0,this.position="above after",this.size="medium",this._id=k_e++,this._isInitialized=!1}get color(){return this._color}set color(e){this._setColor(e),this._color=e}get overlap(){return this._overlap}set overlap(e){this._overlap=Rn(e)}get content(){return this._content}set content(e){this._updateRenderedContent(e)}get description(){return this._description}set description(e){this._updateHostAriaDescription(e)}get hidden(){return this._hidden}set hidden(e){this._hidden=Rn(e)}isAbove(){return-1===this.position.indexOf("below")}isAfter(){return-1===this.position.indexOf("before")}getBadgeElement(){return this._badgeElement}ngOnInit(){this._clearExistingBadges(),this.content&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement(),this._updateRenderedContent(this.content)),this._isInitialized=!0}ngOnDestroy(){this._renderer.destroyNode&&this._renderer.destroyNode(this._badgeElement),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description)}_createBadgeElement(){const e=this._renderer.createElement("span"),i="mat-badge-active";return e.setAttribute("id",`mat-badge-content-${this._id}`),e.setAttribute("aria-hidden","true"),e.classList.add(s9),"NoopAnimations"===this._animationMode&&e.classList.add("_mat-animation-noopable"),this._elementRef.nativeElement.appendChild(e),"function"==typeof requestAnimationFrame&&"NoopAnimations"!==this._animationMode?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{e.classList.add(i)})}):e.classList.add(i),e}_updateRenderedContent(e){const i=`${null!=e?e:""}`.trim();this._isInitialized&&i&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement()),this._badgeElement&&(this._badgeElement.textContent=i),this._content=i}_updateHostAriaDescription(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description),e&&this._ariaDescriber.describe(this._elementRef.nativeElement,e),this._description=e}_setColor(e){const i=this._elementRef.nativeElement.classList;i.remove(`mat-badge-${this._color}`),e&&i.add(`mat-badge-${e}`)}_clearExistingBadges(){const e=this._elementRef.nativeElement.querySelectorAll(`:scope > .${s9}`);for(const i of Array.from(e))i!==this._badgeElement&&i.remove()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.R0b),r.Y36(r.SBq),r.Y36(GS),r.Y36(r.Qsj),r.Y36(O,8))},t.\u0275dir=r.lG2({type:t,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(e,i){2&e&&r.ekj("mat-badge-overlap",i.overlap)("mat-badge-above",i.isAbove())("mat-badge-below",!i.isAbove())("mat-badge-before",!i.isAfter())("mat-badge-after",i.isAfter())("mat-badge-small","small"===i.size)("mat-badge-medium","medium"===i.size)("mat-badge-large","large"===i.size)("mat-badge-hidden",i.hidden||!i.content)("mat-badge-disabled",i.disabled)},inputs:{disabled:["matBadgeDisabled","disabled"],color:["matBadgeColor","color"],overlap:["matBadgeOverlap","overlap"],position:["matBadgePosition","position"],content:["matBadge","content"],description:["matBadgeDescription","description"],size:["matBadgeSize","size"],hidden:["matBadgeHidden","hidden"]},features:[r.qOj]}),t})(),a9=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[Gx,ci],ci]}),t})(),L_e=(()=>{class t{transform(e,...i){return e.match(/\b(\w)/g).join("")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Yjl({name:"firstLetterWord",type:t,pure:!0}),t})();function F_e(t,n){1&t&&(r.TgZ(0,"div",2),r._UZ(1,"mat-spinner"),r.TgZ(2,"p",3),r._uU(3,"Wait a sec..."),r.qZA()())}const kA=function(t){return{backgroundColor:t}};function N_e(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"mat-nav-list")(1,"a",33),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).onSubmissionActive("submission")}),r.TgZ(2,"mat-icon",14),r._uU(3,"content_paste"),r.qZA(),r._uU(4,"Submission"),r.qZA()()}if(2&t){const e=r.oxw(2);r.xp6(1),r.Q6J("ngStyle",r.VKq(1,kA,"submission"==e.activeLink?"white":""))}}function R_e(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"mat-nav-list")(1,"a",34),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).onChairpersonActive("chairperson")}),r.TgZ(2,"mat-icon",14),r._uU(3,"folder_shared"),r.qZA(),r._uU(4,"Chairperson"),r.qZA()()}if(2&t){const e=r.oxw(2);r.xp6(1),r.Q6J("ngStyle",r.VKq(1,kA,"chairperson"==e.activeLink?"white":""))}}function P_e(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"mat-nav-list")(1,"a",35),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).onRoomSectionActive("roomsection")}),r.TgZ(2,"mat-icon",14),r._uU(3,"room_preferences"),r.qZA(),r._uU(4,"Rooms & Sections"),r.qZA()()}if(2&t){const e=r.oxw(2);r.xp6(1),r.Q6J("ngStyle",r.VKq(1,kA,"roomsection"==e.activeLink?"white":""))}}function B_e(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"mat-nav-list")(1,"a",36),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).onSectionLoadActive("sectionload")}),r.TgZ(2,"mat-icon",14),r._uU(3,"folder_shared"),r.qZA(),r._uU(4,"Class Schedule Mode"),r.qZA()()}if(2&t){const e=r.oxw(2);r.xp6(1),r.Q6J("ngStyle",r.VKq(1,kA,"sectionload"==e.activeLink?"white":""))}}function U_e(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"mat-nav-list")(1,"a",37),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).onFacultyLoadActive("facultyload")}),r.TgZ(2,"mat-icon",14),r._uU(3,"group_add"),r.qZA(),r._uU(4,"Faculty Mode"),r.qZA()()}if(2&t){const e=r.oxw(2);r.xp6(1),r.Q6J("ngStyle",r.VKq(1,kA,"facultyload"==e.activeLink?"white":""))}}function j_e(t,n){if(1&t&&(r.TgZ(0,"span",40),r._uU(1),r.ALo(2,"date"),r.ALo(3,"date"),r.qZA()),2&t){const e=r.oxw(3);r.xp6(1),r.Oqu(" [Deadline "+r.lcZ(2,1,e.currentUser.startDate.toDate())+" - "+r.lcZ(3,3,e.currentUser.endDate.toDate())+"]")}}function V_e(t,n){if(1&t&&(r.TgZ(0,"div",38),r.YNc(1,j_e,4,5,"span",39),r.qZA()),2&t){const e=r.oxw(2);r.xp6(1),r.Q6J("ngIf","admin"!=e.currentUser.department)}}function q_e(t,n){1&t&&(r.TgZ(0,"span",40),r._uU(1),r.qZA()),2&t&&(r.xp6(1),r.Oqu("[Deadline: N/A]"))}function H_e(t,n){if(1&t&&(r.TgZ(0,"div",38),r.YNc(1,q_e,2,1,"span",39),r.qZA()),2&t){const e=r.oxw(2);r.xp6(1),r.Q6J("ngIf","admin"!=e.currentUser.department)}}function G_e(t,n){1&t&&(r.TgZ(0,"div",41)(1,"p",42),r._uU(2,"You have no notifications today"),r.qZA()())}function Z_e(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"div",43),r.NdJ("click",function(o){return o.stopPropagation()}),r.TgZ(1,"mat-icon",44),r.NdJ("click",function(){const s=r.CHM(e).index;return r.oxw(2).onDeleteNotification(s)}),r._uU(2,"close"),r.qZA(),r.TgZ(3,"div",45)(4,"mat-icon",46),r._uU(5),r.qZA(),r.TgZ(6,"p",42),r._uU(7),r.qZA()(),r.TgZ(8,"div",47)(9,"p",48),r._uU(10),r.qZA()()()}if(2&t){const e=n.$implicit;r.Q6J("disableRipple",!0),r.xp6(4),r.Q6J("ngClass","notification_important"==e.icon?"warn":"check"==e.icon?"success":"primary"),r.xp6(1),r.Oqu(e.icon),r.xp6(2),r.Oqu(e.heading),r.xp6(3),r.Oqu(e.contents)}}function Y_e(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"div",49)(1,"p",50),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).onDeleteAllNotification()}),r._uU(2,"Delete All Notifications"),r.qZA()()}}function z_e(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"mat-sidenav-container",4)(1,"mat-sidenav",5,6),r.NdJ("openedChange",function(o){return r.CHM(e),r.oxw().opened=o}),r.ALo(3,"async"),r.ALo(4,"async"),r.ALo(5,"async"),r.TgZ(6,"mat-toolbar",7)(7,"div",8),r._UZ(8,"img",9),r.TgZ(9,"p",10),r._uU(10),r.ALo(11,"uppercase"),r.qZA(),r.TgZ(12,"p",11),r._uU(13),r.ALo(14,"firstLetterWord"),r.qZA(),r.TgZ(15,"p",11),r._uU(16),r.qZA()()(),r.TgZ(17,"mat-nav-list",12)(18,"a",13),r.NdJ("click",function(){return r.CHM(e),r.oxw().onDashboardActive("dashboard")}),r.TgZ(19,"mat-icon",14),r._uU(20,"dashboard"),r.qZA(),r._uU(21,"Dashboard"),r.qZA()(),r.YNc(22,N_e,5,3,"mat-nav-list",15),r.YNc(23,R_e,5,3,"mat-nav-list",15),r.YNc(24,P_e,5,3,"mat-nav-list",15),r.YNc(25,B_e,5,3,"mat-nav-list",15),r.YNc(26,U_e,5,3,"mat-nav-list",15),r.TgZ(27,"mat-nav-list",16)(28,"div",17)(29,"mat-icon",18),r._uU(30,"logout"),r.qZA(),r.TgZ(31,"p",19),r.NdJ("click",function(){return r.CHM(e),r.oxw().onLogout()}),r._uU(32,"Logout"),r.qZA()()()(),r.TgZ(33,"mat-sidenav-content")(34,"mat-toolbar",20)(35,"mat-icon",21),r.NdJ("click",function(){return r.CHM(e),r.oxw().onToggle()}),r._uU(36,"menu"),r.qZA(),r.TgZ(37,"div")(38,"p",22),r._uU(39),r.qZA()(),r.TgZ(40,"div",23),r.YNc(41,V_e,2,1,"div",24),r.YNc(42,H_e,2,1,"div",24),r.TgZ(43,"div")(44,"button",25)(45,"mat-icon",26),r._uU(46,"notifications"),r.qZA()(),r.TgZ(47,"mat-menu",27,28),r.YNc(49,G_e,3,0,"div",29),r.YNc(50,Z_e,11,5,"div",30),r.YNc(51,Y_e,3,0,"div",31),r.qZA()(),r.TgZ(52,"ul",32)(53,"li")(54,"a"),r._uU(55),r.qZA()()()()(),r._UZ(56,"router-outlet"),r.qZA()()}if(2&t){const e=r.MAs(48),i=r.oxw();r.xp6(1),r.Q6J("opened",i.opened)("mode",r.lcZ(4,24,i.isHandset$)?"over":"side")("opened",!1===r.lcZ(5,26,i.isHandset$)),r.uIk("role",r.lcZ(3,22,i.isHandset$)?"dialog":"navigation"),r.xp6(9),r.hij(" ",i.currentUser?r.lcZ(11,28,i.currentUser.fullName):"Greetings!"," "),r.xp6(3),r.hij(" ",i.currentUser?"admin"==i.currentUser.department?"Dean":r.lcZ(14,30,i.currentUser.department)+" Chairperson":""," "),r.xp6(3),r.hij(" ",i.currentUser.isActivated?"Account Activated":"Account Deactivated"," "),r.xp6(2),r.Q6J("ngStyle",r.VKq(32,kA,"dashboard"==i.activeLink?"white":"")),r.xp6(4),r.Q6J("ngIf","admin"==i.currentUser.department),r.xp6(1),r.Q6J("ngIf","admin"==i.currentUser.department),r.xp6(1),r.Q6J("ngIf","admin"==i.currentUser.department),r.xp6(1),r.Q6J("ngIf","admin"!=i.currentUser.department),r.xp6(1),r.Q6J("ngIf","admin"!=i.currentUser.department),r.xp6(13),r.hij(" Academic Year: ",i.currentAcademic.startYear+" - "+i.currentAcademic.endYear+" "+i.currentAcademic.semester," "),r.xp6(2),r.Q6J("ngIf",i.currentUser.startDate),r.xp6(1),r.Q6J("ngIf",!i.currentUser.startDate),r.xp6(2),r.Q6J("matMenuTriggerFor",e),r.xp6(1),r.Q6J("matBadge",i.notifications?i.notifications.length:"0"),r.xp6(4),r.Q6J("ngIf",!i.notifications||0==i.notifications.length),r.xp6(1),r.Q6J("ngForOf",i.notifications),r.xp6(1),r.Q6J("ngIf",i.notifications&&i.notifications.length>0),r.xp6(4),r.hij("Hi, ",i.currentUser?"admin"==i.currentUser.department?"Dean":i.currentUser.fullName.split(" ")[0]:"Welcome!","!")}}let W_e=(()=>{class t{constructor(e,i,o,s,a){this.authService=e,this.router=i,this.userService=o,this.academicService=s,this.breakpointObserver=a,this.activeLink="",this.activeUserEmail="",this.notifications=[],this.isLoadedAlready=!1,this.opened=!0,this.centered=!1,this.isHandset$=this.breakpointObserver.observe(y6_Handset).pipe((0,un.U)(d=>d.matches),Of())}ngOnInit(){this.academicService.fetchActiveAcademicYear(),this.currentAcademicSubs=this.academicService.activeAcademicChange.subscribe(e=>{this.currentAcademic=e}),this.activeUserEmail=localStorage.getItem("activeUserEmail")||"{}",this.userService.fetchCurrentUser(this.activeUserEmail?this.activeUserEmail:"administrator@gmail.com"),this.currentUserSubs=this.userService.currentUserChanges.subscribe(e=>{this.currentUser=e,this.notifications=this.currentUser.notification.reverse(),console.log(this.notifications),0==this.isLoadedAlready&&("admin"==this.currentUser.department?(this.router.navigate(["/sidenav/dashboard"]),this.activeLink="dashboard",console.log("admin works")):(this.router.navigate(["/sidenav/dashboard"]),this.activeLink="dashboard"),this.isLoadedAlready=!0)})}onToggle(){this.opened=!this.opened,this.centered=!this.opened}onDashboardActive(e){this.activeLink=e,localStorage.setItem("activeLink",this.activeLink)}onSubmissionActive(e){this.activeLink=e,localStorage.setItem("activeLink",this.activeLink)}onChairpersonActive(e){this.activeLink=e,localStorage.setItem("activeLink",this.activeLink)}onRoomSectionActive(e){this.activeLink=e,localStorage.setItem("activeLink",this.activeLink)}onSectionLoadActive(e){this.activeLink=e,localStorage.setItem("activeLink",this.activeLink)}onFacultyLoadActive(e){this.activeLink=e,localStorage.setItem("activeLink",this.activeLink)}onHistoryActive(e){this.activeLink=e,localStorage.setItem("activeLink",this.activeLink)}onLogout(){this.authService.logout()}onDeleteNotification(e){this.userService.deleteNotification(this.notifications[e],this.currentUser)}onDeleteAllNotification(){this.userService.deleteAllNotification(this.notifications,this.currentUser),this.notifications=[]}ngOnDestroy(){this.currentUserSubs.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Po),r.Y36(ja),r.Y36(oh),r.Y36(VC),r.Y36(HO))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-sidenav"]],decls:2,vars:2,consts:[["fxLayoutAlign","center center","fxLayout","column","fxLayoutGap","20px","style","height: 100vh",4,"ngIf"],["class","sidenav-container",4,"ngIf"],["fxLayoutAlign","center center","fxLayout","column","fxLayoutGap","20px",2,"height","100vh"],[2,"color","var(--primary)"],[1,"sidenav-container"],["fixedInViewport","",1,"sidenav",3,"opened","mode","openedChange"],["drawer",""],[1,"information"],["fxLayout","column","fxLayoutAlign","center center","fxLayoutGap","10px",1,"profile"],["src","../../assets/admin-img.png","alt","",1,"profile-pic"],[1,"profile-name"],[1,"profile-description"],[2,"margin-top","30px"],["mat-list-item","","routerLink","dashboard","routerLinkActive","active",1,"link-text",3,"ngStyle","click"],["color","primary",1,"nav-spacer"],[4,"ngIf"],[1,"logout"],["fxLayoutAlign","center center","fxLayout","row"],[1,"logout-icon"],[1,"logout-text",3,"click"],[1,"toolbar"],["color","primary",2,"cursor","pointer","margin-right","15px",3,"click"],[1,"toolbar-text"],["fxFlex","","fxLayout","","fxLayoutAlign","flex-end"],["class","deadline-text",4,"ngIf"],["mat-icon-button","",3,"matMenuTriggerFor"],["color","primary","matBadgeColor","warn","matBadgeSize","small",1,"bell-icon",3,"matBadge"],["xPosition","before"],["menu","matMenu"],["mat-menu-item","","fxLayoutAlign","center start",4,"ngIf"],["mat-menu-item","","fxLayout","column","fxLayoutAlign","start start","class","notif-container",3,"disableRipple","click",4,"ngFor","ngForOf"],["mat-menu-item","","fxLayoutAlign","center end",4,"ngIf"],["fxLayout","","fxLayoutGap","10px",1,"navigation-items"],["mat-list-item","","routerLink","submission","routerLinkActive","active",1,"link-text",3,"ngStyle","click"],["mat-list-item","","routerLink","chairperson","routerLinkActive","active",1,"link-text",3,"ngStyle","click"],["mat-list-item","","routerLink","roomsection","routerLinkActive","active",1,"link-text",3,"ngStyle","click"],["mat-list-item","","routerLink","sectionload","routerLinkActive","active",1,"link-text",3,"ngStyle","click"],["mat-list-item","","routerLink","facultyload","routerLinkActive","active",1,"link-text",3,"ngStyle","click"],[1,"deadline-text"],["class","deadline",4,"ngIf"],[1,"deadline"],["mat-menu-item","","fxLayoutAlign","center start"],[1,"notif-header"],["mat-menu-item","","fxLayout","column","fxLayoutAlign","start start",1,"notif-container",3,"disableRipple","click"],[1,"notif-icon",3,"click"],["fxLayoutAlign","start center",2,"width","100%"],[3,"ngClass"],[2,"width","100%"],[1,"notif-content"],["mat-menu-item","","fxLayoutAlign","center end"],[1,"notif-header",3,"click"]],template:function(e,i){1&e&&(r.YNc(0,F_e,4,0,"div",0),r.YNc(1,z_e,57,34,"mat-sidenav-container",1)),2&e&&(r.Q6J("ngIf",!i.currentUser),r.xp6(1),r.Q6J("ngIf",i.currentUser))},directives:[Sn,uo,zr,$s,Yh,Jz,m4,d_e,x_e,T_e,Sf,u_,ta,BG,Wf,p4,Yd,Uo,qO,O_e,VO,IC,qn,xr,W_,Fm],pipes:[uh,Yo,L_e,Qa],styles:["[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#ad2a2a}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--light);border-radius:20px;-webkit-transition:all ease-in-out 1s;transition:all ease-in-out 1s}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--primary)}.profile[_ngcontent-%COMP%]{font-family:var(--incon);margin-top:40px;text-align:center}.profile-pic[_ngcontent-%COMP%]{border-radius:100%;width:35%;height:auto;border:3px solid white}.profile-name[_ngcontent-%COMP%]{color:#fff;margin-top:10px;font-weight:700;text-align:center}.profile-description[_ngcontent-%COMP%]{color:#d8d8d8}.navigation-items[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0 50px 0 0;-webkit-user-select:none;user-select:none;color:var(--primary)}.bell-icon[_ngcontent-%COMP%]{cursor:pointer;font-size:30px;margin-right:20px;animation:bell-anim infinite 4s}.toolbar-text[_ngcontent-%COMP%]{margin-top:10px;font-size:18px;color:var(--primary)}.navigation[_ngcontent-%COMP%]{background-color:var(--primary);width:30vh;height:100vh}.body[_ngcontent-%COMP%]{background-color:var(--gray);height:100vh}.toolbar[_ngcontent-%COMP%]{background-color:#fff}.button-group[_ngcontent-%COMP%]{padding:10%;margin-top:40px}.left-align[_ngcontent-%COMP%]{text-align:left}.text-margin[_ngcontent-%COMP%]{margin-right:3%}button[_ngcontent-%COMP%]{color:var(--primary);font-family:var(--mont);font-weight:300;background-color:#ffffffbd;font-size:.9em}.logout-text[_ngcontent-%COMP%]{color:#fff;margin-top:10px;cursor:pointer;font-family:var(--incon)}.logout-icon[_ngcontent-%COMP%]{color:#fff;margin-right:5px}.logout-container[_ngcontent-%COMP%]{position:absolute;bottom:2vh;left:6%}@keyframes bell-anim{0%{transform:rotate(0)}40%{transform:rotate(-10deg)}60%{transform:rotate(10deg)}to{transform:rotate(0)}}.sidenav-container[_ngcontent-%COMP%]{height:100%}.nav-spacer[_ngcontent-%COMP%]{margin-right:10px;margin-left:10px}.sidenav[_ngcontent-%COMP%]{width:250px;background-color:var(--primary)}.information[_ngcontent-%COMP%]{height:30vh;background-color:var(--primary)}p[_ngcontent-%COMP%]{font-size:15px;line-height:1.5em}.background[_ngcontent-%COMP%]{background-color:#ffffffbd}.link-text[_ngcontent-%COMP%]{font-size:12px!important;background-color:#ffffffcb;border-radius:5px;font-family:var(--mont);margin:0 10px!important;height:35px!important;width:230px!important;color:var(--primary)!important}.logout[_ngcontent-%COMP%]{position:absolute;bottom:10px;margin:0 10px!important;height:35px!important;width:230px!important;overflow:hidden}.link-text[_ngcontent-%COMP%]:hover{background-color:#fff!important}mat-nav-list[_ngcontent-%COMP%]{align-items:center!important;text-align:center!important}.deadline[_ngcontent-%COMP%]{margin-right:15px;font-family:var(--icon);font-size:15px;color:var(--primary)}.notif-icon[_ngcontent-%COMP%]{margin-right:-20px;position:absolute;top:12px;right:0px}.notif-icon[_ngcontent-%COMP%]:hover{background-color:#c5c5c5;border-radius:100%}.notif-container[_ngcontent-%COMP%]{height:10vh;position:relative;-ms-overflow-style:none;scrollbar-width:none;overflow-y:scroll}.notif-container[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.notif-header[_ngcontent-%COMP%]{font-family:var(--mont);font-size:14px;margin-top:12px;color:var(--primary)}.notif-content[_ngcontent-%COMP%]{word-break:break-all;white-space:normal;font-family:var(--mont);font-size:12px}.warn[_ngcontent-%COMP%]{color:#fa4949}.primary[_ngcontent-%COMP%]{color:var(--primary)}.success[_ngcontent-%COMP%]{color:#3fbd3f}"]}),t})(),$_e=(()=>{class t{constructor(e){this.userService=e}ngOnInit(){this.deadlineForm=new Il({startDate:new mn("",sn.required),endDate:new mn("",sn.required)})}onSubmit(){let e;e={icon:"campaign",heading:"Announcement",contents:"The admin has set a deadline for load submission"},this.userService.setUserDeadline(this.deadlineForm.value.startDate,this.deadlineForm.value.endDate),this.userService.updateAllChairpersonNotification(e)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(oh))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-set-deadline"]],decls:20,vars:6,consts:[["fxLayout","column","fxLayoutAlign","center center",1,"main-div"],[1,"text-div"],[1,"form-div"],[3,"formGroup","ngSubmit"],[3,"rangePicker"],["matStartDate","","placeholder","Start date","formControlName","startDate"],["matEndDate","","placeholder","End date","formControlName","endDate"],["matSuffix","",3,"for"],["picker",""],["fxLayoutGap","10px","fxLayoutAlign","center center",1,"buttons"],["mat-raised-button","","color","primary","type","submit",3,"mat-dialog-close","disabled"],["mat-stroked-button","","color","primary","type","button",3,"mat-dialog-close"]],template:function(e,i){if(1&e&&(r.TgZ(0,"div",0)(1,"div",1)(2,"p"),r._uU(3,"Set Faculty Loading Deadline"),r.qZA()(),r.TgZ(4,"div",2)(5,"form",3),r.NdJ("ngSubmit",function(){return i.onSubmit()}),r.TgZ(6,"mat-form-field")(7,"mat-label"),r._uU(8,"Enter a date range"),r.qZA(),r.TgZ(9,"mat-date-range-input",4),r._UZ(10,"input",5)(11,"input",6),r.qZA(),r._UZ(12,"mat-datepicker-toggle",7)(13,"mat-date-range-picker",null,8),r.qZA(),r.TgZ(15,"div",9)(16,"button",10),r._uU(17," Save "),r.qZA(),r.TgZ(18,"button",11),r._uU(19," Cancel "),r.qZA()()()()()),2&e){const o=r.MAs(14);r.xp6(5),r.Q6J("formGroup",i.deadlineForm),r.xp6(4),r.Q6J("rangePicker",o),r.xp6(3),r.Q6J("for",o),r.xp6(4),r.Q6J("mat-dialog-close",!0)("disabled",i.deadlineForm.invalid),r.xp6(2),r.Q6J("mat-dialog-close",!1)}},directives:[zr,uo,qd,Ud,ya,$d,id,CZ,h6,_i,Gc,Zc,f6,d6,G2,xZ,$s,Uo,Ey],styles:[".main-div[_ngcontent-%COMP%]{padding:5vh}.text-div[_ngcontent-%COMP%]{font-size:20px;font-family:var(--mont);color:var(--primary);text-align:left;width:100%;margin-bottom:5px}.buttons[_ngcontent-%COMP%]{margin-top:10px}"]}),t})();function Q_e(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"div")(1,"p",7),r._uU(2," Please state the reason why you want to decline this load submission: "),r.qZA(),r.TgZ(3,"mat-form-field",8)(4,"mat-label"),r._uU(5,"Leave a remarks"),r.qZA(),r.TgZ(6,"textarea",9),r.NdJ("ngModelChange",function(o){return r.CHM(e),r.oxw().comments=o}),r.qZA()()()}if(2&t){const e=r.oxw();r.xp6(6),r.Q6J("ngModel",e.comments)}}let g4=(()=>{class t{constructor(e,i){this.passedData=e,this.userService=i,this.comments=""}ngOnInit(){this.status=this.passedData.status,this.userLoad=this.passedData.userLoad}onYesClicked(){let i,e=this.userLoad.chairpersonName;"accepted"===this.status?(i={icon:"check",heading:"Congratulations!",contents:"The admin has approved your load submission."},this.userService.updateUserLoad(this.userLoad.id,"accepted"),this.userService.updateLoadNotification(i,e)):(i={icon:"notification_important",heading:"Important Notification",contents:"The admin has declined your load submission."},this.userService.updateDeclinedUserLoad(this.userLoad.id,"declined",this.comments),this.userService.updateLoadNotification(i,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Y36($p),r.Y36(oh))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-submission-modal"]],decls:11,vars:5,consts:[["fxLayout","column","fxLayoutAlign","center center","fxLayoutGap","15px",1,"main-div"],["color","primary",2,"font-size","35px"],[1,"heading"],[4,"ngIf"],["fxLayoutGap","15px","fxLayout","row","fxLayoutAlign","center center"],["mat-raised-button","","color","primary",3,"mat-dialog-close","disabled","click"],["mat-stroked-button","","color","warn",3,"mat-dialog-close"],[1,"remarks"],["appearance","fill",2,"width","100%"],["matInput","",3,"ngModel","ngModelChange"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0)(1,"mat-icon",1),r._uU(2," quiz "),r.qZA(),r.TgZ(3,"p",2),r._uU(4),r.qZA(),r.YNc(5,Q_e,7,1,"div",3),r.TgZ(6,"div",4)(7,"button",5),r.NdJ("click",function(){return i.onYesClicked()}),r._uU(8,"Yes"),r.qZA(),r.TgZ(9,"button",6),r._uU(10,"No"),r.qZA()()()),2&e&&(r.xp6(4),r.hij(" ","accepted"==i.status?"Are you sure you want to accept this load submission?":"Are you sure you want to decline this load submission?"," "),r.xp6(1),r.Q6J("ngIf","declined"==i.status),r.xp6(2),r.Q6J("mat-dialog-close",!1)("disabled","declined"===i.status&&0==i.comments.length),r.xp6(2),r.Q6J("mat-dialog-close",!1))},directives:[zr,uo,$s,Wf,Sn,$d,id,Ay,_i,Gc,Jm,Uo,Ey],styles:[".main-div[_ngcontent-%COMP%]{padding:5vh}.heading[_ngcontent-%COMP%]{font-family:var(--mont);font-size:15px;color:var(--primary)}.remarks[_ngcontent-%COMP%]{font-family:var(--mont);font-size:13px}"]}),t})();function J_e(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"div",12)(1,"div",13)(2,"button",14)(3,"mat-icon",15),r._uU(4,"more_vert"),r.qZA()(),r.TgZ(5,"mat-menu",null,16)(7,"button",17),r.NdJ("click",function(){const s=r.CHM(e).index;return r.oxw(2).onApproveLoad(s)}),r.TgZ(8,"mat-icon"),r._uU(9,"done"),r.qZA(),r.TgZ(10,"span"),r._uU(11,"Approve Load"),r.qZA()(),r.TgZ(12,"button",17),r.NdJ("click",function(){const s=r.CHM(e).index;return r.oxw(2).onDeclineLoad(s)}),r.TgZ(13,"mat-icon"),r._uU(14,"close"),r.qZA(),r.TgZ(15,"span"),r._uU(16,"Decline Load"),r.qZA()()(),r.TgZ(17,"p",18),r._uU(18),r.ALo(19,"shorten"),r.qZA()(),r.TgZ(20,"div",19)(21,"mat-icon",20),r._uU(22,"person"),r.qZA(),r.TgZ(23,"p",21),r._uU(24),r.qZA(),r.TgZ(25,"p",22),r._uU(26),r.qZA(),r.TgZ(27,"p",23),r._uU(28,"Date Submitted:"),r.qZA(),r.TgZ(29,"p",23),r._uU(30),r.ALo(31,"date"),r.qZA(),r.TgZ(32,"div",24)(33,"button",25),r.NdJ("click",function(){const s=r.CHM(e).index;return r.oxw(2).onViewPendingLoad(s)}),r.TgZ(34,"mat-icon"),r._uU(35,"visibility"),r.qZA(),r._uU(36," View Load "),r.qZA()()()()}if(2&t){const e=n.$implicit,i=r.MAs(6);r.xp6(2),r.Q6J("matMenuTriggerFor",i),r.xp6(16),r.Oqu(r.xi3(19,5,e.chairpersonName,25)),r.xp6(6),r.Oqu(e.idNumber),r.xp6(2),r.hij(" ",e.semester," "),r.xp6(4),r.hij(" ",r.lcZ(31,8,e.dateSubmitted.toDate())," ")}}function K_e(t,n){if(1&t&&(r.TgZ(0,"div",10),r.YNc(1,J_e,37,10,"div",11),r.qZA()),2&t){const e=r.oxw();r.xp6(1),r.Q6J("ngForOf",e.pendingUserLoads)}}function X_e(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"div",12)(1,"div",13)(2,"p",18),r._uU(3),r.ALo(4,"shorten"),r.qZA()(),r.TgZ(5,"div",19)(6,"mat-icon",20),r._uU(7,"person"),r.qZA(),r.TgZ(8,"p",21),r._uU(9),r.qZA(),r.TgZ(10,"p",22),r._uU(11),r.qZA(),r.TgZ(12,"p",23),r._uU(13,"Date Submitted:"),r.qZA(),r.TgZ(14,"p",23),r._uU(15),r.ALo(16,"date"),r.qZA(),r.TgZ(17,"div",24)(18,"button",25),r.NdJ("click",function(){const s=r.CHM(e).index;return r.oxw(2).onViewDeclinedLoad(s)}),r.TgZ(19,"mat-icon"),r._uU(20,"visibility"),r.qZA(),r._uU(21," View Load "),r.qZA()()()()}if(2&t){const e=n.$implicit;r.xp6(3),r.Oqu(r.xi3(4,4,e.chairpersonName,25)),r.xp6(6),r.Oqu(e.idNumber),r.xp6(2),r.hij(" ",e.semester," "),r.xp6(4),r.hij(" ",r.lcZ(16,7,e.dateSubmitted.toDate())," ")}}function eve(t,n){if(1&t&&(r.TgZ(0,"div",10),r.YNc(1,X_e,22,9,"div",11),r.qZA()),2&t){const e=r.oxw();r.xp6(1),r.Q6J("ngForOf",e.declinedUserLoads)}}function tve(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"div",12)(1,"div",13)(2,"button",14)(3,"mat-icon",15),r._uU(4,"more_vert"),r.qZA()(),r.TgZ(5,"mat-menu",null,16)(7,"button",17),r.NdJ("click",function(){const s=r.CHM(e).index;return r.oxw(2).onDeclineAcceptedLoad(s)}),r.TgZ(8,"mat-icon"),r._uU(9,"close"),r.qZA(),r.TgZ(10,"span"),r._uU(11,"Set Back to Declined"),r.qZA()()(),r.TgZ(12,"p",18),r._uU(13),r.ALo(14,"shorten"),r.qZA()(),r.TgZ(15,"div",19)(16,"mat-icon",20),r._uU(17,"person"),r.qZA(),r.TgZ(18,"p",21),r._uU(19),r.qZA(),r.TgZ(20,"p",22),r._uU(21),r.qZA(),r.TgZ(22,"p",23),r._uU(23,"Date Submitted:"),r.qZA(),r.TgZ(24,"p",23),r._uU(25),r.ALo(26,"date"),r.qZA(),r.TgZ(27,"div",24)(28,"button",25),r.NdJ("click",function(){const s=r.CHM(e).index;return r.oxw(2).onViewAcceptedLoad(s)}),r.TgZ(29,"mat-icon"),r._uU(30,"visibility"),r.qZA(),r._uU(31," View Load "),r.qZA()()()()}if(2&t){const e=n.$implicit,i=r.MAs(6);r.xp6(2),r.Q6J("matMenuTriggerFor",i),r.xp6(11),r.Oqu(r.xi3(14,5,e.chairpersonName,25)),r.xp6(6),r.Oqu(e.idNumber),r.xp6(2),r.hij(" ",e.semester," "),r.xp6(4),r.hij(" ",r.lcZ(26,8,e.dateSubmitted.toDate())," ")}}function nve(t,n){if(1&t&&(r.TgZ(0,"div",10),r.YNc(1,tve,32,10,"div",11),r.qZA()),2&t){const e=r.oxw();r.xp6(1),r.Q6J("ngForOf",e.acceptedUserLoads)}}const ive=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:o$},{path:"sidenav",component:W_e,canActivate:[zz],children:[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",component:Ide},{path:"submission",component:(()=>{class t{constructor(e,i,o){this.dialog=e,this.userService=i,this.academicService=o,this.pendingUserLoads=[],this.acceptedUserLoads=[],this.declinedUserLoads=[]}ngOnInit(){this.activeAcademicYear=this.academicService.getActiveAcademicYear(),this.currentUser=this.userService.getCurrentUser(),this.userService.fetchAllUserLoads(),this.UserLoadSubs=this.userService.userLoadsChanged.subscribe(e=>{this.pendingUserLoads=[],this.acceptedUserLoads=[],this.declinedUserLoads=[],e.forEach(i=>{"pending"===i.status&&this.pendingUserLoads.push(i),"accepted"===i.status&&this.acceptedUserLoads.push(i),"declined"===i.status&&this.declinedUserLoads.push(i)})})}onApproveLoad(e){this.dialog.open(g4,{data:{status:"accepted",userLoad:this.pendingUserLoads[e]}})}onDeclineLoad(e){this.dialog.open(g4,{data:{status:"declined",userLoad:this.pendingUserLoads[e]}})}onDeclineAcceptedLoad(e){this.dialog.open(g4,{data:{status:"declined",userLoad:this.acceptedUserLoads[e]}})}onViewPendingLoad(e){this.dialog.open(S5,{data:{userLoad:this.pendingUserLoads[e]}})}onViewDeclinedLoad(e){this.dialog.open(S5,{data:{userLoad:this.declinedUserLoads[e]}})}onViewAcceptedLoad(e){this.dialog.open(S5,{data:{userLoad:this.acceptedUserLoads[e]}})}openDeadlineModal(){this.dialog.open($_e)}ngOnDestroy(){this.UserLoadSubs.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Eb),r.Y36(oh),r.Y36(VC))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-submissions"]],decls:19,vars:3,consts:[["fxLayout","column","fxLayoutAlign","center center",1,"main-div"],["fxLayout","column",1,"sub-div"],["fxLayout","row","fxLayoutAlign","space-between",1,"header-div"],[1,"header-text"],["mat-raised-button","","color","primary",1,"acad-button",3,"click"],["fxLayoutGap","30px","fxLayout","row wrap",1,"content-div",2,"overflow-y","scroll"],["label","Pending"],["class","card-container","fxLayout","row wrap",4,"ngIf"],["label","Declined"],["label","Approved"],["fxLayout","row wrap",1,"card-container"],["fxLayout","column","class","card-item",4,"ngFor","ngForOf"],["fxLayout","column",1,"card-item"],[1,"card-top"],["mat-icon-button","",1,"menu-icon",3,"matMenuTriggerFor"],[1,"button-icon"],["menu","matMenu"],["mat-menu-item","",3,"click"],[1,"name-text"],[1,"card-bottom"],[1,"faculty-icon"],[1,"id-text"],[1,"schedule-text",2,"margin-top","20px"],[1,"schedule-text"],["fxLayoutAlign","end center"],["mat-stroked-button","","color","primary",1,"folder-icon",2,"margin-right","15px",3,"click"]],template:function(e,i){1&e&&(r.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div")(4,"p",3),r._uU(5,"Submission"),r.qZA()(),r.TgZ(6,"div")(7,"button",4),r.NdJ("click",function(){return i.openDeadlineModal()}),r.TgZ(8,"mat-icon"),r._uU(9,"expand_more"),r.qZA(),r._uU(10," Set Deadline "),r.qZA()()(),r.TgZ(11,"div",5)(12,"mat-tab-group")(13,"mat-tab",6),r.YNc(14,K_e,2,1,"div",7),r.qZA(),r.TgZ(15,"mat-tab",8),r.YNc(16,eve,2,1,"div",7),r.qZA(),r.TgZ(17,"mat-tab",9),r.YNc(18,nve,2,1,"div",7),r.qZA()()()()()),2&e&&(r.xp6(14),r.Q6J("ngIf",i.pendingUserLoads.length>0),r.xp6(2),r.Q6J("ngIf",i.declinedUserLoads.length>0),r.xp6(2),r.Q6J("ngIf",i.acceptedUserLoads.length>0))},directives:[zr,uo,Uo,Wf,$s,Hz,h4,Sn,qn,qO,VO,IC],pipes:[OZ,Qa],styles:["[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--light);border-radius:20px;-webkit-transition:all ease-in-out 1s;transition:all ease-in-out 1s}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--primary)}.main-div[_ngcontent-%COMP%]{width:100%;height:92%;overflow:hidden}.sub-div[_ngcontent-%COMP%]{margin:30px;width:95%;height:93%;background-color:#fff;overflow:hidden;background-image:url(other-bg.dd5cf05b63541971.png)}.header-div[_ngcontent-%COMP%]{width:100%;height:20vh}.header-text[_ngcontent-%COMP%]{font-family:var(--incon);color:var(--primary);font-size:30px;margin-top:5vh;margin-left:4vh}.acad-text[_ngcontent-%COMP%]{margin-top:4vh;margin-right:4vh;color:var(--primary);font-size:20px;text-decoration:underline;cursor:pointer}.content-div[_ngcontent-%COMP%]{width:100%;height:95vh}.acad-button[_ngcontent-%COMP%]{margin-top:4vh;margin-right:3vh}.card-item[_ngcontent-%COMP%]{background-color:#fff;width:250px;height:270px;margin-bottom:30px;border-radius:20px;margin-left:20px;margin-right:20px}.card-top[_ngcontent-%COMP%]{background-color:var(--primary);background-image:url(plv-bldg.4fbc4d1673861873.png);background-repeat:no-repeat;background-size:auto;position:relative;border-radius:20px 0 0}.menu-icon[_ngcontent-%COMP%]{position:absolute;right:0;top:0;color:#fff}.mat-focus-indicator[_ngcontent-%COMP%]:hover{background-color:var(--light);color:var(--primary)}.name-text[_ngcontent-%COMP%]{margin-top:90px;font-family:var(--mont);margin-left:15px;color:#fff;font-size:13px}.card-bottom[_ngcontent-%COMP%]{position:relative}.id-text[_ngcontent-%COMP%]{margin-top:15px;margin-left:15px;font-family:var(--mont);line-height:.02em;font-size:12px;color:var(--primary)}.faculty-icon[_ngcontent-%COMP%]{position:absolute;right:10px;transform:translateY(-25px);background-color:#fff;border-radius:100%;padding:10px;font-size:25px}.semester-text[_ngcontent-%COMP%]{margin-left:15px;font-family:var(--mont);font-size:12px}.schedule-text[_ngcontent-%COMP%]{margin-left:15px;font-family:var(--mont);font-size:13px;line-height:.5em}.folder-icon[_ngcontent-%COMP%]{cursor:pointer}.card-container[_ngcontent-%COMP%]{padding:5vh 5vh 0vh;width:100%;height:65.5vh;background-color:var(--light)}mat-tab-group[_ngcontent-%COMP%]{width:100%}"]}),t})()},{path:"chairperson",component:qae},{path:"roomsection",component:Hme},{path:"sectionload",component:Wge},{path:"facultyload",component:mfe},{path:"facultyload/:id",component:Upe},{path:"history",component:jpe},{path:"error",component:lz},{path:"**",redirectTo:"error"}]},{path:"error",component:lz},{path:"**",redirectTo:"error"}];let rve=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[zz],imports:[[Hm.forRoot(ive)],Hm]}),t})(),ove=(()=>{class t{constructor(e,i){this.authService=e,this.userService=i,this.title="faculty-loading"}ngOnInit(){this.authService.initAuthListener()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Po),r.Y36(oh))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(e,i){1&e&&r._UZ(0,"router-outlet")},directives:[Fm],styles:[""]}),t})(),sve=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[p6],imports:[[z2,i8,Xz,o9,oZ,e6,Y2,w8,lZ,fz,g6,IZ,p6,FU,Gz,ez,ZZ,UZ,BZ,Oz,Kz,az,a9,u4],z2,i8,Xz,o9,oZ,e6,Y2,w8,lZ,fz,g6,g6,IZ,p6,FU,Gz,ez,ZZ,UZ,BZ,Oz,Kz,az,a9,u4]}),t})(),m9=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[p]]}),t})(),Dye=(()=>{class t{constructor(e,i){qs(i)&&!e&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,i=[]){return{ngModule:t,providers:e.serverLoaded?[{provide:K,useValue:Object.assign(Object.assign({},U),e)},{provide:Ie,useValue:i,multi:!0},{provide:se,useValue:!0}]:[{provide:K,useValue:Object.assign(Object.assign({},U),e)},{provide:Ie,useValue:i,multi:!0}]}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(se),r.LFG(r.Lbi))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[VM,jG,m9],VM,jG,m9]}),t})();const g9_firebase={apiKey:"AIzaSyDQ02yd-RhPd_fMA6N-Sesa-fuD4QJHcFQ",authDomain:"curriculum-load-editor.firebaseapp.com",projectId:"curriculum-load-editor",storageBucket:"curriculum-load-editor.appspot.com",messagingSenderId:"990149814820",appId:"1:990149814820:web:448675a7cbd9a288d246b1",measurementId:"G-XC8ZQ8883K"};let Eye=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t,bootstrap:[ove]}),t.\u0275inj=r.cJS({providers:[m4],imports:[[cs,rve,re,sve,Dye,Ro.hO.initializeApp(g9_firebase),goe,bw,mw,px,tC,ede,MA,nb.forRoot({timeOut:3e3,progressBar:!0,progressAnimation:"increasing",preventDuplicates:!0})]]}),t})();(0,r.G48)(),ka().bootstrapModule(Eye).catch(t=>console.error(t))},5867:(oi,$t,me)=>{"use strict";me.d($t,{Z:()=>r.default});var r=me(8367),Q="8.10.1";r.default.registerVersion("firebase",Q,"app"),r.default.SDK_VERSION=Q},2940:function(oi,$t){!function(me){"use strict";function r(ot){return Array.prototype.slice.call(ot)}function ie(ot){return new Promise(function(Ft,fn){ot.onsuccess=function(){Ft(ot.result)},ot.onerror=function(){fn(ot.error)}})}function Q(ot,Ft,fn){var vn,qt=new Promise(function(Re,Mt){ie(vn=ot[Ft].apply(ot,fn)).then(Re,Mt)});return qt.request=vn,qt}function Ze(ot,Ft,fn){var vn=Q(ot,Ft,fn);return vn.then(function(qt){if(qt)return new de(qt,vn.request)})}function wt(ot,Ft,fn){fn.forEach(function(vn){Object.defineProperty(ot.prototype,vn,{get:function(){return this[Ft][vn]},set:function(qt){this[Ft][vn]=qt}})})}function jt(ot,Ft,fn,vn){vn.forEach(function(qt){qt in fn.prototype&&(ot.prototype[qt]=function(){return Q(this[Ft],qt,arguments)})})}function et(ot,Ft,fn,vn){vn.forEach(function(qt){qt in fn.prototype&&(ot.prototype[qt]=function(){return this[Ft][qt].apply(this[Ft],arguments)})})}function yt(ot,Ft,fn,vn){vn.forEach(function(qt){qt in fn.prototype&&(ot.prototype[qt]=function(){return Ze(this[Ft],qt,arguments)})})}function ht(ot){this._index=ot}function de(ot,Ft){this._cursor=ot,this._request=Ft}function qe(ot){this._store=ot}function We(ot){this._tx=ot,this.complete=new Promise(function(Ft,fn){ot.oncomplete=function(){Ft()},ot.onerror=function(){fn(ot.error)},ot.onabort=function(){fn(ot.error)}})}function xt(ot,Ft,fn){this._db=ot,this.oldVersion=Ft,this.transaction=new We(fn)}function rt(ot){this._db=ot}wt(ht,"_index",["name","keyPath","multiEntry","unique"]),jt(ht,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),yt(ht,"_index",IDBIndex,["openCursor","openKeyCursor"]),wt(de,"_cursor",["direction","key","primaryKey","value"]),jt(de,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(ot){ot in IDBCursor.prototype&&(de.prototype[ot]=function(){var Ft=this,fn=arguments;return Promise.resolve().then(function(){return Ft._cursor[ot].apply(Ft._cursor,fn),ie(Ft._request).then(function(vn){if(vn)return new de(vn,Ft._request)})})})}),qe.prototype.createIndex=function(){return new ht(this._store.createIndex.apply(this._store,arguments))},qe.prototype.index=function(){return new ht(this._store.index.apply(this._store,arguments))},wt(qe,"_store",["name","keyPath","indexNames","autoIncrement"]),jt(qe,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),yt(qe,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),et(qe,"_store",IDBObjectStore,["deleteIndex"]),We.prototype.objectStore=function(){return new qe(this._tx.objectStore.apply(this._tx,arguments))},wt(We,"_tx",["objectStoreNames","mode"]),et(We,"_tx",IDBTransaction,["abort"]),xt.prototype.createObjectStore=function(){return new qe(this._db.createObjectStore.apply(this._db,arguments))},wt(xt,"_db",["name","version","objectStoreNames"]),et(xt,"_db",IDBDatabase,["deleteObjectStore","close"]),rt.prototype.transaction=function(){return new We(this._db.transaction.apply(this._db,arguments))},wt(rt,"_db",["name","version","objectStoreNames"]),et(rt,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(ot){[qe,ht].forEach(function(Ft){ot in Ft.prototype&&(Ft.prototype[ot.replace("open","iterate")]=function(){var fn=r(arguments),vn=fn[fn.length-1],qt=this._store||this._index,Re=qt[ot].apply(qt,fn.slice(0,-1));Re.onsuccess=function(){vn(Re.result)}})})}),[ht,qe].forEach(function(ot){ot.prototype.getAll||(ot.prototype.getAll=function(Ft,fn){var vn=this,qt=[];return new Promise(function(Re){vn.iterateCursor(Ft,function(Mt){Mt?(qt.push(Mt.value),void 0===fn||qt.length!=fn?Mt.continue():Re(qt)):Re(qt)})})})}),me.openDb=function kt(ot,Ft,fn){var vn=Q(indexedDB,"open",[ot,Ft]),qt=vn.request;return qt&&(qt.onupgradeneeded=function(Re){fn&&fn(new xt(qt.result,Re.oldVersion,qt.transaction))}),vn.then(function(Re){return new rt(Re)})},me.deleteDb=function cn(ot){return Q(indexedDB,"deleteDatabase",[ot])},Object.defineProperty(me,"__esModule",{value:!0})}($t)},7122:(oi,$t)=>{"use strict";function r(N,G){for(var j=0;j<G.length;j++){var L=G[j];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(N,L.key,L)}}function ie(N,G,j){return G&&r(N.prototype,G),j&&r(N,j),N}function Q(N,G){N.prototype=Object.create(G.prototype),N.prototype.constructor=N,N.__proto__=G}function Ze(N){return(Ze=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)})(N)}function wt(N,G){return(wt=Object.setPrototypeOf||function(L,Z){return L.__proto__=Z,L})(N,G)}function jt(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(N){return!1}}function et(N,G,j){return(et=jt()?Reflect.construct:function(Z,X,ye){var Se=[null];Se.push.apply(Se,X);var Lt=new(Function.bind.apply(Z,Se));return ye&&wt(Lt,ye.prototype),Lt}).apply(null,arguments)}function ht(N){var G="function"==typeof Map?new Map:void 0;return ht=function(L){if(null===L||!function yt(N){return-1!==Function.toString.call(N).indexOf("[native code]")}(L))return L;if("function"!=typeof L)throw new TypeError("Super expression must either be null or a function");if(void 0!==G){if(G.has(L))return G.get(L);G.set(L,Z)}function Z(){return et(L,arguments,Ze(this).constructor)}return Z.prototype=Object.create(L.prototype,{constructor:{value:Z,enumerable:!1,writable:!0,configurable:!0}}),wt(Z,L)},ht(N)}function We(N,G){(null==G||G>N.length)&&(G=N.length);for(var j=0,L=new Array(G);j<G;j++)L[j]=N[j];return L}function xt(N){var G=0;if("undefined"==typeof Symbol||null==N[Symbol.iterator]){if(Array.isArray(N)||(N=function qe(N,G){if(N){if("string"==typeof N)return We(N,G);var j=Object.prototype.toString.call(N).slice(8,-1);if("Object"===j&&N.constructor&&(j=N.constructor.name),"Map"===j||"Set"===j)return Array.from(j);if("Arguments"===j||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j))return We(N,G)}}(N)))return function(){return G>=N.length?{done:!0}:{done:!1,value:N[G++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(G=N[Symbol.iterator]()).next.bind(G)}var rt=function(N){function G(){return N.apply(this,arguments)||this}return Q(G,N),G}(ht(Error)),kt=function(N){function G(j){return N.call(this,"Invalid DateTime: "+j.toMessage())||this}return Q(G,N),G}(rt),cn=function(N){function G(j){return N.call(this,"Invalid Interval: "+j.toMessage())||this}return Q(G,N),G}(rt),ot=function(N){function G(j){return N.call(this,"Invalid Duration: "+j.toMessage())||this}return Q(G,N),G}(rt),Ft=function(N){function G(){return N.apply(this,arguments)||this}return Q(G,N),G}(rt),fn=function(N){function G(j){return N.call(this,"Invalid unit "+j)||this}return Q(G,N),G}(rt),vn=function(N){function G(){return N.apply(this,arguments)||this}return Q(G,N),G}(rt),qt=function(N){function G(){return N.call(this,"Zone is an abstract class")||this}return Q(G,N),G}(rt),Re="numeric",Mt="short",Ut="long",kn={year:Re,month:Re,day:Re},Gn={year:Re,month:Mt,day:Re},Xe={year:Re,month:Ut,day:Re},Ot={year:Re,month:Ut,day:Re,weekday:Ut},be={hour:Re,minute:Re},At={hour:Re,minute:Re,second:Re},Kt={hour:Re,minute:Re,second:Re,timeZoneName:Mt},it={hour:Re,minute:Re,second:Re,timeZoneName:Ut},Tn={hour:Re,minute:Re,hour12:!1},gn={hour:Re,minute:Re,second:Re,hour12:!1},di={hour:Re,minute:Re,second:Re,hour12:!1,timeZoneName:Mt},Nn={hour:Re,minute:Re,second:Re,hour12:!1,timeZoneName:Ut},pn={year:Re,month:Re,day:Re,hour:Re,minute:Re},Wn={year:Re,month:Re,day:Re,hour:Re,minute:Re,second:Re},dn={year:Re,month:Mt,day:Re,hour:Re,minute:Re},mi={year:Re,month:Mt,day:Re,hour:Re,minute:Re,second:Re},ii={year:Re,month:Mt,day:Re,weekday:Mt,hour:Re,minute:Re},qr={year:Re,month:Ut,day:Re,hour:Re,minute:Re,timeZoneName:Mt},Qr={year:Re,month:Ut,day:Re,hour:Re,minute:Re,second:Re,timeZoneName:Mt},Hr={year:Re,month:Ut,day:Re,weekday:Ut,hour:Re,minute:Re,timeZoneName:Ut},qo={year:Re,month:Ut,day:Re,weekday:Ut,hour:Re,minute:Re,second:Re,timeZoneName:Ut};function Zi(N){return void 0===N}function vr(N){return"number"==typeof N}function ua(N){return"number"==typeof N&&N%1==0}function vi(){try{return"undefined"!=typeof Intl&&Intl.DateTimeFormat}catch(N){return!1}}function Mo(){return!Zi(Intl.DateTimeFormat.prototype.formatToParts)}function Bn(){try{return"undefined"!=typeof Intl&&!!Intl.RelativeTimeFormat}catch(N){return!1}}function rr(N,G,j){if(0!==N.length)return N.reduce(function(L,Z){var X=[G(Z),Z];return L&&j(L[0],X[0])===L[0]?L:X},null)[1]}function wr(N,G){return G.reduce(function(j,L){return j[L]=N[L],j},{})}function Rr(N,G){return Object.prototype.hasOwnProperty.call(N,G)}function Ks(N,G,j){return ua(N)&&N>=G&&N<=j}function Lo(N,G){return void 0===G&&(G=2),N.toString().length<G?("0".repeat(G)+N).slice(-G):N.toString()}function yo(N){if(!Zi(N)&&null!==N&&""!==N)return parseInt(N,10)}function bd(N){if(!Zi(N)&&null!==N&&""!==N){var G=1e3*parseFloat("0."+N);return Math.floor(G)}}function ar(N,G,j){void 0===j&&(j=!1);var L=Math.pow(10,G);return(j?Math.trunc:Math.round)(N*L)/L}function si(N){return N%4==0&&(N%100!=0||N%400==0)}function Ci(N){return si(N)?366:365}function Dr(N,G){var j=function da(N,G){return N-G*Math.floor(N/G)}(G-1,12)+1;return 2===j?si(N+(G-j)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][j-1]}function Sa(N){var G=Date.UTC(N.year,N.month-1,N.day,N.hour,N.minute,N.second,N.millisecond);return N.year<100&&N.year>=0&&(G=new Date(G)).setUTCFullYear(G.getUTCFullYear()-1900),+G}function Oi(N){var G=(N+Math.floor(N/4)-Math.floor(N/100)+Math.floor(N/400))%7,j=N-1,L=(j+Math.floor(j/4)-Math.floor(j/100)+Math.floor(j/400))%7;return 4===G||3===L?53:52}function pl(N){return N>99?N:N>60?1900+N:2e3+N}function Xs(N,G,j,L){void 0===L&&(L=null);var Z=new Date(N),X={hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};L&&(X.timeZone=L);var ye=Object.assign({timeZoneName:G},X),Se=vi();if(Se&&Mo()){var Ye=new Intl.DateTimeFormat(j,ye).formatToParts(Z).find(function(ei){return"timezonename"===ei.type.toLowerCase()});return Ye?Ye.value:null}if(Se){var Lt=new Intl.DateTimeFormat(j,X).format(Z);return new Intl.DateTimeFormat(j,ye).format(Z).substring(Lt.length).replace(/^[, \u200e]+/,"")}return null}function Lr(N,G){var j=parseInt(N,10);Number.isNaN(j)&&(j=0);var L=parseInt(G,10)||0;return 60*j+(j<0||Object.is(j,-0)?-L:L)}function yi(N){var G=Number(N);if("boolean"==typeof N||""===N||Number.isNaN(G))throw new vn("Invalid unit value "+N);return G}function Pe(N,G,j){var L={};for(var Z in N)if(Rr(N,Z)){if(j.indexOf(Z)>=0)continue;var X=N[Z];if(null==X)continue;L[G(Z)]=yi(X)}return L}function ke(N,G){var j=Math.trunc(N/60),L=Math.abs(N%60),Z=j>=0&&!Object.is(j,-0)?"+":"-",X=""+Z+Math.abs(j);switch(G){case"short":return""+Z+Lo(Math.abs(j),2)+":"+Lo(L,2);case"narrow":return L>0?X+":"+L:X;case"techie":return""+Z+Lo(Math.abs(j),2)+Lo(L,2);default:throw new RangeError("Value format "+G+" is out of range for property format")}}function at(N){return wr(N,["hour","minute","second","millisecond"])}var _e=/[A-Za-z_+-]{1,256}(:?\/[A-Za-z_+-]{1,256}(\/[A-Za-z_+-]{1,256})?)?/;function ge(N){return JSON.stringify(N,Object.keys(N).sort())}var Ve=["January","February","March","April","May","June","July","August","September","October","November","December"],mt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Wt=["J","F","M","A","M","J","J","A","S","O","N","D"];function ln(N){switch(N){case"narrow":return Wt;case"short":return mt;case"long":return Ve;case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var Vn=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Ri=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Cr=["M","T","W","T","F","S","S"];function or(N){switch(N){case"narrow":return Cr;case"short":return Ri;case"long":return Vn;case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var bo=["AM","PM"],Da=["Before Christ","Anno Domini"],yc=["BC","AD"],Ho=["B","A"];function Gr(N){switch(N){case"narrow":return Ho;case"short":return yc;case"long":return Da;default:return null}}function Fu(N,G){for(var Z,j="",L=xt(N);!(Z=L()).done;){var X=Z.value;j+=X.literal?X.val:G(X.val)}return j}var ml={D:kn,DD:Gn,DDD:Xe,DDDD:Ot,t:be,tt:At,ttt:Kt,tttt:it,T:Tn,TT:gn,TTT:di,TTTT:Nn,f:pn,ff:dn,fff:qr,ffff:Hr,F:Wn,FF:mi,FFF:Qr,FFFF:qo},oo=function(){function N(j,L){this.opts=L,this.loc=j,this.systemLoc=null}N.create=function(L,Z){return void 0===Z&&(Z={}),new N(L,Z)},N.parseFormat=function(L){for(var Z=null,X="",ye=!1,Se=[],Ye=0;Ye<L.length;Ye++){var Lt=L.charAt(Ye);"'"===Lt?(X.length>0&&Se.push({literal:ye,val:X}),Z=null,X="",ye=!ye):ye||Lt===Z?X+=Lt:(X.length>0&&Se.push({literal:!1,val:X}),X=Lt,Z=Lt)}return X.length>0&&Se.push({literal:ye,val:X}),Se},N.macroTokenToFormatOpts=function(L){return ml[L]};var G=N.prototype;return G.formatWithSystemDefault=function(L,Z){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(L,Object.assign({},this.opts,Z)).format()},G.formatDateTime=function(L,Z){return void 0===Z&&(Z={}),this.loc.dtFormatter(L,Object.assign({},this.opts,Z)).format()},G.formatDateTimeParts=function(L,Z){return void 0===Z&&(Z={}),this.loc.dtFormatter(L,Object.assign({},this.opts,Z)).formatToParts()},G.resolvedOptions=function(L,Z){return void 0===Z&&(Z={}),this.loc.dtFormatter(L,Object.assign({},this.opts,Z)).resolvedOptions()},G.num=function(L,Z){if(void 0===Z&&(Z=0),this.opts.forceSimple)return Lo(L,Z);var X=Object.assign({},this.opts);return Z>0&&(X.padTo=Z),this.loc.numberFormatter(X).format(L)},G.formatDateTimeFromString=function(L,Z){var X=this,ye="en"===this.loc.listingMode(),Se=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar&&Mo(),Ye=function(fi,Di){return X.loc.extract(L,fi,Di)},Lt=function(fi){return L.isOffsetFixed&&0===L.offset&&fi.allowZ?"Z":L.isValid?L.zone.formatOffset(L.ts,fi.format):""},rn=function(fi,Di){return ye?function ms(N,G){return ln(G)[N.month-1]}(L,fi):Ye(Di?{month:fi}:{month:fi,day:"numeric"},"month")},En=function(fi,Di){return ye?function Vl(N,G){return or(G)[N.weekday-1]}(L,fi):Ye(Di?{weekday:fi}:{weekday:fi,month:"long",day:"numeric"},"weekday")},er=function(fi){return ye?function Ea(N,G){return Gr(G)[N.year<0?0:1]}(L,fi):Ye({era:fi},"era")};return Fu(N.parseFormat(Z),function(fi){switch(fi){case"S":return X.num(L.millisecond);case"u":case"SSS":return X.num(L.millisecond,3);case"s":return X.num(L.second);case"ss":return X.num(L.second,2);case"m":return X.num(L.minute);case"mm":return X.num(L.minute,2);case"h":return X.num(L.hour%12==0?12:L.hour%12);case"hh":return X.num(L.hour%12==0?12:L.hour%12,2);case"H":return X.num(L.hour);case"HH":return X.num(L.hour,2);case"Z":return Lt({format:"narrow",allowZ:X.opts.allowZ});case"ZZ":return Lt({format:"short",allowZ:X.opts.allowZ});case"ZZZ":return Lt({format:"techie",allowZ:X.opts.allowZ});case"ZZZZ":return console.log(L.zone),L.zone.offsetName(L.ts,{format:"short",locale:X.loc.locale});case"ZZZZZ":return L.zone.offsetName(L.ts,{format:"long",locale:X.loc.locale});case"z":return L.zoneName;case"a":return ye?function Go(N){return bo[N.hour<12?0:1]}(L):Ye({hour:"numeric",hour12:!0},"dayperiod");case"d":return Se?Ye({day:"numeric"},"day"):X.num(L.day);case"dd":return Se?Ye({day:"2-digit"},"day"):X.num(L.day,2);case"c":case"E":return X.num(L.weekday);case"ccc":return En("short",!0);case"cccc":return En("long",!0);case"ccccc":return En("narrow",!0);case"EEE":return En("short",!1);case"EEEE":return En("long",!1);case"EEEEE":return En("narrow",!1);case"L":return Se?Ye({month:"numeric",day:"numeric"},"month"):X.num(L.month);case"LL":return Se?Ye({month:"2-digit",day:"numeric"},"month"):X.num(L.month,2);case"LLL":return rn("short",!0);case"LLLL":return rn("long",!0);case"LLLLL":return rn("narrow",!0);case"M":return Se?Ye({month:"numeric"},"month"):X.num(L.month);case"MM":return Se?Ye({month:"2-digit"},"month"):X.num(L.month,2);case"MMM":return rn("short",!1);case"MMMM":return rn("long",!1);case"MMMMM":return rn("narrow",!1);case"y":return Se?Ye({year:"numeric"},"year"):X.num(L.year);case"yy":return Se?Ye({year:"2-digit"},"year"):X.num(L.year.toString().slice(-2),2);case"yyyy":return Se?Ye({year:"numeric"},"year"):X.num(L.year,4);case"yyyyyy":return Se?Ye({year:"numeric"},"year"):X.num(L.year,6);case"G":return er("short");case"GG":return er("long");case"GGGGG":return er("narrow");case"kk":return X.num(L.weekYear.toString().slice(-2),2);case"kkkk":return X.num(L.weekYear,4);case"W":return X.num(L.weekNumber);case"WW":return X.num(L.weekNumber,2);case"o":return X.num(L.ordinal);case"ooo":return X.num(L.ordinal,3);case"q":return X.num(L.quarter);case"qq":return X.num(L.quarter,2);case"X":return X.num(Math.floor(L.ts/1e3));case"x":return X.num(L.ts);default:return function(fi){var Di=N.macroTokenToFormatOpts(fi);return Di?X.formatWithSystemDefault(L,Di):fi}(fi)}})},G.formatDurationFromString=function(L,Z){var En,X=this,ye=function(En){switch(En[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"M":return"month";case"y":return"year";default:return null}},Ye=N.parseFormat(Z),Lt=Ye.reduce(function(rn,En){return En.literal?rn:rn.concat(En.val)},[]),Mn=L.shiftTo.apply(L,Lt.map(ye).filter(function(rn){return rn}));return Fu(Ye,(En=Mn,function(ei){var er=ye(ei);return er?X.num(En.get(er),ei.length):ei}))},N}(),rs=function(){function N(j,L){this.reason=j,this.explanation=L}return N.prototype.toMessage=function(){return this.explanation?this.reason+": "+this.explanation:this.reason},N}(),Es=function(){function N(){}var G=N.prototype;return G.offsetName=function(L,Z){throw new qt},G.formatOffset=function(L,Z){throw new qt},G.offset=function(L){throw new qt},G.equals=function(L){throw new qt},ie(N,[{key:"type",get:function(){throw new qt}},{key:"name",get:function(){throw new qt}},{key:"universal",get:function(){throw new qt}},{key:"isValid",get:function(){throw new qt}}]),N}(),Ln=null,Xi=function(N){function G(){return N.apply(this,arguments)||this}Q(G,N);var j=G.prototype;return j.offsetName=function(Z,X){return Xs(Z,X.format,X.locale)},j.formatOffset=function(Z,X){return ke(this.offset(Z),X)},j.offset=function(Z){return-new Date(Z).getTimezoneOffset()},j.equals=function(Z){return"local"===Z.type},ie(G,[{key:"type",get:function(){return"local"}},{key:"name",get:function(){return vi()?(new Intl.DateTimeFormat).resolvedOptions().timeZone:"local"}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return!0}}],[{key:"instance",get:function(){return null===Ln&&(Ln=new G),Ln}}]),G}(Es),Kr=RegExp("^"+_e.source+"$"),Ms={},Zo={year:0,month:1,day:2,hour:3,minute:4,second:5},os={},ea=function(N){function G(L){var Z;return(Z=N.call(this)||this).zoneName=L,Z.valid=G.isValidZone(L),Z}Q(G,N),G.create=function(Z){return os[Z]||(os[Z]=new G(Z)),os[Z]},G.resetCache=function(){os={},Ms={}},G.isValidSpecifier=function(Z){return!(!Z||!Z.match(Kr))},G.isValidZone=function(Z){try{return new Intl.DateTimeFormat("en-US",{timeZone:Z}).format(),!0}catch(X){return!1}},G.parseGMTOffset=function(Z){if(Z){var X=Z.match(/^Etc\/GMT([+-]\d{1,2})$/i);if(X)return-60*parseInt(X[1])}return null};var j=G.prototype;return j.offsetName=function(Z,X){return Xs(Z,X.format,X.locale,this.name)},j.formatOffset=function(Z,X){return ke(this.offset(Z),X)},j.offset=function(Z){var X=new Date(Z),ye=function bc(N){return Ms[N]||(Ms[N]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:N,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),Ms[N]}(this.name),Se=ye.formatToParts?function ko(N,G){for(var j=N.formatToParts(G),L=[],Z=0;Z<j.length;Z++){var X=j[Z],Se=X.value,Ye=Zo[X.type];Zi(Ye)||(L[Ye]=parseInt(Se,10))}return L}(ye,X):function wc(N,G){var j=N.format(G).replace(/\u200E/g,""),L=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(j);return[L[3],L[1],L[2],L[4],L[5],L[6]]}(ye,X),rn=Se[3],Ui=+X,fi=Ui%1e3;return(Sa({year:Se[0],month:Se[1],day:Se[2],hour:24===rn?0:rn,minute:Se[4],second:Se[5],millisecond:0})-(Ui-=fi>=0?fi:1e3+fi))/6e4},j.equals=function(Z){return"iana"===Z.type&&Z.name===this.name},ie(G,[{key:"type",get:function(){return"iana"}},{key:"name",get:function(){return this.zoneName}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return this.valid}}]),G}(Es),Bi=null,ks=function(N){function G(L){var Z;return(Z=N.call(this)||this).fixed=L,Z}Q(G,N),G.instance=function(Z){return 0===Z?G.utcInstance:new G(Z)},G.parseSpecifier=function(Z){if(Z){var X=Z.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(X)return new G(Lr(X[1],X[2]))}return null},ie(G,null,[{key:"utcInstance",get:function(){return null===Bi&&(Bi=new G(0)),Bi}}]);var j=G.prototype;return j.offsetName=function(){return this.name},j.formatOffset=function(Z,X){return ke(this.fixed,X)},j.offset=function(){return this.fixed},j.equals=function(Z){return"fixed"===Z.type&&Z.fixed===this.fixed},ie(G,[{key:"type",get:function(){return"fixed"}},{key:"name",get:function(){return 0===this.fixed?"UTC":"UTC"+ke(this.fixed,"narrow")}},{key:"universal",get:function(){return!0}},{key:"isValid",get:function(){return!0}}]),G}(Es),xr=function(N){function G(L){var Z;return(Z=N.call(this)||this).zoneName=L,Z}Q(G,N);var j=G.prototype;return j.offsetName=function(){return null},j.formatOffset=function(){return""},j.offset=function(){return NaN},j.equals=function(){return!1},ie(G,[{key:"type",get:function(){return"invalid"}},{key:"name",get:function(){return this.zoneName}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return!1}}]),G}(Es);function ql(N,G){var j;if(Zi(N)||null===N)return G;if(N instanceof Es)return N;if(function vc(N){return"string"==typeof N}(N)){var L=N.toLowerCase();return"local"===L?G:"utc"===L||"gmt"===L?ks.utcInstance:null!=(j=ea.parseGMTOffset(N))?ks.instance(j):ea.isValidSpecifier(L)?ea.create(N):ks.parseSpecifier(L)||new xr(N)}return vr(N)?ks.instance(N):"object"==typeof N&&N.offset&&"number"==typeof N.offset?N:new xr(N)}var nr=function(){return Date.now()},qn=null,Si=null,ha=null,Sn=null,Pr=!1,mo=function(){function N(){}return N.resetCaches=function(){_s.resetCache(),ea.resetCache()},ie(N,null,[{key:"now",get:function(){return nr},set:function(j){nr=j}},{key:"defaultZoneName",get:function(){return N.defaultZone.name},set:function(j){qn=j?ql(j):null}},{key:"defaultZone",get:function(){return qn||Xi.instance}},{key:"defaultLocale",get:function(){return Si},set:function(j){Si=j}},{key:"defaultNumberingSystem",get:function(){return ha},set:function(j){ha=j}},{key:"defaultOutputCalendar",get:function(){return Sn},set:function(j){Sn=j}},{key:"throwOnInvalid",get:function(){return Pr},set:function(j){Pr=j}}]),N}(),Cc={};function Xr(N,G){void 0===G&&(G={});var j=JSON.stringify([N,G]),L=Cc[j];return L||(L=new Intl.DateTimeFormat(N,G),Cc[j]=L),L}var Yi={},ss={};var gs=null;function gl(N,G,j,L,Z){var X=N.listingMode(j);return"error"===X?null:"en"===X?L(G):Z(G)}var ip=function(){function N(j,L,Z){if(this.padTo=Z.padTo||0,this.floor=Z.floor||!1,!L&&vi()){var X={useGrouping:!1};Z.padTo>0&&(X.minimumIntegerDigits=Z.padTo),this.inf=function ki(N,G){void 0===G&&(G={});var j=JSON.stringify([N,G]),L=Yi[j];return L||(L=new Intl.NumberFormat(N,G),Yi[j]=L),L}(j,X)}}return N.prototype.format=function(L){if(this.inf){var Z=this.floor?Math.floor(L):L;return this.inf.format(Z)}return Lo(this.floor?Math.floor(L):ar(L,3),this.padTo)},N}(),uh=function(){function N(j,L,Z){var X;if(this.opts=Z,this.hasIntl=vi(),j.zone.universal&&this.hasIntl?(X="UTC",this.dt=Z.timeZoneName||0===j.offset?j:un.fromMillis(j.ts+60*j.offset*1e3)):"local"===j.zone.type?this.dt=j:(this.dt=j,X=j.zone.name),this.hasIntl){var ye=Object.assign({},this.opts);X&&(ye.timeZone=X),this.dtf=Xr(L,ye)}}var G=N.prototype;return G.format=function(){if(this.hasIntl)return this.dtf.format(this.dt.toJSDate());var L=function lh(N){var L="EEEE, LLLL d, yyyy, h:mm a";switch(ge(wr(N,["weekday","era","year","month","day","hour","minute","second","timeZoneName","hour12"]))){case ge(kn):return"M/d/yyyy";case ge(Gn):return"LLL d, yyyy";case ge(Xe):return"LLLL d, yyyy";case ge(Ot):return"EEEE, LLLL d, yyyy";case ge(be):return"h:mm a";case ge(At):return"h:mm:ss a";case ge(Kt):case ge(it):return"h:mm a";case ge(Tn):return"HH:mm";case ge(gn):return"HH:mm:ss";case ge(di):case ge(Nn):return"HH:mm";case ge(pn):return"M/d/yyyy, h:mm a";case ge(dn):return"LLL d, yyyy, h:mm a";case ge(qr):return"LLLL d, yyyy, h:mm a";case ge(Hr):return L;case ge(Wn):return"M/d/yyyy, h:mm:ss a";case ge(mi):return"LLL d, yyyy, h:mm:ss a";case ge(ii):return"EEE, d LLL yyyy, h:mm a";case ge(Qr):return"LLLL d, yyyy, h:mm:ss a";case ge(qo):return"EEEE, LLLL d, yyyy, h:mm:ss a";default:return L}}(this.opts),Z=_s.create("en-US");return oo.create(Z).formatDateTimeFromString(this.dt,L)},G.formatToParts=function(){return this.hasIntl&&Mo()?this.dtf.formatToParts(this.dt.toJSDate()):[]},G.resolvedOptions=function(){return this.hasIntl?this.dtf.resolvedOptions():{locale:"en-US",numberingSystem:"latn",outputCalendar:"gregory"}},N}(),dv=function(){function N(j,L,Z){this.opts=Object.assign({style:"long"},Z),!L&&Bn()&&(this.rtf=function ch(N,G){void 0===G&&(G={});var Z=function de(N,G){if(null==N)return{};var Z,X,j={},L=Object.keys(N);for(X=0;X<L.length;X++)!(G.indexOf(Z=L[X])>=0)&&(j[Z]=N[Z]);return j}(G,["base"]),X=JSON.stringify([N,Z]),ye=ss[X];return ye||(ye=new Intl.RelativeTimeFormat(N,G),ss[X]=ye),ye}(j,Z))}var G=N.prototype;return G.format=function(L,Z){return this.rtf?this.rtf.format(L,Z):function np(N,G,j,L){void 0===j&&(j="always"),void 0===L&&(L=!1);var Z={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},X=-1===["hours","minutes","seconds"].indexOf(N);if("auto"===j&&X){var ye="days"===N;switch(G){case 1:return ye?"tomorrow":"next "+Z[N][0];case-1:return ye?"yesterday":"last "+Z[N][0];case 0:return ye?"today":"this "+Z[N][0]}}var Se=Object.is(G,-0)||G<0,Ye=Math.abs(G),Lt=1===Ye,Mn=Z[N],rn=L?Lt?Mn[1]:Mn[2]||Mn[1]:Lt?Z[N][0]:N;return Se?Ye+" "+rn+" ago":"in "+Ye+" "+rn}(Z,L,this.opts.numeric,"long"!==this.opts.style)},G.formatToParts=function(L,Z){return this.rtf?this.rtf.formatToParts(L,Z):[]},N}(),_s=function(){function N(j,L,Z,X){var ye=function wd(N){var G=N.indexOf("-u-");if(-1===G)return[N];var j,L=N.substring(0,G);try{j=Xr(N).resolvedOptions()}catch(Se){j=Xr(L).resolvedOptions()}return[L,j.numberingSystem,j.calendar]}(j),Ye=ye[1],Lt=ye[2];this.locale=ye[0],this.numberingSystem=L||Ye||null,this.outputCalendar=Z||Lt||null,this.intl=function cv(N,G,j){return vi()?((j||G)&&(N+="-u",j&&(N+="-ca-"+j),G&&(N+="-nu-"+G)),N):[]}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=X,this.fastNumbersCached=null}N.fromOpts=function(L){return N.create(L.locale,L.numberingSystem,L.outputCalendar,L.defaultToEN)},N.create=function(L,Z,X,ye){void 0===ye&&(ye=!1);var Se=L||mo.defaultLocale,Ye=Se||(ye?"en-US":function ta(){if(gs)return gs;if(vi()){var N=(new Intl.DateTimeFormat).resolvedOptions().locale;return gs=N&&"und"!==N?N:"en-US"}return gs="en-US"}());return new N(Ye,Z||mo.defaultNumberingSystem,X||mo.defaultOutputCalendar,Se)},N.resetCache=function(){gs=null,Cc={},Yi={},ss={}},N.fromObject=function(L){var Z=void 0===L?{}:L;return N.create(Z.locale,Z.numberingSystem,Z.outputCalendar)};var G=N.prototype;return G.listingMode=function(L){void 0===L&&(L=!0);var X=vi()&&Mo(),ye=this.isEnglish(),Se=!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar);return X||ye&&Se||L?!X||ye&&Se?"en":"intl":"error"},G.clone=function(L){return L&&0!==Object.getOwnPropertyNames(L).length?N.create(L.locale||this.specifiedLocale,L.numberingSystem||this.numberingSystem,L.outputCalendar||this.outputCalendar,L.defaultToEN||!1):this},G.redefaultToEN=function(L){return void 0===L&&(L={}),this.clone(Object.assign({},L,{defaultToEN:!0}))},G.redefaultToSystem=function(L){return void 0===L&&(L={}),this.clone(Object.assign({},L,{defaultToEN:!1}))},G.months=function(L,Z,X){var ye=this;return void 0===Z&&(Z=!1),void 0===X&&(X=!0),gl(this,L,X,ln,function(){var Se=Z?{month:L,day:"numeric"}:{month:L},Ye=Z?"format":"standalone";return ye.monthsCache[Ye][L]||(ye.monthsCache[Ye][L]=function $a(N){for(var G=[],j=1;j<=12;j++){var L=un.utc(2016,j,1);G.push(N(L))}return G}(function(Lt){return ye.extract(Lt,Se,"month")})),ye.monthsCache[Ye][L]})},G.weekdays=function(L,Z,X){var ye=this;return void 0===Z&&(Z=!1),void 0===X&&(X=!0),gl(this,L,X,or,function(){var Se=Z?{weekday:L,year:"numeric",month:"long",day:"numeric"}:{weekday:L},Ye=Z?"format":"standalone";return ye.weekdaysCache[Ye][L]||(ye.weekdaysCache[Ye][L]=function uv(N){for(var G=[],j=1;j<=7;j++){var L=un.utc(2016,11,13+j);G.push(N(L))}return G}(function(Lt){return ye.extract(Lt,Se,"weekday")})),ye.weekdaysCache[Ye][L]})},G.meridiems=function(L){var Z=this;return void 0===L&&(L=!0),gl(this,void 0,L,function(){return bo},function(){if(!Z.meridiemCache){var X={hour:"numeric",hour12:!0};Z.meridiemCache=[un.utc(2016,11,13,9),un.utc(2016,11,13,19)].map(function(ye){return Z.extract(ye,X,"dayperiod")})}return Z.meridiemCache})},G.eras=function(L,Z){var X=this;return void 0===Z&&(Z=!0),gl(this,L,Z,Gr,function(){var ye={era:L};return X.eraCache[L]||(X.eraCache[L]=[un.utc(-40,1,1),un.utc(2017,1,1)].map(function(Se){return X.extract(Se,ye,"era")})),X.eraCache[L]})},G.extract=function(L,Z,X){var Ye=this.dtFormatter(L,Z).formatToParts().find(function(Lt){return Lt.type.toLowerCase()===X});return Ye?Ye.value:null},G.numberFormatter=function(L){return void 0===L&&(L={}),new ip(this.intl,L.forceSimple||this.fastNumbers,L)},G.dtFormatter=function(L,Z){return void 0===Z&&(Z={}),new uh(L,this.intl,Z)},G.relFormatter=function(L){return void 0===L&&(L={}),new dv(this.intl,this.isEnglish(),L)},G.isEnglish=function(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||vi()&&new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")},G.equals=function(L){return this.locale===L.locale&&this.numberingSystem===L.numberingSystem&&this.outputCalendar===L.outputCalendar},ie(N,[{key:"fastNumbers",get:function(){return null==this.fastNumbersCached&&(this.fastNumbersCached=function um(N){return(!N.numberingSystem||"latn"===N.numberingSystem)&&("latn"===N.numberingSystem||!N.locale||N.locale.startsWith("en")||vi()&&"latn"===new Intl.DateTimeFormat(N.intl).resolvedOptions().numberingSystem)}(this)),this.fastNumbersCached}}]),N}();function zi(){for(var N=arguments.length,G=new Array(N),j=0;j<N;j++)G[j]=arguments[j];var L=G.reduce(function(Z,X){return Z+X.source},"");return RegExp("^"+L+"$")}function Yo(){for(var N=arguments.length,G=new Array(N),j=0;j<N;j++)G[j]=arguments[j];return function(L){return G.reduce(function(Z,X){var ye=Z[0],Se=Z[1],Lt=X(L,Z[2]),rn=Lt[1],En=Lt[2];return[Object.assign(ye,Lt[0]),Se||rn,En]},[{},null,1]).slice(0,2)}}function Nu(N){if(null==N)return[null,null];for(var G=arguments.length,j=new Array(G>1?G-1:0),L=1;L<G;L++)j[L-1]=arguments[L];for(var Z=0,X=j;Z<X.length;Z++){var ye=X[Z],Se=ye[0],Ye=ye[1],Lt=Se.exec(N);if(Lt)return Ye(Lt)}return[null,null]}function Qa(){for(var N=arguments.length,G=new Array(N),j=0;j<N;j++)G[j]=arguments[j];return function(L,Z){var ye,X={};for(ye=0;ye<G.length;ye++)X[G[ye]]=yo(L[Z+ye]);return[X,null,Z+ye]}}var Ru=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,lr=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,9}))?)?)?/,dh=RegExp(""+lr.source+Ru.source+"?"),ri=RegExp("(?:T"+dh.source+")?"),Ma=Qa("weekYear","weekNumber","weekDay"),Pu=Qa("year","ordinal"),Cd=RegExp(lr.source+" ?(?:"+Ru.source+"|("+_e.source+"))?"),_l=RegExp("(?: "+Cd.source+")?");function Tc(N,G,j){var L=N[G];return Zi(L)?j:yo(L)}function hv(N,G){return[{year:Tc(N,G),month:Tc(N,G+1,1),day:Tc(N,G+2,1)},null,G+3]}function wo(N,G){return[{hour:Tc(N,G,0),minute:Tc(N,G+1,0),second:Tc(N,G+2,0),millisecond:bd(N[G+3])},null,G+4]}function ou(N,G){var j=!N[G]&&!N[G+1],L=Lr(N[G+1],N[G+2]);return[{},j?null:ks.instance(L),G+3]}function op(N,G){return[{},N[G]?ea.create(N[G]):null,G+1]}var su=/^-?P(?:(?:(-?\d{1,9})Y)?(?:(-?\d{1,9})M)?(?:(-?\d{1,9})W)?(?:(-?\d{1,9})D)?(?:T(?:(-?\d{1,9})H)?(?:(-?\d{1,9})M)?(?:(-?\d{1,9})(?:[.,](-?\d{1,9}))?S)?)?)$/;function jg(N){var L=N[2],Z=N[3],X=N[4],ye=N[5],Se=N[6],Ye=N[7],Lt=N[8],Mn="-"===N[0][0],rn=function(ei){return ei&&Mn?-ei:ei};return[{years:rn(yo(N[1])),months:rn(yo(L)),weeks:rn(yo(Z)),days:rn(yo(X)),hours:rn(yo(ye)),minutes:rn(yo(Se)),seconds:rn(yo(Ye)),milliseconds:rn(bd(Lt))}]}var as={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function qs(N,G,j,L,Z,X,ye){var Se={year:2===G.length?pl(yo(G)):yo(G),month:mt.indexOf(j)+1,day:yo(L),hour:yo(Z),minute:yo(X)};return ye&&(Se.second=yo(ye)),N&&(Se.weekday=N.length>3?Vn.indexOf(N)+1:Ri.indexOf(N)+1),Se}var dm=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function sp(N){var ei,Ye=N[8],Lt=N[9],Mn=N[10],rn=N[11],En=qs(N[1],N[4],N[3],N[2],N[5],N[6],N[7]);return ei=Ye?as[Ye]:Lt?0:Lr(Mn,rn),[En,new ks(ei)]}var Vg=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,hm=/^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,hh=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function fh(N){return[qs(N[1],N[4],N[3],N[2],N[5],N[6],N[7]),ks.utcInstance]}function ap(N){return[qs(N[1],N[7],N[2],N[3],N[4],N[5],N[6]),ks.utcInstance]}var sr=zi(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,ri),vl=zi(/(\d{4})-?W(\d\d)(?:-?(\d))?/,ri),Li=zi(/(\d{4})-?(\d{3})/,ri),Zr=zi(dh),ef=Yo(hv,wo,ou),fm=Yo(Ma,wo,ou),Ur=Yo(Pu,wo),Is=Yo(wo,ou),Td=zi(/(\d{4})-(\d\d)-(\d\d)/,_l),Os=zi(Cd),mm=Yo(hv,wo,ou,op),Ac=Yo(wo,ou,op),hi={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},Ad=Object.assign({years:{months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6}},hi),Ls=365.2425,Bu=30.436875,gm=Object.assign({years:{months:12,weeks:Ls/7,days:Ls,hours:24*Ls,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:Ls/28,days:Ls/4,hours:24*Ls/4,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:Bu/7,days:Bu,hours:24*Bu,minutes:43829.1,seconds:2629746,milliseconds:2629746e3}},hi),Gl=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],_m=Gl.slice(0).reverse();function Sc(N,G,j){void 0===j&&(j=!1);var L={values:j?G.values:Object.assign({},N.values,G.values||{}),loc:N.loc.clone(G.loc),conversionAccuracy:G.conversionAccuracy||N.conversionAccuracy};return new Wi(L)}function cr(N,G,j,L,Z){var X=N[Z][j],ye=G[j]/X,Ye=Math.sign(ye)!==Math.sign(L[Z])&&0!==L[Z]&&Math.abs(ye)<=1?function Gt(N){return N<0?Math.floor(N):Math.ceil(N)}(ye):Math.trunc(ye);L[Z]+=Ye,G[j]-=Ye*X}function lp(N,G){_m.reduce(function(j,L){return Zi(G[L])?j:(j&&cr(N,G,j,G,L),L)},null)}var Wi=function(){function N(j){var L="longterm"===j.conversionAccuracy||!1;this.values=j.values,this.loc=j.loc||_s.create(),this.conversionAccuracy=L?"longterm":"casual",this.invalid=j.invalid||null,this.matrix=L?gm:Ad,this.isLuxonDuration=!0}N.fromMillis=function(L,Z){return N.fromObject(Object.assign({milliseconds:L},Z))},N.fromObject=function(L){if(null==L||"object"!=typeof L)throw new vn("Duration.fromObject: argument expected to be an object, got "+(null===L?"null":typeof L));return new N({values:Pe(L,N.normalizeUnit,["locale","numberingSystem","conversionAccuracy","zone"]),loc:_s.fromObject(L),conversionAccuracy:L.conversionAccuracy})},N.fromISO=function(L,Z){var X=function Hs(N){return Nu(N,[su,jg])}(L),ye=X[0];if(ye){var Se=Object.assign(ye,Z);return N.fromObject(Se)}return N.invalid("unparsable",'the input "'+L+"\" can't be parsed as ISO 8601")},N.invalid=function(L,Z){if(void 0===Z&&(Z=null),!L)throw new vn("need to specify a reason the Duration is invalid");var X=L instanceof rs?L:new rs(L,Z);if(mo.throwOnInvalid)throw new ot(X);return new N({invalid:X})},N.normalizeUnit=function(L){var Z={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[L&&L.toLowerCase()];if(!Z)throw new fn(L);return Z},N.isDuration=function(L){return L&&L.isLuxonDuration||!1};var G=N.prototype;return G.toFormat=function(L,Z){void 0===Z&&(Z={});var X=Object.assign({},Z,{floor:!1!==Z.round&&!1!==Z.floor});return this.isValid?oo.create(this.loc,X).formatDurationFromString(this,L):"Invalid Duration"},G.toObject=function(L){if(void 0===L&&(L={}),!this.isValid)return{};var Z=Object.assign({},this.values);return L.includeConfig&&(Z.conversionAccuracy=this.conversionAccuracy,Z.numberingSystem=this.loc.numberingSystem,Z.locale=this.loc.locale),Z},G.toISO=function(){if(!this.isValid)return null;var L="P";return 0!==this.years&&(L+=this.years+"Y"),(0!==this.months||0!==this.quarters)&&(L+=this.months+3*this.quarters+"M"),0!==this.weeks&&(L+=this.weeks+"W"),0!==this.days&&(L+=this.days+"D"),(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)&&(L+="T"),0!==this.hours&&(L+=this.hours+"H"),0!==this.minutes&&(L+=this.minutes+"M"),(0!==this.seconds||0!==this.milliseconds)&&(L+=ar(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===L&&(L+="T0S"),L},G.toJSON=function(){return this.toISO()},G.toString=function(){return this.toISO()},G.valueOf=function(){return this.as("milliseconds")},G.plus=function(L){if(!this.isValid)return this;for(var Se,Z=yl(L),X={},ye=xt(Gl);!(Se=ye()).done;){var Ye=Se.value;(Rr(Z.values,Ye)||Rr(this.values,Ye))&&(X[Ye]=Z.get(Ye)+this.get(Ye))}return Sc(this,{values:X},!0)},G.minus=function(L){if(!this.isValid)return this;var Z=yl(L);return this.plus(Z.negate())},G.mapUnits=function(L){if(!this.isValid)return this;for(var Z={},X=0,ye=Object.keys(this.values);X<ye.length;X++){var Se=ye[X];Z[Se]=yi(L(this.values[Se],Se))}return Sc(this,{values:Z},!0)},G.get=function(L){return this[N.normalizeUnit(L)]},G.set=function(L){return this.isValid?Sc(this,{values:Object.assign(this.values,Pe(L,N.normalizeUnit,[]))}):this},G.reconfigure=function(L){var Z=void 0===L?{}:L,Se=Z.conversionAccuracy,Lt={loc:this.loc.clone({locale:Z.locale,numberingSystem:Z.numberingSystem})};return Se&&(Lt.conversionAccuracy=Se),Sc(this,Lt)},G.as=function(L){return this.isValid?this.shiftTo(L).get(L):NaN},G.normalize=function(){if(!this.isValid)return this;var L=this.toObject();return lp(this.matrix,L),Sc(this,{values:L},!0)},G.shiftTo=function(){for(var L=arguments.length,Z=new Array(L),X=0;X<L;X++)Z[X]=arguments[X];if(!this.isValid)return this;if(0===Z.length)return this;Z=Z.map(function(Di){return N.normalizeUnit(Di)});var Lt,ye={},Se={},Ye=this.toObject();lp(this.matrix,Ye);for(var rn,Mn=xt(Gl);!(rn=Mn()).done;){var En=rn.value;if(Z.indexOf(En)>=0){Lt=En;var ei=0;for(var er in Se)ei+=this.matrix[er][En]*Se[er],Se[er]=0;vr(Ye[En])&&(ei+=Ye[En]);var $i=Math.trunc(ei);for(var Ui in ye[En]=$i,Se[En]=ei-$i,Ye)Gl.indexOf(Ui)>Gl.indexOf(En)&&cr(this.matrix,Ye,Ui,ye,En)}else vr(Ye[En])&&(Se[En]=Ye[En])}for(var fi in Se)0!==Se[fi]&&(ye[Lt]+=fi===Lt?Se[fi]:Se[fi]/this.matrix[Lt][fi]);return Sc(this,{values:ye},!0).normalize()},G.negate=function(){if(!this.isValid)return this;for(var L={},Z=0,X=Object.keys(this.values);Z<X.length;Z++){var ye=X[Z];L[ye]=-this.values[ye]}return Sc(this,{values:L},!0)},G.equals=function(L){if(!this.isValid||!L.isValid||!this.loc.equals(L.loc))return!1;for(var X,Z=xt(Gl);!(X=Z()).done;){var ye=X.value;if(this.values[ye]!==L.values[ye])return!1}return!0},ie(N,[{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"years",get:function(){return this.isValid?this.values.years||0:NaN}},{key:"quarters",get:function(){return this.isValid?this.values.quarters||0:NaN}},{key:"months",get:function(){return this.isValid?this.values.months||0:NaN}},{key:"weeks",get:function(){return this.isValid?this.values.weeks||0:NaN}},{key:"days",get:function(){return this.isValid?this.values.days||0:NaN}},{key:"hours",get:function(){return this.isValid?this.values.hours||0:NaN}},{key:"minutes",get:function(){return this.isValid?this.values.minutes||0:NaN}},{key:"seconds",get:function(){return this.isValid?this.values.seconds||0:NaN}},{key:"milliseconds",get:function(){return this.isValid?this.values.milliseconds||0:NaN}},{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),N}();function yl(N){if(vr(N))return Wi.fromMillis(N);if(Wi.isDuration(N))return N;if("object"==typeof N)return Wi.fromObject(N);throw new vn("Unknown duration argument "+N+" of type "+typeof N)}var na="Invalid Interval",Zl=function(){function N(j){this.s=j.start,this.e=j.end,this.invalid=j.invalid||null,this.isLuxonInterval=!0}N.invalid=function(L,Z){if(void 0===Z&&(Z=null),!L)throw new vn("need to specify a reason the Interval is invalid");var X=L instanceof rs?L:new rs(L,Z);if(mo.throwOnInvalid)throw new cn(X);return new N({invalid:X})},N.fromDateTimes=function(L,Z){var X=zl(L),ye=zl(Z),Se=function bl(N,G){return N&&N.isValid?G&&G.isValid?G<N?Zl.invalid("end before start","The end of an interval must be after its start, but you had start="+N.toISO()+" and end="+G.toISO()):null:Zl.invalid("missing or invalid end"):Zl.invalid("missing or invalid start")}(X,ye);return null==Se?new N({start:X,end:ye}):Se},N.after=function(L,Z){var X=yl(Z),ye=zl(L);return N.fromDateTimes(ye,ye.plus(X))},N.before=function(L,Z){var X=yl(Z),ye=zl(L);return N.fromDateTimes(ye.minus(X),ye)},N.fromISO=function(L,Z){var X=(L||"").split("/",2),ye=X[0],Se=X[1];if(ye&&Se){var Ye=un.fromISO(ye,Z),Lt=un.fromISO(Se,Z);if(Ye.isValid&&Lt.isValid)return N.fromDateTimes(Ye,Lt);if(Ye.isValid){var Mn=Wi.fromISO(Se,Z);if(Mn.isValid)return N.after(Ye,Mn)}else if(Lt.isValid){var rn=Wi.fromISO(ye,Z);if(rn.isValid)return N.before(Lt,rn)}}return N.invalid("unparsable",'the input "'+L+"\" can't be parsed as ISO 8601")},N.isInterval=function(L){return L&&L.isLuxonInterval||!1};var G=N.prototype;return G.length=function(L){return void 0===L&&(L="milliseconds"),this.isValid?this.toDuration.apply(this,[L]).get(L):NaN},G.count=function(L){if(void 0===L&&(L="milliseconds"),!this.isValid)return NaN;var Z=this.start.startOf(L),X=this.end.startOf(L);return Math.floor(X.diff(Z,L).get(L))+1},G.hasSame=function(L){return!!this.isValid&&this.e.minus(1).hasSame(this.s,L)},G.isEmpty=function(){return this.s.valueOf()===this.e.valueOf()},G.isAfter=function(L){return!!this.isValid&&this.s>L},G.isBefore=function(L){return!!this.isValid&&this.e<=L},G.contains=function(L){return!!this.isValid&&this.s<=L&&this.e>L},G.set=function(L){var Z=void 0===L?{}:L;return this.isValid?N.fromDateTimes(Z.start||this.s,Z.end||this.e):this},G.splitAt=function(){var L=this;if(!this.isValid)return[];for(var Z=arguments.length,X=new Array(Z),ye=0;ye<Z;ye++)X[ye]=arguments[ye];for(var Se=X.map(zl).filter(function(ei){return L.contains(ei)}).sort(),Ye=[],Lt=this.s,Mn=0;Lt<this.e;){var rn=Se[Mn]||this.e,En=+rn>+this.e?this.e:rn;Ye.push(N.fromDateTimes(Lt,En)),Lt=En,Mn+=1}return Ye},G.splitBy=function(L){var Z=yl(L);if(!this.isValid||!Z.isValid||0===Z.as("milliseconds"))return[];for(var ye,Se,X=this.s,Ye=[];X<this.e;)ye=X.plus(Z),Ye.push(N.fromDateTimes(X,Se=+ye>+this.e?this.e:ye)),X=Se;return Ye},G.divideEqually=function(L){return this.isValid?this.splitBy(this.length()/L).slice(0,L):[]},G.overlaps=function(L){return this.e>L.s&&this.s<L.e},G.abutsStart=function(L){return!!this.isValid&&+this.e==+L.s},G.abutsEnd=function(L){return!!this.isValid&&+L.e==+this.s},G.engulfs=function(L){return!!this.isValid&&this.s<=L.s&&this.e>=L.e},G.equals=function(L){return!(!this.isValid||!L.isValid)&&this.s.equals(L.s)&&this.e.equals(L.e)},G.intersection=function(L){if(!this.isValid)return this;var Z=this.s>L.s?this.s:L.s,X=this.e<L.e?this.e:L.e;return Z>X?null:N.fromDateTimes(Z,X)},G.union=function(L){return this.isValid?N.fromDateTimes(this.s<L.s?this.s:L.s,this.e>L.e?this.e:L.e):this},N.merge=function(L){var Z=L.sort(function(Se,Ye){return Se.s-Ye.s}).reduce(function(Se,Ye){var Lt=Se[0],Mn=Se[1];return Mn?Mn.overlaps(Ye)||Mn.abutsStart(Ye)?[Lt,Mn.union(Ye)]:[Lt.concat([Mn]),Ye]:[Lt,Ye]},[[],null]),X=Z[0],ye=Z[1];return ye&&X.push(ye),X},N.xor=function(L){for(var Z,En,X=null,ye=0,Se=[],Ye=L.map(function(er){return[{time:er.s,type:"s"},{time:er.e,type:"e"}]}),rn=xt((Z=Array.prototype).concat.apply(Z,Ye).sort(function(er,$i){return er.time-$i.time}));!(En=rn()).done;){var ei=En.value;1===(ye+="s"===ei.type?1:-1)?X=ei.time:(X&&+X!=+ei.time&&Se.push(N.fromDateTimes(X,ei.time)),X=null)}return N.merge(Se)},G.difference=function(){for(var L=this,Z=arguments.length,X=new Array(Z),ye=0;ye<Z;ye++)X[ye]=arguments[ye];return N.xor([this].concat(X)).map(function(Se){return L.intersection(Se)}).filter(function(Se){return Se&&!Se.isEmpty()})},G.toString=function(){return this.isValid?"["+this.s.toISO()+" \u2013 "+this.e.toISO()+")":na},G.toISO=function(L){return this.isValid?this.s.toISO(L)+"/"+this.e.toISO(L):na},G.toISODate=function(){return this.isValid?this.s.toISODate()+"/"+this.e.toISODate():na},G.toISOTime=function(L){return this.isValid?this.s.toISOTime(L)+"/"+this.e.toISOTime(L):na},G.toFormat=function(L,Z){var ye=(void 0===Z?{}:Z).separator,Se=void 0===ye?" \u2013 ":ye;return this.isValid?""+this.s.toFormat(L)+Se+this.e.toFormat(L):na},G.toDuration=function(L,Z){return this.isValid?this.e.diff(this.s,L,Z):Wi.invalid(this.invalidReason)},G.mapEndpoints=function(L){return N.fromDateTimes(L(this.s),L(this.e))},ie(N,[{key:"start",get:function(){return this.isValid?this.s:null}},{key:"end",get:function(){return this.isValid?this.e:null}},{key:"isValid",get:function(){return null===this.invalidReason}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),N}(),Uu=function(){function N(){}return N.hasDST=function(j){void 0===j&&(j=mo.defaultZone);var L=un.local().setZone(j).set({month:12});return!j.universal&&L.offset!==L.set({month:6}).offset},N.isValidIANAZone=function(j){return ea.isValidSpecifier(j)&&ea.isValidZone(j)},N.normalizeZone=function(j){return ql(j,mo.defaultZone)},N.months=function(j,L){void 0===j&&(j="long");var Z=void 0===L?{}:L,X=Z.locale,Se=Z.numberingSystem,Lt=Z.outputCalendar;return _s.create(void 0===X?null:X,void 0===Se?null:Se,void 0===Lt?"gregory":Lt).months(j)},N.monthsFormat=function(j,L){void 0===j&&(j="long");var Z=void 0===L?{}:L,X=Z.locale,Se=Z.numberingSystem,Lt=Z.outputCalendar;return _s.create(void 0===X?null:X,void 0===Se?null:Se,void 0===Lt?"gregory":Lt).months(j,!0)},N.weekdays=function(j,L){void 0===j&&(j="long");var Z=void 0===L?{}:L,X=Z.locale,Se=Z.numberingSystem;return _s.create(void 0===X?null:X,void 0===Se?null:Se,null).weekdays(j)},N.weekdaysFormat=function(j,L){void 0===j&&(j="long");var Z=void 0===L?{}:L,X=Z.locale,Se=Z.numberingSystem;return _s.create(void 0===X?null:X,void 0===Se?null:Se,null).weekdays(j,!0)},N.meridiems=function(j){var Z=(void 0===j?{}:j).locale;return _s.create(void 0===Z?null:Z).meridiems()},N.eras=function(j,L){void 0===j&&(j="short");var X=(void 0===L?{}:L).locale;return _s.create(void 0===X?null:X,null,"gregory").eras(j)},N.features=function(){var j=!1,L=!1,Z=!1,X=!1;if(vi()){j=!0,L=Mo(),X=Bn();try{Z="America/New_York"===new Intl.DateTimeFormat("en",{timeZone:"America/New_York"}).resolvedOptions().timeZone}catch(ye){Z=!1}}return{intl:j,intlTokens:L,zones:Z,relative:X}},N}();function Sd(N,G){var j=function(X){return X.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()},L=j(G)-j(N);return Math.floor(Wi.fromMillis(L).as("days"))}var Ec={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},Fo={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Fs=Ec.hanidec.replace(/[\[|\]]/g,"").split("");function ls(N,G){return void 0===G&&(G=""),new RegExp(""+Ec[N.numberingSystem||"latn"]+G)}function wi(N,G){return void 0===G&&(G=function(L){return L}),{regex:N,deser:function(L){return G(function ju(N){var G=parseInt(N,10);if(isNaN(G)){G="";for(var j=0;j<N.length;j++){var L=N.charCodeAt(j);if(-1!==N[j].search(Ec.hanidec))G+=Fs.indexOf(N[j]);else for(var Z in Fo){var X=Fo[Z],ye=X[0];L>=ye&&L<=X[1]&&(G+=L-ye)}}return parseInt(G,10)}return G}(L[0]))}}}function Ja(N){return N.replace(/\./,"\\.?")}function pa(N){return N.replace(/\./,"").toLowerCase()}function ka(N,G){return null===N?null:{regex:RegExp(N.map(Ja).join("|")),deser:function(L){var Z=L[0];return N.findIndex(function(X){return pa(Z)===pa(X)})+G}}}function Vu(N,G){return{regex:N,deser:function(L){return Lr(L[1],L[2])},groups:G}}function cs(N){return{regex:N,deser:function(j){return j[0]}}}function vm(N){return N.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var qg={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}},Zs=null;function ym(N,G,j){var L=function Oa(N,G){var j;return(j=Array.prototype).concat.apply(j,N.map(function(L){return function Ia(N,G){if(N.literal)return N;var j=oo.macroTokenToFormatOpts(N.val);if(!j)return N;var X=oo.create(G,j).formatDateTimeParts(function Hg(){return Zs||(Zs=un.fromMillis(1555555555555)),Zs}()).map(function(ye){return function fv(N,G,j){var L=N.type;if("literal"===L)return{literal:!0,val:N.value};var ye=qg[L];return"object"==typeof ye&&(ye=ye[j[L]]),ye?{literal:!1,val:ye}:void 0}(ye,0,j)});return X.includes(void 0)?N:X}(L,G)}))}(oo.parseFormat(j),N),Z=L.map(function(Ui){return function ph(N,G){var j=ls(G),L=ls(G,"{2}"),Z=ls(G,"{3}"),X=ls(G,"{4}"),ye=ls(G,"{6}"),Se=ls(G,"{1,2}"),Ye=ls(G,"{1,3}"),Lt=ls(G,"{1,6}"),Mn=ls(G,"{1,9}"),rn=ls(G,"{2,4}"),En=ls(G,"{4,6}"),ei=function(fi){return{regex:RegExp(vm(fi.val)),deser:function(An){return An[0]},literal:!0}},$i=function(fi){if(N.literal)return ei(fi);switch(fi.val){case"G":return ka(G.eras("short",!1),0);case"GG":return ka(G.eras("long",!1),0);case"y":return wi(Lt);case"yy":case"kk":return wi(rn,pl);case"yyyy":case"kkkk":return wi(X);case"yyyyy":return wi(En);case"yyyyyy":return wi(ye);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return wi(Se);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return wi(L);case"MMM":return ka(G.months("short",!0,!1),1);case"MMMM":return ka(G.months("long",!0,!1),1);case"LLL":return ka(G.months("short",!1,!1),1);case"LLLL":return ka(G.months("long",!1,!1),1);case"o":case"S":return wi(Ye);case"ooo":case"SSS":return wi(Z);case"u":return cs(Mn);case"a":return ka(G.meridiems(),0);case"E":case"c":return wi(j);case"EEE":return ka(G.weekdays("short",!1,!1),1);case"EEEE":return ka(G.weekdays("long",!1,!1),1);case"ccc":return ka(G.weekdays("short",!0,!1),1);case"cccc":return ka(G.weekdays("long",!0,!1),1);case"Z":case"ZZ":return Vu(new RegExp("([+-]"+Se.source+")(?::("+L.source+"))?"),2);case"ZZZ":return Vu(new RegExp("([+-]"+Se.source+")("+L.source+")?"),2);case"z":return cs(/[a-z_+-/]{1,256}?/i);default:return ei(fi)}}(N)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return $i.token=N,$i}(Ui,N)}),X=Z.find(function(Ui){return Ui.invalidReason});if(X)return{input:G,tokens:L,invalidReason:X.invalidReason};var ye=function tf(N){return["^"+N.map(function(j){return j.regex}).reduce(function(j,L){return j+"("+L.source+")"},"")+"$",N]}(Z),Ye=ye[1],Lt=RegExp(ye[0],"i"),Mn=function nf(N,G,j){var L=N.match(G);if(L){var Z={},X=1;for(var ye in j)if(Rr(j,ye)){var Se=j[ye],Ye=Se.groups?Se.groups+1:1;!Se.literal&&Se.token&&(Z[Se.token.val[0]]=Se.deser(L.slice(X,X+Ye))),X+=Ye}return[L,Z]}return[L,{}]}(G,Lt,Ye),rn=Mn[0],En=Mn[1],ei=En?function Mc(N){var j;return j=Zi(N.Z)?Zi(N.z)?null:ea.create(N.z):new ks(N.Z),Zi(N.q)||(N.M=3*(N.q-1)+1),Zi(N.h)||(N.h<12&&1===N.a?N.h+=12:12===N.h&&0===N.a&&(N.h=0)),0===N.G&&N.y&&(N.y=-N.y),Zi(N.u)||(N.S=bd(N.u)),[Object.keys(N).reduce(function(Z,X){var ye=function(X){switch(X){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}}(X);return ye&&(Z[ye]=N[X]),Z},{}),j]}(En):[null,null],er=ei[0],$i=ei[1];if(Rr(En,"a")&&Rr(En,"H"))throw new Ft("Can't include meridiem when specifying 24-hour format");return{input:G,tokens:L,regex:Lt,rawMatches:rn,matches:En,result:er,zone:$i}}var vs=[0,31,59,90,120,151,181,212,243,273,304,334],Yr=[0,31,60,91,121,152,182,213,244,274,305,335];function La(N,G){return new rs("unit out of range","you specified "+G+" (of type "+typeof G+") as a "+N+", which is invalid")}function up(N,G,j){var L=new Date(Date.UTC(N,G-1,j)).getUTCDay();return 0===L?7:L}function kc(N,G,j){return j+(si(N)?Yr:vs)[G-1]}function rf(N,G){var j=si(N)?Yr:vs,L=j.findIndex(function(X){return X<G});return{month:L+1,day:G-j[L]}}function Gg(N){var Se,G=N.year,j=N.month,L=N.day,Z=kc(G,j,L),X=up(G,j,L),ye=Math.floor((Z-X+10)/7);return ye<1?ye=Oi(Se=G-1):ye>Oi(G)?(Se=G+1,ye=1):Se=G,Object.assign({weekYear:Se,weekNumber:ye,weekday:X},at(N))}function ma(N){var Se,G=N.weekYear,j=N.weekNumber,L=N.weekday,Z=up(G,1,4),X=Ci(G),ye=7*j+L-Z-3;ye<1?ye+=Ci(Se=G-1):ye>X?(Se=G+1,ye-=Ci(G)):Se=G;var Ye=rf(Se,ye);return Object.assign({year:Se,month:Ye.month,day:Ye.day},at(N))}function ga(N){var G=N.year,Z=kc(G,N.month,N.day);return Object.assign({year:G,ordinal:Z},at(N))}function Cl(N){var G=N.year,L=rf(G,N.ordinal);return Object.assign({year:G,month:L.month,day:L.day},at(N))}function dp(N){var G=ua(N.year),j=Ks(N.month,1,12),L=Ks(N.day,1,Dr(N.year,N.month));return G?j?!L&&La("day",N.day):La("month",N.month):La("year",N.year)}function qu(N){var G=N.hour,j=N.minute,L=N.second,Z=N.millisecond,X=Ks(G,0,23)||24===G&&0===j&&0===L&&0===Z,ye=Ks(j,0,59),Se=Ks(L,0,59),Ye=Ks(Z,0,999);return X?ye?Se?!Ye&&La("millisecond",Z):La("second",L):La("minute",j):La("hour",G)}var ra="Invalid DateTime",Ka=864e13;function af(N){return new rs("unsupported zone",'the zone "'+N.name+'" is not supported')}function Dd(N){return null===N.weekData&&(N.weekData=Gg(N.c)),N.weekData}function Fa(N,G){var j={ts:N.ts,zone:N.zone,c:N.c,o:N.o,loc:N.loc,invalid:N.invalid};return new un(Object.assign({},j,G,{old:j}))}function Ic(N,G,j){var L=N-60*G*1e3,Z=j.offset(L);if(G===Z)return[L,G];var X=j.offset(L-=60*(Z-G)*1e3);return Z===X?[L,Z]:[N-60*Math.min(Z,X)*1e3,Math.max(Z,X)]}function bm(N,G){var j=new Date(N+=60*G*1e3);return{year:j.getUTCFullYear(),month:j.getUTCMonth()+1,day:j.getUTCDate(),hour:j.getUTCHours(),minute:j.getUTCMinutes(),second:j.getUTCSeconds(),millisecond:j.getUTCMilliseconds()}}function lf(N,G,j){return Ic(Sa(N),G,j)}function go(N,G){var j,L=Object.keys(G.values);-1===L.indexOf("milliseconds")&&L.push("milliseconds"),G=(j=G).shiftTo.apply(j,L);var Z=N.o,X=N.c.year+G.years,ye=N.c.month+G.months+3*G.quarters,Se=Object.assign({},N.c,{year:X,month:ye,day:Math.min(N.c.day,Dr(X,ye))+G.days+7*G.weeks}),Ye=Wi.fromObject({hours:G.hours,minutes:G.minutes,seconds:G.seconds,milliseconds:G.milliseconds}).as("milliseconds"),Mn=Ic(Sa(Se),Z,N.zone),rn=Mn[0],En=Mn[1];return 0!==Ye&&(En=N.zone.offset(rn+=Ye)),{ts:rn,o:En}}function ys(N,G,j,L,Z){var X=j.setZone,ye=j.zone;if(N&&0!==Object.keys(N).length){var Ye=un.fromObject(Object.assign(N,j,{zone:G||ye,setZone:void 0}));return X?Ye:Ye.setZone(ye)}return un.invalid(new rs("unparsable",'the input "'+Z+"\" can't be parsed as "+L))}function Dn(N,G,j){return void 0===j&&(j=!0),N.isValid?oo.create(_s.create("en-US"),{allowZ:j,forceSimple:!0}).formatDateTimeFromString(N,G):null}function Ht(N,G){var j=G.suppressSeconds,Z=G.suppressMilliseconds,ye=G.includeOffset,Se=G.includeZone,Ye=void 0!==Se&&Se,Lt=G.spaceZone,rn=G.format,En=void 0===rn?"extended":rn,ei="basic"===En?"HHmm":"HH:mm";return(!(void 0!==j&&j)||0!==N.second||0!==N.millisecond)&&(ei+="basic"===En?"ss":":ss",(!(void 0!==Z&&Z)||0!==N.millisecond)&&(ei+=".SSS")),(Ye||ye)&&void 0!==Lt&&Lt&&(ei+=" "),Ye?ei+="z":ye&&(ei+="basic"===En?"ZZZ":"ZZ"),Dn(N,ei)}var Io={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Co={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},hp={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Hu=["year","month","day","hour","minute","second","millisecond"],Ed=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],gh=["year","ordinal","hour","minute","second","millisecond"];function xo(N){var G={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[N.toLowerCase()];if(!G)throw new fn(N);return G}function to(N,G){for(var L,j=xt(Hu);!(L=j()).done;){var Z=L.value;Zi(N[Z])&&(N[Z]=Io[Z])}var X=dp(N)||qu(N);if(X)return un.invalid(X);var ye=mo.now(),Ye=lf(N,G.offset(ye),G);return new un({ts:Ye[0],zone:G,o:Ye[1]})}function Yl(N,G,j){var L=!!Zi(j.round)||j.round,Z=function(rn,En){return rn=ar(rn,L||j.calendary?0:2,!0),G.loc.clone(j).relFormatter(j).format(rn,En)},X=function(rn){return j.calendary?G.hasSame(N,rn)?0:G.startOf(rn).diff(N.startOf(rn),rn).get(rn):G.diff(N,rn).get(rn)};if(j.unit)return Z(X(j.unit),j.unit);for(var Se,ye=xt(j.units);!(Se=ye()).done;){var Ye=Se.value,Lt=X(Ye);if(Math.abs(Lt)>=1)return Z(Lt,Ye)}return Z(0,j.units[j.units.length-1])}var un=function(){function N(j){var L=j.zone||mo.defaultZone,Z=j.invalid||(Number.isNaN(j.ts)?new rs("invalid input"):null)||(L.isValid?null:af(L));this.ts=Zi(j.ts)?mo.now():j.ts;var X=null,ye=null;if(!Z)if(j.old&&j.old.ts===this.ts&&j.old.zone.equals(L)){var Ye=[j.old.c,j.old.o];X=Ye[0],ye=Ye[1]}else{var Lt=L.offset(this.ts);X=bm(this.ts,Lt),X=(Z=Number.isNaN(X.year)?new rs("invalid input"):null)?null:X,ye=Z?null:Lt}this._zone=L,this.loc=j.loc||_s.create(),this.invalid=Z,this.weekData=null,this.c=X,this.o=ye,this.isLuxonDateTime=!0}N.local=function(L,Z,X,ye,Se,Ye,Lt){return Zi(L)?new N({ts:mo.now()}):to({year:L,month:Z,day:X,hour:ye,minute:Se,second:Ye,millisecond:Lt},mo.defaultZone)},N.utc=function(L,Z,X,ye,Se,Ye,Lt){return Zi(L)?new N({ts:mo.now(),zone:ks.utcInstance}):to({year:L,month:Z,day:X,hour:ye,minute:Se,second:Ye,millisecond:Lt},ks.utcInstance)},N.fromJSDate=function(L,Z){void 0===Z&&(Z={});var X=function Ki(N){return"[object Date]"===Object.prototype.toString.call(N)}(L)?L.valueOf():NaN;if(Number.isNaN(X))return N.invalid("invalid input");var ye=ql(Z.zone,mo.defaultZone);return ye.isValid?new N({ts:X,zone:ye,loc:_s.fromObject(Z)}):N.invalid(af(ye))},N.fromMillis=function(L,Z){if(void 0===Z&&(Z={}),vr(L))return L<-Ka||L>Ka?N.invalid("Timestamp out of range"):new N({ts:L,zone:ql(Z.zone,mo.defaultZone),loc:_s.fromObject(Z)});throw new vn("fromMillis requires a numerical input, but received a "+typeof L+" with value "+L)},N.fromSeconds=function(L,Z){if(void 0===Z&&(Z={}),vr(L))return new N({ts:1e3*L,zone:ql(Z.zone,mo.defaultZone),loc:_s.fromObject(Z)});throw new vn("fromSeconds requires a numerical input")},N.fromObject=function(L){var Z=ql(L.zone,mo.defaultZone);if(!Z.isValid)return N.invalid(af(Z));var X=mo.now(),ye=Z.offset(X),Se=Pe(L,xo,["zone","locale","outputCalendar","numberingSystem"]),Ye=!Zi(Se.ordinal),Lt=!Zi(Se.year),Mn=!Zi(Se.month)||!Zi(Se.day),rn=Lt||Mn,En=Se.weekYear||Se.weekNumber,ei=_s.fromObject(L);if((rn||Ye)&&En)throw new Ft("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(Mn&&Ye)throw new Ft("Can't mix ordinal dates with month/day");var $i,Ui,er=En||Se.weekday&&!rn,fi=bm(X,ye);er?($i=Ed,Ui=Co,fi=Gg(fi)):Ye?($i=gh,Ui=hp,fi=ga(fi)):($i=Hu,Ui=Io);for(var ao,Di=!1,An=xt($i);!(ao=An()).done;){var _a=ao.value;Zi(Se[_a])?Se[_a]=Di?Ui[_a]:fi[_a]:Di=!0}var Er=er?function mh(N){var G=ua(N.weekYear),j=Ks(N.weekNumber,1,Oi(N.weekYear)),L=Ks(N.weekday,1,7);return G?j?!L&&La("weekday",N.weekday):La("week",N.week):La("weekYear",N.weekYear)}(Se):Ye?function sf(N){var G=ua(N.year),j=Ks(N.ordinal,1,Ci(N.year));return G?!j&&La("ordinal",N.ordinal):La("year",N.year)}(Se):dp(Se),Ir=Er||qu(Se);if(Ir)return N.invalid(Ir);var Xa=lf(er?ma(Se):Ye?Cl(Se):Se,ye,Z),no=new N({ts:Xa[0],zone:Z,o:Xa[1],loc:ei});return Se.weekday&&rn&&L.weekday!==no.weekday?N.invalid("mismatched weekday","you can't specify both a weekday of "+Se.weekday+" and a date of "+no.toISO()):no},N.fromISO=function(L,Z){void 0===Z&&(Z={});var X=function pm(N){return Nu(N,[sr,ef],[vl,fm],[Li,Ur],[Zr,Is])}(L);return ys(X[0],X[1],Z,"ISO 8601",L)},N.fromRFC2822=function(L,Z){void 0===Z&&(Z={});var X=function xd(N){return Nu(function so(N){return N.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(N),[dm,sp])}(L);return ys(X[0],X[1],Z,"RFC 2822",L)},N.fromHTTP=function(L,Z){void 0===Z&&(Z={});var X=function fa(N){return Nu(N,[Vg,fh],[hm,fh],[hh,ap])}(L);return ys(X[0],X[1],Z,"HTTP",Z)},N.fromFormat=function(L,Z,X){if(void 0===X&&(X={}),Zi(L)||Zi(Z))throw new vn("fromFormat requires an input string and a format");var Se=X.locale,Lt=X.numberingSystem,En=function ia(N,G,j){var L=ym(N,G,j);return[L.result,L.zone,L.invalidReason]}(_s.fromOpts({locale:void 0===Se?null:Se,numberingSystem:void 0===Lt?null:Lt,defaultToEN:!0}),L,Z),ei=En[0],er=En[1],$i=En[2];return $i?N.invalid($i):ys(ei,er,X,"format "+Z,L)},N.fromString=function(L,Z,X){return void 0===X&&(X={}),N.fromFormat(L,Z,X)},N.fromSQL=function(L,Z){void 0===Z&&(Z={});var X=function au(N){return Nu(N,[Td,mm],[Os,Ac])}(L);return ys(X[0],X[1],Z,"SQL",L)},N.invalid=function(L,Z){if(void 0===Z&&(Z=null),!L)throw new vn("need to specify a reason the DateTime is invalid");var X=L instanceof rs?L:new rs(L,Z);if(mo.throwOnInvalid)throw new kt(X);return new N({invalid:X})},N.isDateTime=function(L){return L&&L.isLuxonDateTime||!1};var G=N.prototype;return G.get=function(L){return this[L]},G.resolvedLocaleOpts=function(L){void 0===L&&(L={});var Z=oo.create(this.loc.clone(L),L).resolvedOptions(this);return{locale:Z.locale,numberingSystem:Z.numberingSystem,outputCalendar:Z.calendar}},G.toUTC=function(L,Z){return void 0===L&&(L=0),void 0===Z&&(Z={}),this.setZone(ks.instance(L),Z)},G.toLocal=function(){return this.setZone(mo.defaultZone)},G.setZone=function(L,Z){var X=void 0===Z?{}:Z,ye=X.keepLocalTime,Se=void 0!==ye&&ye,Ye=X.keepCalendarTime,Lt=void 0!==Ye&&Ye;if((L=ql(L,mo.defaultZone)).equals(this.zone))return this;if(L.isValid){var Mn=this.ts;if(Se||Lt){var rn=L.offset(this.ts);Mn=lf(this.toObject(),rn,L)[0]}return Fa(this,{ts:Mn,zone:L})}return N.invalid(af(L))},G.reconfigure=function(L){var Z=void 0===L?{}:L;return Fa(this,{loc:this.loc.clone({locale:Z.locale,numberingSystem:Z.numberingSystem,outputCalendar:Z.outputCalendar})})},G.setLocale=function(L){return this.reconfigure({locale:L})},G.set=function(L){if(!this.isValid)return this;var ye,Z=Pe(L,xo,[]);Zi(Z.weekYear)&&Zi(Z.weekNumber)&&Zi(Z.weekday)?Zi(Z.ordinal)?(ye=Object.assign(this.toObject(),Z),Zi(Z.day)&&(ye.day=Math.min(Dr(ye.year,ye.month),ye.day))):ye=Cl(Object.assign(ga(this.c),Z)):ye=ma(Object.assign(Gg(this.c),Z));var Se=lf(ye,this.o,this.zone);return Fa(this,{ts:Se[0],o:Se[1]})},G.plus=function(L){return this.isValid?Fa(this,go(this,yl(L))):this},G.minus=function(L){return this.isValid?Fa(this,go(this,yl(L).negate())):this},G.startOf=function(L){if(!this.isValid)return this;var Z={},X=Wi.normalizeUnit(L);switch(X){case"years":Z.month=1;case"quarters":case"months":Z.day=1;case"weeks":case"days":Z.hour=0;case"hours":Z.minute=0;case"minutes":Z.second=0;case"seconds":Z.millisecond=0}if("weeks"===X&&(Z.weekday=1),"quarters"===X){var ye=Math.ceil(this.month/3);Z.month=3*(ye-1)+1}return this.set(Z)},G.endOf=function(L){var Z;return this.isValid?this.plus((Z={},Z[L]=1,Z)).startOf(L).minus(1):this},G.toFormat=function(L,Z){return void 0===Z&&(Z={}),this.isValid?oo.create(this.loc.redefaultToEN(Z)).formatDateTimeFromString(this,L):ra},G.toLocaleString=function(L){return void 0===L&&(L=kn),this.isValid?oo.create(this.loc.clone(L),L).formatDateTime(this):ra},G.toLocaleParts=function(L){return void 0===L&&(L={}),this.isValid?oo.create(this.loc.clone(L),L).formatDateTimeParts(this):[]},G.toISO=function(L){return void 0===L&&(L={}),this.isValid?this.toISODate(L)+"T"+this.toISOTime(L):null},G.toISODate=function(L){var X=(void 0===L?{}:L).format,Se="basic"===(void 0===X?"extended":X)?"yyyyMMdd":"yyyy-MM-dd";return this.year>9999&&(Se="+"+Se),Dn(this,Se)},G.toISOWeekDate=function(){return Dn(this,"kkkk-'W'WW-c")},G.toISOTime=function(L){var Z=void 0===L?{}:L,X=Z.suppressMilliseconds,Se=Z.suppressSeconds,Lt=Z.includeOffset,rn=Z.format;return Ht(this,{suppressSeconds:void 0!==Se&&Se,suppressMilliseconds:void 0!==X&&X,includeOffset:void 0===Lt||Lt,format:void 0===rn?"extended":rn})},G.toRFC2822=function(){return Dn(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)},G.toHTTP=function(){return Dn(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")},G.toSQLDate=function(){return Dn(this,"yyyy-MM-dd")},G.toSQLTime=function(L){var Z=void 0===L?{}:L,X=Z.includeOffset,Se=Z.includeZone;return Ht(this,{includeOffset:void 0===X||X,includeZone:void 0!==Se&&Se,spaceZone:!0})},G.toSQL=function(L){return void 0===L&&(L={}),this.isValid?this.toSQLDate()+" "+this.toSQLTime(L):null},G.toString=function(){return this.isValid?this.toISO():ra},G.valueOf=function(){return this.toMillis()},G.toMillis=function(){return this.isValid?this.ts:NaN},G.toSeconds=function(){return this.isValid?this.ts/1e3:NaN},G.toJSON=function(){return this.toISO()},G.toBSON=function(){return this.toJSDate()},G.toObject=function(L){if(void 0===L&&(L={}),!this.isValid)return{};var Z=Object.assign({},this.c);return L.includeConfig&&(Z.outputCalendar=this.outputCalendar,Z.numberingSystem=this.loc.numberingSystem,Z.locale=this.loc.locale),Z},G.toJSDate=function(){return new Date(this.isValid?this.ts:NaN)},G.diff=function(L,Z,X){if(void 0===Z&&(Z="milliseconds"),void 0===X&&(X={}),!this.isValid||!L.isValid)return Wi.invalid(this.invalid||L.invalid,"created by diffing an invalid DateTime");var ye=Object.assign({locale:this.locale,numberingSystem:this.numberingSystem},X),Se=function Jr(N){return Array.isArray(N)?N:[N]}(Z).map(Wi.normalizeUnit),Ye=L.valueOf()>this.valueOf(),rn=function Dc(N,G,j,L){var rn,Z=function cp(N,G,j){for(var X,ye,Z={},Se=0,Ye=[["years",function($i,Ui){return Ui.year-$i.year}],["months",function($i,Ui){return Ui.month-$i.month+12*(Ui.year-$i.year)}],["weeks",function($i,Ui){var fi=Sd($i,Ui);return(fi-fi%7)/7}],["days",Sd]];Se<Ye.length;Se++){var Lt=Ye[Se],Mn=Lt[0],rn=Lt[1];if(j.indexOf(Mn)>=0){var En;X=Mn;var er,ei=rn(N,G);(ye=N.plus(((En={})[Mn]=ei,En)))>G?(N=N.plus(((er={})[Mn]=ei-1,er)),ei-=1):N=ye,Z[Mn]=ei}}return[N,Z,ye,X]}(N,G,j),X=Z[0],ye=Z[1],Se=Z[2],Ye=Z[3],Lt=G-X,Mn=j.filter(function(er){return["hours","minutes","seconds","milliseconds"].indexOf(er)>=0});0===Mn.length&&(Se<G&&(Se=X.plus(((rn={})[Ye]=1,rn))),Se!==X&&(ye[Ye]=(ye[Ye]||0)+Lt/(Se-X)));var ei,En=Wi.fromObject(Object.assign(ye,L));return Mn.length>0?(ei=Wi.fromMillis(Lt,L)).shiftTo.apply(ei,Mn).plus(En):En}(Ye?this:L,Ye?L:this,Se,ye);return Ye?rn.negate():rn},G.diffNow=function(L,Z){return void 0===L&&(L="milliseconds"),void 0===Z&&(Z={}),this.diff(N.local(),L,Z)},G.until=function(L){return this.isValid?Zl.fromDateTimes(this,L):this},G.hasSame=function(L,Z){if(!this.isValid)return!1;if("millisecond"===Z)return this.valueOf()===L.valueOf();var X=L.valueOf();return this.startOf(Z)<=X&&X<=this.endOf(Z)},G.equals=function(L){return this.isValid&&L.isValid&&this.valueOf()===L.valueOf()&&this.zone.equals(L.zone)&&this.loc.equals(L.loc)},G.toRelative=function(L){if(void 0===L&&(L={}),!this.isValid)return null;var Z=L.base||N.fromObject({zone:this.zone});return Yl(Z,this.plus(L.padding?this<Z?-L.padding:L.padding:0),Object.assign(L,{numeric:"always",units:["years","months","days","hours","minutes","seconds"]}))},G.toRelativeCalendar=function(L){return void 0===L&&(L={}),this.isValid?Yl(L.base||N.fromObject({zone:this.zone}),this,Object.assign(L,{numeric:"auto",units:["years","months","days"],calendary:!0})):null},N.min=function(){for(var L=arguments.length,Z=new Array(L),X=0;X<L;X++)Z[X]=arguments[X];if(!Z.every(N.isDateTime))throw new vn("min requires all arguments be DateTimes");return rr(Z,function(ye){return ye.valueOf()},Math.min)},N.max=function(){for(var L=arguments.length,Z=new Array(L),X=0;X<L;X++)Z[X]=arguments[X];if(!Z.every(N.isDateTime))throw new vn("max requires all arguments be DateTimes");return rr(Z,function(ye){return ye.valueOf()},Math.max)},N.fromFormatExplain=function(L,Z,X){void 0===X&&(X={});var Se=X.locale,Lt=X.numberingSystem;return ym(_s.fromOpts({locale:void 0===Se?null:Se,numberingSystem:void 0===Lt?null:Lt,defaultToEN:!0}),L,Z)},N.fromStringExplain=function(L,Z,X){return void 0===X&&(X={}),N.fromFormatExplain(L,Z,X)},ie(N,[{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}},{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"outputCalendar",get:function(){return this.isValid?this.loc.outputCalendar:null}},{key:"zone",get:function(){return this._zone}},{key:"zoneName",get:function(){return this.isValid?this.zone.name:null}},{key:"year",get:function(){return this.isValid?this.c.year:NaN}},{key:"quarter",get:function(){return this.isValid?Math.ceil(this.c.month/3):NaN}},{key:"month",get:function(){return this.isValid?this.c.month:NaN}},{key:"day",get:function(){return this.isValid?this.c.day:NaN}},{key:"hour",get:function(){return this.isValid?this.c.hour:NaN}},{key:"minute",get:function(){return this.isValid?this.c.minute:NaN}},{key:"second",get:function(){return this.isValid?this.c.second:NaN}},{key:"millisecond",get:function(){return this.isValid?this.c.millisecond:NaN}},{key:"weekYear",get:function(){return this.isValid?Dd(this).weekYear:NaN}},{key:"weekNumber",get:function(){return this.isValid?Dd(this).weekNumber:NaN}},{key:"weekday",get:function(){return this.isValid?Dd(this).weekday:NaN}},{key:"ordinal",get:function(){return this.isValid?ga(this.c).ordinal:NaN}},{key:"monthShort",get:function(){return this.isValid?Uu.months("short",{locale:this.locale})[this.month-1]:null}},{key:"monthLong",get:function(){return this.isValid?Uu.months("long",{locale:this.locale})[this.month-1]:null}},{key:"weekdayShort",get:function(){return this.isValid?Uu.weekdays("short",{locale:this.locale})[this.weekday-1]:null}},{key:"weekdayLong",get:function(){return this.isValid?Uu.weekdays("long",{locale:this.locale})[this.weekday-1]:null}},{key:"offset",get:function(){return this.isValid?+this.o:NaN}},{key:"offsetNameShort",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}},{key:"offsetNameLong",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}},{key:"isOffsetFixed",get:function(){return this.isValid?this.zone.universal:null}},{key:"isInDST",get:function(){return!this.isOffsetFixed&&(this.offset>this.set({month:1}).offset||this.offset>this.set({month:5}).offset)}},{key:"isInLeapYear",get:function(){return si(this.year)}},{key:"daysInMonth",get:function(){return Dr(this.year,this.month)}},{key:"daysInYear",get:function(){return this.isValid?Ci(this.year):NaN}},{key:"weeksInWeekYear",get:function(){return this.isValid?Oi(this.weekYear):NaN}}],[{key:"DATE_SHORT",get:function(){return kn}},{key:"DATE_MED",get:function(){return Gn}},{key:"DATE_FULL",get:function(){return Xe}},{key:"DATE_HUGE",get:function(){return Ot}},{key:"TIME_SIMPLE",get:function(){return be}},{key:"TIME_WITH_SECONDS",get:function(){return At}},{key:"TIME_WITH_SHORT_OFFSET",get:function(){return Kt}},{key:"TIME_WITH_LONG_OFFSET",get:function(){return it}},{key:"TIME_24_SIMPLE",get:function(){return Tn}},{key:"TIME_24_WITH_SECONDS",get:function(){return gn}},{key:"TIME_24_WITH_SHORT_OFFSET",get:function(){return di}},{key:"TIME_24_WITH_LONG_OFFSET",get:function(){return Nn}},{key:"DATETIME_SHORT",get:function(){return pn}},{key:"DATETIME_SHORT_WITH_SECONDS",get:function(){return Wn}},{key:"DATETIME_MED",get:function(){return dn}},{key:"DATETIME_MED_WITH_SECONDS",get:function(){return mi}},{key:"DATETIME_MED_WITH_WEEKDAY",get:function(){return ii}},{key:"DATETIME_FULL",get:function(){return qr}},{key:"DATETIME_FULL_WITH_SECONDS",get:function(){return Qr}},{key:"DATETIME_HUGE",get:function(){return Hr}},{key:"DATETIME_HUGE_WITH_SECONDS",get:function(){return qo}}]),N}();function zl(N){if(un.isDateTime(N))return N;if(N&&N.valueOf&&vr(N.valueOf()))return un.fromJSDate(N);if(N&&"object"==typeof N)return un.fromObject(N);throw new vn("Unknown datetime argument: "+N+", of type "+typeof N)}$t.ou=un,$t.kI=Uu},8306:(oi,$t,me)=>{"use strict";me.d($t,{y:()=>de});var r=me(930),ie=me(727),Q=me(8822),Ze=me(4671);var et=me(2416),yt=me(576),ht=me(2806);let de=(()=>{class rt{constructor(cn){cn&&(this._subscribe=cn)}lift(cn){const ot=new rt;return ot.source=this,ot.operator=cn,ot}subscribe(cn,ot,Ft){const fn=function xt(rt){return rt&&rt instanceof r.Lv||function We(rt){return rt&&(0,yt.m)(rt.next)&&(0,yt.m)(rt.error)&&(0,yt.m)(rt.complete)}(rt)&&(0,ie.Nn)(rt)}(cn)?cn:new r.Hp(cn,ot,Ft);return(0,ht.x)(()=>{const{operator:vn,source:qt}=this;fn.add(vn?vn.call(fn,qt):qt?this._subscribe(fn):this._trySubscribe(fn))}),fn}_trySubscribe(cn){try{return this._subscribe(cn)}catch(ot){cn.error(ot)}}forEach(cn,ot){return new(ot=qe(ot))((Ft,fn)=>{const vn=new r.Hp({next:qt=>{try{cn(qt)}catch(Re){fn(Re),vn.unsubscribe()}},error:fn,complete:Ft});this.subscribe(vn)})}_subscribe(cn){var ot;return null===(ot=this.source)||void 0===ot?void 0:ot.subscribe(cn)}[Q.L](){return this}pipe(...cn){return function jt(rt){return 0===rt.length?Ze.y:1===rt.length?rt[0]:function(cn){return rt.reduce((ot,Ft)=>Ft(ot),cn)}}(cn)(this)}toPromise(cn){return new(cn=qe(cn))((ot,Ft)=>{let fn;this.subscribe(vn=>fn=vn,vn=>Ft(vn),()=>ot(fn))})}}return rt.create=kt=>new rt(kt),rt})();function qe(rt){var kt;return null!==(kt=null!=rt?rt:et.v.Promise)&&void 0!==kt?kt:Promise}},7579:(oi,$t,me)=>{"use strict";me.d($t,{x:()=>et});var r=me(8306),ie=me(727);const Ze=(0,me(3888).d)(ht=>function(){ht(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var wt=me(8737),jt=me(2806);let et=(()=>{class ht extends r.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(qe){const We=new yt(this,this);return We.operator=qe,We}_throwIfClosed(){if(this.closed)throw new Ze}next(qe){(0,jt.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const We of this.currentObservers)We.next(qe)}})}error(qe){(0,jt.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=qe;const{observers:We}=this;for(;We.length;)We.shift().error(qe)}})}complete(){(0,jt.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:qe}=this;for(;qe.length;)qe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var qe;return(null===(qe=this.observers)||void 0===qe?void 0:qe.length)>0}_trySubscribe(qe){return this._throwIfClosed(),super._trySubscribe(qe)}_subscribe(qe){return this._throwIfClosed(),this._checkFinalizedStatuses(qe),this._innerSubscribe(qe)}_innerSubscribe(qe){const{hasError:We,isStopped:xt,observers:rt}=this;return We||xt?ie.Lc:(this.currentObservers=null,rt.push(qe),new ie.w0(()=>{this.currentObservers=null,(0,wt.P)(rt,qe)}))}_checkFinalizedStatuses(qe){const{hasError:We,thrownError:xt,isStopped:rt}=this;We?qe.error(xt):rt&&qe.complete()}asObservable(){const qe=new r.y;return qe.source=this,qe}}return ht.create=(de,qe)=>new yt(de,qe),ht})();class yt extends et{constructor(de,qe){super(),this.destination=de,this.source=qe}next(de){var qe,We;null===(We=null===(qe=this.destination)||void 0===qe?void 0:qe.next)||void 0===We||We.call(qe,de)}error(de){var qe,We;null===(We=null===(qe=this.destination)||void 0===qe?void 0:qe.error)||void 0===We||We.call(qe,de)}complete(){var de,qe;null===(qe=null===(de=this.destination)||void 0===de?void 0:de.complete)||void 0===qe||qe.call(de)}_subscribe(de){var qe,We;return null!==(We=null===(qe=this.source)||void 0===qe?void 0:qe.subscribe(de))&&void 0!==We?We:ie.Lc}}},930:(oi,$t,me)=>{"use strict";me.d($t,{Hp:()=>cn,Lv:()=>We});var r=me(576),ie=me(727),Q=me(2416),Ze=me(7849),wt=me(5032);const jt=ht("C",void 0,void 0);function ht(qt,Re,Mt){return{kind:qt,value:Re,error:Mt}}var de=me(3410),qe=me(2806);class We extends ie.w0{constructor(Re){super(),this.isStopped=!1,Re?(this.destination=Re,(0,ie.Nn)(Re)&&Re.add(this)):this.destination=vn}static create(Re,Mt,Ut){return new cn(Re,Mt,Ut)}next(Re){this.isStopped?fn(function yt(qt){return ht("N",qt,void 0)}(Re),this):this._next(Re)}error(Re){this.isStopped?fn(function et(qt){return ht("E",void 0,qt)}(Re),this):(this.isStopped=!0,this._error(Re))}complete(){this.isStopped?fn(jt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Re){this.destination.next(Re)}_error(Re){try{this.destination.error(Re)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const xt=Function.prototype.bind;function rt(qt,Re){return xt.call(qt,Re)}class kt{constructor(Re){this.partialObserver=Re}next(Re){const{partialObserver:Mt}=this;if(Mt.next)try{Mt.next(Re)}catch(Ut){ot(Ut)}}error(Re){const{partialObserver:Mt}=this;if(Mt.error)try{Mt.error(Re)}catch(Ut){ot(Ut)}else ot(Re)}complete(){const{partialObserver:Re}=this;if(Re.complete)try{Re.complete()}catch(Mt){ot(Mt)}}}class cn extends We{constructor(Re,Mt,Ut){let kn;if(super(),(0,r.m)(Re)||!Re)kn={next:null!=Re?Re:void 0,error:null!=Mt?Mt:void 0,complete:null!=Ut?Ut:void 0};else{let Gn;this&&Q.v.useDeprecatedNextContext?(Gn=Object.create(Re),Gn.unsubscribe=()=>this.unsubscribe(),kn={next:Re.next&&rt(Re.next,Gn),error:Re.error&&rt(Re.error,Gn),complete:Re.complete&&rt(Re.complete,Gn)}):kn=Re}this.destination=new kt(kn)}}function ot(qt){Q.v.useDeprecatedSynchronousErrorHandling?(0,qe.O)(qt):(0,Ze.h)(qt)}function fn(qt,Re){const{onStoppedNotification:Mt}=Q.v;Mt&&de.z.setTimeout(()=>Mt(qt,Re))}const vn={closed:!0,next:wt.Z,error:function Ft(qt){throw qt},complete:wt.Z}},727:(oi,$t,me)=>{"use strict";me.d($t,{Lc:()=>jt,w0:()=>wt,Nn:()=>et});var r=me(576);const Q=(0,me(3888).d)(ht=>function(qe){ht(this),this.message=qe?`${qe.length} errors occurred during unsubscription:\n${qe.map((We,xt)=>`${xt+1}) ${We.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=qe});var Ze=me(8737);class wt{constructor(de){this.initialTeardown=de,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let de;if(!this.closed){this.closed=!0;const{_parentage:qe}=this;if(qe)if(this._parentage=null,Array.isArray(qe))for(const rt of qe)rt.remove(this);else qe.remove(this);const{initialTeardown:We}=this;if((0,r.m)(We))try{We()}catch(rt){de=rt instanceof Q?rt.errors:[rt]}const{_finalizers:xt}=this;if(xt){this._finalizers=null;for(const rt of xt)try{yt(rt)}catch(kt){de=null!=de?de:[],kt instanceof Q?de=[...de,...kt.errors]:de.push(kt)}}if(de)throw new Q(de)}}add(de){var qe;if(de&&de!==this)if(this.closed)yt(de);else{if(de instanceof wt){if(de.closed||de._hasParent(this))return;de._addParent(this)}(this._finalizers=null!==(qe=this._finalizers)&&void 0!==qe?qe:[]).push(de)}}_hasParent(de){const{_parentage:qe}=this;return qe===de||Array.isArray(qe)&&qe.includes(de)}_addParent(de){const{_parentage:qe}=this;this._parentage=Array.isArray(qe)?(qe.push(de),qe):qe?[qe,de]:de}_removeParent(de){const{_parentage:qe}=this;qe===de?this._parentage=null:Array.isArray(qe)&&(0,Ze.P)(qe,de)}remove(de){const{_finalizers:qe}=this;qe&&(0,Ze.P)(qe,de),de instanceof wt&&de._removeParent(this)}}wt.EMPTY=(()=>{const ht=new wt;return ht.closed=!0,ht})();const jt=wt.EMPTY;function et(ht){return ht instanceof wt||ht&&"closed"in ht&&(0,r.m)(ht.remove)&&(0,r.m)(ht.add)&&(0,r.m)(ht.unsubscribe)}function yt(ht){(0,r.m)(ht)?ht():ht.unsubscribe()}},2416:(oi,$t,me)=>{"use strict";me.d($t,{v:()=>r});const r={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(oi,$t,me)=>{"use strict";me.d($t,{E:()=>ie});const ie=new(me(8306).y)(wt=>wt.complete())},8996:(oi,$t,me)=>{"use strict";me.d($t,{D:()=>Re});var r=me(8421),ie=me(5363),Q=me(9468),jt=me(8306),yt=me(2202),ht=me(576),de=me(9672);function We(Mt,Ut){if(!Mt)throw new Error("Iterable cannot be null");return new jt.y(kn=>{(0,de.f)(kn,Ut,()=>{const Gn=Mt[Symbol.asyncIterator]();(0,de.f)(kn,Ut,()=>{Gn.next().then(Xe=>{Xe.done?kn.complete():kn.next(Xe.value)})},0,!0)})})}var xt=me(3670),rt=me(8239),kt=me(1144),cn=me(6495),ot=me(2206),Ft=me(4532),fn=me(3260);function Re(Mt,Ut){return Ut?function qt(Mt,Ut){if(null!=Mt){if((0,xt.c)(Mt))return function Ze(Mt,Ut){return(0,r.Xf)(Mt).pipe((0,Q.R)(Ut),(0,ie.Q)(Ut))}(Mt,Ut);if((0,kt.z)(Mt))return function et(Mt,Ut){return new jt.y(kn=>{let Gn=0;return Ut.schedule(function(){Gn===Mt.length?kn.complete():(kn.next(Mt[Gn++]),kn.closed||this.schedule())})})}(Mt,Ut);if((0,rt.t)(Mt))return function wt(Mt,Ut){return(0,r.Xf)(Mt).pipe((0,Q.R)(Ut),(0,ie.Q)(Ut))}(Mt,Ut);if((0,ot.D)(Mt))return We(Mt,Ut);if((0,cn.T)(Mt))return function qe(Mt,Ut){return new jt.y(kn=>{let Gn;return(0,de.f)(kn,Ut,()=>{Gn=Mt[yt.h](),(0,de.f)(kn,Ut,()=>{let Xe,Ot;try{({value:Xe,done:Ot}=Gn.next())}catch(be){return void kn.error(be)}Ot?kn.complete():kn.next(Xe)},0,!0)}),()=>(0,ht.m)(null==Gn?void 0:Gn.return)&&Gn.return()})}(Mt,Ut);if((0,fn.L)(Mt))return function vn(Mt,Ut){return We((0,fn.Q)(Mt),Ut)}(Mt,Ut)}throw(0,Ft.z)(Mt)}(Mt,Ut):(0,r.Xf)(Mt)}},8421:(oi,$t,me)=>{"use strict";me.d($t,{Xf:()=>xt});var r=me(655),ie=me(1144),Q=me(8239),Ze=me(8306),wt=me(3670),jt=me(2206),et=me(4532),yt=me(6495),ht=me(3260),de=me(576),qe=me(7849),We=me(8822);function xt(qt){if(qt instanceof Ze.y)return qt;if(null!=qt){if((0,wt.c)(qt))return function rt(qt){return new Ze.y(Re=>{const Mt=qt[We.L]();if((0,de.m)(Mt.subscribe))return Mt.subscribe(Re);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(qt);if((0,ie.z)(qt))return function kt(qt){return new Ze.y(Re=>{for(let Mt=0;Mt<qt.length&&!Re.closed;Mt++)Re.next(qt[Mt]);Re.complete()})}(qt);if((0,Q.t)(qt))return function cn(qt){return new Ze.y(Re=>{qt.then(Mt=>{Re.closed||(Re.next(Mt),Re.complete())},Mt=>Re.error(Mt)).then(null,qe.h)})}(qt);if((0,jt.D)(qt))return Ft(qt);if((0,yt.T)(qt))return function ot(qt){return new Ze.y(Re=>{for(const Mt of qt)if(Re.next(Mt),Re.closed)return;Re.complete()})}(qt);if((0,ht.L)(qt))return function fn(qt){return Ft((0,ht.Q)(qt))}(qt)}throw(0,et.z)(qt)}function Ft(qt){return new Ze.y(Re=>{(function vn(qt,Re){var Mt,Ut,kn,Gn;return(0,r.__awaiter)(this,void 0,void 0,function*(){try{for(Mt=(0,r.__asyncValues)(qt);!(Ut=yield Mt.next()).done;)if(Re.next(Ut.value),Re.closed)return}catch(Xe){kn={error:Xe}}finally{try{Ut&&!Ut.done&&(Gn=Mt.return)&&(yield Gn.call(Mt))}finally{if(kn)throw kn.error}}Re.complete()})})(qt,Re).catch(Mt=>Re.error(Mt))})}},6451:(oi,$t,me)=>{"use strict";me.d($t,{T:()=>jt});var r=me(8189),ie=me(8421),Q=me(515),Ze=me(3269),wt=me(8996);function jt(...et){const yt=(0,Ze.yG)(et),ht=(0,Ze._6)(et,1/0),de=et;return de.length?1===de.length?(0,ie.Xf)(de[0]):(0,r.J)(ht)((0,wt.D)(de,yt)):Q.E}},5403:(oi,$t,me)=>{"use strict";me.d($t,{x:()=>ie});var r=me(930);function ie(Ze,wt,jt,et,yt){return new Q(Ze,wt,jt,et,yt)}class Q extends r.Lv{constructor(wt,jt,et,yt,ht,de){super(wt),this.onFinalize=ht,this.shouldUnsubscribe=de,this._next=jt?function(qe){try{jt(qe)}catch(We){wt.error(We)}}:super._next,this._error=yt?function(qe){try{yt(qe)}catch(We){wt.error(We)}finally{this.unsubscribe()}}:super._error,this._complete=et?function(){try{et()}catch(qe){wt.error(qe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var wt;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:jt}=this;super.unsubscribe(),!jt&&(null===(wt=this.onFinalize)||void 0===wt||wt.call(this))}}}},4004:(oi,$t,me)=>{"use strict";me.d($t,{U:()=>Q});var r=me(4482),ie=me(5403);function Q(Ze,wt){return(0,r.e)((jt,et)=>{let yt=0;jt.subscribe((0,ie.x)(et,ht=>{et.next(Ze.call(wt,ht,yt++))}))})}},8189:(oi,$t,me)=>{"use strict";me.d($t,{J:()=>Q});var r=me(5577),ie=me(4671);function Q(Ze=1/0){return(0,r.z)(ie.y,Ze)}},5577:(oi,$t,me)=>{"use strict";me.d($t,{z:()=>yt});var r=me(4004),ie=me(8421),Q=me(4482),Ze=me(9672),wt=me(5403),et=me(576);function yt(ht,de,qe=1/0){return(0,et.m)(de)?yt((We,xt)=>(0,r.U)((rt,kt)=>de(We,rt,xt,kt))((0,ie.Xf)(ht(We,xt))),qe):("number"==typeof de&&(qe=de),(0,Q.e)((We,xt)=>function jt(ht,de,qe,We,xt,rt,kt,cn){const ot=[];let Ft=0,fn=0,vn=!1;const qt=()=>{vn&&!ot.length&&!Ft&&de.complete()},Re=Ut=>Ft<We?Mt(Ut):ot.push(Ut),Mt=Ut=>{rt&&de.next(Ut),Ft++;let kn=!1;(0,ie.Xf)(qe(Ut,fn++)).subscribe((0,wt.x)(de,Gn=>{null==xt||xt(Gn),rt?Re(Gn):de.next(Gn)},()=>{kn=!0},void 0,()=>{if(kn)try{for(Ft--;ot.length&&Ft<We;){const Gn=ot.shift();kt?(0,Ze.f)(de,kt,()=>Mt(Gn)):Mt(Gn)}qt()}catch(Gn){de.error(Gn)}}))};return ht.subscribe((0,wt.x)(de,Re,()=>{vn=!0,qt()})),()=>{null==cn||cn()}}(We,xt,ht,qe)))}},5363:(oi,$t,me)=>{"use strict";me.d($t,{Q:()=>Ze});var r=me(9672),ie=me(4482),Q=me(5403);function Ze(wt,jt=0){return(0,ie.e)((et,yt)=>{et.subscribe((0,Q.x)(yt,ht=>(0,r.f)(yt,wt,()=>yt.next(ht),jt),()=>(0,r.f)(yt,wt,()=>yt.complete(),jt),ht=>(0,r.f)(yt,wt,()=>yt.error(ht),jt)))})}},3099:(oi,$t,me)=>{"use strict";me.d($t,{B:()=>jt});var r=me(8996),ie=me(5698),Q=me(7579),Ze=me(930),wt=me(4482);function jt(yt={}){const{connector:ht=(()=>new Q.x),resetOnError:de=!0,resetOnComplete:qe=!0,resetOnRefCountZero:We=!0}=yt;return xt=>{let rt=null,kt=null,cn=null,ot=0,Ft=!1,fn=!1;const vn=()=>{null==kt||kt.unsubscribe(),kt=null},qt=()=>{vn(),rt=cn=null,Ft=fn=!1},Re=()=>{const Mt=rt;qt(),null==Mt||Mt.unsubscribe()};return(0,wt.e)((Mt,Ut)=>{ot++,!fn&&!Ft&&vn();const kn=cn=null!=cn?cn:ht();Ut.add(()=>{ot--,0===ot&&!fn&&!Ft&&(kt=et(Re,We))}),kn.subscribe(Ut),rt||(rt=new Ze.Hp({next:Gn=>kn.next(Gn),error:Gn=>{fn=!0,vn(),kt=et(qt,de,Gn),kn.error(Gn)},complete:()=>{Ft=!0,vn(),kt=et(qt,qe),kn.complete()}}),(0,r.D)(Mt).subscribe(rt))})(xt)}}function et(yt,ht,...de){return!0===ht?(yt(),null):!1===ht?null:ht(...de).pipe((0,ie.q)(1)).subscribe(()=>yt())}},9468:(oi,$t,me)=>{"use strict";me.d($t,{R:()=>ie});var r=me(4482);function ie(Q,Ze=0){return(0,r.e)((wt,jt)=>{jt.add(Q.schedule(()=>wt.subscribe(jt),Ze))})}},5698:(oi,$t,me)=>{"use strict";me.d($t,{q:()=>Ze});var r=me(515),ie=me(4482),Q=me(5403);function Ze(wt){return wt<=0?()=>r.E:(0,ie.e)((jt,et)=>{let yt=0;jt.subscribe((0,Q.x)(et,ht=>{++yt<=wt&&(et.next(ht),wt<=yt&&et.complete())}))})}},8505:(oi,$t,me)=>{"use strict";me.d($t,{b:()=>wt});var r=me(576),ie=me(4482),Q=me(5403),Ze=me(4671);function wt(jt,et,yt){const ht=(0,r.m)(jt)||et||yt?{next:jt,error:et,complete:yt}:jt;return ht?(0,ie.e)((de,qe)=>{var We;null===(We=ht.subscribe)||void 0===We||We.call(ht);let xt=!0;de.subscribe((0,Q.x)(qe,rt=>{var kt;null===(kt=ht.next)||void 0===kt||kt.call(ht,rt),qe.next(rt)},()=>{var rt;xt=!1,null===(rt=ht.complete)||void 0===rt||rt.call(ht),qe.complete()},rt=>{var kt;xt=!1,null===(kt=ht.error)||void 0===kt||kt.call(ht,rt),qe.error(rt)},()=>{var rt,kt;xt&&(null===(rt=ht.unsubscribe)||void 0===rt||rt.call(ht)),null===(kt=ht.finalize)||void 0===kt||kt.call(ht)}))}):Ze.y}},4408:(oi,$t,me)=>{"use strict";me.d($t,{o:()=>wt});var r=me(727);class ie extends r.w0{constructor(et,yt){super()}schedule(et,yt=0){return this}}const Q={setInterval(jt,et,...yt){const{delegate:ht}=Q;return(null==ht?void 0:ht.setInterval)?ht.setInterval(jt,et,...yt):setInterval(jt,et,...yt)},clearInterval(jt){const{delegate:et}=Q;return((null==et?void 0:et.clearInterval)||clearInterval)(jt)},delegate:void 0};var Ze=me(8737);class wt extends ie{constructor(et,yt){super(et,yt),this.scheduler=et,this.work=yt,this.pending=!1}schedule(et,yt=0){if(this.closed)return this;this.state=et;const ht=this.id,de=this.scheduler;return null!=ht&&(this.id=this.recycleAsyncId(de,ht,yt)),this.pending=!0,this.delay=yt,this.id=this.id||this.requestAsyncId(de,this.id,yt),this}requestAsyncId(et,yt,ht=0){return Q.setInterval(et.flush.bind(et,this),ht)}recycleAsyncId(et,yt,ht=0){if(null!=ht&&this.delay===ht&&!1===this.pending)return yt;Q.clearInterval(yt)}execute(et,yt){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ht=this._execute(et,yt);if(ht)return ht;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(et,yt){let de,ht=!1;try{this.work(et)}catch(qe){ht=!0,de=qe||new Error("Scheduled action threw falsy error")}if(ht)return this.unsubscribe(),de}unsubscribe(){if(!this.closed){const{id:et,scheduler:yt}=this,{actions:ht}=yt;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ze.P)(ht,this),null!=et&&(this.id=this.recycleAsyncId(yt,et,null)),this.delay=null,super.unsubscribe()}}}},7565:(oi,$t,me)=>{"use strict";me.d($t,{v:()=>Q});var r=me(6063);class ie{constructor(wt,jt=ie.now){this.schedulerActionCtor=wt,this.now=jt}schedule(wt,jt=0,et){return new this.schedulerActionCtor(this,wt).schedule(et,jt)}}ie.now=r.l.now;class Q extends ie{constructor(wt,jt=ie.now){super(wt,jt),this.actions=[],this._active=!1,this._scheduled=void 0}flush(wt){const{actions:jt}=this;if(this._active)return void jt.push(wt);let et;this._active=!0;do{if(et=wt.execute(wt.state,wt.delay))break}while(wt=jt.shift());if(this._active=!1,et){for(;wt=jt.shift();)wt.unsubscribe();throw et}}}},4986:(oi,$t,me)=>{"use strict";me.d($t,{P:()=>Ze,z:()=>Q});var r=me(4408);const Q=new(me(7565).v)(r.o),Ze=Q},6063:(oi,$t,me)=>{"use strict";me.d($t,{l:()=>r});const r={now:()=>(r.delegate||Date).now(),delegate:void 0}},3410:(oi,$t,me)=>{"use strict";me.d($t,{z:()=>r});const r={setTimeout(ie,Q,...Ze){const{delegate:wt}=r;return(null==wt?void 0:wt.setTimeout)?wt.setTimeout(ie,Q,...Ze):setTimeout(ie,Q,...Ze)},clearTimeout(ie){const{delegate:Q}=r;return((null==Q?void 0:Q.clearTimeout)||clearTimeout)(ie)},delegate:void 0}},2202:(oi,$t,me)=>{"use strict";me.d($t,{h:()=>ie});const ie=function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(oi,$t,me)=>{"use strict";me.d($t,{L:()=>r});const r="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(oi,$t,me)=>{"use strict";me.d($t,{_6:()=>jt,jO:()=>Ze,yG:()=>wt});var r=me(576),ie=me(3532);function Q(et){return et[et.length-1]}function Ze(et){return(0,r.m)(Q(et))?et.pop():void 0}function wt(et){return(0,ie.K)(Q(et))?et.pop():void 0}function jt(et,yt){return"number"==typeof Q(et)?et.pop():yt}},8737:(oi,$t,me)=>{"use strict";function r(ie,Q){if(ie){const Ze=ie.indexOf(Q);0<=Ze&&ie.splice(Ze,1)}}me.d($t,{P:()=>r})},3888:(oi,$t,me)=>{"use strict";function r(ie){const Ze=ie(wt=>{Error.call(wt),wt.stack=(new Error).stack});return Ze.prototype=Object.create(Error.prototype),Ze.prototype.constructor=Ze,Ze}me.d($t,{d:()=>r})},2806:(oi,$t,me)=>{"use strict";me.d($t,{O:()=>Ze,x:()=>Q});var r=me(2416);let ie=null;function Q(wt){if(r.v.useDeprecatedSynchronousErrorHandling){const jt=!ie;if(jt&&(ie={errorThrown:!1,error:null}),wt(),jt){const{errorThrown:et,error:yt}=ie;if(ie=null,et)throw yt}}else wt()}function Ze(wt){r.v.useDeprecatedSynchronousErrorHandling&&ie&&(ie.errorThrown=!0,ie.error=wt)}},9672:(oi,$t,me)=>{"use strict";function r(ie,Q,Ze,wt=0,jt=!1){const et=Q.schedule(function(){Ze(),jt?ie.add(this.schedule(null,wt)):this.unsubscribe()},wt);if(ie.add(et),!jt)return et}me.d($t,{f:()=>r})},4671:(oi,$t,me)=>{"use strict";function r(ie){return ie}me.d($t,{y:()=>r})},1144:(oi,$t,me)=>{"use strict";me.d($t,{z:()=>r});const r=ie=>ie&&"number"==typeof ie.length&&"function"!=typeof ie},2206:(oi,$t,me)=>{"use strict";me.d($t,{D:()=>ie});var r=me(576);function ie(Q){return Symbol.asyncIterator&&(0,r.m)(null==Q?void 0:Q[Symbol.asyncIterator])}},576:(oi,$t,me)=>{"use strict";function r(ie){return"function"==typeof ie}me.d($t,{m:()=>r})},3670:(oi,$t,me)=>{"use strict";me.d($t,{c:()=>Q});var r=me(8822),ie=me(576);function Q(Ze){return(0,ie.m)(Ze[r.L])}},6495:(oi,$t,me)=>{"use strict";me.d($t,{T:()=>Q});var r=me(2202),ie=me(576);function Q(Ze){return(0,ie.m)(null==Ze?void 0:Ze[r.h])}},8239:(oi,$t,me)=>{"use strict";me.d($t,{t:()=>ie});var r=me(576);function ie(Q){return(0,r.m)(null==Q?void 0:Q.then)}},3260:(oi,$t,me)=>{"use strict";me.d($t,{L:()=>Ze,Q:()=>Q});var r=me(655),ie=me(576);function Q(wt){return(0,r.__asyncGenerator)(this,arguments,function*(){const et=wt.getReader();try{for(;;){const{value:yt,done:ht}=yield(0,r.__await)(et.read());if(ht)return yield(0,r.__await)(void 0);yield yield(0,r.__await)(yt)}}finally{et.releaseLock()}})}function Ze(wt){return(0,ie.m)(null==wt?void 0:wt.getReader)}},3532:(oi,$t,me)=>{"use strict";me.d($t,{K:()=>ie});var r=me(576);function ie(Q){return Q&&(0,r.m)(Q.schedule)}},4482:(oi,$t,me)=>{"use strict";me.d($t,{A:()=>ie,e:()=>Q});var r=me(576);function ie(Ze){return(0,r.m)(null==Ze?void 0:Ze.lift)}function Q(Ze){return wt=>{if(ie(wt))return wt.lift(function(jt){try{return Ze(jt,this)}catch(et){this.error(et)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(oi,$t,me)=>{"use strict";function r(){}me.d($t,{Z:()=>r})},7849:(oi,$t,me)=>{"use strict";me.d($t,{h:()=>Q});var r=me(2416),ie=me(3410);function Q(Ze){ie.z.setTimeout(()=>{const{onUnhandledError:wt}=r.v;if(!wt)throw Ze;wt(Ze)})}},4532:(oi,$t,me)=>{"use strict";function r(ie){return new TypeError(`You provided ${null!==ie&&"object"==typeof ie?"an invalid object":`'${ie}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}me.d($t,{z:()=>r})},655:(oi,$t,me)=>{"use strict";me.r($t),me.d($t,{__assign:()=>Q,__asyncDelegator:()=>fn,__asyncGenerator:()=>Ft,__asyncValues:()=>vn,__await:()=>ot,__awaiter:()=>yt,__classPrivateFieldGet:()=>kn,__classPrivateFieldSet:()=>Gn,__createBinding:()=>de,__decorate:()=>wt,__exportStar:()=>qe,__extends:()=>ie,__generator:()=>ht,__importDefault:()=>Ut,__importStar:()=>Mt,__makeTemplateObject:()=>qt,__metadata:()=>et,__param:()=>jt,__read:()=>xt,__rest:()=>Ze,__spread:()=>rt,__spreadArray:()=>cn,__spreadArrays:()=>kt,__values:()=>We});var r=function(Xe,Ot){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(be,At){be.__proto__=At}||function(be,At){for(var Kt in At)Object.prototype.hasOwnProperty.call(At,Kt)&&(be[Kt]=At[Kt])})(Xe,Ot)};function ie(Xe,Ot){if("function"!=typeof Ot&&null!==Ot)throw new TypeError("Class extends value "+String(Ot)+" is not a constructor or null");function be(){this.constructor=Xe}r(Xe,Ot),Xe.prototype=null===Ot?Object.create(Ot):(be.prototype=Ot.prototype,new be)}var Q=function(){return Q=Object.assign||function(Ot){for(var be,At=1,Kt=arguments.length;At<Kt;At++)for(var it in be=arguments[At])Object.prototype.hasOwnProperty.call(be,it)&&(Ot[it]=be[it]);return Ot},Q.apply(this,arguments)};function Ze(Xe,Ot){var be={};for(var At in Xe)Object.prototype.hasOwnProperty.call(Xe,At)&&Ot.indexOf(At)<0&&(be[At]=Xe[At]);if(null!=Xe&&"function"==typeof Object.getOwnPropertySymbols){var Kt=0;for(At=Object.getOwnPropertySymbols(Xe);Kt<At.length;Kt++)Ot.indexOf(At[Kt])<0&&Object.prototype.propertyIsEnumerable.call(Xe,At[Kt])&&(be[At[Kt]]=Xe[At[Kt]])}return be}function wt(Xe,Ot,be,At){var Tn,Kt=arguments.length,it=Kt<3?Ot:null===At?At=Object.getOwnPropertyDescriptor(Ot,be):At;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)it=Reflect.decorate(Xe,Ot,be,At);else for(var gn=Xe.length-1;gn>=0;gn--)(Tn=Xe[gn])&&(it=(Kt<3?Tn(it):Kt>3?Tn(Ot,be,it):Tn(Ot,be))||it);return Kt>3&&it&&Object.defineProperty(Ot,be,it),it}function jt(Xe,Ot){return function(be,At){Ot(be,At,Xe)}}function et(Xe,Ot){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(Xe,Ot)}function yt(Xe,Ot,be,At){return new(be||(be=Promise))(function(it,Tn){function gn(pn){try{Nn(At.next(pn))}catch(Wn){Tn(Wn)}}function di(pn){try{Nn(At.throw(pn))}catch(Wn){Tn(Wn)}}function Nn(pn){pn.done?it(pn.value):function Kt(it){return it instanceof be?it:new be(function(Tn){Tn(it)})}(pn.value).then(gn,di)}Nn((At=At.apply(Xe,Ot||[])).next())})}function ht(Xe,Ot){var At,Kt,it,Tn,be={label:0,sent:function(){if(1&it[0])throw it[1];return it[1]},trys:[],ops:[]};return Tn={next:gn(0),throw:gn(1),return:gn(2)},"function"==typeof Symbol&&(Tn[Symbol.iterator]=function(){return this}),Tn;function gn(Nn){return function(pn){return function di(Nn){if(At)throw new TypeError("Generator is already executing.");for(;be;)try{if(At=1,Kt&&(it=2&Nn[0]?Kt.return:Nn[0]?Kt.throw||((it=Kt.return)&&it.call(Kt),0):Kt.next)&&!(it=it.call(Kt,Nn[1])).done)return it;switch(Kt=0,it&&(Nn=[2&Nn[0],it.value]),Nn[0]){case 0:case 1:it=Nn;break;case 4:return be.label++,{value:Nn[1],done:!1};case 5:be.label++,Kt=Nn[1],Nn=[0];continue;case 7:Nn=be.ops.pop(),be.trys.pop();continue;default:if(!(it=(it=be.trys).length>0&&it[it.length-1])&&(6===Nn[0]||2===Nn[0])){be=0;continue}if(3===Nn[0]&&(!it||Nn[1]>it[0]&&Nn[1]<it[3])){be.label=Nn[1];break}if(6===Nn[0]&&be.label<it[1]){be.label=it[1],it=Nn;break}if(it&&be.label<it[2]){be.label=it[2],be.ops.push(Nn);break}it[2]&&be.ops.pop(),be.trys.pop();continue}Nn=Ot.call(Xe,be)}catch(pn){Nn=[6,pn],Kt=0}finally{At=it=0}if(5&Nn[0])throw Nn[1];return{value:Nn[0]?Nn[1]:void 0,done:!0}}([Nn,pn])}}}var de=Object.create?function(Xe,Ot,be,At){void 0===At&&(At=be),Object.defineProperty(Xe,At,{enumerable:!0,get:function(){return Ot[be]}})}:function(Xe,Ot,be,At){void 0===At&&(At=be),Xe[At]=Ot[be]};function qe(Xe,Ot){for(var be in Xe)"default"!==be&&!Object.prototype.hasOwnProperty.call(Ot,be)&&de(Ot,Xe,be)}function We(Xe){var Ot="function"==typeof Symbol&&Symbol.iterator,be=Ot&&Xe[Ot],At=0;if(be)return be.call(Xe);if(Xe&&"number"==typeof Xe.length)return{next:function(){return Xe&&At>=Xe.length&&(Xe=void 0),{value:Xe&&Xe[At++],done:!Xe}}};throw new TypeError(Ot?"Object is not iterable.":"Symbol.iterator is not defined.")}function xt(Xe,Ot){var be="function"==typeof Symbol&&Xe[Symbol.iterator];if(!be)return Xe;var Kt,Tn,At=be.call(Xe),it=[];try{for(;(void 0===Ot||Ot-- >0)&&!(Kt=At.next()).done;)it.push(Kt.value)}catch(gn){Tn={error:gn}}finally{try{Kt&&!Kt.done&&(be=At.return)&&be.call(At)}finally{if(Tn)throw Tn.error}}return it}function rt(){for(var Xe=[],Ot=0;Ot<arguments.length;Ot++)Xe=Xe.concat(xt(arguments[Ot]));return Xe}function kt(){for(var Xe=0,Ot=0,be=arguments.length;Ot<be;Ot++)Xe+=arguments[Ot].length;var At=Array(Xe),Kt=0;for(Ot=0;Ot<be;Ot++)for(var it=arguments[Ot],Tn=0,gn=it.length;Tn<gn;Tn++,Kt++)At[Kt]=it[Tn];return At}function cn(Xe,Ot,be){if(be||2===arguments.length)for(var it,At=0,Kt=Ot.length;At<Kt;At++)(it||!(At in Ot))&&(it||(it=Array.prototype.slice.call(Ot,0,At)),it[At]=Ot[At]);return Xe.concat(it||Array.prototype.slice.call(Ot))}function ot(Xe){return this instanceof ot?(this.v=Xe,this):new ot(Xe)}function Ft(Xe,Ot,be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Kt,At=be.apply(Xe,Ot||[]),it=[];return Kt={},Tn("next"),Tn("throw"),Tn("return"),Kt[Symbol.asyncIterator]=function(){return this},Kt;function Tn(dn){At[dn]&&(Kt[dn]=function(mi){return new Promise(function(ii,qr){it.push([dn,mi,ii,qr])>1||gn(dn,mi)})})}function gn(dn,mi){try{!function di(dn){dn.value instanceof ot?Promise.resolve(dn.value.v).then(Nn,pn):Wn(it[0][2],dn)}(At[dn](mi))}catch(ii){Wn(it[0][3],ii)}}function Nn(dn){gn("next",dn)}function pn(dn){gn("throw",dn)}function Wn(dn,mi){dn(mi),it.shift(),it.length&&gn(it[0][0],it[0][1])}}function fn(Xe){var Ot,be;return Ot={},At("next"),At("throw",function(Kt){throw Kt}),At("return"),Ot[Symbol.iterator]=function(){return this},Ot;function At(Kt,it){Ot[Kt]=Xe[Kt]?function(Tn){return(be=!be)?{value:ot(Xe[Kt](Tn)),done:"return"===Kt}:it?it(Tn):Tn}:it}}function vn(Xe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,Ot=Xe[Symbol.asyncIterator];return Ot?Ot.call(Xe):(Xe=We(Xe),be={},At("next"),At("throw"),At("return"),be[Symbol.asyncIterator]=function(){return this},be);function At(it){be[it]=Xe[it]&&function(Tn){return new Promise(function(gn,di){!function Kt(it,Tn,gn,di){Promise.resolve(di).then(function(Nn){it({value:Nn,done:gn})},Tn)}(gn,di,(Tn=Xe[it](Tn)).done,Tn.value)})}}}function qt(Xe,Ot){return Object.defineProperty?Object.defineProperty(Xe,"raw",{value:Ot}):Xe.raw=Ot,Xe}var Re=Object.create?function(Xe,Ot){Object.defineProperty(Xe,"default",{enumerable:!0,value:Ot})}:function(Xe,Ot){Xe.default=Ot};function Mt(Xe){if(Xe&&Xe.__esModule)return Xe;var Ot={};if(null!=Xe)for(var be in Xe)"default"!==be&&Object.prototype.hasOwnProperty.call(Xe,be)&&de(Ot,Xe,be);return Re(Ot,Xe),Ot}function Ut(Xe){return Xe&&Xe.__esModule?Xe:{default:Xe}}function kn(Xe,Ot,be,At){if("a"===be&&!At)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof Ot?Xe!==Ot||!At:!Ot.has(Xe))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===be?At:"a"===be?At.call(Xe):At?At.value:Ot.get(Xe)}function Gn(Xe,Ot,be,At,Kt){if("m"===At)throw new TypeError("Private method is not writable");if("a"===At&&!Kt)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof Ot?Xe!==Ot||!Kt:!Ot.has(Xe))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===At?Kt.call(Xe,be):Kt?Kt.value=be:Ot.set(Xe,be),be}},5e3:(oi,$t,me)=>{"use strict";me.d($t,{$8M:()=>Er,$Z:()=>OL,AFp:()=>Uf,ALo:()=>dk,AaK:()=>yt,BQk:()=>TS,CHM:()=>lp,CRH:()=>_k,CZH:()=>Jx,CqO:()=>SS,DdM:()=>BF,Dn7:()=>zF,EJc:()=>vN,EiD:()=>Nm,EpF:()=>ds,F$t:()=>hy,F4k:()=>AS,FYo:()=>EF,FiY:()=>va,G48:()=>I2,Gf:()=>nN,GfV:()=>MF,GkF:()=>xx,Gpc:()=>qe,Gre:()=>jM,Hsn:()=>ES,IIB:()=>wy,Ikx:()=>Ex,JOm:()=>Ml,JVY:()=>Pd,Jf7:()=>_0,L6J:()=>_N,L6k:()=>bp,LAX:()=>km,LFG:()=>$o,LSH:()=>nl,Lbi:()=>_2,MAs:()=>Po,NdJ:()=>Ts,O4$:()=>La,OlP:()=>us,Oqu:()=>LS,PXZ:()=>D2,Q6J:()=>L_,QGY:()=>Ws,Qsj:()=>lU,R0b:()=>ed,RDi:()=>hh,Rgc:()=>Vw,SBq:()=>Fx,Sil:()=>tT,Suo:()=>gk,TTD:()=>Cd,TgZ:()=>wx,Tol:()=>Yd,Udp:()=>kS,VKq:()=>Rx,VLi:()=>SN,W1O:()=>wk,WFA:()=>Tx,WLB:()=>ok,X6Q:()=>bU,XFs:()=>Bn,Xpm:()=>Wt,Y36:()=>Ew,YKP:()=>RF,YNc:()=>xs,Yjl:()=>Ho,Yz7:()=>ii,ZZ4:()=>j_,_Bn:()=>AF,_UZ:()=>dM,_Vd:()=>jS,_c5:()=>j2,_uU:()=>OM,aQ5:()=>Wo,aQg:()=>lT,c2e:()=>Ik,cJS:()=>Qr,cg1:()=>my,d8E:()=>Fw,dDg:()=>iT,deG:()=>Zg,dqk:()=>Oi,eBb:()=>_v,eFA:()=>Ww,ekj:()=>IS,f3M:()=>Id,g9A:()=>Xx,gM2:()=>WF,gxx:()=>E_,h0i:()=>lg,hGG:()=>qN,hij:()=>FS,i9L:()=>lu,iGM:()=>mk,ifc:()=>ar,ip1:()=>m2,kL8:()=>N_,kYT:()=>bo,kcU:()=>kc,lG2:()=>yc,lcZ:()=>ZF,mCW:()=>Tp,n5z:()=>_a,n_E:()=>Bx,oAB:()=>or,oJD:()=>Dp,oxw:()=>Us,pB0:()=>r_,q3G:()=>fr,q4F:()=>kF,qLn:()=>a_,qOj:()=>Cs,qZA:()=>Cx,qzn:()=>Kl,r_U:()=>f2,sBO:()=>ON,sIi:()=>ay,s_b:()=>Ux,soG:()=>b2,tBr:()=>Ra,tb:()=>zw,tp0:()=>Ch,uIk:()=>tb,vHH:()=>kt,vpe:()=>Bf,wAp:()=>Ei,xi3:()=>YF,xp6:()=>Gm,yhl:()=>Th,ynx:()=>xS,z2F:()=>bb,z3N:()=>Pc,zSh:()=>$0,zs3:()=>Lh});var r=me(7579),ie=me(727),Q=me(8306),Ze=me(6451),wt=me(3099);function jt(c){for(let u in c)if(c[u]===jt)return u;throw Error("Could not find renamed property on target object.")}function et(c,u){for(const h in u)u.hasOwnProperty(h)&&!c.hasOwnProperty(h)&&(c[h]=u[h])}function yt(c){if("string"==typeof c)return c;if(Array.isArray(c))return"["+c.map(yt).join(", ")+"]";if(null==c)return""+c;if(c.overriddenName)return`${c.overriddenName}`;if(c.name)return`${c.name}`;const u=c.toString();if(null==u)return""+u;const h=u.indexOf("\n");return-1===h?u:u.substring(0,h)}function ht(c,u){return null==c||""===c?null===u?"":u:null==u||""===u?c:c+" "+u}const de=jt({__forward_ref__:jt});function qe(c){return c.__forward_ref__=qe,c.toString=function(){return yt(this())},c}function We(c){return xt(c)?c():c}function xt(c){return"function"==typeof c&&c.hasOwnProperty(de)&&c.__forward_ref__===qe}class kt extends Error{constructor(u,h){super(function cn(c,u){return`NG0${Math.abs(c)}${u?": "+u:""}`}(u,h)),this.code=u}}function ot(c){return"string"==typeof c?c:null==c?"":String(c)}function Ft(c){return"function"==typeof c?c.name||c.toString():"object"==typeof c&&null!=c&&"function"==typeof c.type?c.type.name||c.type.toString():ot(c)}function Re(c,u){const h=u?` in ${u}`:"";throw new kt(-201,`No provider for ${Ft(c)} found${h}`)}function Nn(c,u){null==c&&function pn(c,u,h,_){throw new Error(`ASSERTION ERROR: ${c}`+(null==_?"":` [Expected=> ${h} ${_} ${u} <=Actual]`))}(u,c,null,"!=")}function ii(c){return{token:c.token,providedIn:c.providedIn||null,factory:c.factory,value:void 0}}function Qr(c){return{providers:c.providers||[],imports:c.imports||[]}}function Hr(c){return qo(c,vc)||qo(c,vi)}function qo(c,u){return c.hasOwnProperty(u)?c[u]:null}function ua(c){return c&&(c.hasOwnProperty(Ki)||c.hasOwnProperty(Mo))?c[Ki]:null}const vc=jt({\u0275prov:jt}),Ki=jt({\u0275inj:jt}),vi=jt({ngInjectableDef:jt}),Mo=jt({ngInjectorDef:jt});var Bn=(()=>((Bn=Bn||{})[Bn.Default=0]="Default",Bn[Bn.Host=1]="Host",Bn[Bn.Self=2]="Self",Bn[Bn.SkipSelf=4]="SkipSelf",Bn[Bn.Optional=8]="Optional",Bn))();let Jr;function wr(c){const u=Jr;return Jr=c,u}function Rr(c,u,h){const _=Hr(c);return _&&"root"==_.providedIn?void 0===_.value?_.value=_.factory():_.value:h&Bn.Optional?null:void 0!==u?u:void Re(yt(c),"Injector")}function da(c){return{toString:c}.toString()}var Lo=(()=>((Lo=Lo||{})[Lo.OnPush=0]="OnPush",Lo[Lo.Default=1]="Default",Lo))(),ar=(()=>{return(c=ar||(ar={}))[c.Emulated=0]="Emulated",c[c.None=2]="None",c[c.ShadowDom=3]="ShadowDom",ar;var c})();const si="undefined"!=typeof globalThis&&globalThis,Ci="undefined"!=typeof window&&window,Dr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Oi=si||"undefined"!=typeof global&&global||Ci||Dr,Lr={},yi=[],Pe=jt({\u0275cmp:jt}),ke=jt({\u0275dir:jt}),at=jt({\u0275pipe:jt}),_e=jt({\u0275mod:jt}),ge=jt({\u0275fac:jt}),Ve=jt({__NG_ELEMENT_ID__:jt});let mt=0;function Wt(c){return da(()=>{const h={},_={type:c.type,providersResolver:null,decls:c.decls,vars:c.vars,factory:null,template:c.template||null,consts:c.consts||null,ngContentSelectors:c.ngContentSelectors,hostBindings:c.hostBindings||null,hostVars:c.hostVars||0,hostAttrs:c.hostAttrs||null,contentQueries:c.contentQueries||null,declaredInputs:h,inputs:null,outputs:null,exportAs:c.exportAs||null,onPush:c.changeDetection===Lo.OnPush,directiveDefs:null,pipeDefs:null,selectors:c.selectors||yi,viewQuery:c.viewQuery||null,features:c.features||null,data:c.data||{},encapsulation:c.encapsulation||ar.Emulated,id:"c",styles:c.styles||yi,_:null,setInput:null,schemas:c.schemas||null,tView:null},b=c.directives,D=c.features,O=c.pipes;return _.id+=mt++,_.inputs=Da(c.inputs,h),_.outputs=Da(c.outputs),D&&D.forEach(R=>R(_)),_.directiveDefs=b?()=>("function"==typeof b?b():b).map(Vn):null,_.pipeDefs=O?()=>("function"==typeof O?O():O).map(Ri):null,_})}function Vn(c){return Gr(c)||function Go(c){return c[ke]||null}(c)}function Ri(c){return function Vl(c){return c[at]||null}(c)}const Cr={};function or(c){return da(()=>{const u={type:c.type,bootstrap:c.bootstrap||yi,declarations:c.declarations||yi,imports:c.imports||yi,exports:c.exports||yi,transitiveCompileScopes:null,schemas:c.schemas||null,id:c.id||null};return null!=c.id&&(Cr[c.id]=c.type),u})}function bo(c,u){return da(()=>{const h=ms(c,!0);h.declarations=u.declarations||yi,h.imports=u.imports||yi,h.exports=u.exports||yi})}function Da(c,u){if(null==c)return Lr;const h={};for(const _ in c)if(c.hasOwnProperty(_)){let b=c[_],D=b;Array.isArray(b)&&(D=b[1],b=b[0]),h[b]=_,u&&(u[b]=D)}return h}const yc=Wt;function Ho(c){return{type:c.type,name:c.name,factory:null,pure:!1!==c.pure,onDestroy:c.type.prototype.ngOnDestroy||null}}function Gr(c){return c[Pe]||null}function ms(c,u){const h=c[_e]||null;if(!h&&!0===u)throw new Error(`Type ${yt(c)} does not have '\u0275mod' property.`);return h}function Xr(c){return Array.isArray(c)&&"object"==typeof c[1]}function Yi(c){return Array.isArray(c)&&!0===c[1]}function ki(c){return 0!=(8&c.flags)}function ss(c){return 2==(2&c.flags)}function ch(c){return 1==(1&c.flags)}function gs(c){return null!==c.template}function ta(c){return 0!=(512&c[2])}function Pu(c,u){return c.hasOwnProperty(ge)?c[ge]:null}class Hl{constructor(u,h,_){this.previousValue=u,this.currentValue=h,this.firstChange=_}isFirstChange(){return this.firstChange}}function Cd(){return _l}function _l(c){return c.type.prototype.ngOnChanges&&(c.setInput=hv),Tc}function Tc(){const c=ou(this),u=null==c?void 0:c.current;if(u){const h=c.previous;if(h===Lr)c.previous=u;else for(let _ in u)h[_]=u[_];c.current=null,this.ngOnChanges(u)}}function hv(c,u,h,_){const b=ou(c)||function op(c,u){return c[wo]=u}(c,{previous:Lr,current:null}),D=b.current||(b.current={}),O=b.previous,R=this.declaredInputs[h],V=O[R];D[R]=new Hl(V&&V.currentValue,u,O===Lr),c[_]=u}Cd.ngInherit=!0;const wo="__ngSimpleChanges__";function ou(c){return c[wo]||null}let hm;function hh(c){hm=c}function fh(){return void 0!==hm?hm:"undefined"!=typeof document?document:void 0}function sr(c){return!!c.listen}const vl={createRenderer:(c,u)=>fh()};function Zr(c){for(;Array.isArray(c);)c=c[0];return c}function Ur(c,u){return Zr(u[c])}function Is(c,u){return Zr(u[c.index])}function xd(c,u){return c.data[u]}function fa(c,u){return c[u]}function Hs(c,u){const h=u[c];return Xr(h)?h:h[0]}function Td(c){return 4==(4&c[2])}function Os(c){return 128==(128&c[2])}function Ac(c,u){return null==u?null:c[u]}function au(c){c[18]=0}function Gs(c,u){c[5]+=u;let h=c,_=c[3];for(;null!==_&&(1===u&&1===h[5]||-1===u&&0===h[5]);)_[5]+=u,h=_,_=_[3]}const hi={lFrame:Mc(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Gl(){return hi.bindingsEnabled}function Gt(){return hi.lFrame.lView}function cr(){return hi.lFrame.tView}function lp(c){return hi.lFrame.contextLView=c,c[8]}function Wi(){let c=yl();for(;null!==c&&64===c.type;)c=c.parent;return c}function yl(){return hi.lFrame.currentTNode}function bl(c,u){const h=hi.lFrame;h.currentTNode=c,h.isParent=u}function Zl(){return hi.lFrame.isParent}function Uu(){hi.lFrame.isParent=!1}function Dc(){return hi.isInCheckNoChangesMode}function Ec(c){hi.isInCheckNoChangesMode=c}function Fo(){const c=hi.lFrame;let u=c.bindingRootIndex;return-1===u&&(u=c.bindingRootIndex=c.tView.bindingStartIndex),u}function ls(){return hi.lFrame.bindingIndex++}function wl(c){const u=hi.lFrame,h=u.bindingIndex;return u.bindingIndex=u.bindingIndex+c,h}function pa(c,u){const h=hi.lFrame;h.bindingIndex=h.bindingRootIndex=c,Vu(u)}function Vu(c){hi.lFrame.currentDirectiveIndex=c}function cs(c){const u=hi.lFrame.currentDirectiveIndex;return-1===u?null:c[u]}function vm(){return hi.lFrame.currentQueryIndex}function ph(c){hi.lFrame.currentQueryIndex=c}function qg(c){const u=c[1];return 2===u.type?u.declTNode:1===u.type?c[6]:null}function fv(c,u,h){if(h&Bn.SkipSelf){let b=u,D=c;for(;!(b=b.parent,null!==b||h&Bn.Host||(b=qg(D),null===b||(D=D[15],10&b.type))););if(null===b)return!1;u=b,c=D}const _=hi.lFrame=nf();return _.currentTNode=u,_.lView=c,!0}function tf(c){const u=nf(),h=c[1];hi.lFrame=u,u.currentTNode=h.firstChild,u.lView=c,u.tView=h,u.contextLView=c,u.bindingIndex=h.bindingStartIndex,u.inI18n=!1}function nf(){const c=hi.lFrame,u=null===c?null:c.child;return null===u?Mc(c):u}function Mc(c){const u={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:c,child:null,inI18n:!1};return null!==c&&(c.child=u),u}function Zs(){const c=hi.lFrame;return hi.lFrame=c.parent,c.currentTNode=null,c.lView=null,c}const Hg=Zs;function Ia(){const c=Zs();c.isParent=!0,c.tView=null,c.selectedIndex=-1,c.contextLView=null,c.elementDepthCount=0,c.currentDirectiveIndex=-1,c.currentNamespace=null,c.bindingRootIndex=-1,c.bindingIndex=-1,c.currentQueryIndex=0}function ia(){return hi.lFrame.selectedIndex}function vs(c){hi.lFrame.selectedIndex=c}function Yr(){const c=hi.lFrame;return xd(c.tView,c.selectedIndex)}function La(){hi.lFrame.currentNamespace="svg"}function kc(){!function rf(){hi.lFrame.currentNamespace=null}()}function ga(c,u){for(let h=u.directiveStart,_=u.directiveEnd;h<_;h++){const D=c.data[h].type.prototype,{ngAfterContentInit:O,ngAfterContentChecked:R,ngAfterViewInit:V,ngAfterViewChecked:J,ngOnDestroy:re}=D;O&&(c.contentHooks||(c.contentHooks=[])).push(-h,O),R&&((c.contentHooks||(c.contentHooks=[])).push(h,R),(c.contentCheckHooks||(c.contentCheckHooks=[])).push(h,R)),V&&(c.viewHooks||(c.viewHooks=[])).push(-h,V),J&&((c.viewHooks||(c.viewHooks=[])).push(h,J),(c.viewCheckHooks||(c.viewCheckHooks=[])).push(h,J)),null!=re&&(c.destroyHooks||(c.destroyHooks=[])).push(h,re)}}function Cl(c,u,h){dp(c,u,3,h)}function mh(c,u,h,_){(3&c[2])===h&&dp(c,u,h,_)}function sf(c,u){let h=c[2];(3&h)===u&&(h&=2047,h+=1,c[2]=h)}function dp(c,u,h,_){const D=null!=_?_:-1,O=u.length-1;let R=0;for(let V=void 0!==_?65535&c[18]:0;V<O;V++)if("number"==typeof u[V+1]){if(R=u[V],null!=_&&R>=_)break}else u[V]<0&&(c[18]+=65536),(R<D||-1==D)&&(qu(c,h,u,V),c[18]=(4294901760&c[18])+V+2),V++}function qu(c,u,h,_){const b=h[_]<0,D=h[_+1],R=c[b?-h[_]:h[_]];if(b){if(c[2]>>11<c[18]>>16&&(3&c[2])===u){c[2]+=2048;try{D.call(R)}finally{}}}else try{D.call(R)}finally{}}class Ka{constructor(u,h,_){this.factory=u,this.resolving=!1,this.canSeeViewProviders=h,this.injectImpl=_}}function Dn(c,u,h){const _=sr(c);let b=0;for(;b<h.length;){const D=h[b];if("number"==typeof D){if(0!==D)break;b++;const O=h[b++],R=h[b++],V=h[b++];_?c.setAttribute(u,R,V,O):u.setAttributeNS(O,R,V)}else{const O=D,R=h[++b];Io(O)?_&&c.setProperty(u,O,R):_?c.setAttribute(u,O,R):u.setAttribute(O,R),b++}}return b}function Ht(c){return 3===c||4===c||6===c}function Io(c){return 64===c.charCodeAt(0)}function Co(c,u){if(null!==u&&0!==u.length)if(null===c||0===c.length)c=u.slice();else{let h=-1;for(let _=0;_<u.length;_++){const b=u[_];"number"==typeof b?h=b:0===h||hp(c,h,b,null,-1===h||2===h?u[++_]:null)}}return c}function hp(c,u,h,_,b){let D=0,O=c.length;if(-1===u)O=-1;else for(;D<c.length;){const R=c[D++];if("number"==typeof R){if(R===u){O=-1;break}if(R>u){O=D-1;break}}}for(;D<c.length;){const R=c[D];if("number"==typeof R)break;if(R===h){if(null===_)return void(null!==b&&(c[D+1]=b));if(_===c[D+1])return void(c[D+2]=b)}D++,null!==_&&D++,null!==b&&D++}-1!==O&&(c.splice(O,0,u),D=O+1),c.splice(D++,0,h),null!==_&&c.splice(D++,0,_),null!==b&&c.splice(D++,0,b)}function Hu(c){return-1!==c}function Ed(c){return 32767&c}function xo(c,u){let h=function gh(c){return c>>16}(c),_=u;for(;h>0;)_=_[15],h--;return _}let to=!0;function Yl(c){const u=to;return to=c,u}let G=0;function L(c,u){const h=X(c,u);if(-1!==h)return h;const _=u[1];_.firstCreatePass&&(c.injectorIndex=u.length,Z(_.data,c),Z(u,null),Z(_.blueprint,null));const b=ye(c,u),D=c.injectorIndex;if(Hu(b)){const O=Ed(b),R=xo(b,u),V=R[1].data;for(let J=0;J<8;J++)u[D+J]=R[O+J]|V[O+J]}return u[D+8]=b,D}function Z(c,u){c.push(0,0,0,0,0,0,0,0,u)}function X(c,u){return-1===c.injectorIndex||c.parent&&c.parent.injectorIndex===c.injectorIndex||null===u[c.injectorIndex+8]?-1:c.injectorIndex}function ye(c,u){if(c.parent&&-1!==c.parent.injectorIndex)return c.parent.injectorIndex;let h=0,_=null,b=u;for(;null!==b;){const D=b[1],O=D.type;if(_=2===O?D.declTNode:1===O?b[6]:null,null===_)return-1;if(h++,b=b[15],-1!==_.injectorIndex)return _.injectorIndex|h<<16}return-1}function Se(c,u,h){!function j(c,u,h){let _;"string"==typeof h?_=h.charCodeAt(0)||0:h.hasOwnProperty(Ve)&&(_=h[Ve]),null==_&&(_=h[Ve]=G++);const b=255&_;u.data[c+(b>>5)]|=1<<b}(c,u,h)}function Lt(c,u,h){if(h&Bn.Optional)return c;Re(u,"NodeInjector")}function Mn(c,u,h,_){if(h&Bn.Optional&&void 0===_&&(_=null),0==(h&(Bn.Self|Bn.Host))){const b=c[9],D=wr(void 0);try{return b?b.get(u,_,h&Bn.Optional):Rr(u,_,h&Bn.Optional)}finally{wr(D)}}return Lt(_,u,h)}function rn(c,u,h,_=Bn.Default,b){if(null!==c){const D=function fi(c){if("string"==typeof c)return c.charCodeAt(0)||0;const u=c.hasOwnProperty(Ve)?c[Ve]:void 0;return"number"==typeof u?u>=0?255&u:ei:u}(h);if("function"==typeof D){if(!fv(u,c,_))return _&Bn.Host?Lt(b,h,_):Mn(u,h,_,b);try{const O=D(_);if(null!=O||_&Bn.Optional)return O;Re(h)}finally{Hg()}}else if("number"==typeof D){let O=null,R=X(c,u),V=-1,J=_&Bn.Host?u[16][6]:null;for((-1===R||_&Bn.SkipSelf)&&(V=-1===R?ye(c,u):u[R+8],-1!==V&&An(_,!1)?(O=u[1],R=Ed(V),u=xo(V,u)):R=-1);-1!==R;){const re=u[1];if(Di(D,R,re.data)){const xe=er(R,u,h,O,_,J);if(xe!==En)return xe}V=u[R+8],-1!==V&&An(_,u[1].data[R+8]===J)&&Di(D,R,u)?(O=re,R=Ed(V),u=xo(V,u)):R=-1}}}return Mn(u,h,_,b)}const En={};function ei(){return new ao(Wi(),Gt())}function er(c,u,h,_,b,D){const O=u[1],R=O.data[c+8],re=$i(R,O,h,null==_?ss(R)&&to:_!=O&&0!=(3&R.type),b&Bn.Host&&D===R);return null!==re?Ui(u,O,re,R):En}function $i(c,u,h,_,b){const D=c.providerIndexes,O=u.data,R=1048575&D,V=c.directiveStart,re=D>>20,Ue=b?R+re:c.directiveEnd;for(let dt=_?R:R+re;dt<Ue;dt++){const Zt=O[dt];if(dt<V&&h===Zt||dt>=V&&Zt.type===h)return dt}if(b){const dt=O[V];if(dt&&gs(dt)&&dt.type===h)return V}return null}function Ui(c,u,h,_){let b=c[h];const D=u.data;if(function af(c){return c instanceof Ka}(b)){const O=b;O.resolving&&function fn(c,u){const h=u?`. Dependency path: ${u.join(" > ")} > ${c}`:"";throw new kt(-200,`Circular dependency in DI detected for ${c}${h}`)}(Ft(D[h]));const R=Yl(O.canSeeViewProviders);O.resolving=!0;const V=O.injectImpl?wr(O.injectImpl):null;fv(c,_,Bn.Default);try{b=c[h]=O.factory(void 0,D,c,_),u.firstCreatePass&&h>=_.directiveStart&&function ma(c,u,h){const{ngOnChanges:_,ngOnInit:b,ngDoCheck:D}=u.type.prototype;if(_){const O=_l(u);(h.preOrderHooks||(h.preOrderHooks=[])).push(c,O),(h.preOrderCheckHooks||(h.preOrderCheckHooks=[])).push(c,O)}b&&(h.preOrderHooks||(h.preOrderHooks=[])).push(0-c,b),D&&((h.preOrderHooks||(h.preOrderHooks=[])).push(c,D),(h.preOrderCheckHooks||(h.preOrderCheckHooks=[])).push(c,D))}(h,D[h],u)}finally{null!==V&&wr(V),Yl(R),O.resolving=!1,Hg()}}return b}function Di(c,u,h){return!!(h[u+(c>>5)]&1<<c)}function An(c,u){return!(c&Bn.Self||c&Bn.Host&&u)}class ao{constructor(u,h){this._tNode=u,this._lView=h}get(u,h,_){return rn(this._tNode,this._lView,u,_,h)}}function _a(c){return da(()=>{const u=c.prototype.constructor,h=u[ge]||zo(u),_=Object.prototype;let b=Object.getPrototypeOf(c.prototype).constructor;for(;b&&b!==_;){const D=b[ge]||zo(b);if(D&&D!==h)return D;b=Object.getPrototypeOf(b)}return D=>new D})}function zo(c){return xt(c)?()=>{const u=zo(We(c));return u&&u()}:Pu(c)}function Er(c){return function Ye(c,u){if("class"===u)return c.classes;if("style"===u)return c.styles;const h=c.attrs;if(h){const _=h.length;let b=0;for(;b<_;){const D=h[b];if(Ht(D))break;if(0===D)b+=2;else if("number"==typeof D)for(b++;b<_&&"string"==typeof h[b];)b++;else{if(D===u)return h[b+1];b+=2}}}return null}(Wi(),c)}const Gu="__parameters__",Xa="__prop__metadata__";function Na(c){return function(...h){if(c){const _=c(...h);for(const b in _)this[b]=_[b]}}}function no(c,u,h){return da(()=>{const _=Na(u);function b(...D){if(this instanceof b)return _.apply(this,D),this;const O=new b(...D);return R.annotation=O,R;function R(V,J,re){const xe=V.hasOwnProperty(Gu)?V[Gu]:Object.defineProperty(V,Gu,{value:[]})[Gu];for(;xe.length<=re;)xe.push(null);return(xe[re]=xe[re]||[]).push(O),V}}return h&&(b.prototype=Object.create(h.prototype)),b.prototype.ngMetadataName=c,b.annotationCls=b,b})}function Wl(c,u,h,_){return da(()=>{const b=Na(u);function D(...O){if(this instanceof D)return b.apply(this,O),this;const R=new D(...O);return function V(J,re){const xe=J.constructor,Ue=xe.hasOwnProperty(Xa)?xe[Xa]:Object.defineProperty(xe,Xa,{value:{}})[Xa];Ue[re]=Ue.hasOwnProperty(re)&&Ue[re]||[],Ue[re].unshift(R),_&&_(J,re,...O)}}return h&&(D.prototype=Object.create(h.prototype)),D.prototype.ngMetadataName=c,D.annotationCls=D,D})}class us{constructor(u,h){this._desc=u,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof h?this.__NG_ELEMENT_ID__=h:void 0!==h&&(this.\u0275prov=ii({token:this,providedIn:h.providedIn||"root",factory:h.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Zg=new us("AnalyzeForEntryComponents");class uf{}const Wo=Wl("ContentChild",(c,u={})=>Object.assign({selector:c,first:!0,isViewQuery:!1,descendants:!0},u),uf),lu=Wl("ViewChild",(c,u)=>Object.assign({selector:c,first:!0,isViewQuery:!0,descendants:!0},u),uf);function Rs(c,u){void 0===u&&(u=c);for(let h=0;h<c.length;h++){let _=c[h];Array.isArray(_)?(u===c&&(u=c.slice(0,h)),Rs(_,u)):u!==c&&u.push(_)}return u}function xl(c,u){c.forEach(h=>Array.isArray(h)?xl(h,u):u(h))}function pp(c,u,h){u>=c.length?c.push(h):c.splice(u,0,h)}function xm(c,u){return u>=c.length-1?c.pop():c.splice(u,1)[0]}function mp(c,u){const h=[];for(let _=0;_<c;_++)h.push(u);return h}function Ps(c,u,h){let _=vh(c,u);return _>=0?c[1|_]=h:(_=~_,function zg(c,u,h,_){let b=c.length;if(b==u)c.push(h,_);else if(1===b)c.push(_,c[0]),c[0]=h;else{for(b--,c.push(c[b-1],c[b]);b>u;)c[b]=c[b-2],b--;c[u]=h,c[u+1]=_}}(c,_,u,h)),_}function Tm(c,u){const h=vh(c,u);if(h>=0)return c[1|h]}function vh(c,u){return function mv(c,u,h){let _=0,b=c.length>>h;for(;b!==_;){const D=_+(b-_>>1),O=c[D<<h];if(u===O)return D<<h;O>u?b=D:_=D+1}return~(b<<h)}(c,u,1)}const uu={},hf="__NG_DI_FLAG__",bh="ngTempTokenPath",$g=/\n/gm,Qg="__source",Jg=jt({provide:String,useValue:jt});let kd;function Zu(c){const u=kd;return kd=c,u}function Vi(c,u=Bn.Default){if(void 0===kd)throw new kt(203,"");return null===kd?Rr(c,void 0,u):kd.get(c,u&Bn.Optional?null:void 0,u)}function $o(c,u=Bn.Default){return(function rr(){return Jr}()||Vi)(We(c),u)}const Id=$o;function Xg(c){const u=[];for(let h=0;h<c.length;h++){const _=We(c[h]);if(Array.isArray(_)){if(0===_.length)throw new kt(900,"");let b,D=Bn.Default;for(let O=0;O<_.length;O++){const R=_[O],V=pf(R);"number"==typeof V?-1===V?b=R.token:D|=V:b=R}u.push($o(b,D))}else u.push($o(_))}return u}function wh(c,u){return c[hf]=u,c.prototype[hf]=u,c}function pf(c){return c[hf]}const Ra=wh(no("Inject",c=>({token:c})),-1),va=wh(no("Optional"),8),Ch=wh(no("SkipSelf"),4);let bs,Qo;function Rd(c){var u;return(null===(u=function _f(){if(void 0===bs&&(bs=null,Oi.trustedTypes))try{bs=Oi.trustedTypes.createPolicy("angular",{createHTML:c=>c,createScript:c=>c,createScriptURL:c=>c})}catch(c){}return bs}())||void 0===u?void 0:u.createHTML(c))||c}function Dm(c){var u;return(null===(u=function xh(){if(void 0===Qo&&(Qo=null,Oi.trustedTypes))try{Qo=Oi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:c=>c,createScript:c=>c,createScriptURL:c=>c})}catch(c){}return Qo}())||void 0===u?void 0:u.createHTML(c))||c}class Rc{constructor(u){this.changingThisBreaksApplicationSecurity=u}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Sl extends Rc{getTypeName(){return"HTML"}}class n_ extends Rc{getTypeName(){return"Style"}}class Em extends Rc{getTypeName(){return"Script"}}class i_ extends Rc{getTypeName(){return"URL"}}class Mm extends Rc{getTypeName(){return"ResourceURL"}}function Pc(c){return c instanceof Rc?c.changingThisBreaksApplicationSecurity:c}function Kl(c,u){const h=Th(c);if(null!=h&&h!==u){if("ResourceURL"===h&&"URL"===u)return!0;throw new Error(`Required a safe ${u}, got a ${h} (see https://g.co/ng/security#xss)`)}return h===u}function Th(c){return c instanceof Rc&&c.getTypeName()||null}function Pd(c){return new Sl(c)}function bp(c){return new n_(c)}function _v(c){return new Em(c)}function km(c){return new i_(c)}function r_(c){return new Mm(c)}class Cp{constructor(u){this.inertDocumentHelper=u}getInertBodyElement(u){u="<body><remove></remove>"+u;try{const h=(new window.DOMParser).parseFromString(Rd(u),"text/html").body;return null===h?this.inertDocumentHelper.getInertBodyElement(u):(h.removeChild(h.firstChild),h)}catch(h){return null}}}class A1{constructor(u){if(this.defaultDoc=u,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const h=this.inertDocument.createElement("html");this.inertDocument.appendChild(h);const _=this.inertDocument.createElement("body");h.appendChild(_)}}getInertBodyElement(u){const h=this.inertDocument.createElement("template");if("content"in h)return h.innerHTML=Rd(u),h;const _=this.inertDocument.createElement("body");return _.innerHTML=Rd(u),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(_),_}stripCustomNsAttrs(u){const h=u.attributes;for(let b=h.length-1;0<b;b--){const O=h.item(b).name;("xmlns:ns1"===O||0===O.indexOf("ns1:"))&&u.removeAttribute(O)}let _=u.firstChild;for(;_;)_.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(_),_=_.nextSibling}}const Ah=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Im=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Tp(c){return(c=String(c)).match(Ah)||c.match(Im)?c:"unsafe:"+c}function Bc(c){const u={};for(const h of c.split(","))u[h]=!0;return u}function vf(...c){const u={};for(const h of c)for(const _ in h)h.hasOwnProperty(_)&&(u[_]=!0);return u}const yf=Bc("area,br,col,hr,img,wbr"),Om=Bc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),tl=Bc("rp,rt"),hu=vf(yf,vf(Om,Bc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),vf(tl,Bc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),vf(tl,Om)),bf=Bc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Bd=Bc("srcset"),fu=vf(bf,Bd,Bc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Bc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),D1=Bc("script,style,template");class Ap{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(u){let h=u.firstChild,_=!0;for(;h;)if(h.nodeType===Node.ELEMENT_NODE?_=this.startElement(h):h.nodeType===Node.TEXT_NODE?this.chars(h.nodeValue):this.sanitizedSomething=!0,_&&h.firstChild)h=h.firstChild;else for(;h;){h.nodeType===Node.ELEMENT_NODE&&this.endElement(h);let b=this.checkClobberedElement(h,h.nextSibling);if(b){h=b;break}h=this.checkClobberedElement(h,h.parentNode)}return this.buf.join("")}startElement(u){const h=u.nodeName.toLowerCase();if(!hu.hasOwnProperty(h))return this.sanitizedSomething=!0,!D1.hasOwnProperty(h);this.buf.push("<"),this.buf.push(h);const _=u.attributes;for(let b=0;b<_.length;b++){const D=_.item(b),O=D.name,R=O.toLowerCase();if(!fu.hasOwnProperty(R)){this.sanitizedSomething=!0;continue}let V=D.value;bf[R]&&(V=Tp(V)),Bd[R]&&(c=V,V=(c=String(c)).split(",").map(u=>Tp(u.trim())).join(", ")),this.buf.push(" ",O,'="',Cf(V),'"')}var c;return this.buf.push(">"),!0}endElement(u){const h=u.nodeName.toLowerCase();hu.hasOwnProperty(h)&&!yf.hasOwnProperty(h)&&(this.buf.push("</"),this.buf.push(h),this.buf.push(">"))}chars(u){this.buf.push(Cf(u))}checkClobberedElement(u,h){if(h&&(u.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${u.outerHTML}`);return h}}const Fm=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u0=/([^\#-~ |!])/g;function Cf(c){return c.replace(/&/g,"&amp;").replace(Fm,function(u){return"&#"+(1024*(u.charCodeAt(0)-55296)+(u.charCodeAt(1)-56320)+65536)+";"}).replace(u0,function(u){return"&#"+u.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Sh;function Nm(c,u){let h=null;try{Sh=Sh||function wp(c){const u=new A1(c);return function xp(){try{return!!(new window.DOMParser).parseFromString(Rd(""),"text/html")}catch(c){return!1}}()?new Cp(u):u}(c);let _=u?String(u):"";h=Sh.getInertBodyElement(_);let b=5,D=_;do{if(0===b)throw new Error("Failed to sanitize html because the input is unstable");b--,_=D,D=h.innerHTML,h=Sh.getInertBodyElement(_)}while(_!==D);return Rd((new Ap).sanitizeChildren(Sp(h)||h))}finally{if(h){const _=Sp(h)||h;for(;_.firstChild;)_.removeChild(_.firstChild)}}}function Sp(c){return"content"in c&&function o_(c){return c.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===c.nodeName}(c)?c.content:null}var fr=(()=>((fr=fr||{})[fr.NONE=0]="NONE",fr[fr.HTML=1]="HTML",fr[fr.STYLE=2]="STYLE",fr[fr.SCRIPT=3]="SCRIPT",fr[fr.URL=4]="URL",fr[fr.RESOURCE_URL=5]="RESOURCE_URL",fr))();function Dp(c){const u=ec();return u?Dm(u.sanitize(fr.HTML,c)||""):Kl(c,"HTML")?Dm(Pc(c)):Nm(fh(),ot(c))}function nl(c){const u=ec();return u?u.sanitize(fr.URL,c)||"":Kl(c,"URL")?Pc(c):Tp(ot(c))}function ec(){const c=Gt();return c&&c[12]}const d0="__ngContext__";function sa(c,u){c[d0]=u}function wv(c){const u=function Eh(c){return c[d0]||null}(c);return u?Array.isArray(u)?u:u.lView:null}function $u(c){return c.ngOriginalError}function p0(c,...u){c.error(...u)}class a_{constructor(){this._console=console}handleError(u){const h=this._findOriginalError(u),_=function f0(c){return c&&c.ngErrorLogger||p0}(u);_(this._console,"ERROR",u),h&&_(this._console,"ORIGINAL ERROR",h)}_findOriginalError(u){let h=u&&$u(u);for(;h&&$u(h);)h=$u(h);return h||null}}const O1=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Oi))();function _0(c){return c.ownerDocument.defaultView}function gu(c){return c instanceof Function?c():c}var Ml=(()=>((Ml=Ml||{})[Ml.Important=1]="Important",Ml[Ml.DashCase=2]="DashCase",Ml))();function kp(c,u){return undefined(c,u)}function jm(c){const u=c[3];return Yi(u)?u[3]:u}function Vm(c){return x0(c[13])}function c_(c){return x0(c[4])}function x0(c){for(;null!==c&&!Yi(c);)c=c[4];return c}function Ip(c,u,h,_,b){if(null!=_){let D,O=!1;Yi(_)?D=_:Xr(_)&&(O=!0,_=_[0]);const R=Zr(_);0===c&&null!==h?null==b?Rv(u,h,R):kl(u,h,R,b||null,!0):1===c&&null!==h?kl(u,h,R,b||null,!0):2===c?function B(c,u,h){const _=Hm(c,u);_&&function R1(c,u,h,_){sr(c)?c.removeChild(u,h,_):u.removeChild(h)}(c,_,u,h)}(u,R,O):3===c&&u.destroyNode(R),null!=D&&function Oe(c,u,h,_,b){const D=h[7];D!==Zr(h)&&Ip(u,c,_,D,b);for(let R=10;R<h.length;R++){const V=h[R];ue(V[1],V,c,u,_,D)}}(u,c,D,h,b)}}function Iv(c,u,h){if(sr(c))return c.createElement(u,h);{const _=null!==h?function Vg(c){const u=c.toLowerCase();return"svg"===u?"http://www.w3.org/2000/svg":"math"===u?"http://www.w3.org/1998/MathML/":null}(h):null;return null===_?c.createElement(u):c.createElementNS(_,u)}}function u_(c,u){const h=c[9],_=h.indexOf(u),b=u[3];1024&u[2]&&(u[2]&=-1025,Gs(b,-1)),h.splice(_,1)}function Lv(c,u){if(c.length<=10)return;const h=10+u,_=c[h];if(_){const b=_[17];null!==b&&b!==c&&u_(b,_),u>0&&(c[h-1][4]=_[4]);const D=xm(c,10+u);!function ja(c,u){ue(c,u,u[11],2,null,null),u[0]=null,u[6]=null}(_[1],_);const O=D[19];null!==O&&O.detachView(D[1]),_[3]=null,_[4]=null,_[2]&=-129}return _}function Fv(c,u){if(!(256&u[2])){const h=u[11];sr(h)&&h.destroyNode&&ue(c,u,h,3,null,null),function jc(c){let u=c[13];if(!u)return Nv(c[1],c);for(;u;){let h=null;if(Xr(u))h=u[13];else{const _=u[10];_&&(h=_)}if(!h){for(;u&&!u[4]&&u!==c;)Xr(u)&&Nv(u[1],u),u=u[3];null===u&&(u=c),Xr(u)&&Nv(u[1],u),h=u&&u[4]}u=h}}(u)}}function Nv(c,u){if(!(256&u[2])){u[2]&=-129,u[2]|=256,function A0(c,u){let h;if(null!=c&&null!=(h=c.destroyHooks))for(let _=0;_<h.length;_+=2){const b=u[h[_]];if(!(b instanceof Ka)){const D=h[_+1];if(Array.isArray(D))for(let O=0;O<D.length;O+=2){const R=b[D[O]],V=D[O+1];try{V.call(R)}finally{}}else try{D.call(b)}finally{}}}}(c,u),function T0(c,u){const h=c.cleanup,_=u[7];let b=-1;if(null!==h)for(let D=0;D<h.length-1;D+=2)if("string"==typeof h[D]){const O=h[D+1],R="function"==typeof O?O(u):Zr(u[O]),V=_[b=h[D+2]],J=h[D+3];"boolean"==typeof J?R.removeEventListener(h[D],V,J):J>=0?_[b=J]():_[b=-J].unsubscribe(),D+=2}else{const O=_[b=h[D+1]];h[D].call(O)}if(null!==_){for(let D=b+1;D<_.length;D++)_[D]();u[7]=null}}(c,u),1===u[1].type&&sr(u[11])&&u[11].destroy();const h=u[17];if(null!==h&&Yi(u[3])){h!==u[3]&&u_(h,u);const _=u[19];null!==_&&_.detachView(c)}}}function d_(c,u,h){return function N1(c,u,h){let _=u;for(;null!==_&&40&_.type;)_=(u=_).parent;if(null===_)return h[0];if(2&_.flags){const b=c.data[_.directiveStart].encapsulation;if(b===ar.None||b===ar.Emulated)return null}return Is(_,h)}(c,u.parent,h)}function kl(c,u,h,_,b){sr(c)?c.insertBefore(u,h,_,b):u.insertBefore(h,_,b)}function Rv(c,u,h){sr(c)?c.appendChild(u,h):u.appendChild(h)}function S0(c,u,h,_,b){null!==_?kl(c,u,h,_,b):Rv(c,u,h)}function Hm(c,u){return sr(c)?c.parentNode(u):u.parentNode}function Pv(c,u,h){return Bv(c,u,h)}let Bv=function h_(c,u,h){return 40&c.type?Is(c,h):null};function m(c,u,h,_){const b=d_(c,_,u),D=u[11],R=Pv(_.parent||u[6],_,u);if(null!=b)if(Array.isArray(h))for(let V=0;V<h.length;V++)S0(D,b,h[V],R,!1);else S0(D,b,h,R,!1)}function y(c,u){if(null!==u){const h=u.type;if(3&h)return Is(u,c);if(4&h)return I(-1,c[u.index]);if(8&h){const _=u.child;if(null!==_)return y(c,_);{const b=c[u.index];return Yi(b)?I(-1,b):Zr(b)}}if(32&h)return kp(u,c)()||Zr(c[u.index]);{const _=T(c,u);return null!==_?Array.isArray(_)?_[0]:y(jm(c[16]),_):y(c,u.next)}}return null}function T(c,u){return null!==u?c[16][6].projection[u.projection]:null}function I(c,u){const h=10+c+1;if(h<u.length){const _=u[h],b=_[1].firstChild;if(null!==b)return y(_,b)}return u[7]}function z(c,u,h,_,b,D,O){for(;null!=h;){const R=_[h.index],V=h.type;if(O&&0===u&&(R&&sa(Zr(R),_),h.flags|=4),64!=(64&h.flags))if(8&V)z(c,u,h.child,_,b,D,!1),Ip(u,c,b,R,D);else if(32&V){const J=kp(h,_);let re;for(;re=J();)Ip(u,c,b,re,D);Ip(u,c,b,R,D)}else 16&V?Ae(c,u,_,h,b,D):Ip(u,c,b,R,D);h=O?h.projectionNext:h.next}}function ue(c,u,h,_,b,D){z(h,_,c.firstChild,u,b,D,!1)}function Ae(c,u,h,_,b,D){const O=h[16],V=O[6].projection[_.projection];if(Array.isArray(V))for(let J=0;J<V.length;J++)Ip(u,c,b,V[J],D);else z(c,u,V,O[3],b,D,!0)}function Vt(c,u,h){sr(c)?c.setAttribute(u,"style",h):u.style.cssText=h}function on(c,u,h){sr(c)?""===h?c.removeAttribute(u,"class"):c.setAttribute(u,"class",h):u.className=h}function In(c,u,h){let _=c.length;for(;;){const b=c.indexOf(u,h);if(-1===b)return b;if(0===b||c.charCodeAt(b-1)<=32){const D=u.length;if(b+D===_||c.charCodeAt(b+D)<=32)return b}h=b+1}}const gi="ng-template";function _i(c,u,h){let _=0;for(;_<c.length;){let b=c[_++];if(h&&"class"===b){if(b=c[_],-1!==In(b.toLowerCase(),u,0))return!0}else if(1===b){for(;_<c.length&&"string"==typeof(b=c[_++]);)if(b.toLowerCase()===u)return!0;return!1}}return!1}function lo(c){return 4===c.type&&c.value!==gi}function Vc(c,u,h){return u===(4!==c.type||h?c.value:gi)}function No(c,u,h){let _=4;const b=c.attrs||[],D=function D0(c){for(let u=0;u<c.length;u++)if(Ht(c[u]))return u;return c.length}(b);let O=!1;for(let R=0;R<u.length;R++){const V=u[R];if("number"!=typeof V){if(!O)if(4&_){if(_=2|1&_,""!==V&&!Vc(c,V,h)||""===V&&1===u.length){if(ws(_))return!1;O=!0}}else{const J=8&_?V:u[++R];if(8&_&&null!==c.attrs){if(!_i(c.attrs,J,h)){if(ws(_))return!1;O=!0}continue}const xe=f_(8&_?"class":V,b,lo(c),h);if(-1===xe){if(ws(_))return!1;O=!0;continue}if(""!==J){let Ue;Ue=xe>D?"":b[xe+1].toLowerCase();const dt=8&_?Ue:null;if(dt&&-1!==In(dt,J,0)||2&_&&J!==Ue){if(ws(_))return!1;O=!0}}}}else{if(!O&&!ws(_)&&!ws(V))return!1;if(O&&ws(V))continue;O=!1,_=V|1&_}}return ws(_)||O}function ws(c){return 0==(1&c)}function f_(c,u,h,_){if(null===u)return-1;let b=0;if(_||!h){let D=!1;for(;b<u.length;){const O=u[b];if(O===c)return b;if(3===O||6===O)D=!0;else{if(1===O||2===O){let R=u[++b];for(;"string"==typeof R;)R=u[++b];continue}if(4===O)break;if(0===O){b+=4;continue}}b+=D?1:2}return-1}return function B1(c,u){let h=c.indexOf(4);if(h>-1)for(h++;h<c.length;){const _=c[h];if("number"==typeof _)return-1;if(_===u)return h;h++}return-1}(u,c)}function sn(c,u,h=!1){for(let _=0;_<u.length;_++)if(No(c,u[_],h))return!0;return!1}function E0(c,u){e:for(let h=0;h<u.length;h++){const _=u[h];if(c.length===_.length){for(let b=0;b<c.length;b++)if(c[b]!==_[b])continue e;return!0}}return!1}function U1(c,u){return c?":not("+u.trim()+")":u}function j1(c){let u=c[0],h=1,_=2,b="",D=!1;for(;h<c.length;){let O=c[h];if("string"==typeof O)if(2&_){const R=c[++h];b+="["+O+(R.length>0?'="'+R+'"':"")+"]"}else 8&_?b+="."+O:4&_&&(b+=" "+O);else""!==b&&!ws(O)&&(u+=U1(D,b),b=""),_=O,D=D||!ws(_);h++}return""!==b&&(u+=U1(D,b)),u}const Ni={};function Gm(c){Zm(cr(),Gt(),ia()+c,Dc())}function Zm(c,u,h,_){if(!_)if(3==(3&u[2])){const D=c.preOrderCheckHooks;null!==D&&Cl(u,D,h)}else{const D=c.preOrderHooks;null!==D&&mh(u,D,0,h)}vs(h)}function p_(c,u){return c<<17|u<<2}function Qu(c){return c>>17&32767}function m_(c){return 2|c}function qc(c){return(131068&c)>>2}function Lp(c,u){return-131069&c|u<<2}function I0(c){return 1|c}function F0(c,u){const h=c.contentQueries;if(null!==h)for(let _=0;_<h.length;_+=2){const b=h[_],D=h[_+1];if(-1!==D){const O=c.data[D];ph(b),O.contentQueries(2,u[D],D)}}}function Zv(c,u,h,_,b,D,O,R,V,J){const re=u.blueprint.slice();return re[0]=b,re[2]=140|_,au(re),re[3]=re[15]=c,re[8]=h,re[10]=O||c&&c[10],re[11]=R||c&&c[11],re[12]=V||c&&c[12]||null,re[9]=J||c&&c[9]||null,re[6]=D,re[16]=2==u.type?c[16]:re,re}function Ef(c,u,h,_,b){let D=c.data[u];if(null===D)D=function Yv(c,u,h,_,b){const D=yl(),O=Zl(),V=c.data[u]=function ix(c,u,h,_,b,D){return{type:h,index:_,insertBeforeIndex:null,injectorIndex:u?u.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:b,attrs:D,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:u,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,O?D:D&&D.parent,h,u,_,b);return null===c.firstChild&&(c.firstChild=V),null!==D&&(O?null==D.child&&null!==V.parent&&(D.child=V):null===D.next&&(D.next=V)),V}(c,u,h,_,b),function wi(){return hi.lFrame.inI18n}()&&(D.flags|=64);else if(64&D.type){D.type=h,D.value=_,D.attrs=b;const O=function na(){const c=hi.lFrame,u=c.currentTNode;return c.isParent?u:u.parent}();D.injectorIndex=null===O?-1:O.injectorIndex}return bl(D,!0),D}function kh(c,u,h,_){if(0===h)return-1;const b=u.length;for(let D=0;D<h;D++)u.push(_),c.blueprint.push(_),c.data.push(null);return b}function N0(c,u,h){tf(u);try{const _=c.viewQuery;null!==_&&Km(1,_,h);const b=c.template;null!==b&&C_(c,u,b,1,h),c.firstCreatePass&&(c.firstCreatePass=!1),c.staticContentQueries&&F0(c,u),c.staticViewQueries&&Km(2,c.viewQuery,h);const D=c.components;null!==D&&function K1(c,u){for(let h=0;h<u.length;h++)ya(c,u[h])}(u,D)}catch(_){throw c.firstCreatePass&&(c.incompleteFirstPass=!0,c.firstCreatePass=!1),_}finally{u[2]&=-5,Ia()}}function Vd(c,u,h,_){const b=u[2];if(256==(256&b))return;tf(u);const D=Dc();try{au(u),function ju(c){return hi.lFrame.bindingIndex=c}(c.bindingStartIndex),null!==h&&C_(c,u,h,2,_);const O=3==(3&b);if(!D)if(O){const J=c.preOrderCheckHooks;null!==J&&Cl(u,J,null)}else{const J=c.preOrderHooks;null!==J&&mh(u,J,0,null),sf(u,0)}if(function lw(c){for(let u=Vm(c);null!==u;u=c_(u)){if(!u[2])continue;const h=u[9];for(let _=0;_<h.length;_++){const b=h[_],D=b[3];0==(1024&b[2])&&Gs(D,1),b[2]|=1024}}}(u),function aw(c){for(let u=Vm(c);null!==u;u=c_(u))for(let h=10;h<u.length;h++){const _=u[h],b=_[1];Os(_)&&Vd(b,_,b.template,_[8])}}(u),null!==c.contentQueries&&F0(c,u),!D)if(O){const J=c.contentCheckHooks;null!==J&&Cl(u,J)}else{const J=c.contentHooks;null!==J&&mh(u,J,1),sf(u,1)}!function tx(c,u){const h=c.hostBindingOpCodes;if(null!==h)try{for(let _=0;_<h.length;_++){const b=h[_];if(b<0)vs(~b);else{const D=b,O=h[++_],R=h[++_];pa(O,D),R(2,u[D])}}}finally{vs(-1)}}(c,u);const R=c.components;null!==R&&function nx(c,u){for(let h=0;h<u.length;h++)V0(c,u[h])}(u,R);const V=c.viewQuery;if(null!==V&&Km(2,V,_),!D)if(O){const J=c.viewCheckHooks;null!==J&&Cl(u,J)}else{const J=c.viewHooks;null!==J&&mh(u,J,2),sf(u,2)}!0===c.firstUpdatePass&&(c.firstUpdatePass=!1),D||(u[2]&=-73),1024&u[2]&&(u[2]&=-1025,Gs(u[3],-1))}finally{Ia()}}function w_(c,u,h,_){const b=u[10],D=!Dc(),O=Td(u);try{D&&!O&&b.begin&&b.begin(),O&&N0(c,u,_),Vd(c,u,h,_)}finally{D&&!O&&b.end&&b.end()}}function C_(c,u,h,_,b){const D=ia(),O=2&_;try{vs(-1),O&&u.length>20&&Zm(c,u,20,Dc()),h(_,b)}finally{vs(D)}}function Fp(c,u,h){if(ki(u)){const b=u.directiveEnd;for(let D=u.directiveStart;D<b;D++){const O=c.data[D];O.contentQueries&&O.contentQueries(1,h[D],D)}}}function Ih(c,u,h){!Gl()||(function iM(c,u,h,_){const b=h.directiveStart,D=h.directiveEnd;c.firstCreatePass||L(h,u),sa(_,u);const O=h.initialInputs;for(let R=b;R<D;R++){const V=c.data[R],J=gs(V);J&&rw(u,h,V);const re=Ui(u,c,R,h);sa(re,u),null!==O&&ow(0,R-b,re,V,0,O),J&&(Hs(h.index,u)[8]=re)}}(c,u,h,Is(h,u)),128==(128&h.flags)&&function nw(c,u,h){const _=h.directiveStart,b=h.directiveEnd,O=h.index,R=function ka(){return hi.lFrame.currentDirectiveIndex}();try{vs(O);for(let V=_;V<b;V++){const J=c.data[V],re=u[V];Vu(V),(null!==J.hostBindings||0!==J.hostVars||null!==J.hostAttrs)&&j0(J,re)}}finally{vs(-1),Vu(R)}}(c,u,h))}function zv(c,u,h=Is){const _=u.localNames;if(null!==_){let b=u.index+1;for(let D=0;D<_.length;D+=2){const O=_[D+1],R=-1===O?h(u,c):c[O];c[b++]=R}}}function R0(c){const u=c.tView;return null===u||u.incompleteFirstPass?c.tView=Wv(1,null,c.template,c.decls,c.vars,c.directiveDefs,c.pipeDefs,c.viewQuery,c.schemas,c.consts):u}function Wv(c,u,h,_,b,D,O,R,V,J){const re=20+_,xe=re+b,Ue=function P0(c,u){const h=[];for(let _=0;_<u;_++)h.push(_<c?null:Ni);return h}(re,xe),dt="function"==typeof J?J():J;return Ue[1]={type:c,blueprint:Ue,template:h,queries:null,viewQuery:R,declTNode:u,data:Ue.slice().fill(null,re),bindingStartIndex:re,expandoStartIndex:xe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof D?D():D,pipeRegistry:"function"==typeof O?O():O,firstChild:null,schemas:V,consts:dt,incompleteFirstPass:!1}}function x_(c,u,h,_){const b=cx(u);null===h?b.push(_):(b.push(h),c.firstCreatePass&&Y0(c).push(_,b.length-1))}function Qv(c,u,h){for(let _ in c)if(c.hasOwnProperty(_)){const b=c[_];(h=null===h?{}:h).hasOwnProperty(_)?h[_].push(u,b):h[_]=[u,b]}return h}function qa(c,u,h,_,b,D,O,R){const V=Is(u,h);let re,J=u.inputs;!R&&null!=J&&(re=J[_])?(W0(c,h,re,_,b),ss(u)&&function mn(c,u){const h=Hs(u,c);16&h[2]||(h[2]|=64)}(h,u.index)):3&u.type&&(_=function X1(c){return"class"===c?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c}(_),b=null!=O?O(b,u.value||"",_):b,sr(D)?D.setProperty(V,_,b):Io(_)||(V.setProperty?V.setProperty(_,b):V[_]=b))}function ew(c,u,h,_){let b=!1;if(Gl()){const D=function sx(c,u,h){const _=c.directiveRegistry;let b=null;if(_)for(let D=0;D<_.length;D++){const O=_[D];sn(h,O.selectors,!1)&&(b||(b=[]),Se(L(h,u),c,O.type),gs(O)?(Kv(c,h),b.unshift(O)):b.push(O))}return b}(c,u,h),O=null===_?null:{"":-1};if(null!==D){b=!0,ax(h,c.data.length,D.length);for(let re=0;re<D.length;re++){const xe=D[re];xe.providersResolver&&xe.providersResolver(xe)}let R=!1,V=!1,J=kh(c,u,D.length,null);for(let re=0;re<D.length;re++){const xe=D[re];h.mergedAttrs=Co(h.mergedAttrs,xe.hostAttrs),iw(c,h,u,J,xe),qd(J,xe,O),null!==xe.contentQueries&&(h.flags|=8),(null!==xe.hostBindings||null!==xe.hostAttrs||0!==xe.hostVars)&&(h.flags|=128);const Ue=xe.type.prototype;!R&&(Ue.ngOnChanges||Ue.ngOnInit||Ue.ngDoCheck)&&((c.preOrderHooks||(c.preOrderHooks=[])).push(h.index),R=!0),!V&&(Ue.ngOnChanges||Ue.ngDoCheck)&&((c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(h.index),V=!0),J++}!function Jv(c,u){const _=u.directiveEnd,b=c.data,D=u.attrs,O=[];let R=null,V=null;for(let J=u.directiveStart;J<_;J++){const re=b[J],xe=re.inputs,Ue=null===D||lo(u)?null:lx(xe,D);O.push(Ue),R=Qv(xe,J,R),V=Qv(re.outputs,J,V)}null!==R&&(R.hasOwnProperty("class")&&(u.flags|=16),R.hasOwnProperty("style")&&(u.flags|=32)),u.initialInputs=O,u.inputs=R,u.outputs=V}(c,h)}O&&function Jm(c,u,h){if(u){const _=c.localNames=[];for(let b=0;b<u.length;b+=2){const D=h[u[b+1]];if(null==D)throw new kt(-301,!1);_.push(u[b],D)}}}(h,_,O)}return h.mergedAttrs=Co(h.mergedAttrs,h.attrs),b}function tw(c,u,h,_,b,D){const O=D.hostBindings;if(O){let R=c.hostBindingOpCodes;null===R&&(R=c.hostBindingOpCodes=[]);const V=~u.index;(function ox(c){let u=c.length;for(;u>0;){const h=c[--u];if("number"==typeof h&&h<0)return h}return 0})(R)!=V&&R.push(V),R.push(_,b,O)}}function j0(c,u){null!==c.hostBindings&&c.hostBindings(1,u)}function Kv(c,u){u.flags|=2,(c.components||(c.components=[])).push(u.index)}function qd(c,u,h){if(h){if(u.exportAs)for(let _=0;_<u.exportAs.length;_++)h[u.exportAs[_]]=c;gs(u)&&(h[""]=c)}}function ax(c,u,h){c.flags|=1,c.directiveStart=u,c.directiveEnd=u+h,c.providerIndexes=u}function iw(c,u,h,_,b){c.data[_]=b;const D=b.factory||(b.factory=Pu(b.type)),O=new Ka(D,gs(b),null);c.blueprint[_]=O,h[_]=O,tw(c,u,0,_,kh(c,h,b.hostVars,Ni),b)}function rw(c,u,h){const _=Is(u,c),b=R0(h),D=c[10],O=S_(c,Zv(c,b,null,h.onPush?64:16,_,u,D,D.createRenderer(_,h),null,null));c[u.index]=O}function Oh(c,u,h,_,b,D){const O=Is(c,u);!function kf(c,u,h,_,b,D,O){if(null==D)sr(c)?c.removeAttribute(u,b,h):u.removeAttribute(b);else{const R=null==O?ot(D):O(D,_||"",b);sr(c)?c.setAttribute(u,b,R,h):h?u.setAttributeNS(h,b,R):u.setAttribute(b,R)}}(u[11],O,D,c.value,h,_,b)}function ow(c,u,h,_,b,D){const O=D[u];if(null!==O){const R=_.setInput;for(let V=0;V<O.length;){const J=O[V++],re=O[V++],xe=O[V++];null!==R?_.setInput(h,xe,J,re):h[re]=xe}}}function lx(c,u){let h=null,_=0;for(;_<u.length;){const b=u[_];if(0!==b)if(5!==b){if("number"==typeof b)break;c.hasOwnProperty(b)&&(null===h&&(h=[]),h.push(b,c[b],u[_+1])),_+=2}else _+=2;else _+=4}return h}function Xv(c,u,h,_){return new Array(c,!0,!1,u,null,0,_,h,null,null)}function V0(c,u){const h=Hs(u,c);if(Os(h)){const _=h[1];80&h[2]?Vd(_,h,_.template,h[8]):h[5]>0&&q0(h)}}function q0(c){for(let _=Vm(c);null!==_;_=c_(_))for(let b=10;b<_.length;b++){const D=_[b];if(1024&D[2]){const O=D[1];Vd(O,D,O.template,D[8])}else D[5]>0&&q0(D)}const h=c[1].components;if(null!==h)for(let _=0;_<h.length;_++){const b=Hs(h[_],c);Os(b)&&b[5]>0&&q0(b)}}function ya(c,u){const h=Hs(u,c),_=h[1];(function dS(c,u){for(let h=u.length;h<c.blueprint.length;h++)u.push(c.blueprint[h])})(_,h),N0(_,h,h[8])}function S_(c,u){return c[13]?c[14][4]=u:c[13]=u,c[14]=u,u}function D_(c){for(;c;){c[2]|=64;const u=jm(c);if(ta(c)&&!u)return c;c=u}return null}function rc(c,u,h){const _=u[10];_.begin&&_.begin();try{Vd(c,u,c.template,h)}catch(b){throw hw(u,b),b}finally{_.end&&_.end()}}function Zc(c){!function H0(c){for(let u=0;u<c.components.length;u++){const h=c.components[u],_=wv(h),b=_[1];w_(b,_,b.template,h)}}(c[8])}function Km(c,u,h){ph(0),u(c,h)}const dw=(()=>Promise.resolve(null))();function cx(c){return c[7]||(c[7]=[])}function Y0(c){return c.cleanup||(c.cleanup=[])}function z0(c,u,h){return(null===c||gs(c))&&(h=function ef(c){for(;Array.isArray(c);){if("object"==typeof c[1])return c;c=c[0]}return null}(h[u.index])),h[11]}function hw(c,u){const h=c[9],_=h?h.get(a_,null):null;_&&_.handleError(u)}function W0(c,u,h,_,b){for(let D=0;D<h.length;){const O=h[D++],R=h[D++],V=u[O],J=c.data[O];null!==J.setInput?J.setInput(V,b,_,R):V[R]=b}}function oc(c,u,h){const _=Ur(u,c);!function kv(c,u,h){sr(c)?c.setValue(u,h):u.textContent=h}(c[11],_,h)}function If(c,u,h){let _=h?c.styles:null,b=h?c.classes:null,D=0;if(null!==u)for(let O=0;O<u.length;O++){const R=u[O];"number"==typeof R?D=R:1==D?b=ht(b,R):2==D&&(_=ht(_,R+": "+u[++O]+";"))}h?c.styles=_:c.stylesWithoutHost=_,h?c.classes=b:c.classesWithoutHost=b}const E_=new us("INJECTOR",-1);class ey{get(u,h=uu){if(h===uu){const _=new Error(`NullInjectorError: No provider for ${yt(u)}!`);throw _.name="NullInjectorError",_}return h}}const $0=new us("Set Injector scope."),vu={},Q0={};let ty;function yu(){return void 0===ty&&(ty=new ey),ty}function ny(c,u=null,h=null,_){const b=dx(c,u,h,_);return b._resolveInjectorDefTypes(),b}function dx(c,u=null,h=null,_){return new iy(c,h,u||yu(),_)}class iy{constructor(u,h,_,b=null){this.parent=_,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const D=[];h&&xl(h,R=>this.processProvider(R,u,h)),xl([u],R=>this.processInjectorType(R,[],D)),this.records.set(E_,tg(void 0,this));const O=this.records.get($0);this.scope=null!=O?O.value:null,this.source=b||("object"==typeof u?null:yt(u))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(u=>u.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(u,h=uu,_=Bn.Default){this.assertNotDestroyed();const b=Zu(this),D=wr(void 0);try{if(!(_&Bn.SkipSelf)){let R=this.records.get(u);if(void 0===R){const V=function fS(c){return"function"==typeof c||"object"==typeof c&&c instanceof us}(u)&&Hr(u);R=V&&this.injectableDefInScope(V)?tg(Xm(u),vu):null,this.records.set(u,R)}if(null!=R)return this.hydrate(u,R)}return(_&Bn.Self?yu():this.parent).get(u,h=_&Bn.Optional&&h===uu?null:h)}catch(O){if("NullInjectorError"===O.name){if((O[bh]=O[bh]||[]).unshift(yt(u)),b)throw O;return function mf(c,u,h,_){const b=c[bh];throw u[Qg]&&b.unshift(u[Qg]),c.message=function Od(c,u,h,_=null){c=c&&"\n"===c.charAt(0)&&"\u0275"==c.charAt(1)?c.substr(2):c;let b=yt(u);if(Array.isArray(u))b=u.map(yt).join(" -> ");else if("object"==typeof u){let D=[];for(let O in u)if(u.hasOwnProperty(O)){let R=u[O];D.push(O+":"+("string"==typeof R?JSON.stringify(R):yt(R)))}b=`{${D.join(", ")}}`}return`${h}${_?"("+_+")":""}[${b}]: ${c.replace($g,"\n  ")}`}("\n"+c.message,b,h,_),c.ngTokenPath=b,c[bh]=null,c}(O,u,"R3InjectorError",this.source)}throw O}finally{wr(D),Zu(b)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(u=>this.get(u))}toString(){const u=[];return this.records.forEach((_,b)=>u.push(yt(b))),`R3Injector[${u.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new kt(205,!1)}processInjectorType(u,h,_){if(!(u=We(u)))return!1;let b=ua(u);const D=null==b&&u.ngModule||void 0,O=void 0===D?u:D,R=-1!==_.indexOf(O);if(void 0!==D&&(b=ua(D)),null==b)return!1;if(null!=b.imports&&!R){let re;_.push(O);try{xl(b.imports,xe=>{this.processInjectorType(xe,h,_)&&(void 0===re&&(re=[]),re.push(xe))})}finally{}if(void 0!==re)for(let xe=0;xe<re.length;xe++){const{ngModule:Ue,providers:dt}=re[xe];xl(dt,Zt=>this.processProvider(Zt,Ue,dt||yi))}}this.injectorDefTypes.add(O);const V=Pu(O)||(()=>new O);this.records.set(O,tg(V,vu));const J=b.providers;if(null!=J&&!R){const re=u;xl(J,xe=>this.processProvider(xe,re,J))}return void 0!==D&&void 0!==u.providers}processProvider(u,h,_){let b=ry(u=We(u))?u:We(u&&u.provide);const D=function hx(c,u,h){return Ys(c)?tg(void 0,c.useValue):tg(eg(c),vu)}(u);if(ry(u)||!0!==u.multi)this.records.get(b);else{let O=this.records.get(b);O||(O=tg(void 0,vu,!0),O.factory=()=>Xg(O.multi),this.records.set(b,O)),b=u,O.multi.push(u)}this.records.set(b,D)}hydrate(u,h){return h.value===vu&&(h.value=Q0,h.value=h.factory()),"object"==typeof h.value&&h.value&&function mw(c){return null!==c&&"object"==typeof c&&"function"==typeof c.ngOnDestroy}(h.value)&&this.onDestroy.add(h.value),h.value}injectableDefInScope(u){if(!u.providedIn)return!1;const h=We(u.providedIn);return"string"==typeof h?"any"===h||h===this.scope:this.injectorDefTypes.has(h)}}function Xm(c){const u=Hr(c),h=null!==u?u.factory:Pu(c);if(null!==h)return h;if(c instanceof us)throw new kt(204,!1);if(c instanceof Function)return function pw(c){const u=c.length;if(u>0)throw mp(u,"?"),new kt(204,!1);const h=function Zi(c){const u=c&&(c[vc]||c[vi]);if(u){const h=function vr(c){if(c.hasOwnProperty("name"))return c.name;const u=(""+c).match(/^function\s*([^\s(]+)/);return null===u?"":u[1]}(c);return console.warn(`DEPRECATED: DI is instantiating a token "${h}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${h}" class.`),u}return null}(c);return null!==h?()=>h.factory(c):()=>new c}(c);throw new kt(204,!1)}function eg(c,u,h){let _;if(ry(c)){const b=We(c);return Pu(b)||Xm(b)}if(Ys(c))_=()=>We(c.useValue);else if(function hS(c){return!(!c||!c.useFactory)}(c))_=()=>c.useFactory(...Xg(c.deps||[]));else if(function rM(c){return!(!c||!c.useExisting)}(c))_=()=>$o(We(c.useExisting));else{const b=We(c&&(c.useClass||c.provide));if(!function px(c){return!!c.deps}(c))return Pu(b)||Xm(b);_=()=>new b(...Xg(c.deps))}return _}function tg(c,u,h=!1){return{factory:c,value:u,multi:h?[]:void 0}}function Ys(c){return null!==c&&"object"==typeof c&&Jg in c}function ry(c){return"function"==typeof c}let Lh=(()=>{class c{static create(h,_){var b;if(Array.isArray(h))return ny({name:""},_,h,"");{const D=null!==(b=h.name)&&void 0!==b?b:"";return ny({name:D},h.parent,h.providers,D)}}}return c.THROW_IF_NOT_FOUND=uu,c.NULL=new ey,c.\u0275prov=ii({token:c,providedIn:"any",factory:()=>$o(E_)}),c.__NG_ELEMENT_ID__=-1,c})();function Mr(c,u){ga(wv(c)[1],Wi())}function Cs(c){let u=function pr(c){return Object.getPrototypeOf(c.prototype).constructor}(c.type),h=!0;const _=[c];for(;u;){let b;if(gs(c))b=u.\u0275cmp||u.\u0275dir;else{if(u.\u0275cmp)throw new kt(903,"");b=u.\u0275dir}if(b){if(h){_.push(b);const O=c;O.inputs=ng(c.inputs),O.declaredInputs=ng(c.declaredInputs),O.outputs=ng(c.outputs);const R=b.hostBindings;R&&Cw(c,R);const V=b.viewQuery,J=b.contentQueries;if(V&&I_(c,V),J&&gx(c,J),et(c.inputs,b.inputs),et(c.declaredInputs,b.declaredInputs),et(c.outputs,b.outputs),gs(b)&&b.data.animation){const re=c.data;re.animation=(re.animation||[]).concat(b.data.animation)}}const D=b.features;if(D)for(let O=0;O<D.length;O++){const R=D[O];R&&R.ngInherit&&R(c),R===Cs&&(h=!1)}}u=Object.getPrototypeOf(u)}!function Pp(c){let u=0,h=null;for(let _=c.length-1;_>=0;_--){const b=c[_];b.hostVars=u+=b.hostVars,b.hostAttrs=Co(b.hostAttrs,h=Co(h,b.hostAttrs))}}(_)}function ng(c){return c===Lr?{}:c===yi?[]:c}function I_(c,u){const h=c.viewQuery;c.viewQuery=h?(_,b)=>{u(_,b),h(_,b)}:u}function gx(c,u){const h=c.contentQueries;c.contentQueries=h?(_,b,D)=>{u(_,b,D),h(_,b,D)}:u}function Cw(c,u){const h=c.hostBindings;c.hostBindings=h?(_,b)=>{u(_,b),h(_,b)}:u}let ig=null;function Up(){if(!ig){const c=Oi.Symbol;if(c&&c.iterator)ig=c.iterator;else{const u=Object.getOwnPropertyNames(Map.prototype);for(let h=0;h<u.length;++h){const _=u[h];"entries"!==_&&"size"!==_&&Map.prototype[_]===Map.prototype.entries&&(ig=_)}}}return ig}function ay(c){return!!ly(c)&&(Array.isArray(c)||!(c instanceof Map)&&Up()in c)}function ly(c){return null!==c&&("function"==typeof c||"object"==typeof c)}function Gd(c,u,h){return c[u]=h}function rl(c,u,h){return!Object.is(c[u],h)&&(c[u]=h,!0)}function rg(c,u,h,_){const b=rl(c,u,h);return rl(c,u+1,_)||b}function tb(c,u,h,_){const b=Gt();return rl(b,ls(),u)&&(cr(),Oh(Yr(),b,c,u,h,_)),tb}function Vp(c,u,h,_){return rl(c,ls(),h)?u+ot(h)+_:Ni}function xs(c,u,h,_,b,D,O,R){const V=Gt(),J=cr(),re=c+20,xe=J.firstCreatePass?function aa(c,u,h,_,b,D,O,R,V){const J=u.consts,re=Ef(u,c,4,O||null,Ac(J,R));ew(u,h,re,Ac(J,V)),ga(u,re);const xe=re.tViews=Wv(2,re,_,b,D,u.directiveRegistry,u.pipeRegistry,null,u.schemas,J);return null!==u.queries&&(u.queries.template(u,re),xe.queries=u.queries.embeddedTView(re)),re}(re,J,V,u,h,_,b,D,O):J.data[re];bl(xe,!1);const Ue=V[11].createComment("");m(J,V,Ue,xe),sa(Ue,V),S_(V,V[re]=Xv(Ue,V,Ue,xe)),ch(xe)&&Ih(J,V,xe),null!=O&&zv(V,xe,R)}function Po(c){return fa(function cp(){return hi.lFrame.contextLView}(),20+c)}function Ew(c,u=Bn.Default){const h=Gt();return null===h?$o(c,u):rn(Wi(),h,We(c),u)}function OL(){throw new Error("invalid")}function L_(c,u,h){const _=Gt();return rl(_,ls(),u)&&qa(cr(),Yr(),_,c,u,_[11],h,!1),L_}function CS(c,u,h,_,b){const O=b?"class":"style";W0(c,h,u.inputs[O],O,_)}function wx(c,u,h,_){const b=Gt(),D=cr(),O=20+c,R=b[11],V=b[O]=Iv(R,u,function Gg(){return hi.lFrame.currentNamespace}()),J=D.firstCreatePass?function uM(c,u,h,_,b,D,O){const R=u.consts,J=Ef(u,c,2,b,Ac(R,D));return ew(u,h,J,Ac(R,O)),null!==J.attrs&&If(J,J.attrs,!1),null!==J.mergedAttrs&&If(J,J.mergedAttrs,!0),null!==u.queries&&u.queries.elementStart(u,J),J}(O,D,b,0,u,h,_):D.data[O];bl(J,!0);const re=J.mergedAttrs;null!==re&&Dn(R,V,re);const xe=J.classes;null!==xe&&on(R,V,xe);const Ue=J.styles;return null!==Ue&&Vt(R,V,Ue),64!=(64&J.flags)&&m(D,b,V,J),0===function Ls(){return hi.lFrame.elementDepthCount}()&&sa(V,b),function Bu(){hi.lFrame.elementDepthCount++}(),ch(J)&&(Ih(D,b,J),Fp(D,J,b)),null!==_&&zv(b,J),wx}function Cx(){let c=Wi();Zl()?Uu():(c=c.parent,bl(c,!1));const u=c;!function gm(){hi.lFrame.elementDepthCount--}();const h=cr();return h.firstCreatePass&&(ga(h,c),ki(c)&&h.queries.elementEnd(c)),null!=u.classesWithoutHost&&function bm(c){return 0!=(16&c.flags)}(u)&&CS(h,u,Gt(),u.classesWithoutHost,!0),null!=u.stylesWithoutHost&&function lf(c){return 0!=(32&c.flags)}(u)&&CS(h,u,Gt(),u.stylesWithoutHost,!1),Cx}function dM(c,u,h,_){return wx(c,u,h,_),Cx(),dM}function xS(c,u,h){const _=Gt(),b=cr(),D=c+20,O=b.firstCreatePass?function cB(c,u,h,_,b){const D=u.consts,O=Ac(D,_),R=Ef(u,c,8,"ng-container",O);return null!==O&&If(R,O,!0),ew(u,h,R,Ac(D,b)),null!==u.queries&&u.queries.elementStart(u,R),R}(D,b,_,u,h):b.data[D];bl(O,!0);const R=_[D]=_[11].createComment("");return m(b,_,R,O),sa(R,_),ch(O)&&(Ih(b,_,O),Fp(b,O,_)),null!=h&&zv(_,O),xS}function TS(){let c=Wi();const u=cr();return Zl()?Uu():(c=c.parent,bl(c,!1)),u.firstCreatePass&&(ga(u,c),ki(c)&&u.queries.elementEnd(c)),TS}function xx(c,u,h){return xS(c,u,h),TS(),xx}function ds(){return Gt()}function Ws(c){return!!c&&"function"==typeof c.then}function AS(c){return!!c&&"function"==typeof c.subscribe}const SS=AS;function Ts(c,u,h,_){const b=Gt(),D=cr(),O=Wi();return hM(D,b,b[11],O,c,u,!!h,_),Ts}function Tx(c,u){const h=Wi(),_=Gt(),b=cr();return hM(b,_,z0(cs(b.data),h,_),h,c,u,!1),Tx}function hM(c,u,h,_,b,D,O,R){const V=ch(_),re=c.firstCreatePass&&Y0(c),xe=u[8],Ue=cx(u);let dt=!0;if(3&_.type||R){const Pn=Is(_,u),ti=R?R(Pn):Pn,Xt=Ue.length,Ti=R?Fr=>R(Zr(Fr[_.index])):_.index;if(sr(h)){let Fr=null;if(!R&&V&&(Fr=function LL(c,u,h,_){const b=c.cleanup;if(null!=b)for(let D=0;D<b.length-1;D+=2){const O=b[D];if(O===h&&b[D+1]===_){const R=u[7],V=b[D+2];return R.length>V?R[V]:null}"string"==typeof O&&(D+=2)}return null}(c,u,b,_.index)),null!==Fr)(Fr.__ngLastListenerFn__||Fr).__ngNextListenerFn__=D,Fr.__ngLastListenerFn__=D,dt=!1;else{D=DS(_,u,xe,D,!1);const Ao=h.listen(ti,b,D);Ue.push(D,Ao),re&&re.push(b,Ti,Xt,Xt+1)}}else D=DS(_,u,xe,D,!0),ti.addEventListener(b,D,O),Ue.push(D),re&&re.push(b,Ti,Xt,O)}else D=DS(_,u,xe,D,!1);const Zt=_.outputs;let yn;if(dt&&null!==Zt&&(yn=Zt[b])){const Pn=yn.length;if(Pn)for(let ti=0;ti<Pn;ti+=2){const ci=u[yn[ti]][yn[ti+1]].subscribe(D),wb=Ue.length;Ue.push(D,ci),re&&re.push(b,_.index,wb,-(wb+1))}}}function fM(c,u,h,_){try{return!1!==h(_)}catch(b){return hw(c,b),!1}}function DS(c,u,h,_,b){return function D(O){if(O===Function)return _;const R=2&c.flags?Hs(c.index,u):u;0==(32&u[2])&&D_(R);let V=fM(u,0,_,O),J=D.__ngNextListenerFn__;for(;J;)V=fM(u,0,J,O)&&V,J=J.__ngNextListenerFn__;return b&&!1===V&&(O.preventDefault(),O.returnValue=!1),V}}function Us(c=1){return function Oa(c){return(hi.lFrame.contextLView=function ym(c,u){for(;c>0;)u=u[15],c--;return u}(c,hi.lFrame.contextLView))[8]}(c)}function uB(c,u){let h=null;const _=function P1(c){const u=c.attrs;if(null!=u){const h=u.indexOf(5);if(0==(1&h))return u[h+1]}return null}(c);for(let b=0;b<u.length;b++){const D=u[b];if("*"!==D){if(null===_?sn(c,D,!0):E0(_,D))return b}else h=b}return h}function hy(c){const u=Gt()[16][6];if(!u.projection){const _=u.projection=mp(c?c.length:1,null),b=_.slice();let D=u.child;for(;null!==D;){const O=c?uB(D,c):0;null!==O&&(b[O]?b[O].projectionNext=D:_[O]=D,b[O]=D),D=D.next}}}function ES(c,u=0,h){const _=Gt(),b=cr(),D=Ef(b,20+c,16,null,h||null);null===D.projection&&(D.projection=u),Uu(),64!=(64&D.flags)&&function pe(c,u,h){Ae(u[11],0,u,h,d_(c,h,u),Pv(h.parent||u[6],h,u))}(b,_,D)}function yM(c,u,h,_,b){const D=c[h+1],O=null===u;let R=_?Qu(D):qc(D),V=!1;for(;0!==R&&(!1===V||O);){const re=c[R+1];bM(c[R],u)&&(V=!0,c[R+1]=_?I0(re):m_(re)),R=_?Qu(re):qc(re)}V&&(c[h+1]=_?m_(D):I0(D))}function bM(c,u){return null===c||null==u||(Array.isArray(c)?c[1]:c)===u||!(!Array.isArray(c)||"string"!=typeof u)&&vh(c,u)>=0}const sl={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function wM(c){return c.substring(sl.key,sl.keyEnd)}function $s(c,u){const h=sl.textEnd;return h===u?-1:(u=sl.keyEnd=function Ax(c,u,h){for(;u<h&&c.charCodeAt(u)>32;)u++;return u}(c,sl.key=u,h),sb(c,u,h))}function sb(c,u,h){for(;u<h&&c.charCodeAt(u)<=32;)u++;return u}function kS(c,u,h){return Rf(c,u,h,!1),kS}function IS(c,u){return Rf(c,u,null,!0),IS}function Yd(c){Pf(Ps,qp,c,!0)}function qp(c,u){for(let h=function NL(c){return function xM(c){sl.key=0,sl.keyEnd=0,sl.value=0,sl.valueEnd=0,sl.textEnd=c.length}(c),$s(c,sb(c,0,sl.textEnd))}(u);h>=0;h=$s(u,h))Ps(c,wM(u),!0)}function Rf(c,u,h,_){const b=Gt(),D=cr(),O=wl(2);D.firstUpdatePass&&EM(D,c,O,_),u!==Ni&&rl(b,O,u)&&MM(D,D.data[ia()],b,b[11],c,b[O+1]=function ZL(c,u){return null==c||("string"==typeof u?c+=u:"object"==typeof c&&(c=yt(Pc(c)))),c}(u,h),_,O)}function Pf(c,u,h,_){const b=cr(),D=wl(2);b.firstUpdatePass&&EM(b,null,D,_);const O=Gt();if(h!==Ni&&rl(O,D,h)){const R=b.data[ia()];if(IM(R,_)&&!DM(b,D)){let V=_?R.classesWithoutHost:R.stylesWithoutHost;null!==V&&(h=ht(V,h||"")),CS(b,R,O,h,_)}else!function GL(c,u,h,_,b,D,O,R){b===Ni&&(b=yi);let V=0,J=0,re=0<b.length?b[0]:null,xe=0<D.length?D[0]:null;for(;null!==re||null!==xe;){const Ue=V<b.length?b[V+1]:void 0,dt=J<D.length?D[J+1]:void 0;let yn,Zt=null;re===xe?(V+=2,J+=2,Ue!==dt&&(Zt=xe,yn=dt)):null===xe||null!==re&&re<xe?(V+=2,Zt=re):(J+=2,Zt=xe,yn=dt),null!==Zt&&MM(c,u,h,_,Zt,yn,O,R),re=V<b.length?b[V]:null,xe=J<D.length?D[J]:null}}(b,R,O,O[11],O[D+1],O[D+1]=function qL(c,u,h){if(null==h||""===h)return yi;const _=[],b=Pc(h);if(Array.isArray(b))for(let D=0;D<b.length;D++)c(_,b[D],!0);else if("object"==typeof b)for(const D in b)b.hasOwnProperty(D)&&c(_,D,b[D]);else"string"==typeof b&&u(_,b);return _}(c,u,h),_,D)}}function DM(c,u){return u>=c.expandoStartIndex}function EM(c,u,h,_){const b=c.data;if(null===b[h+1]){const D=b[ia()],O=DM(c,h);IM(D,_)&&null===u&&!O&&(u=!1),u=function UL(c,u,h,_){const b=cs(c);let D=_?u.residualClasses:u.residualStyles;if(null===b)0===(_?u.classBindings:u.styleBindings)&&(h=Iw(h=OS(null,c,u,h,_),u.attrs,_),D=null);else{const O=u.directiveStylingLast;if(-1===O||c[O]!==b)if(h=OS(b,c,u,h,_),null===D){let V=function hB(c,u,h){const _=h?u.classBindings:u.styleBindings;if(0!==qc(_))return c[Qu(_)]}(c,u,_);void 0!==V&&Array.isArray(V)&&(V=OS(null,c,u,V[1],_),V=Iw(V,u.attrs,_),function jL(c,u,h,_){c[Qu(h?u.classBindings:u.styleBindings)]=_}(c,u,_,V))}else D=function VL(c,u,h){let _;const b=u.directiveEnd;for(let D=1+u.directiveStylingLast;D<b;D++)_=Iw(_,c[D].hostAttrs,h);return Iw(_,u.attrs,h)}(c,u,_)}return void 0!==D&&(_?u.residualClasses=D:u.residualStyles=D),h}(b,D,u,_),function FL(c,u,h,_,b,D){let O=D?u.classBindings:u.styleBindings,R=Qu(O),V=qc(O);c[_]=h;let re,J=!1;if(Array.isArray(h)){const xe=h;re=xe[1],(null===re||vh(xe,re)>0)&&(J=!0)}else re=h;if(b)if(0!==V){const Ue=Qu(c[R+1]);c[_+1]=p_(Ue,R),0!==Ue&&(c[Ue+1]=Lp(c[Ue+1],_)),c[R+1]=function q1(c,u){return 131071&c|u<<17}(c[R+1],_)}else c[_+1]=p_(R,0),0!==R&&(c[R+1]=Lp(c[R+1],_)),R=_;else c[_+1]=p_(V,0),0===R?R=_:c[V+1]=Lp(c[V+1],_),V=_;J&&(c[_+1]=m_(c[_+1])),yM(c,re,_,!0),yM(c,re,_,!1),function zr(c,u,h,_,b){const D=b?c.residualClasses:c.residualStyles;null!=D&&"string"==typeof u&&vh(D,u)>=0&&(h[_+1]=I0(h[_+1]))}(u,re,c,_,D),O=p_(R,V),D?u.classBindings=O:u.styleBindings=O}(b,D,u,h,O,_)}}function OS(c,u,h,_,b){let D=null;const O=h.directiveEnd;let R=h.directiveStylingLast;for(-1===R?R=h.directiveStart:R++;R<O&&(D=u[R],_=Iw(_,D.hostAttrs,b),D!==c);)R++;return null!==c&&(h.directiveStylingLast=R),_}function Iw(c,u,h){const _=h?1:2;let b=-1;if(null!==u)for(let D=0;D<u.length;D++){const O=u[D];"number"==typeof O?b=O:b===_&&(Array.isArray(c)||(c=void 0===c?[]:["",c]),Ps(c,O,!!h||u[++D]))}return void 0===c?null:c}function MM(c,u,h,_,b,D,O,R){if(!(3&u.type))return;const V=c.data,J=V[R+1];Sx(function k0(c){return 1==(1&c)}(J)?kM(V,u,h,b,qc(J),O):void 0)||(Sx(D)||function V1(c){return 2==(2&c)}(J)&&(D=kM(V,null,h,b,R,O)),function st(c,u,h,_,b){const D=sr(c);if(u)b?D?c.addClass(h,_):h.classList.add(_):D?c.removeClass(h,_):h.classList.remove(_);else{let O=-1===_.indexOf("-")?void 0:Ml.DashCase;if(null==b)D?c.removeStyle(h,_,O):h.style.removeProperty(_);else{const R="string"==typeof b&&b.endsWith("!important");R&&(b=b.slice(0,-10),O|=Ml.Important),D?c.setStyle(h,_,b,O):h.style.setProperty(_,b,R?"important":"")}}}(_,O,Ur(ia(),h),b,D))}function kM(c,u,h,_,b,D){const O=null===u;let R;for(;b>0;){const V=c[b],J=Array.isArray(V),re=J?V[1]:V,xe=null===re;let Ue=h[b+1];Ue===Ni&&(Ue=xe?yi:void 0);let dt=xe?Tm(Ue,_):re===_?Ue:void 0;if(J&&!Sx(dt)&&(dt=Tm(V,_)),Sx(dt)&&(R=dt,O))return R;const Zt=c[b+1];b=O?Qu(Zt):qc(Zt)}if(null!==u){let V=D?u.residualClasses:u.residualStyles;null!=V&&(R=Tm(V,_))}return R}function Sx(c){return void 0!==c}function IM(c,u){return 0!=(c.flags&(u?16:32))}function OM(c,u=""){const h=Gt(),_=cr(),b=c+20,D=_.firstCreatePass?Ef(_,b,1,u,null):_.data[b],O=h[b]=function Mv(c,u){return sr(c)?c.createText(u):c.createTextNode(u)}(h[11],u);m(_,h,O,D),bl(D,!1)}function LS(c){return FS("",c,""),LS}function FS(c,u,h){const _=Gt(),b=Vp(_,c,u,h);return b!==Ni&&oc(_,ia(),b),FS}function jM(c,u,h){Pf(Ps,qp,Vp(Gt(),c,u,h),!0)}function Ex(c,u,h){const _=Gt();return rl(_,ls(),u)&&qa(cr(),Yr(),_,c,u,_[11],h,!0),Ex}function Fw(c,u,h){const _=Gt();if(rl(_,ls(),u)){const D=cr(),O=Yr();qa(D,O,_,c,u,z0(cs(D.data),O,_),h,!0)}return Fw}const ho=void 0;var cb=["en",[["a","p"],["AM","PM"],ho],[["AM","PM"],ho,ho],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ho,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ho,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ho,"{1} 'at' {0}",ho],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function mB(c){const h=Math.floor(Math.abs(c)),_=c.toString().replace(/^[^.]*\.?/,"").length;return 1===h&&0===_?1:5}];let py={};function my(c){const u=function Rw(c){return c.toLowerCase().replace(/_/g,"-")}(c);let h=Nw(u);if(h)return h;const _=u.split("-")[0];if(h=Nw(_),h)return h;if("en"===_)return cb;throw new Error(`Missing locale data for the locale "${c}".`)}function N_(c){return my(c)[Ei.PluralCase]}function Nw(c){return c in py||(py[c]=Oi.ng&&Oi.ng.common&&Oi.ng.common.locales&&Oi.ng.common.locales[c]),py[c]}var Ei=(()=>((Ei=Ei||{})[Ei.LocaleId=0]="LocaleId",Ei[Ei.DayPeriodsFormat=1]="DayPeriodsFormat",Ei[Ei.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ei[Ei.DaysFormat=3]="DaysFormat",Ei[Ei.DaysStandalone=4]="DaysStandalone",Ei[Ei.MonthsFormat=5]="MonthsFormat",Ei[Ei.MonthsStandalone=6]="MonthsStandalone",Ei[Ei.Eras=7]="Eras",Ei[Ei.FirstDayOfWeek=8]="FirstDayOfWeek",Ei[Ei.WeekendRange=9]="WeekendRange",Ei[Ei.DateFormat=10]="DateFormat",Ei[Ei.TimeFormat=11]="TimeFormat",Ei[Ei.DateTimeFormat=12]="DateTimeFormat",Ei[Ei.NumberSymbols=13]="NumberSymbols",Ei[Ei.NumberFormats=14]="NumberFormats",Ei[Ei.CurrencyCode=15]="CurrencyCode",Ei[Ei.CurrencySymbol=16]="CurrencySymbol",Ei[Ei.CurrencyName=17]="CurrencyName",Ei[Ei.Currencies=18]="Currencies",Ei[Ei.Directionality=19]="Directionality",Ei[Ei.PluralCase=20]="PluralCase",Ei[Ei.ExtraData=21]="ExtraData",Ei))();const Pw="en-US";let BS=Pw;function QM(c,u,h,_,b){if(c=We(c),Array.isArray(c))for(let D=0;D<c.length;D++)QM(c[D],u,h,_,b);else{const D=cr(),O=Gt();let R=ry(c)?c:We(c.provide),V=eg(c);const J=Wi(),re=1048575&J.providerIndexes,xe=J.directiveStart,Ue=J.providerIndexes>>20;if(ry(c)||!c.multi){const dt=new Ka(V,b,Ew),Zt=KM(R,u,b?re:re+Ue,xe);-1===Zt?(Se(L(J,O),D,R),JM(D,c,u.length),u.push(R),J.directiveStart++,J.directiveEnd++,b&&(J.providerIndexes+=1048576),h.push(dt),O.push(dt)):(h[Zt]=dt,O[Zt]=dt)}else{const dt=KM(R,u,re+Ue,xe),Zt=KM(R,u,re,re+Ue),yn=dt>=0&&h[dt],Pn=Zt>=0&&h[Zt];if(b&&!Pn||!b&&!yn){Se(L(J,O),D,R);const ti=function nU(c,u,h,_,b){const D=new Ka(c,h,Ew);return D.multi=[],D.index=u,D.componentProviders=0,TF(D,b,_&&!h),D}(b?tU:eU,h.length,b,_,V);!b&&Pn&&(h[Zt].providerFactory=ti),JM(D,c,u.length,0),u.push(R),J.directiveStart++,J.directiveEnd++,b&&(J.providerIndexes+=1048576),h.push(ti),O.push(ti)}else JM(D,c,dt>-1?dt:Zt,TF(h[b?Zt:dt],V,!b&&_));!b&&_&&Pn&&h[Zt].componentProviders++}}}function JM(c,u,h,_){const b=ry(u),D=function fx(c){return!!c.useClass}(u);if(b||D){const V=(D?We(u.useClass):u).prototype.ngOnDestroy;if(V){const J=c.destroyHooks||(c.destroyHooks=[]);if(!b&&u.multi){const re=J.indexOf(h);-1===re?J.push(h,[_,V]):J[re+1].push(_,V)}else J.push(h,V)}}}function TF(c,u,h){return h&&c.componentProviders++,c.multi.push(u)-1}function KM(c,u,h,_){for(let b=h;b<_;b++)if(u[b]===c)return b;return-1}function eU(c,u,h,_){return XM(this.multi,[])}function tU(c,u,h,_){const b=this.multi;let D;if(this.providerFactory){const O=this.providerFactory.componentProviders,R=Ui(h,h[1],this.providerFactory.index,_);D=R.slice(0,O),XM(b,D);for(let V=O;V<R.length;V++)D.push(R[V])}else D=[],XM(b,D);return D}function XM(c,u){for(let h=0;h<c.length;h++)u.push((0,c[h])());return u}function AF(c,u=[]){return h=>{h.providersResolver=(_,b)=>function XB(c,u,h){const _=cr();if(_.firstCreatePass){const b=gs(c);QM(h,_.data,_.blueprint,b,!0),QM(u,_.data,_.blueprint,b,!1)}}(_,b?b(c):c,u)}}class SF{}class oU{resolveComponentFactory(u){throw function rU(c){const u=Error(`No component factory found for ${yt(c)}. Did you add it to @NgModule.entryComponents?`);return u.ngComponent=c,u}(u)}}let jS=(()=>{class c{}return c.NULL=new oU,c})();function sU(){return jw(Wi(),Gt())}function jw(c,u){return new Fx(Is(c,u))}let Fx=(()=>{class c{constructor(h){this.nativeElement=h}}return c.__NG_ELEMENT_ID__=sU,c})();function aU(c){return c instanceof Fx?c.nativeElement:c}class EF{}let lU=(()=>{class c{}return c.__NG_ELEMENT_ID__=()=>function uU(){const c=Gt(),h=Hs(Wi().index,c);return function cU(c){return c[11]}(Xr(h)?h:c)}(),c})(),dU=(()=>{class c{}return c.\u0275prov=ii({token:c,providedIn:"root",factory:()=>null}),c})();class MF{constructor(u){this.full=u,this.major=u.split(".")[0],this.minor=u.split(".")[1],this.patch=u.split(".").slice(2).join(".")}}const kF=new MF("13.3.0"),ek={};function VS(c,u,h,_,b=!1){for(;null!==h;){const D=u[h.index];if(null!==D&&_.push(Zr(D)),Yi(D))for(let R=10;R<D.length;R++){const V=D[R],J=V[1].firstChild;null!==J&&VS(V[1],V,J,_)}const O=h.type;if(8&O)VS(c,u,h.child,_);else if(32&O){const R=kp(h,u);let V;for(;V=R();)_.push(V)}else if(16&O){const R=T(u,h);if(Array.isArray(R))_.push(...R);else{const V=jm(u[16]);VS(V[1],V,R,_,!0)}}h=b?h.projectionNext:h.next}return _}class Nx{constructor(u,h){this._lView=u,this._cdRefInjectingView=h,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const u=this._lView,h=u[1];return VS(h,u,h.firstChild,[])}get context(){return this._lView[8]}set context(u){this._lView[8]=u}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const u=this._lView[3];if(Yi(u)){const h=u[8],_=h?h.indexOf(this):-1;_>-1&&(Lv(u,_),xm(h,_))}this._attachedToViewContainer=!1}Fv(this._lView[1],this._lView)}onDestroy(u){x_(this._lView[1],this._lView,null,u)}markForCheck(){D_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){rc(this._lView[1],this._lView,this.context)}checkNoChanges(){!function uw(c,u,h){Ec(!0);try{rc(c,u,h)}finally{Ec(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new kt(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ov(c,u){ue(c,u,u[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(u){if(this._attachedToViewContainer)throw new kt(902,"");this._appRef=u}}class hU extends Nx{constructor(u){super(u),this._view=u}detectChanges(){Zc(this._view)}checkNoChanges(){!function G0(c){Ec(!0);try{Zc(c)}finally{Ec(!1)}}(this._view)}get context(){return null}}class IF extends jS{constructor(u){super(),this.ngModule=u}resolveComponentFactory(u){const h=Gr(u);return new P_(h,this.ngModule)}}function tk(c){const u=[];for(let h in c)c.hasOwnProperty(h)&&u.push({propName:c[h],templateName:h});return u}class P_ extends SF{constructor(u,h){super(),this.componentDef=u,this.ngModule=h,this.componentType=u.type,this.selector=function M0(c){return c.map(j1).join(",")}(u.selectors),this.ngContentSelectors=u.ngContentSelectors?u.ngContentSelectors:[],this.isBoundToModule=!!h}get inputs(){return tk(this.componentDef.inputs)}get outputs(){return tk(this.componentDef.outputs)}create(u,h,_,b){const D=(b=b||this.ngModule)?function nk(c,u){return{get:(h,_,b)=>{const D=c.get(h,ek,b);return D!==ek||_===ek?D:u.get(h,_,b)}}}(u,b.injector):u,O=D.get(EF,vl),R=D.get(dU,null),V=O.createRenderer(null,this.componentDef),J=this.componentDef.selectors[0][0]||"div",re=_?function U0(c,u,h){if(sr(c))return c.selectRootElement(u,h===ar.ShadowDom);let _="string"==typeof u?c.querySelector(u):u;return _.textContent="",_}(V,_,this.componentDef.encapsulation):Iv(O.createRenderer(null,this.componentDef),J,function lc(c){const u=c.toLowerCase();return"svg"===u?"svg":"math"===u?"math":null}(J)),xe=this.componentDef.onPush?576:528,Ue=function Qt(c,u){return{components:[],scheduler:c||O1,clean:dw,playerHandler:u||null,flags:0}}(),dt=Wv(0,null,null,1,0,null,null,null,null,null),Zt=Zv(null,dt,Ue,xe,null,null,O,V,R,D);let yn,Pn;tf(Zt);try{const ti=function Lf(c,u,h,_,b,D){const O=h[1];h[20]=c;const V=Ef(O,20,2,"#host",null),J=V.mergedAttrs=u.hostAttrs;null!==J&&(If(V,J,!0),null!==c&&(Dn(b,c,J),null!==V.classes&&on(b,c,V.classes),null!==V.styles&&Vt(b,c,V.styles)));const re=_.createRenderer(c,u),xe=Zv(h,R0(u),null,u.onPush?64:16,h[20],V,_,re,D||null,null);return O.firstCreatePass&&(Se(L(V,h),O,u.type),Kv(O,V),ax(V,h.length,1)),S_(h,xe),h[20]=xe}(re,this.componentDef,Zt,O,V);if(re)if(_)Dn(V,re,["ng-version",kF.full]);else{const{attrs:Xt,classes:Ti}=function jv(c){const u=[],h=[];let _=1,b=2;for(;_<c.length;){let D=c[_];if("string"==typeof D)2===b?""!==D&&u.push(D,c[++_]):8===b&&h.push(D);else{if(!ws(b))break;b=D}_++}return{attrs:u,classes:h}}(this.componentDef.selectors[0]);Xt&&Dn(V,re,Xt),Ti&&Ti.length>0&&on(V,re,Ti.join(" "))}if(Pn=xd(dt,20),void 0!==h){const Xt=Pn.projection=[];for(let Ti=0;Ti<this.ngContentSelectors.length;Ti++){const Fr=h[Ti];Xt.push(null!=Fr?Array.from(Fr):null)}}yn=function io(c,u,h,_,b){const D=h[1],O=function rx(c,u,h){const _=Wi();c.firstCreatePass&&(h.providersResolver&&h.providersResolver(h),iw(c,_,u,kh(c,u,1,null),h));const b=Ui(u,c,_.directiveStart,_);sa(b,u);const D=Is(_,u);return D&&sa(D,u),b}(D,h,u);if(_.components.push(O),c[8]=O,b&&b.forEach(V=>V(O,u)),u.contentQueries){const V=Wi();u.contentQueries(1,O,V.directiveStart)}const R=Wi();return!D.firstCreatePass||null===u.hostBindings&&null===u.hostAttrs||(vs(R.index),tw(h[1],R,0,R.directiveStart,R.directiveEnd,u),j0(u,O)),O}(ti,this.componentDef,Zt,Ue,[Mr]),N0(dt,Zt,null)}finally{Ia()}return new FF(this.componentType,yn,jw(Pn,Zt),Zt,Pn)}}class FF extends class iU{}{constructor(u,h,_,b,D){super(),this.location=_,this._rootLView=b,this._tNode=D,this.instance=h,this.hostView=this.changeDetectorRef=new hU(b),this.componentType=u}get injector(){return new ao(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(u){this.hostView.onDestroy(u)}}class lg{}class RF{}const vy=new Map;class rk extends lg{constructor(u,h){super(),this._parent=h,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new IF(this);const _=ms(u);this._bootstrapComponents=gu(_.bootstrap),this._r3Injector=dx(u,h,[{provide:lg,useValue:this},{provide:jS,useValue:this.componentFactoryResolver}],yt(u)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(u)}get(u,h=Lh.THROW_IF_NOT_FOUND,_=Bn.Default){return u===Lh||u===lg||u===E_?this:this._r3Injector.get(u,h,_)}destroy(){const u=this._r3Injector;!u.destroyed&&u.destroy(),this.destroyCbs.forEach(h=>h()),this.destroyCbs=null}onDestroy(u){this.destroyCbs.push(u)}}class fb extends RF{constructor(u){super(),this.moduleType=u,null!==ms(u)&&function GS(c){const u=new Set;!function h(_){const b=ms(_,!0),D=b.id;null!==D&&(function HS(c,u,h){if(u&&u!==h)throw new Error(`Duplicate module registered for ${c} - ${yt(u)} vs ${yt(u.name)}`)}(D,vy.get(D),_),vy.set(D,_));const O=gu(b.imports);for(const R of O)u.has(R)||(u.add(R),h(R))}(c)}(u)}create(u){return new rk(this.moduleType,u)}}function BF(c,u,h){const _=Fo()+c,b=Gt();return b[_]===Ni?Gd(b,_,h?u.call(h):u()):function O_(c,u){return c[u]}(b,_)}function Rx(c,u,h,_){return ak(Gt(),Fo(),c,u,h,_)}function ok(c,u,h,_,b){return lk(Gt(),Fo(),c,u,h,_,b)}function pb(c,u){const h=c[u];return h===Ni?void 0:h}function ak(c,u,h,_,b,D){const O=u+h;return rl(c,O,b)?Gd(c,O+1,D?_.call(D,b):_(b)):pb(c,O+1)}function lk(c,u,h,_,b,D,O){const R=u+h;return rg(c,R,b,D)?Gd(c,R+2,O?_.call(O,b,D):_(b,D)):pb(c,R+2)}function ck(c,u,h,_,b,D,O,R){const V=u+h;return function cy(c,u,h,_,b){const D=rg(c,u,h,_);return rl(c,u+2,b)||D}(c,V,b,D,O)?Gd(c,V+3,R?_.call(R,b,D,O):_(b,D,O)):pb(c,V+3)}function uk(c,u,h,_,b,D,O,R,V){const J=u+h;return function Ju(c,u,h,_,b,D){const O=rg(c,u,h,_);return rg(c,u+2,b,D)||O}(c,J,b,D,O,R)?Gd(c,J+4,V?_.call(V,b,D,O,R):_(b,D,O,R)):pb(c,J+4)}function dk(c,u){const h=cr();let _;const b=c+20;h.firstCreatePass?(_=function fU(c,u){if(u)for(let h=u.length-1;h>=0;h--){const _=u[h];if(c===_.name)return _}}(u,h.pipeRegistry),h.data[b]=_,_.onDestroy&&(h.destroyHooks||(h.destroyHooks=[])).push(b,_.onDestroy)):_=h.data[b];const D=_.factory||(_.factory=Pu(_.type)),O=wr(Ew);try{const R=Yl(!1),V=D();return Yl(R),function Ko(c,u,h,_){h>=c.data.length&&(c.data[h]=null,c.blueprint[h]=null),u[h]=_}(h,Gt(),b,V),V}finally{wr(O)}}function ZF(c,u,h){const _=c+20,b=Gt(),D=fa(b,_);return yy(b,_)?ak(b,Fo(),u,D.transform,h,D):D.transform(h)}function YF(c,u,h,_){const b=c+20,D=Gt(),O=fa(D,b);return yy(D,b)?lk(D,Fo(),u,O.transform,h,_,O):O.transform(h,_)}function zF(c,u,h,_,b){const D=c+20,O=Gt(),R=fa(O,D);return yy(O,D)?ck(O,Fo(),u,R.transform,h,_,b,R):R.transform(h,_,b)}function WF(c,u,h,_,b,D){const O=c+20,R=Gt(),V=fa(R,O);return yy(R,O)?uk(R,Fo(),u,V.transform,h,_,b,D,V):V.transform(h,_,b,D)}function yy(c,u){return c[1].data[u].pure}function zS(c){return u=>{setTimeout(c,void 0,u)}}const Bf=class $F extends r.x{constructor(u=!1){super(),this.__isAsync=u}emit(u){super.next(u)}subscribe(u,h,_){var b,D,O;let R=u,V=h||(()=>null),J=_;if(u&&"object"==typeof u){const xe=u;R=null===(b=xe.next)||void 0===b?void 0:b.bind(xe),V=null===(D=xe.error)||void 0===D?void 0:D.bind(xe),J=null===(O=xe.complete)||void 0===O?void 0:O.bind(xe)}this.__isAsync&&(V=zS(V),R&&(R=zS(R)),J&&(J=zS(J)));const re=super.subscribe({next:R,error:V,complete:J});return u instanceof ie.w0&&u.add(re),re}};function mb(){return this._results[Up()]()}class Bx{constructor(u=!1){this._emitDistinctChangesOnly=u,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const h=Up(),_=Bx.prototype;_[h]||(_[h]=mb)}get changes(){return this._changes||(this._changes=new Bf)}get(u){return this._results[u]}map(u){return this._results.map(u)}filter(u){return this._results.filter(u)}find(u){return this._results.find(u)}reduce(u,h){return this._results.reduce(u,h)}forEach(u){this._results.forEach(u)}some(u){return this._results.some(u)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(u,h){const _=this;_.dirty=!1;const b=Rs(u);(this._changesDetected=!function Yg(c,u,h){if(c.length!==u.length)return!1;for(let _=0;_<c.length;_++){let b=c[_],D=u[_];if(h&&(b=h(b),D=h(D)),D!==b)return!1}return!0}(_._results,b,h))&&(_._results=b,_.length=b.length,_.last=b[this.length-1],_.first=b[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Vw=(()=>{class c{}return c.__NG_ELEMENT_ID__=WS,c})();const QF=Vw,JF=class extends QF{constructor(u,h,_){super(),this._declarationLView=u,this._declarationTContainer=h,this.elementRef=_}createEmbeddedView(u){const h=this._declarationTContainer.tViews,_=Zv(this._declarationLView,h,u,16,null,h.declTNode,null,null,null,null);_[17]=this._declarationLView[this._declarationTContainer.index];const D=this._declarationLView[19];return null!==D&&(_[19]=D.createEmbeddedView(h)),N0(h,_,u),new Nx(_)}};function WS(){return $S(Wi(),Gt())}function $S(c,u){return 4&c.type?new JF(u,c,jw(c,u)):null}let Ux=(()=>{class c{}return c.__NG_ELEMENT_ID__=jx,c})();function jx(){return Hx(Wi(),Gt())}const Bh=Ux,Vx=class extends Bh{constructor(u,h,_){super(),this._lContainer=u,this._hostTNode=h,this._hostLView=_}get element(){return jw(this._hostTNode,this._hostLView)}get injector(){return new ao(this._hostTNode,this._hostLView)}get parentInjector(){const u=ye(this._hostTNode,this._hostLView);if(Hu(u)){const h=xo(u,this._hostLView),_=Ed(u);return new ao(h[1].data[_+8],h)}return new ao(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(u){const h=QS(this._lContainer);return null!==h&&h[u]||null}get length(){return this._lContainer.length-10}createEmbeddedView(u,h,_){const b=u.createEmbeddedView(h||{});return this.insert(b,_),b}createComponent(u,h,_,b,D){const O=u&&!function Oc(c){return"function"==typeof c}(u);let R;if(O)R=h;else{const xe=h||{};R=xe.index,_=xe.injector,b=xe.projectableNodes,D=xe.ngModuleRef}const V=O?u:new P_(Gr(u)),J=_||this.parentInjector;if(!D&&null==V.ngModule){const Ue=(O?J:this.parentInjector).get(lg,null);Ue&&(D=Ue)}const re=V.create(J,b,void 0,D);return this.insert(re.hostView,R),re}insert(u,h){const _=u._lView,b=_[1];if(function mm(c){return Yi(c[3])}(_)){const re=this.indexOf(u);if(-1!==re)this.detach(re);else{const xe=_[3],Ue=new Vx(xe,xe[6],xe[3]);Ue.detach(Ue.indexOf(u))}}const D=this._adjustIndex(h),O=this._lContainer;!function Sf(c,u,h,_){const b=10+_,D=h.length;_>0&&(h[b-1][4]=u),_<D-10?(u[4]=h[b],pp(h,10+_,u)):(h.push(u),u[4]=null),u[3]=h;const O=u[17];null!==O&&h!==O&&function Df(c,u){const h=c[9];u[16]!==u[3][3][16]&&(c[2]=!0),null===h?c[9]=[u]:h.push(u)}(O,u);const R=u[19];null!==R&&R.insertView(c),u[2]|=128}(b,_,O,D);const R=I(D,O),V=_[11],J=Hm(V,O[7]);return null!==J&&function qm(c,u,h,_,b,D){_[0]=b,_[6]=u,ue(c,_,h,1,b,D)}(b,O[6],V,_,J,R),u.attachToViewContainerRef(),pp(qx(O),D,u),u}move(u,h){return this.insert(u,h)}indexOf(u){const h=QS(this._lContainer);return null!==h?h.indexOf(u):-1}remove(u){const h=this._adjustIndex(u,-1),_=Lv(this._lContainer,h);_&&(xm(qx(this._lContainer),h),Fv(_[1],_))}detach(u){const h=this._adjustIndex(u,-1),_=Lv(this._lContainer,h);return _&&null!=xm(qx(this._lContainer),h)?new Nx(_):null}_adjustIndex(u,h=0){return null==u?this.length+h:u}};function QS(c){return c[8]}function qx(c){return c[8]||(c[8]=[])}function Hx(c,u){let h;const _=u[c.index];if(Yi(_))h=_;else{let b;if(8&c.type)b=Zr(_);else{const D=u[11];b=D.createComment("");const O=Is(c,u);kl(D,Hm(D,O),b,function Tr(c,u){return sr(c)?c.nextSibling(u):u.nextSibling}(D,O),!1)}u[c.index]=h=Xv(_,u,b,c),S_(u,h)}return new Vx(h,c,u)}class gb{constructor(u){this.queryList=u,this.matches=null}clone(){return new gb(this.queryList)}setDirty(){this.queryList.setDirty()}}class Zx{constructor(u=[]){this.queries=u}createEmbeddedView(u){const h=u.queries;if(null!==h){const _=null!==u.contentQueries?u.contentQueries[0]:h.length,b=[];for(let D=0;D<_;D++){const O=h.getByIndex(D);b.push(this.queries[O.indexInDeclarationView].clone())}return new Zx(b)}return null}insertView(u){this.dirtyQueriesWithMatches(u)}detachView(u){this.dirtyQueriesWithMatches(u)}dirtyQueriesWithMatches(u){for(let h=0;h<this.queries.length;h++)null!==bk(u,h).matches&&this.queries[h].setDirty()}}class fk{constructor(u,h,_=null){this.predicate=u,this.flags=h,this.read=_}}class JS{constructor(u=[]){this.queries=u}elementStart(u,h){for(let _=0;_<this.queries.length;_++)this.queries[_].elementStart(u,h)}elementEnd(u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementEnd(u)}embeddedTView(u){let h=null;for(let _=0;_<this.length;_++){const b=null!==h?h.length:0,D=this.getByIndex(_).embeddedTView(u,b);D&&(D.indexInDeclarationView=_,null!==h?h.push(D):h=[D])}return null!==h?new JS(h):null}template(u,h){for(let _=0;_<this.queries.length;_++)this.queries[_].template(u,h)}getByIndex(u){return this.queries[u]}get length(){return this.queries.length}track(u){this.queries.push(u)}}class KS{constructor(u,h=-1){this.metadata=u,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=h}elementStart(u,h){this.isApplyingToNode(h)&&this.matchTNode(u,h)}elementEnd(u){this._declarationNodeIndex===u.index&&(this._appliesToNextNode=!1)}template(u,h){this.elementStart(u,h)}embeddedTView(u,h){return this.isApplyingToNode(u)?(this.crossesNgTemplate=!0,this.addMatch(-u.index,h),new KS(this.metadata)):null}isApplyingToNode(u){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const h=this._declarationNodeIndex;let _=u.parent;for(;null!==_&&8&_.type&&_.index!==h;)_=_.parent;return h===(null!==_?_.index:-1)}return this._appliesToNextNode}matchTNode(u,h){const _=this.metadata.predicate;if(Array.isArray(_))for(let b=0;b<_.length;b++){const D=_[b];this.matchTNodeWithReadOption(u,h,KF(h,D)),this.matchTNodeWithReadOption(u,h,$i(h,u,D,!1,!1))}else _===Vw?4&h.type&&this.matchTNodeWithReadOption(u,h,-1):this.matchTNodeWithReadOption(u,h,$i(h,u,_,!1,!1))}matchTNodeWithReadOption(u,h,_){if(null!==_){const b=this.metadata.read;if(null!==b)if(b===Fx||b===Ux||b===Vw&&4&h.type)this.addMatch(h.index,-2);else{const D=$i(h,u,b,!1,!1);null!==D&&this.addMatch(h.index,D)}else this.addMatch(h.index,_)}}addMatch(u,h){null===this.matches?this.matches=[u,h]:this.matches.push(u,h)}}function KF(c,u){const h=c.localNames;if(null!==h)for(let _=0;_<h.length;_+=2)if(h[_]===u)return h[_+1];return null}function eN(c,u,h,_){return-1===h?function XF(c,u){return 11&c.type?jw(c,u):4&c.type?$S(c,u):null}(u,c):-2===h?function tN(c,u,h){return h===Fx?jw(u,c):h===Vw?$S(u,c):h===Ux?Hx(u,c):void 0}(c,u,_):Ui(c,c[1],h,u)}function pk(c,u,h,_){const b=u[19].queries[_];if(null===b.matches){const D=c.data,O=h.matches,R=[];for(let V=0;V<O.length;V+=2){const J=O[V];R.push(J<0?null:eN(u,D[J],O[V+1],h.metadata.read))}b.matches=R}return b.matches}function XS(c,u,h,_){const b=c.queries.getByIndex(h),D=b.matches;if(null!==D){const O=pk(c,u,b,h);for(let R=0;R<D.length;R+=2){const V=D[R];if(V>0)_.push(O[R/2]);else{const J=D[R+1],re=u[-V];for(let xe=10;xe<re.length;xe++){const Ue=re[xe];Ue[17]===Ue[3]&&XS(Ue[1],Ue,J,_)}if(null!==re[9]){const xe=re[9];for(let Ue=0;Ue<xe.length;Ue++){const dt=xe[Ue];XS(dt[1],dt,J,_)}}}}}return _}function mk(c){const u=Gt(),h=cr(),_=vm();ph(_+1);const b=bk(h,_);if(c.dirty&&Td(u)===(2==(2&b.metadata.flags))){if(null===b.matches)c.reset([]);else{const D=b.crossesNgTemplate?XS(h,u,_,[]):pk(h,u,b,_);c.reset(D,aU),c.notifyOnChanges()}return!0}return!1}function nN(c,u,h){const _=cr();_.firstCreatePass&&(yk(_,new fk(c,u,h),-1),2==(2&u)&&(_.staticViewQueries=!0)),vk(_,Gt(),u)}function gk(c,u,h,_){const b=cr();if(b.firstCreatePass){const D=Wi();yk(b,new fk(u,h,_),D.index),function rN(c,u){const h=c.contentQueries||(c.contentQueries=[]);u!==(h.length?h[h.length-1]:-1)&&h.push(c.queries.length-1,u)}(b,c),2==(2&h)&&(b.staticContentQueries=!0)}vk(b,Gt(),h)}function _k(){return function iN(c,u){return c[19].queries[u].queryList}(Gt(),vm())}function vk(c,u,h){const _=new Bx(4==(4&h));x_(c,u,_,_.destroy),null===u[19]&&(u[19]=new Zx),u[19].queries.push(new gb(_))}function yk(c,u,h){null===c.queries&&(c.queries=new JS),c.queries.track(new KS(u,h))}function bk(c,u){return c.queries.getByIndex(u)}function wk(c,u){return $S(c,u)}const wy=Wl("Input",c=>({bindingPropertyName:c})),f2=Wl("Output",c=>({bindingPropertyName:c})),_N=Wl("HostListener",(c,u)=>({eventName:c,args:u}));function Yw(...c){}const m2=new us("Application Initializer");let Jx=(()=>{class c{constructor(h){this.appInits=h,this.resolve=Yw,this.reject=Yw,this.initialized=!1,this.done=!1,this.donePromise=new Promise((_,b)=>{this.resolve=_,this.reject=b})}runInitializers(){if(this.initialized)return;const h=[],_=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let b=0;b<this.appInits.length;b++){const D=this.appInits[b]();if(Ws(D))h.push(D);else if(SS(D)){const O=new Promise((R,V)=>{D.subscribe({complete:R,error:V})});h.push(O)}}Promise.all(h).then(()=>{_()}).catch(b=>{this.reject(b)}),0===h.length&&_(),this.initialized=!0}}return c.\u0275fac=function(h){return new(h||c)($o(m2,8))},c.\u0275prov=ii({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();const Uf=new us("AppId",{providedIn:"root",factory:function B_(){return`${g2()}${g2()}${g2()}`}});function g2(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Xx=new us("Platform Initializer"),_2=new us("Platform ID"),zw=new us("appBootstrapListener");let Ik=(()=>{class c{log(h){console.log(h)}warn(h){console.warn(h)}}return c.\u0275fac=function(h){return new(h||c)},c.\u0275prov=ii({token:c,factory:c.\u0275fac}),c})();const b2=new us("LocaleId",{providedIn:"root",factory:()=>Id(b2,Bn.Optional|Bn.SkipSelf)||function y2(){return"undefined"!=typeof $localize&&$localize.locale||Pw}()}),vN=new us("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class eT{constructor(u,h){this.ngModuleFactory=u,this.componentFactories=h}}let tT=(()=>{class c{compileModuleSync(h){return new fb(h)}compileModuleAsync(h){return Promise.resolve(this.compileModuleSync(h))}compileModuleAndAllComponentsSync(h){const _=this.compileModuleSync(h),D=gu(ms(h).declarations).reduce((O,R)=>{const V=Gr(R);return V&&O.push(new P_(V)),O},[]);return new eT(_,D)}compileModuleAndAllComponentsAsync(h){return Promise.resolve(this.compileModuleAndAllComponentsSync(h))}clearCache(){}clearCacheFor(h){}getModuleId(h){}}return c.\u0275fac=function(h){return new(h||c)},c.\u0275prov=ii({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();const wN=(()=>Promise.resolve(0))();function Ok(c){"undefined"==typeof Zone?wN.then(()=>{c&&c.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",c)}class ed{constructor({enableLongStackTrace:u=!1,shouldCoalesceEventChangeDetection:h=!1,shouldCoalesceRunChangeDetection:_=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Bf(!1),this.onMicrotaskEmpty=new Bf(!1),this.onStable=new Bf(!1),this.onError=new Bf(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const b=this;b._nesting=0,b._outer=b._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(b._inner=b._inner.fork(new Zone.TaskTrackingZoneSpec)),u&&Zone.longStackTraceZoneSpec&&(b._inner=b._inner.fork(Zone.longStackTraceZoneSpec)),b.shouldCoalesceEventChangeDetection=!_&&h,b.shouldCoalesceRunChangeDetection=_,b.lastRequestAnimationFrameId=-1,b.nativeRequestAnimationFrame=function vU(){let c=Oi.requestAnimationFrame,u=Oi.cancelAnimationFrame;if("undefined"!=typeof Zone&&c&&u){const h=c[Zone.__symbol__("OriginalDelegate")];h&&(c=h);const _=u[Zone.__symbol__("OriginalDelegate")];_&&(u=_)}return{nativeRequestAnimationFrame:c,nativeCancelAnimationFrame:u}}().nativeRequestAnimationFrame,function nT(c){const u=()=>{!function xN(c){c.isCheckStableRunning||-1!==c.lastRequestAnimationFrameId||(c.lastRequestAnimationFrameId=c.nativeRequestAnimationFrame.call(Oi,()=>{c.fakeTopEventTask||(c.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{c.lastRequestAnimationFrameId=-1,yb(c),c.isCheckStableRunning=!0,w2(c),c.isCheckStableRunning=!1},void 0,()=>{},()=>{})),c.fakeTopEventTask.invoke()}),yb(c))}(c)};c._inner=c._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(h,_,b,D,O,R)=>{try{return C2(c),h.invokeTask(b,D,O,R)}finally{(c.shouldCoalesceEventChangeDetection&&"eventTask"===D.type||c.shouldCoalesceRunChangeDetection)&&u(),x2(c)}},onInvoke:(h,_,b,D,O,R,V)=>{try{return C2(c),h.invoke(b,D,O,R,V)}finally{c.shouldCoalesceRunChangeDetection&&u(),x2(c)}},onHasTask:(h,_,b,D)=>{h.hasTask(b,D),_===b&&("microTask"==D.change?(c._hasPendingMicrotasks=D.microTask,yb(c),w2(c)):"macroTask"==D.change&&(c.hasPendingMacrotasks=D.macroTask))},onHandleError:(h,_,b,D)=>(h.handleError(b,D),c.runOutsideAngular(()=>c.onError.emit(D)),!1)})}(b)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ed.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ed.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(u,h,_){return this._inner.run(u,h,_)}runTask(u,h,_,b){const D=this._inner,O=D.scheduleEventTask("NgZoneEvent: "+b,u,CN,Yw,Yw);try{return D.runTask(O,h,_)}finally{D.cancelTask(O)}}runGuarded(u,h,_){return this._inner.runGuarded(u,h,_)}runOutsideAngular(u){return this._outer.run(u)}}const CN={};function w2(c){if(0==c._nesting&&!c.hasPendingMicrotasks&&!c.isStable)try{c._nesting++,c.onMicrotaskEmpty.emit(null)}finally{if(c._nesting--,!c.hasPendingMicrotasks)try{c.runOutsideAngular(()=>c.onStable.emit(null))}finally{c.isStable=!0}}}function yb(c){c.hasPendingMicrotasks=!!(c._hasPendingMicrotasks||(c.shouldCoalesceEventChangeDetection||c.shouldCoalesceRunChangeDetection)&&-1!==c.lastRequestAnimationFrameId)}function C2(c){c._nesting++,c.isStable&&(c.isStable=!1,c.onUnstable.emit(null))}function x2(c){c._nesting--,w2(c)}class TN{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Bf,this.onMicrotaskEmpty=new Bf,this.onStable=new Bf,this.onError=new Bf}run(u,h,_){return u.apply(h,_)}runGuarded(u,h,_){return u.apply(h,_)}runOutsideAngular(u){return u()}runTask(u,h,_,b){return u.apply(h,_)}}let iT=(()=>{class c{constructor(h){this._ngZone=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),h.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ed.assertNotInAngularZone(),Ok(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ok(()=>{for(;0!==this._callbacks.length;){let h=this._callbacks.pop();clearTimeout(h.timeoutId),h.doneCb(this._didWork)}this._didWork=!1});else{let h=this.getPendingTasks();this._callbacks=this._callbacks.filter(_=>!_.updateCb||!_.updateCb(h)||(clearTimeout(_.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(h=>({source:h.source,creationLocation:h.creationLocation,data:h.data})):[]}addCallback(h,_,b){let D=-1;_&&_>0&&(D=setTimeout(()=>{this._callbacks=this._callbacks.filter(O=>O.timeoutId!==D),h(this._didWork,this.getPendingTasks())},_)),this._callbacks.push({doneCb:h,timeoutId:D,updateCb:b})}whenStable(h,_,b){if(b&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(h,_,b),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(h,_,b){return[]}}return c.\u0275fac=function(h){return new(h||c)($o(ed))},c.\u0275prov=ii({token:c,factory:c.\u0275fac}),c})(),T2=(()=>{class c{constructor(){this._applications=new Map,A2.addToWindow(this)}registerApplication(h,_){this._applications.set(h,_)}unregisterApplication(h){this._applications.delete(h)}unregisterAllApplications(){this._applications.clear()}getTestability(h){return this._applications.get(h)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(h,_=!0){return A2.findTestabilityInTree(this,h,_)}}return c.\u0275fac=function(h){return new(h||c)},c.\u0275prov=ii({token:c,factory:c.\u0275fac}),c})();class AN{addToWindow(u){}findTestabilityInTree(u,h,_){return null}}function SN(c){A2=c}let jf,A2=new AN;const U_=new us("AllowMultipleToken");class D2{constructor(u,h){this.name=u,this.token=h}}function Ww(c,u,h=[]){const _=`Platform: ${u}`,b=new us(_);return(D=[])=>{let O=Lk();if(!O||O.injector.get(U_,!1))if(c)c(h.concat(D).concat({provide:b,useValue:!0}));else{const R=h.concat(D).concat({provide:b,useValue:!0},{provide:$0,useValue:"platform"});!function E2(c){if(jf&&!jf.destroyed&&!jf.injector.get(U_,!1))throw new kt(400,"");jf=c.get(Fk);const u=c.get(Xx,null);u&&u.forEach(h=>h())}(Lh.create({providers:R,name:_}))}return function MN(c){const u=Lk();if(!u)throw new kt(401,"");return u}()}}function Lk(){return jf&&!jf.destroyed?jf:null}let Fk=(()=>{class c{constructor(h){this._injector=h,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(h,_){const R=function kN(c,u){let h;return h="noop"===c?new TN:("zone.js"===c?void 0:c)||new ed({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==u?void 0:u.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==u?void 0:u.ngZoneRunCoalescing)}),h}(_?_.ngZone:void 0,{ngZoneEventCoalescing:_&&_.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:_&&_.ngZoneRunCoalescing||!1}),V=[{provide:ed,useValue:R}];return R.run(()=>{const J=Lh.create({providers:V,parent:this.injector,name:h.moduleType.name}),re=h.create(J),xe=re.injector.get(a_,null);if(!xe)throw new kt(402,"");return R.runOutsideAngular(()=>{const Ue=R.onError.subscribe({next:dt=>{xe.handleError(dt)}});re.onDestroy(()=>{$w(this._modules,re),Ue.unsubscribe()})}),function M2(c,u,h){try{const _=h();return Ws(_)?_.catch(b=>{throw u.runOutsideAngular(()=>c.handleError(b)),b}):_}catch(_){throw u.runOutsideAngular(()=>c.handleError(_)),_}}(xe,R,()=>{const Ue=re.injector.get(Jx);return Ue.runInitializers(),Ue.donePromise.then(()=>(function _B(c){Nn(c,"Expected localeId to be defined"),"string"==typeof c&&(BS=c.toLowerCase().replace(/_/g,"-"))}(re.injector.get(b2,Pw)||Pw),this._moduleDoBootstrap(re),re))})})}bootstrapModule(h,_=[]){const b=Nk({},_);return function DN(c,u,h){const _=new fb(h);return Promise.resolve(_)}(0,0,h).then(D=>this.bootstrapModuleFactory(D,b))}_moduleDoBootstrap(h){const _=h.injector.get(bb);if(h._bootstrapComponents.length>0)h._bootstrapComponents.forEach(b=>_.bootstrap(b));else{if(!h.instance.ngDoBootstrap)throw new kt(403,"");h.instance.ngDoBootstrap(_)}this._modules.push(h)}onDestroy(h){this._destroyListeners.push(h)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new kt(404,"");this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h()),this._destroyed=!0}get destroyed(){return this._destroyed}}return c.\u0275fac=function(h){return new(h||c)($o(Lh))},c.\u0275prov=ii({token:c,factory:c.\u0275fac}),c})();function Nk(c,u){return Array.isArray(u)?u.reduce(Nk,c):Object.assign(Object.assign({},c),u)}let bb=(()=>{class c{constructor(h,_,b,D,O){this._zone=h,this._injector=_,this._exceptionHandler=b,this._componentFactoryResolver=D,this._initStatus=O,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const R=new Q.y(J=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{J.next(this._stable),J.complete()})}),V=new Q.y(J=>{let re;this._zone.runOutsideAngular(()=>{re=this._zone.onStable.subscribe(()=>{ed.assertNotInAngularZone(),Ok(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,J.next(!0))})})});const xe=this._zone.onUnstable.subscribe(()=>{ed.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{J.next(!1)}))});return()=>{re.unsubscribe(),xe.unsubscribe()}});this.isStable=(0,Ze.T)(R,V.pipe((0,wt.B)()))}bootstrap(h,_){if(!this._initStatus.done)throw new kt(405,"");let b;b=h instanceof SF?h:this._componentFactoryResolver.resolveComponentFactory(h),this.componentTypes.push(b.componentType);const D=function EN(c){return c.isBoundToModule}(b)?void 0:this._injector.get(lg),R=b.create(Lh.NULL,[],_||b.selector,D),V=R.location.nativeElement,J=R.injector.get(iT,null),re=J&&R.injector.get(T2);return J&&re&&re.registerApplication(V,J),R.onDestroy(()=>{this.detachView(R.hostView),$w(this.components,R),re&&re.unregisterApplication(V)}),this._loadComponent(R),R}tick(){if(this._runningTick)throw new kt(101,"");try{this._runningTick=!0;for(let h of this._views)h.detectChanges()}catch(h){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(h))}finally{this._runningTick=!1}}attachView(h){const _=h;this._views.push(_),_.attachToAppRef(this)}detachView(h){const _=h;$w(this._views,_),_.detachFromAppRef()}_loadComponent(h){this.attachView(h.hostView),this.tick(),this.components.push(h),this._injector.get(zw,[]).concat(this._bootstrapListeners).forEach(b=>b(h))}ngOnDestroy(){this._views.slice().forEach(h=>h.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return c.\u0275fac=function(h){return new(h||c)($o(ed),$o(Lh),$o(a_),$o(jS),$o(Jx))},c.\u0275prov=ii({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();function $w(c,u){const h=c.indexOf(u);h>-1&&c.splice(h,1)}let k2=!0,Rk=!1;function bU(){return Rk=!0,k2}function I2(){if(Rk)throw new Error("Cannot enable prod mode after platform setup.");k2=!1}let ON=(()=>{class c{}return c.__NG_ELEMENT_ID__=Bk,c})();function Bk(c){return function O2(c,u,h){if(ss(c)&&!h){const _=Hs(c.index,u);return new Nx(_,_)}return 47&c.type?new Nx(u[16],u):null}(Wi(),Gt(),16==(16&c))}class Vk{constructor(){}supports(u){return ay(u)}create(u){return new P2(u)}}const BN=(c,u)=>u;class P2{constructor(u){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=u||BN}forEachItem(u){let h;for(h=this._itHead;null!==h;h=h._next)u(h)}forEachOperation(u){let h=this._itHead,_=this._removalsHead,b=0,D=null;for(;h||_;){const O=!_||h&&h.currentIndex<qk(_,b,D)?h:_,R=qk(O,b,D),V=O.currentIndex;if(O===_)b--,_=_._nextRemoved;else if(h=h._next,null==O.previousIndex)b++;else{D||(D=[]);const J=R-b,re=V-b;if(J!=re){for(let Ue=0;Ue<J;Ue++){const dt=Ue<D.length?D[Ue]:D[Ue]=0,Zt=dt+Ue;re<=Zt&&Zt<J&&(D[Ue]=dt+1)}D[O.previousIndex]=re-J}}R!==V&&u(O,R,V)}}forEachPreviousItem(u){let h;for(h=this._previousItHead;null!==h;h=h._nextPrevious)u(h)}forEachAddedItem(u){let h;for(h=this._additionsHead;null!==h;h=h._nextAdded)u(h)}forEachMovedItem(u){let h;for(h=this._movesHead;null!==h;h=h._nextMoved)u(h)}forEachRemovedItem(u){let h;for(h=this._removalsHead;null!==h;h=h._nextRemoved)u(h)}forEachIdentityChange(u){let h;for(h=this._identityChangesHead;null!==h;h=h._nextIdentityChange)u(h)}diff(u){if(null==u&&(u=[]),!ay(u))throw new kt(900,"");return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let b,D,O,h=this._itHead,_=!1;if(Array.isArray(u)){this.length=u.length;for(let R=0;R<this.length;R++)D=u[R],O=this._trackByFn(R,D),null!==h&&Object.is(h.trackById,O)?(_&&(h=this._verifyReinsertion(h,D,O,R)),Object.is(h.item,D)||this._addIdentityChange(h,D)):(h=this._mismatch(h,D,O,R),_=!0),h=h._next}else b=0,function Tw(c,u){if(Array.isArray(c))for(let h=0;h<c.length;h++)u(c[h]);else{const h=c[Up()]();let _;for(;!(_=h.next()).done;)u(_.value)}}(u,R=>{O=this._trackByFn(b,R),null!==h&&Object.is(h.trackById,O)?(_&&(h=this._verifyReinsertion(h,R,O,b)),Object.is(h.item,R)||this._addIdentityChange(h,R)):(h=this._mismatch(h,R,O,b),_=!0),h=h._next,b++}),this.length=b;return this._truncate(h),this.collection=u,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let u;for(u=this._previousItHead=this._itHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._additionsHead;null!==u;u=u._nextAdded)u.previousIndex=u.currentIndex;for(this._additionsHead=this._additionsTail=null,u=this._movesHead;null!==u;u=u._nextMoved)u.previousIndex=u.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(u,h,_,b){let D;return null===u?D=this._itTail:(D=u._prev,this._remove(u)),null!==(u=null===this._unlinkedRecords?null:this._unlinkedRecords.get(_,null))?(Object.is(u.item,h)||this._addIdentityChange(u,h),this._reinsertAfter(u,D,b)):null!==(u=null===this._linkedRecords?null:this._linkedRecords.get(_,b))?(Object.is(u.item,h)||this._addIdentityChange(u,h),this._moveAfter(u,D,b)):u=this._addAfter(new UN(h,_),D,b),u}_verifyReinsertion(u,h,_,b){let D=null===this._unlinkedRecords?null:this._unlinkedRecords.get(_,null);return null!==D?u=this._reinsertAfter(D,u._prev,b):u.currentIndex!=b&&(u.currentIndex=b,this._addToMoves(u,b)),u}_truncate(u){for(;null!==u;){const h=u._next;this._addToRemovals(this._unlink(u)),u=h}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(u,h,_){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(u);const b=u._prevRemoved,D=u._nextRemoved;return null===b?this._removalsHead=D:b._nextRemoved=D,null===D?this._removalsTail=b:D._prevRemoved=b,this._insertAfter(u,h,_),this._addToMoves(u,_),u}_moveAfter(u,h,_){return this._unlink(u),this._insertAfter(u,h,_),this._addToMoves(u,_),u}_addAfter(u,h,_){return this._insertAfter(u,h,_),this._additionsTail=null===this._additionsTail?this._additionsHead=u:this._additionsTail._nextAdded=u,u}_insertAfter(u,h,_){const b=null===h?this._itHead:h._next;return u._next=b,u._prev=h,null===b?this._itTail=u:b._prev=u,null===h?this._itHead=u:h._next=u,null===this._linkedRecords&&(this._linkedRecords=new Kw),this._linkedRecords.put(u),u.currentIndex=_,u}_remove(u){return this._addToRemovals(this._unlink(u))}_unlink(u){null!==this._linkedRecords&&this._linkedRecords.remove(u);const h=u._prev,_=u._next;return null===h?this._itHead=_:h._next=_,null===_?this._itTail=h:_._prev=h,u}_addToMoves(u,h){return u.previousIndex===h||(this._movesTail=null===this._movesTail?this._movesHead=u:this._movesTail._nextMoved=u),u}_addToRemovals(u){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Kw),this._unlinkedRecords.put(u),u.currentIndex=null,u._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=u,u._prevRemoved=null):(u._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=u),u}_addIdentityChange(u,h){return u.item=h,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=u:this._identityChangesTail._nextIdentityChange=u,u}}class UN{constructor(u,h){this.item=u,this.trackById=h,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class jN{constructor(){this._head=null,this._tail=null}add(u){null===this._head?(this._head=this._tail=u,u._nextDup=null,u._prevDup=null):(this._tail._nextDup=u,u._prevDup=this._tail,u._nextDup=null,this._tail=u)}get(u,h){let _;for(_=this._head;null!==_;_=_._nextDup)if((null===h||h<=_.currentIndex)&&Object.is(_.trackById,u))return _;return null}remove(u){const h=u._prevDup,_=u._nextDup;return null===h?this._head=_:h._nextDup=_,null===_?this._tail=h:_._prevDup=h,null===this._head}}class Kw{constructor(){this.map=new Map}put(u){const h=u.trackById;let _=this.map.get(h);_||(_=new jN,this.map.set(h,_)),_.add(u)}get(u,h){const b=this.map.get(u);return b?b.get(u,h):null}remove(u){const h=u.trackById;return this.map.get(h).remove(u)&&this.map.delete(h),u}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qk(c,u,h){const _=c.previousIndex;if(null===_)return _;let b=0;return h&&_<h.length&&(b=h[_]),_+u+b}class B2{constructor(){}supports(u){return u instanceof Map||ly(u)}create(){return new Hk}}class Hk{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(u){let h;for(h=this._mapHead;null!==h;h=h._next)u(h)}forEachPreviousItem(u){let h;for(h=this._previousMapHead;null!==h;h=h._nextPrevious)u(h)}forEachChangedItem(u){let h;for(h=this._changesHead;null!==h;h=h._nextChanged)u(h)}forEachAddedItem(u){let h;for(h=this._additionsHead;null!==h;h=h._nextAdded)u(h)}forEachRemovedItem(u){let h;for(h=this._removalsHead;null!==h;h=h._nextRemoved)u(h)}diff(u){if(u){if(!(u instanceof Map||ly(u)))throw new kt(900,"")}else u=new Map;return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let h=this._mapHead;if(this._appendAfter=null,this._forEach(u,(_,b)=>{if(h&&h.key===b)this._maybeAddToChanges(h,_),this._appendAfter=h,h=h._next;else{const D=this._getOrCreateRecordForKey(b,_);h=this._insertBeforeOrAppend(h,D)}}),h){h._prev&&(h._prev._next=null),this._removalsHead=h;for(let _=h;null!==_;_=_._nextRemoved)_===this._mapHead&&(this._mapHead=null),this._records.delete(_.key),_._nextRemoved=_._next,_.previousValue=_.currentValue,_.currentValue=null,_._prev=null,_._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(u,h){if(u){const _=u._prev;return h._next=u,h._prev=_,u._prev=h,_&&(_._next=h),u===this._mapHead&&(this._mapHead=h),this._appendAfter=u,u}return this._appendAfter?(this._appendAfter._next=h,h._prev=this._appendAfter):this._mapHead=h,this._appendAfter=h,null}_getOrCreateRecordForKey(u,h){if(this._records.has(u)){const b=this._records.get(u);this._maybeAddToChanges(b,h);const D=b._prev,O=b._next;return D&&(D._next=O),O&&(O._prev=D),b._next=null,b._prev=null,b}const _=new Gk(u);return this._records.set(u,_),_.currentValue=h,this._addToAdditions(_),_}_reset(){if(this.isDirty){let u;for(this._previousMapHead=this._mapHead,u=this._previousMapHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._changesHead;null!==u;u=u._nextChanged)u.previousValue=u.currentValue;for(u=this._additionsHead;null!=u;u=u._nextAdded)u.previousValue=u.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(u,h){Object.is(h,u.currentValue)||(u.previousValue=u.currentValue,u.currentValue=h,this._addToChanges(u))}_addToAdditions(u){null===this._additionsHead?this._additionsHead=this._additionsTail=u:(this._additionsTail._nextAdded=u,this._additionsTail=u)}_addToChanges(u){null===this._changesHead?this._changesHead=this._changesTail=u:(this._changesTail._nextChanged=u,this._changesTail=u)}_forEach(u,h){u instanceof Map?u.forEach(h):Object.keys(u).forEach(_=>h(u[_],_))}}class Gk{constructor(u){this.key=u,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Wd(){return new j_([new Vk])}let j_=(()=>{class c{constructor(h){this.factories=h}static create(h,_){if(null!=_){const b=_.factories.slice();h=h.concat(b)}return new c(h)}static extend(h){return{provide:c,useFactory:_=>c.create(h,_||Wd()),deps:[[c,new Ch,new va]]}}find(h){const _=this.factories.find(b=>b.supports(h));if(null!=_)return _;throw new kt(901,"")}}return c.\u0275prov=ii({token:c,providedIn:"root",factory:Wd}),c})();function Zk(){return new lT([new B2])}let lT=(()=>{class c{constructor(h){this.factories=h}static create(h,_){if(_){const b=_.factories.slice();h=h.concat(b)}return new c(h)}static extend(h){return{provide:c,useFactory:_=>c.create(h,_||Zk()),deps:[[c,new Ch,new va]]}}find(h){const _=this.factories.find(D=>D.supports(h));if(_)return _;throw new kt(901,"")}}return c.\u0275prov=ii({token:c,providedIn:"root",factory:Zk}),c})();const j2=Ww(null,"core",[{provide:_2,useValue:"unknown"},{provide:Fk,deps:[Lh]},{provide:T2,deps:[]},{provide:Ik,deps:[]}]);let qN=(()=>{class c{constructor(h){}}return c.\u0275fac=function(h){return new(h||c)($o(bb))},c.\u0275mod=or({type:c}),c.\u0275inj=Qr({}),c})()},5861:(oi,$t,me)=>{"use strict";function r(Q,Ze,wt,jt,et,yt,ht){try{var de=Q[yt](ht),qe=de.value}catch(We){return void wt(We)}de.done?Ze(qe):Promise.resolve(qe).then(jt,et)}function ie(Q){return function(){var Ze=this,wt=arguments;return new Promise(function(jt,et){var yt=Q.apply(Ze,wt);function ht(qe){r(yt,jt,et,ht,de,"next",qe)}function de(qe){r(yt,jt,et,ht,de,"throw",qe)}ht(void 0)})}}me.d($t,{Z:()=>ie})}},oi=>{oi(oi.s=8162)}]);